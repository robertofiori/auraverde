(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function AA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var um={exports:{}},pu={};var t_;function kA(){if(t_)return pu;t_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var n_;function RA(){return n_||(n_=1,um.exports=kA()),um.exports}var v=RA(),cm={exports:{}},Oe={};var r_;function LA(){if(r_)return Oe;r_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function k(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,I={};function B(D,K,re){this.props=D,this.context=K,this.refs=I,this.updater=re||L}B.prototype.isReactComponent={},B.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=B.prototype;function Y(D,K,re){this.props=D,this.context=K,this.refs=I,this.updater=re||L}var H=Y.prototype=new z;H.constructor=Y,P(H,B.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function ee(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function S(D,K,re){var he=re.ref;return{$$typeof:n,type:D,key:K,ref:he!==void 0?he:null,props:re}}function j(D,K){return S(D.type,K,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function U(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return K[re]})}var M=/\/+/g;function pe(D,K){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):K.toString(36)}function be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ee,ee):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Q(D,K,re,he,X){var ge=typeof D;(ge==="undefined"||ge==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case n:case e:xe=!0;break;case b:return xe=D._init,Q(xe(D._payload),K,re,he,X)}}if(xe)return X=X(D),xe=he===""?"."+pe(D,0):he,F(X)?(re="",xe!=null&&(re=xe.replace(M,"$&/")+"/"),Q(X,K,re,"",function(Se){return Se})):X!=null&&(O(X)&&(X=j(X,re+(X.key==null||D&&D.key===X.key?"":(""+X.key).replace(M,"$&/")+"/")+xe)),K.push(X)),1;xe=0;var we=he===""?".":he+":";if(F(D))for(var Ie=0;Ie<D.length;Ie++)he=D[Ie],ge=we+pe(he,Ie),xe+=Q(he,K,re,ge,X);else if(Ie=k(D),typeof Ie=="function")for(D=Ie.call(D),Ie=0;!(he=D.next()).done;)he=he.value,ge=we+pe(he,Ie++),xe+=Q(he,K,re,ge,X);else if(ge==="object"){if(typeof D.then=="function")return Q(be(D),K,re,he,X);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ie(D,K,re){if(D==null)return D;var he=[],X=0;return Q(D,he,"","",function(ge){return K.call(re,ge,X++)}),he}function fe(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ve=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},G={map:ie,forEach:function(D,K,re){ie(D,function(){K.apply(this,arguments)},re)},count:function(D){var K=0;return ie(D,function(){K++}),K},toArray:function(D){return ie(D,function(K){return K})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Oe.Activity=_,Oe.Children=G,Oe.Component=B,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=Y,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(D,K,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var he=P({},D.props),X=D.key;if(K!=null)for(ge in K.key!==void 0&&(X=""+K.key),K)!A.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(he[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)he.children=re;else if(1<ge){for(var xe=Array(ge),we=0;we<ge;we++)xe[we]=arguments[we+2];he.children=xe}return S(D.type,X,he)},Oe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Oe.createElement=function(D,K,re){var he,X={},ge=null;if(K!=null)for(he in K.key!==void 0&&(ge=""+K.key),K)A.call(K,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(X[he]=K[he]);var xe=arguments.length-2;if(xe===1)X.children=re;else if(1<xe){for(var we=Array(xe),Ie=0;Ie<xe;Ie++)we[Ie]=arguments[Ie+2];X.children=we}if(D&&D.defaultProps)for(he in xe=D.defaultProps,xe)X[he]===void 0&&(X[he]=xe[he]);return S(D,ge,X)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:f,render:D}},Oe.isValidElement=O,Oe.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:fe}},Oe.memo=function(D,K){return{$$typeof:m,type:D,compare:K===void 0?null:K}},Oe.startTransition=function(D){var K=R.T,re={};R.T=re;try{var he=D(),X=R.S;X!==null&&X(re,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ee,ve)}catch(ge){ve(ge)}finally{K!==null&&re.types!==null&&(K.types=re.types),R.T=K}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(D){return R.H.use(D)},Oe.useActionState=function(D,K,re){return R.H.useActionState(D,K,re)},Oe.useCallback=function(D,K){return R.H.useCallback(D,K)},Oe.useContext=function(D){return R.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,K){return R.H.useDeferredValue(D,K)},Oe.useEffect=function(D,K){return R.H.useEffect(D,K)},Oe.useEffectEvent=function(D){return R.H.useEffectEvent(D)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(D,K,re){return R.H.useImperativeHandle(D,K,re)},Oe.useInsertionEffect=function(D,K){return R.H.useInsertionEffect(D,K)},Oe.useLayoutEffect=function(D,K){return R.H.useLayoutEffect(D,K)},Oe.useMemo=function(D,K){return R.H.useMemo(D,K)},Oe.useOptimistic=function(D,K){return R.H.useOptimistic(D,K)},Oe.useReducer=function(D,K,re){return R.H.useReducer(D,K,re)},Oe.useRef=function(D){return R.H.useRef(D)},Oe.useState=function(D){return R.H.useState(D)},Oe.useSyncExternalStore=function(D,K,re){return R.H.useSyncExternalStore(D,K,re)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var s_;function gg(){return s_||(s_=1,cm.exports=LA()),cm.exports}var y=gg();const NA=AA(y);var dm={exports:{}},mu={},hm={exports:{}},fm={};var i_;function IA(){return i_||(i_=1,(function(n){function e(Q,ie){var fe=Q.length;Q.push(ie);e:for(;0<fe;){var ve=fe-1>>>1,G=Q[ve];if(0<a(G,ie))Q[ve]=ie,Q[fe]=G,fe=ve;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ie=Q[0],fe=Q.pop();if(fe!==ie){Q[0]=fe;e:for(var ve=0,G=Q.length,D=G>>>1;ve<D;){var K=2*(ve+1)-1,re=Q[K],he=K+1,X=Q[he];if(0>a(re,fe))he<G&&0>a(X,re)?(Q[ve]=X,Q[he]=fe,ve=he):(Q[ve]=re,Q[K]=fe,ve=K);else if(he<G&&0>a(X,fe))Q[ve]=X,Q[he]=fe,ve=he;else break e}}return ie}function a(Q,ie){var fe=Q.sortIndex-ie.sortIndex;return fe!==0?fe:Q.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],b=1,_=null,w=3,k=!1,L=!1,P=!1,I=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function H(Q){for(var ie=t(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=Q)s(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=t(m)}}function F(Q){if(P=!1,H(Q),!L)if(t(p)!==null)L=!0,ee||(ee=!0,U());else{var ie=t(m);ie!==null&&be(F,ie.startTime-Q)}}var ee=!1,R=-1,A=5,S=-1;function j(){return I?!0:!(n.unstable_now()-S<A)}function O(){if(I=!1,ee){var Q=n.unstable_now();S=Q;var ie=!0;try{e:{L=!1,P&&(P=!1,z(R),R=-1),k=!0;var fe=w;try{t:{for(H(Q),_=t(p);_!==null&&!(_.expirationTime>Q&&j());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,w=_.priorityLevel;var G=ve(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof G=="function"){_.callback=G,H(Q),ie=!0;break t}_===t(p)&&s(p),H(Q)}else s(p);_=t(p)}if(_!==null)ie=!0;else{var D=t(m);D!==null&&be(F,D.startTime-Q),ie=!1}}break e}finally{_=null,w=fe,k=!1}ie=void 0}}finally{ie?U():ee=!1}}}var U;if(typeof Y=="function")U=function(){Y(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,pe=M.port2;M.port1.onmessage=O,U=function(){pe.postMessage(null)}}else U=function(){B(O,0)};function be(Q,ie){R=B(function(){Q(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var fe=w;w=ie;try{return Q()}finally{w=fe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=w;w=Q;try{return ie()}finally{w=fe}},n.unstable_scheduleCallback=function(Q,ie,fe){var ve=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ve+fe:ve):fe=ve,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=fe+G,Q={id:b++,callback:ie,priorityLevel:Q,startTime:fe,expirationTime:G,sortIndex:-1},fe>ve?(Q.sortIndex=fe,e(m,Q),t(p)===null&&Q===t(m)&&(P?(z(R),R=-1):P=!0,be(F,fe-ve))):(Q.sortIndex=G,e(p,Q),L||k||(L=!0,ee||(ee=!0,U()))),Q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Q){var ie=w;return function(){var fe=w;w=ie;try{return Q.apply(this,arguments)}finally{w=fe}}}})(fm)),fm}var a_;function MA(){return a_||(a_=1,hm.exports=IA()),hm.exports}var pm={exports:{}},gn={};var o_;function OA(){if(o_)return gn;o_=1;var n=gg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,b)},gn.flushSync=function(p){var m=c.T,b=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=b,s.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,_=f(b,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:k}):b==="script"&&s.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=f(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,_=f(b,m.crossOrigin);s.d.L(p,b,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=f(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},gn.requestFormReset=function(p){s.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,b){return c.H.useFormState(p,m,b)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.2.3",gn}var l_;function yw(){if(l_)return pm.exports;l_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pm.exports=OA(),pm.exports}var u_;function DA(){if(u_)return mu;u_=1;var n=MA(),e=gg(),t=yw();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,u=i;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return p(h),r;if(g===u)return p(h),i;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=h,u=g;else{for(var E=!1,C=h.child;C;){if(C===o){E=!0,o=h,u=g;break}if(C===u){E=!0,u=h,o=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===o){E=!0,o=g,u=h;break}if(C===u){E=!0,u=g,o=h;break}C=C.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function b(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=b(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case B:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case ee:return"SuspenseList";case S:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case L:return"Portal";case Y:return r.displayName||"Context";case z:return(r._context.displayName||"Context")+".Consumer";case H:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return i=r.displayName||null,i!==null?i:pe(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return pe(r(i))}catch{}}return null}var be=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ve=[],G=-1;function D(r){return{current:r}}function K(r){0>G||(r.current=ve[G],ve[G]=null,G--)}function re(r,i){G++,ve[G]=r.current,r.current=i}var he=D(null),X=D(null),ge=D(null),xe=D(null);function we(r,i){switch(re(ge,i),re(X,r),re(he,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?T0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=T0(i),r=S0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}K(he),re(he,r)}function Ie(){K(he),K(X),K(ge)}function Se(r){r.memoizedState!==null&&re(xe,r);var i=he.current,o=S0(i,r.type);i!==o&&(re(X,r),re(he,o))}function Ve(r){X.current===r&&(K(he),K(X)),xe.current===r&&(K(xe),cu._currentValue=fe)}var Xt,hn;function fn(r){if(Xt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Xt=i&&i[1]||"",hn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+r+hn}var We=!1;function Dr(r,i){if(!r||We)return"";We=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(se){var te=se}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(se){te=se}r.call(ce.prototype)}}else{try{throw Error()}catch(se){te=se}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],C=g[1];if(E&&C){var V=E.split(`
`),J=C.split(`
`);for(h=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(u===V.length||h===J.length)for(u=V.length-1,h=J.length-1;1<=u&&0<=h&&V[u]!==J[h];)h--;for(;1<=u&&0<=h;u--,h--)if(V[u]!==J[h]){if(u!==1||h!==1)do if(u--,h--,0>h||V[u]!==J[h]){var oe=`
`+V[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=h);break}}}finally{We=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?fn(o):""}function jr(r,i){switch(r.tag){case 26:case 27:case 5:return fn(r.type);case 16:return fn("Lazy");case 13:return r.child!==i&&i!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return Dr(r.type,!1);case 11:return Dr(r.type.render,!1);case 1:return Dr(r.type,!0);case 31:return fn("Activity");default:return""}}function ni(r){try{var i="",o=null;do i+=jr(r,o),o=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var mt=Object.prototype.hasOwnProperty,Ct=n.unstable_scheduleCallback,zn=n.unstable_cancelCallback,to=n.unstable_shouldYield,gs=n.unstable_requestPaint,Wt=n.unstable_now,Pr=n.unstable_getCurrentPriorityLevel,ri=n.unstable_ImmediatePriority,Vr=n.unstable_UserBlockingPriority,br=n.unstable_NormalPriority,si=n.unstable_LowPriority,oa=n.unstable_IdlePriority,vs=n.log,la=n.unstable_setDisableYieldValue,pn=null,jt=null;function nn(r){if(typeof vs=="function"&&la(r),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(pn,r)}catch{}}var bt=Math.clz32?Math.clz32:_s,ys=Math.log,bs=Math.LN2;function _s(r){return r>>>=0,r===0?32:31-(ys(r)/bs|0)|0}var Bn=256,Ur=262144,Et=4194304;function wn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qn(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?h=wn(u):(E&=C,E!==0?h=wn(E):o||(o=C&~r,o!==0&&(h=wn(o))))):(C=u&~g,C!==0?h=wn(C):E!==0?h=wn(E):o||(o=u&~r,o!==0&&(h=wn(o)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:h}function mn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function no(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var r=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),r}function Hn(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Es(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ws(r,i,o,u,h,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,V=r.expirationTimes,J=r.hiddenUpdates;for(o=E&~o;0<o;){var oe=31-bt(o),ce=1<<oe;C[oe]=0,V[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var se=te[oe];se!==null&&(se.lane&=-536870913)}o&=~ce}u!==0&&Re(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~i))}function Re(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-bt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function ml(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-bt(o),h=1<<u;h&i|r[u]&i&&(r[u]|=i),o&=~h}}function gl(r,i){var o=i&-i;return o=(o&42)!==0?1:ua(o),(o&(r.suspendedLanes|i))!==0?0:o}function ua(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ts(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bc(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:Q0(r.type))}function _r(r,i){var o=ie.p;try{return ie.p=r,i()}finally{ie.p=o}}var xr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+xr,Zt="__reactProps$"+xr,zr="__reactContainer$"+xr,ro="__reactEvents$"+xr,mf="__reactListeners$"+xr,_c="__reactHandles$"+xr,xc="__reactResources$"+xr,Br="__reactMarker$"+xr;function so(r){delete r[Pt],delete r[Zt],delete r[ro],delete r[mf],delete r[_c]}function qr(r){var i=r[Pt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[zr]||o[Pt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=I0(r);r!==null;){if(o=r[Pt])return o;r=I0(r)}return i}r=o,o=r.parentNode}return null}function sr(r){if(r=r[Pt]||r[zr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Fn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Hr(r){var i=r[xc];return i||(i=r[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(r){r[Br]=!0}var vl=new Set,yl={};function Fr(r,i){Gr(r,i),Gr(r+"Capture",i)}function Gr(r,i){for(yl[r]=i,r=0;r<i.length;r++)vl.add(i[r])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},xl={};function Ec(r){return mt.call(xl,r)?!0:mt.call(_l,r)?!1:bl.test(r)?xl[r]=!0:(_l[r]=!0,!1)}function io(r,i,o){if(Ec(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Gn(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Ut(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function Jt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ii(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function El(r,i,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,g=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function it(r){if(!r._valueTracker){var i=ii(r)?"checked":"value";r._valueTracker=El(r,i,""+r[i])}}function ca(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=ii(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function $r(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var da=/[\n"\\]/g;function Ln(r){return r.replace(da,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ao(r,i,o,u,h,g,E,C){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Jt(i)):r.value!==""+Jt(i)&&(r.value=""+Jt(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?wl(r,E,Jt(i)):o!=null?wl(r,E,Jt(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Jt(C):r.removeAttribute("name")}function wc(r,i,o,u,h,g,E,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){it(r);return}o=o!=null?""+Jt(o):"",i=i!=null?""+Jt(i):o,C||i===r.value||(r.value=i),r.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=C?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),it(r)}function wl(r,i,o){i==="number"&&$r(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ai(r,i,o,u){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Jt(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function Tc(r,i,o){if(i!=null&&(i=""+Jt(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Jt(o):""}function oi(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(be(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Jt(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),it(r)}function Nn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||Sc.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Sl(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&o[h]!==u&&Tl(r,h,u)}else for(var g in i)i.hasOwnProperty(g)&&Tl(r,g,i[g])}function oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(r){return li.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Er(){}var Cl=null;function ir(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,Kr=null;function ha(r){var i=sr(r);if(i&&(r=i.stateNode)){var o=r[Zt]||null;e:switch(r=i.stateNode,i.type){case"input":if(ao(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ln(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var h=u[Zt]||null;if(!h)throw Error(s(90));ao(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&ca(u)}break e;case"textarea":Tc(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ai(r,!!o.multiple,i,!1)}}}var uo=!1;function ci(r,i,o){if(uo)return r(i,o);uo=!0;try{var u=r(i);return u}finally{if(uo=!1,(ui!==null||Kr!==null)&&(bd(),ui&&(i=ui,r=Kr,Kr=ui=null,ha(i),r)))for(i=0;i<r.length;i++)ha(r[i])}}function wr(r,i){var o=r.stateNode;if(o===null)return null;var u=o[Zt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(ar)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){fa=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{fa=!1}var Qr=null,Al=null,pa=null;function kl(){if(pa)return pa;var r,i=Al,o=i.length,u,h="value"in Qr?Qr.value:Qr.textContent,g=h.length;for(r=0;r<o&&i[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&i[o-u]===h[g-u];u++);return pa=h.slice(r,1<u?1-u:void 0)}function ma(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ss(){return!0}function Tr(){return!1}function rn(r){function i(o,u,h,g,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ss:Tr,this.isPropagationStopped=Tr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),i}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=rn(Cs),di=_({},Cs,{view:0,detail:0}),Rl=rn(di),hi,co,Xr,ho=_({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xr&&(Xr&&r.type==="mousemove"?(hi=r.screenX-Xr.screenX,co=r.screenY-Xr.screenY):co=hi=0,Xr=r),hi)},movementY:function(r){return"movementY"in r?r.movementY:co}}),Ll=rn(ho),ga=_({},ho,{dataTransfer:0}),Ac=rn(ga),kc=_({},di,{relatedTarget:0}),va=rn(kc),Nl=_({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=rn(Nl),fo=_({},Cs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Lc=rn(fo),Nc=_({},Cs,{data:0}),Wr=rn(Nc),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Oc[r])?!!i[r]:!1}function fi(){return Dc}var Tn=_({},di,{key:function(r){if(r.key){var i=Ic[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Mc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fi,charCode:function(r){return r.type==="keypress"?ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),jc=rn(Tn),Pc=_({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=rn(Pc),d=_({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fi}),x=rn(d),T=_({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=rn(T),W=_({},ho,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=rn(W),me=_({},Cs,{newState:0,oldState:0}),je=rn(me),It=[9,13,27,32],nt=ar&&"CompositionEvent"in window,_t=null;ar&&"documentMode"in document&&(_t=document.documentMode);var or=ar&&"TextEvent"in window&&!_t,Zr=ar&&(!nt||_t&&8<_t&&11>=_t),Sr=" ",Cr=!1;function ya(r,i){switch(r){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mo=!1;function W1(r,i){switch(r){case"compositionend":return po(i);case"keypress":return i.which!==32?null:(Cr=!0,Sr);case"textInput":return r=i.data,r===Sr&&Cr?null:r;default:return null}}function Z1(r,i){if(mo)return r==="compositionend"||!nt&&ya(r,i)?(r=kl(),pa=Al=Qr=null,mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zr&&i.locale!=="ko"?null:i.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!J1[r.type]:i==="textarea"}function jv(r,i,o,u){ui?Kr?Kr.push(u):Kr=[u]:ui=u,i=Cd(i,"onChange"),0<i.length&&(o=new Yr("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var Il=null,Ml=null;function eC(r){y0(r,0)}function Vc(r){var i=Fn(r);if(ca(i))return r}function Pv(r,i){if(r==="change")return i}var Vv=!1;if(ar){var gf;if(ar){var vf="oninput"in document;if(!vf){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),vf=typeof Uv.oninput=="function"}gf=vf}else gf=!1;Vv=gf&&(!document.documentMode||9<document.documentMode)}function zv(){Il&&(Il.detachEvent("onpropertychange",Bv),Ml=Il=null)}function Bv(r){if(r.propertyName==="value"&&Vc(Ml)){var i=[];jv(i,Ml,r,ir(r)),ci(eC,i)}}function tC(r,i,o){r==="focusin"?(zv(),Il=i,Ml=o,Il.attachEvent("onpropertychange",Bv)):r==="focusout"&&zv()}function nC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vc(Ml)}function rC(r,i){if(r==="click")return Vc(i)}function sC(r,i){if(r==="input"||r==="change")return Vc(i)}function iC(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var $n=typeof Object.is=="function"?Object.is:iC;function Ol(r,i){if($n(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!mt.call(i,h)||!$n(r[h],i[h]))return!1}return!0}function qv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hv(r,i){var o=qv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qv(o)}}function Fv(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Fv(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Gv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=$r(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=$r(r.document)}return i}function yf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var aC=ar&&"documentMode"in document&&11>=document.documentMode,go=null,bf=null,Dl=null,_f=!1;function $v(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_f||go==null||go!==$r(u)||(u=go,"selectionStart"in u&&yf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Ol(Dl,u)||(Dl=u,u=Cd(bf,"onSelect"),0<u.length&&(i=new Yr("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=go)))}function ba(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var vo={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},xf={},Kv={};ar&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function _a(r){if(xf[r])return xf[r];if(!vo[r])return r;var i=vo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Kv)return xf[r]=i[o];return r}var Qv=_a("animationend"),Yv=_a("animationiteration"),Xv=_a("animationstart"),oC=_a("transitionrun"),lC=_a("transitionstart"),uC=_a("transitioncancel"),Wv=_a("transitionend"),Zv=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Ar(r,i){Zv.set(r,i),Fr(i,[r])}var Uc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},lr=[],yo=0,wf=0;function zc(){for(var r=yo,i=wf=yo=0;i<r;){var o=lr[i];lr[i++]=null;var u=lr[i];lr[i++]=null;var h=lr[i];lr[i++]=null;var g=lr[i];if(lr[i++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}g!==0&&Jv(o,h,g)}}function Bc(r,i,o,u){lr[yo++]=r,lr[yo++]=i,lr[yo++]=o,lr[yo++]=u,wf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Tf(r,i,o,u){return Bc(r,i,o,u),qc(r)}function xa(r,i){return Bc(r,null,null,i),qc(r)}function Jv(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&i!==null&&(h=31-bt(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[i]:u.push(i),i.lane=o|536870912),g):null}function qc(r){if(50<ru)throw ru=0,Mp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var bo={};function cC(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,i,o,u){return new cC(r,i,o,u)}function Sf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ks(r,i){var o=r.alternate;return o===null?(o=Kn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function ey(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Hc(r,i,o,u,h,g){var E=0;if(u=r,typeof r=="function")Sf(r)&&(E=1);else if(typeof r=="string")E=mA(r,o,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case S:return r=Kn(31,o,i,h),r.elementType=S,r.lanes=g,r;case P:return Ea(o.children,h,g,i);case I:E=8,h|=24;break;case B:return r=Kn(12,o,i,h|2),r.elementType=B,r.lanes=g,r;case F:return r=Kn(13,o,i,h),r.elementType=F,r.lanes=g,r;case ee:return r=Kn(19,o,i,h),r.elementType=ee,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:E=10;break e;case z:E=9;break e;case H:E=11;break e;case R:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Kn(E,o,i,h),i.elementType=r,i.type=u,i.lanes=g,i}function Ea(r,i,o,u){return r=Kn(7,r,u,i),r.lanes=o,r}function Cf(r,i,o){return r=Kn(6,r,null,i),r.lanes=o,r}function ty(r){var i=Kn(18,null,null,0);return i.stateNode=r,i}function Af(r,i,o){return i=Kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var ny=new WeakMap;function ur(r,i){if(typeof r=="object"&&r!==null){var o=ny.get(r);return o!==void 0?o:(i={value:r,source:i,stack:ni(i)},ny.set(r,i),i)}return{value:r,source:i,stack:ni(i)}}var _o=[],xo=0,Fc=null,jl=0,cr=[],dr=0,pi=null,Jr=1,es="";function Rs(r,i){_o[xo++]=jl,_o[xo++]=Fc,Fc=r,jl=i}function ry(r,i,o){cr[dr++]=Jr,cr[dr++]=es,cr[dr++]=pi,pi=r;var u=Jr;r=es;var h=32-bt(u)-1;u&=~(1<<h),o+=1;var g=32-bt(i)+h;if(30<g){var E=h-h%5;g=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Jr=1<<32-bt(i)+h|o<<h|u,es=g+r}else Jr=1<<g|o<<h|u,es=r}function kf(r){r.return!==null&&(Rs(r,1),ry(r,1,0))}function Rf(r){for(;r===Fc;)Fc=_o[--xo],_o[xo]=null,jl=_o[--xo],_o[xo]=null;for(;r===pi;)pi=cr[--dr],cr[dr]=null,es=cr[--dr],cr[dr]=null,Jr=cr[--dr],cr[dr]=null}function sy(r,i){cr[dr++]=Jr,cr[dr++]=es,cr[dr++]=pi,Jr=i.id,es=i.overflow,pi=r}var sn=null,gt=null,Xe=!1,mi=null,hr=!1,Lf=Error(s(519));function gi(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(ur(i,r)),Lf}function iy(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[Pt]=r,i[Zt]=u,o){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(o=0;o<iu.length;o++)He(iu[o],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":He("invalid",i),wc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",i);break;case"textarea":He("invalid",i),oi(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||E0(i.textContent,o)?(u.popover!=null&&(He("beforetoggle",i),He("toggle",i)),u.onScroll!=null&&He("scroll",i),u.onScrollEnd!=null&&He("scrollend",i),u.onClick!=null&&(i.onclick=Er),i=!0):i=!1,i||gi(r,!0)}function ay(r){for(sn=r.return;sn;)switch(sn.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:sn=sn.return}}function Eo(r){if(r!==sn)return!1;if(!Xe)return ay(r),Xe=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Qp(r.type,r.memoizedProps)),o=!o),o&&gt&&gi(r),ay(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));gt=N0(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));gt=N0(r)}else i===27?(i=gt,Li(r.type)?(r=Jp,Jp=null,gt=r):gt=i):gt=sn?pr(r.stateNode.nextSibling):null;return!0}function wa(){gt=sn=null,Xe=!1}function Nf(){var r=mi;return r!==null&&(Dn===null?Dn=r:Dn.push.apply(Dn,r),mi=null),r}function Pl(r){mi===null?mi=[r]:mi.push(r)}var If=D(null),Ta=null,Ls=null;function vi(r,i,o){re(If,i._currentValue),i._currentValue=o}function Ns(r){r._currentValue=If.current,K(If)}function Mf(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function Of(r,i,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=h;for(var V=0;V<i.length;V++)if(C.context===i[V]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Mf(g.return,o,r),u||(E=null);break e}g=C.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Mf(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function wo(r,i,o,u){r=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=h.type;$n(h.pendingProps.value,E.value)||(r!==null?r.push(C):r=[C])}}else if(h===xe.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}h=h.return}r!==null&&Of(i,r,o,u),i.flags|=262144}function Gc(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){Ta=r,Ls=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return oy(Ta,r)}function $c(r,i){return Ta===null&&Sa(r),oy(r,i)}function oy(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ls===null){if(r===null)throw Error(s(308));Ls=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ls=Ls.next=i;return o}var dC=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},hC=n.unstable_scheduleCallback,fC=n.unstable_NormalPriority,zt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new dC,data:new Map,refCount:0}}function Vl(r){r.refCount--,r.refCount===0&&hC(fC,function(){r.controller.abort()})}var Ul=null,jf=0,To=0,So=null;function pC(r,i){if(Ul===null){var o=Ul=[];jf=0,To=Up(),So={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jf++,i.then(ly,ly),i}function ly(){if(--jf===0&&Ul!==null){So!==null&&(So.status="fulfilled");var r=Ul;Ul=null,To=0,So=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function mC(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var uy=Q.S;Q.S=function(r,i){$b=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pC(r,i),uy!==null&&uy(r,i)};var Ca=D(null);function Pf(){var r=Ca.current;return r!==null?r:ht.pooledCache}function Kc(r,i){i===null?re(Ca,Ca.current):re(Ca,i.pool)}function cy(){var r=Pf();return r===null?null:{parent:zt._currentValue,pool:r}}var Co=Error(s(460)),Vf=Error(s(474)),Qc=Error(s(542)),Yc={then:function(){}};function dy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hy(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Er,Er),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,py(r),r;default:if(typeof i.status=="string")i.then(Er,Er);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,py(r),r}throw ka=i,Co}}function Aa(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ka=o,Co):o}}var ka=null;function fy(){if(ka===null)throw Error(s(459));var r=ka;return ka=null,r}function py(r){if(r===Co||r===Qc)throw Error(s(483))}var Ao=null,zl=0;function Xc(r){var i=zl;return zl+=1,Ao===null&&(Ao=[]),hy(Ao,r,i)}function Bl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Wc(r,i){throw i.$$typeof===w?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function my(r){function i($,q){if(r){var Z=$.deletions;Z===null?($.deletions=[q],$.flags|=16):Z.push(q)}}function o($,q){if(!r)return null;for(;q!==null;)i($,q),q=q.sibling;return null}function u($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function h($,q){return $=ks($,q),$.index=0,$.sibling=null,$}function g($,q,Z){return $.index=Z,r?(Z=$.alternate,Z!==null?(Z=Z.index,Z<q?($.flags|=67108866,q):Z):($.flags|=67108866,q)):($.flags|=1048576,q)}function E($){return r&&$.alternate===null&&($.flags|=67108866),$}function C($,q,Z,le){return q===null||q.tag!==6?(q=Cf(Z,$.mode,le),q.return=$,q):(q=h(q,Z),q.return=$,q)}function V($,q,Z,le){var Ce=Z.type;return Ce===P?oe($,q,Z.props.children,le,Z.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&Aa(Ce)===q.type)?(q=h(q,Z.props),Bl(q,Z),q.return=$,q):(q=Hc(Z.type,Z.key,Z.props,null,$.mode,le),Bl(q,Z),q.return=$,q)}function J($,q,Z,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==Z.containerInfo||q.stateNode.implementation!==Z.implementation?(q=Af(Z,$.mode,le),q.return=$,q):(q=h(q,Z.children||[]),q.return=$,q)}function oe($,q,Z,le,Ce){return q===null||q.tag!==7?(q=Ea(Z,$.mode,le,Ce),q.return=$,q):(q=h(q,Z),q.return=$,q)}function ce($,q,Z){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Cf(""+q,$.mode,Z),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case k:return Z=Hc(q.type,q.key,q.props,null,$.mode,Z),Bl(Z,q),Z.return=$,Z;case L:return q=Af(q,$.mode,Z),q.return=$,q;case A:return q=Aa(q),ce($,q,Z)}if(be(q)||U(q))return q=Ea(q,$.mode,Z,null),q.return=$,q;if(typeof q.then=="function")return ce($,Xc(q),Z);if(q.$$typeof===Y)return ce($,$c($,q),Z);Wc($,q)}return null}function te($,q,Z,le){var Ce=q!==null?q.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ce!==null?null:C($,q,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return Z.key===Ce?V($,q,Z,le):null;case L:return Z.key===Ce?J($,q,Z,le):null;case A:return Z=Aa(Z),te($,q,Z,le)}if(be(Z)||U(Z))return Ce!==null?null:oe($,q,Z,le,null);if(typeof Z.then=="function")return te($,q,Xc(Z),le);if(Z.$$typeof===Y)return te($,q,$c($,Z),le);Wc($,Z)}return null}function se($,q,Z,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(Z)||null,C(q,$,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case k:return $=$.get(le.key===null?Z:le.key)||null,V(q,$,le,Ce);case L:return $=$.get(le.key===null?Z:le.key)||null,J(q,$,le,Ce);case A:return le=Aa(le),se($,q,Z,le,Ce)}if(be(le)||U(le))return $=$.get(Z)||null,oe(q,$,le,Ce,null);if(typeof le.then=="function")return se($,q,Z,Xc(le),Ce);if(le.$$typeof===Y)return se($,q,Z,$c(q,le),Ce);Wc(q,le)}return null}function Ee($,q,Z,le){for(var Ce=null,Je=null,Te=q,Ue=q=0,$e=null;Te!==null&&Ue<Z.length;Ue++){Te.index>Ue?($e=Te,Te=null):$e=Te.sibling;var et=te($,Te,Z[Ue],le);if(et===null){Te===null&&(Te=$e);break}r&&Te&&et.alternate===null&&i($,Te),q=g(et,q,Ue),Je===null?Ce=et:Je.sibling=et,Je=et,Te=$e}if(Ue===Z.length)return o($,Te),Xe&&Rs($,Ue),Ce;if(Te===null){for(;Ue<Z.length;Ue++)Te=ce($,Z[Ue],le),Te!==null&&(q=g(Te,q,Ue),Je===null?Ce=Te:Je.sibling=Te,Je=Te);return Xe&&Rs($,Ue),Ce}for(Te=u(Te);Ue<Z.length;Ue++)$e=se(Te,$,Ue,Z[Ue],le),$e!==null&&(r&&$e.alternate!==null&&Te.delete($e.key===null?Ue:$e.key),q=g($e,q,Ue),Je===null?Ce=$e:Je.sibling=$e,Je=$e);return r&&Te.forEach(function(Di){return i($,Di)}),Xe&&Rs($,Ue),Ce}function ke($,q,Z,le){if(Z==null)throw Error(s(151));for(var Ce=null,Je=null,Te=q,Ue=q=0,$e=null,et=Z.next();Te!==null&&!et.done;Ue++,et=Z.next()){Te.index>Ue?($e=Te,Te=null):$e=Te.sibling;var Di=te($,Te,et.value,le);if(Di===null){Te===null&&(Te=$e);break}r&&Te&&Di.alternate===null&&i($,Te),q=g(Di,q,Ue),Je===null?Ce=Di:Je.sibling=Di,Je=Di,Te=$e}if(et.done)return o($,Te),Xe&&Rs($,Ue),Ce;if(Te===null){for(;!et.done;Ue++,et=Z.next())et=ce($,et.value,le),et!==null&&(q=g(et,q,Ue),Je===null?Ce=et:Je.sibling=et,Je=et);return Xe&&Rs($,Ue),Ce}for(Te=u(Te);!et.done;Ue++,et=Z.next())et=se(Te,$,Ue,et.value,le),et!==null&&(r&&et.alternate!==null&&Te.delete(et.key===null?Ue:et.key),q=g(et,q,Ue),Je===null?Ce=et:Je.sibling=et,Je=et);return r&&Te.forEach(function(CA){return i($,CA)}),Xe&&Rs($,Ue),Ce}function dt($,q,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:e:{for(var Ce=Z.key;q!==null;){if(q.key===Ce){if(Ce=Z.type,Ce===P){if(q.tag===7){o($,q.sibling),le=h(q,Z.props.children),le.return=$,$=le;break e}}else if(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&Aa(Ce)===q.type){o($,q.sibling),le=h(q,Z.props),Bl(le,Z),le.return=$,$=le;break e}o($,q);break}else i($,q);q=q.sibling}Z.type===P?(le=Ea(Z.props.children,$.mode,le,Z.key),le.return=$,$=le):(le=Hc(Z.type,Z.key,Z.props,null,$.mode,le),Bl(le,Z),le.return=$,$=le)}return E($);case L:e:{for(Ce=Z.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===Z.containerInfo&&q.stateNode.implementation===Z.implementation){o($,q.sibling),le=h(q,Z.children||[]),le.return=$,$=le;break e}else{o($,q);break}else i($,q);q=q.sibling}le=Af(Z,$.mode,le),le.return=$,$=le}return E($);case A:return Z=Aa(Z),dt($,q,Z,le)}if(be(Z))return Ee($,q,Z,le);if(U(Z)){if(Ce=U(Z),typeof Ce!="function")throw Error(s(150));return Z=Ce.call(Z),ke($,q,Z,le)}if(typeof Z.then=="function")return dt($,q,Xc(Z),le);if(Z.$$typeof===Y)return dt($,q,$c($,Z),le);Wc($,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,q!==null&&q.tag===6?(o($,q.sibling),le=h(q,Z),le.return=$,$=le):(o($,q),le=Cf(Z,$.mode,le),le.return=$,$=le),E($)):o($,q)}return function($,q,Z,le){try{zl=0;var Ce=dt($,q,Z,le);return Ao=null,Ce}catch(Te){if(Te===Co||Te===Qc)throw Te;var Je=Kn(29,Te,null,$.mode);return Je.lanes=le,Je.return=$,Je}}}var Ra=my(!0),gy=my(!1),yi=!1;function Uf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _i(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=qc(r),Jv(r,null,o),i}return Bc(r,u,i,o),qc(r)}function ql(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,ml(r,o)}}function Bf(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?h=g=i:g=g.next=i}else h=g=i;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var qf=!1;function Hl(){if(qf){var r=So;if(r!==null)throw r}}function Fl(r,i,o,u){qf=!1;var h=r.updateQueue;yi=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var V=C,J=V.next;V.next=null,E===null?g=J:E.next=J,E=V;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,C=oe.lastBaseUpdate,C!==E&&(C===null?oe.firstBaseUpdate=J:C.next=J,oe.lastBaseUpdate=V))}if(g!==null){var ce=h.baseState;E=0,oe=J=V=null,C=g;do{var te=C.lane&-536870913,se=te!==C.lane;if(se?(Ge&te)===te:(u&te)===te){te!==0&&te===To&&(qf=!0),oe!==null&&(oe=oe.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ee=r,ke=C;te=i;var dt=o;switch(ke.tag){case 1:if(Ee=ke.payload,typeof Ee=="function"){ce=Ee.call(dt,ce,te);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ke.payload,te=typeof Ee=="function"?Ee.call(dt,ce,te):Ee,te==null)break e;ce=_({},ce,te);break e;case 2:yi=!0}}te=C.callback,te!==null&&(r.flags|=64,se&&(r.flags|=8192),se=h.callbacks,se===null?h.callbacks=[te]:se.push(te))}else se={lane:te,tag:C.tag,payload:C.payload,callback:C.callback,next:null},oe===null?(J=oe=se,V=ce):oe=oe.next=se,E|=te;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;se=C,C=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);oe===null&&(V=ce),h.baseState=V,h.firstBaseUpdate=J,h.lastBaseUpdate=oe,g===null&&(h.shared.lanes=0),Si|=E,r.lanes=E,r.memoizedState=ce}}function vy(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function yy(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)vy(o[r],i)}var ko=D(null),Zc=D(0);function by(r,i){r=zs,re(Zc,r),re(ko,i),zs=r|i.baseLanes}function Hf(){re(Zc,zs),re(ko,ko.current)}function Ff(){zs=Zc.current,K(ko),K(Zc)}var Qn=D(null),fr=null;function xi(r){var i=r.alternate;re(Mt,Mt.current&1),re(Qn,r),fr===null&&(i===null||ko.current!==null||i.memoizedState!==null)&&(fr=r)}function Gf(r){re(Mt,Mt.current),re(Qn,r),fr===null&&(fr=r)}function _y(r){r.tag===22?(re(Mt,Mt.current),re(Qn,r),fr===null&&(fr=r)):Ei()}function Ei(){re(Mt,Mt.current),re(Qn,Qn.current)}function Yn(r){K(Qn),fr===r&&(fr=null),K(Mt)}var Mt=D(0);function Jc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wp(o)||Zp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Is=0,Pe=null,ut=null,Bt=null,ed=!1,Ro=!1,La=!1,td=0,Gl=0,Lo=null,gC=0;function At(){throw Error(s(321))}function $f(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!$n(r[o],i[o]))return!1;return!0}function Kf(r,i,o,u,h,g){return Is=g,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=r===null||r.memoizedState===null?rb:lp,La=!1,g=o(u,h),La=!1,Ro&&(g=Ey(i,o,u,h)),xy(r),g}function xy(r){Q.H=Ql;var i=ut!==null&&ut.next!==null;if(Is=0,Bt=ut=Pe=null,ed=!1,Gl=0,Lo=null,i)throw Error(s(300));r===null||qt||(r=r.dependencies,r!==null&&Gc(r)&&(qt=!0))}function Ey(r,i,o,u){Pe=r;var h=0;do{if(Ro&&(Lo=null),Gl=0,Ro=!1,25<=h)throw Error(s(301));if(h+=1,Bt=ut=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=sb,g=i(o,u)}while(Ro);return g}function vC(){var r=Q.H,i=r.useState()[0];return i=typeof i.then=="function"?$l(i):i,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(Pe.flags|=1024),i}function Qf(){var r=td!==0;return td=0,r}function Yf(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Xf(r){if(ed){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ed=!1}Is=0,Bt=ut=Pe=null,Ro=!1,Gl=td=0,Lo=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Pe.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Ot(){if(ut===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var i=Bt===null?Pe.memoizedState:Bt.next;if(i!==null)Bt=i,ut=r;else{if(r===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Bt===null?Pe.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(r){var i=Gl;return Gl+=1,Lo===null&&(Lo=[]),r=hy(Lo,r,i),i=Pe,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?rb:lp),r}function rd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return $l(r);if(r.$$typeof===Y)return an(r)}throw Error(s(438,String(r)))}function Wf(r){var i=null,o=Pe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=nd(),Pe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=j;return i.index++,o}function Ms(r,i){return typeof i=="function"?i(r):i}function sd(r){var i=Ot();return Zf(i,ut,r)}function Zf(r,i,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}i.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{i=h.next;var C=E=null,V=null,J=i,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(Ge&ce)===ce:(Is&ce)===ce){var te=J.revertLane;if(te===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===To&&(oe=!0);else if((Is&te)===te){J=J.next,te===To&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},V===null?(C=V=ce,E=g):V=V.next=ce,Pe.lanes|=te,Si|=te;ce=J.action,La&&o(g,ce),g=J.hasEagerState?J.eagerState:o(g,ce)}else te={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},V===null?(C=V=te,E=g):V=V.next=te,Pe.lanes|=ce,Si|=ce;J=J.next}while(J!==null&&J!==i);if(V===null?E=g:V.next=C,!$n(g,r.memoizedState)&&(qt=!0,oe&&(o=So,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=V,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Jf(r){var i=Ot(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=i.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do g=r(g,E.action),E=E.next;while(E!==h);$n(g,i.memoizedState)||(qt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function wy(r,i,o){var u=Pe,h=Ot(),g=Xe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!$n((ut||h).memoizedState,o);if(E&&(h.memoizedState=o,qt=!0),h=h.queue,np(Cy.bind(null,u,h,r),[r]),h.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,No(9,{destroy:void 0},Sy.bind(null,u,h,o,i),null),ht===null)throw Error(s(349));g||(Is&127)!==0||Ty(u,i,o)}return o}function Ty(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Pe.updateQueue,i===null?(i=nd(),Pe.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Sy(r,i,o,u){i.value=o,i.getSnapshot=u,Ay(i)&&ky(r)}function Cy(r,i,o){return o(function(){Ay(i)&&ky(r)})}function Ay(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!$n(r,o)}catch{return!0}}function ky(r){var i=xa(r,2);i!==null&&jn(i,r,2)}function ep(r){var i=Sn();if(typeof r=="function"){var o=r;if(r=o(),La){nn(!0);try{o()}finally{nn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:r},i}function Ry(r,i,o,u){return r.baseState=o,Zf(r,ut,typeof u=="function"?u:Ms)}function yC(r,i,o,u,h){if(od(r))throw Error(s(485));if(r=i.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,Ly(i,g)):(g.next=o.next,i.pending=o.next=g)}}function Ly(r,i){var o=i.action,u=i.payload,h=r.state;if(i.isTransition){var g=Q.T,E={};Q.T=E;try{var C=o(h,u),V=Q.S;V!==null&&V(E,C),Ny(r,i,C)}catch(J){tp(r,i,J)}finally{g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}else try{g=o(h,u),Ny(r,i,g)}catch(J){tp(r,i,J)}}function Ny(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Iy(r,i,u)},function(u){return tp(r,i,u)}):Iy(r,i,o)}function Iy(r,i,o){i.status="fulfilled",i.value=o,My(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,Ly(r,o)))}function tp(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,My(i),i=i.next;while(i!==u)}r.action=null}function My(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Oy(r,i){return i}function Dy(r,i){if(Xe){var o=ht.formState;if(o!==null){e:{var u=Pe;if(Xe){if(gt){t:{for(var h=gt,g=hr;h.nodeType!==8;){if(!g){h=null;break t}if(h=pr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){gt=pr(h.nextSibling),u=h.data==="F!";break e}}gi(u)}u=!1}u&&(i=o[0])}}return o=Sn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},o.queue=u,o=eb.bind(null,Pe,u),u.dispatch=o,u=ep(!1),g=op.bind(null,Pe,!1,u.queue),u=Sn(),h={state:i,dispatch:null,action:r,pending:null},u.queue=h,o=yC.bind(null,Pe,h,g,o),h.dispatch=o,u.memoizedState=r,[i,o,!1]}function jy(r){var i=Ot();return Py(i,ut,r)}function Py(r,i,o){if(i=Zf(r,i,Oy)[0],r=sd(Ms)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=$l(i)}catch(E){throw E===Co?Qc:E}else u=i;i=Ot();var h=i.queue,g=h.dispatch;return o!==i.memoizedState&&(Pe.flags|=2048,No(9,{destroy:void 0},bC.bind(null,h,o),null)),[u,g,r]}function bC(r,i){r.action=i}function Vy(r){var i=Ot(),o=ut;if(o!==null)return Py(i,o,r);Ot(),i=i.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function No(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=nd(),Pe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function Uy(){return Ot().memoizedState}function id(r,i,o,u){var h=Sn();Pe.flags|=r,h.memoizedState=No(1|i,{destroy:void 0},o,u===void 0?null:u)}function ad(r,i,o,u){var h=Ot();u=u===void 0?null:u;var g=h.memoizedState.inst;ut!==null&&u!==null&&$f(u,ut.memoizedState.deps)?h.memoizedState=No(i,g,o,u):(Pe.flags|=r,h.memoizedState=No(1|i,g,o,u))}function zy(r,i){id(8390656,8,r,i)}function np(r,i){ad(2048,8,r,i)}function _C(r){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=nd(),Pe.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function By(r){var i=Ot().memoizedState;return _C({ref:i,nextImpl:r}),function(){if((rt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function qy(r,i){return ad(4,2,r,i)}function Hy(r,i){return ad(4,4,r,i)}function Fy(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Gy(r,i,o){o=o!=null?o.concat([r]):null,ad(4,4,Fy.bind(null,i,r),o)}function rp(){}function $y(r,i){var o=Ot();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&$f(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function Ky(r,i){var o=Ot();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&$f(i,u[1]))return u[0];if(u=r(),La){nn(!0);try{r()}finally{nn(!1)}}return o.memoizedState=[u,i],u}function sp(r,i,o){return o===void 0||(Is&1073741824)!==0&&(Ge&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=Qb(),Pe.lanes|=r,Si|=r,o)}function Qy(r,i,o,u){return $n(o,i)?o:ko.current!==null?(r=sp(r,o,u),$n(r,i)||(qt=!0),r):(Is&42)===0||(Is&1073741824)!==0&&(Ge&261930)===0?(qt=!0,r.memoizedState=o):(r=Qb(),Pe.lanes|=r,Si|=r,i)}function Yy(r,i,o,u,h){var g=ie.p;ie.p=g!==0&&8>g?g:8;var E=Q.T,C={};Q.T=C,op(r,!1,i,o);try{var V=h(),J=Q.S;if(J!==null&&J(C,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var oe=mC(V,u);Kl(r,i,oe,Zn(r))}else Kl(r,i,u,Zn(r))}catch(ce){Kl(r,i,{then:function(){},status:"rejected",reason:ce},Zn())}finally{ie.p=g,E!==null&&C.types!==null&&(E.types=C.types),Q.T=E}}function xC(){}function ip(r,i,o,u){if(r.tag!==5)throw Error(s(476));var h=Xy(r).queue;Yy(r,h,i,fe,o===null?xC:function(){return Wy(r),o(u)})}function Xy(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:fe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Wy(r){var i=Xy(r);i.next===null&&(i=r.alternate.memoizedState),Kl(r,i.next.queue,{},Zn())}function ap(){return an(cu)}function Zy(){return Ot().memoizedState}function Jy(){return Ot().memoizedState}function EC(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Zn();r=bi(o);var u=_i(i,r,o);u!==null&&(jn(u,i,o),ql(u,i,o)),i={cache:Df()},r.payload=i;return}i=i.return}}function wC(r,i,o){var u=Zn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},od(r)?tb(i,o):(o=Tf(r,i,o,u),o!==null&&(jn(o,r,u),nb(o,i,u)))}function eb(r,i,o){var u=Zn();Kl(r,i,o,u)}function Kl(r,i,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(od(r))tb(i,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,C=g(E,o);if(h.hasEagerState=!0,h.eagerState=C,$n(C,E))return Bc(r,i,h,0),ht===null&&zc(),!1}catch{}if(o=Tf(r,i,h,u),o!==null)return jn(o,r,u),nb(o,i,u),!0}return!1}function op(r,i,o,u){if(u={lane:2,revertLane:Up(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},od(r)){if(i)throw Error(s(479))}else i=Tf(r,o,u,2),i!==null&&jn(i,r,2)}function od(r){var i=r.alternate;return r===Pe||i!==null&&i===Pe}function tb(r,i){Ro=ed=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function nb(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,ml(r,o)}}var Ql={readContext:an,use:rd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ql.useEffectEvent=At;var rb={readContext:an,use:rd,useCallback:function(r,i){return Sn().memoizedState=[r,i===void 0?null:i],r},useContext:an,useEffect:zy,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,id(4194308,4,Fy.bind(null,i,r),o)},useLayoutEffect:function(r,i){return id(4194308,4,r,i)},useInsertionEffect:function(r,i){id(4,2,r,i)},useMemo:function(r,i){var o=Sn();i=i===void 0?null:i;var u=r();if(La){nn(!0);try{r()}finally{nn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=Sn();if(o!==void 0){var h=o(i);if(La){nn(!0);try{o(i)}finally{nn(!1)}}}else h=i;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=wC.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var i=Sn();return r={current:r},i.memoizedState=r},useState:function(r){r=ep(r);var i=r.queue,o=eb.bind(null,Pe,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:rp,useDeferredValue:function(r,i){var o=Sn();return sp(o,r,i)},useTransition:function(){var r=ep(!1);return r=Yy.bind(null,Pe,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Pe,h=Sn();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ht===null)throw Error(s(349));(Ge&127)!==0||Ty(u,i,o)}h.memoizedState=o;var g={value:o,getSnapshot:i};return h.queue=g,zy(Cy.bind(null,u,g,r),[r]),u.flags|=2048,No(9,{destroy:void 0},Sy.bind(null,u,g,o,i),null),o},useId:function(){var r=Sn(),i=ht.identifierPrefix;if(Xe){var o=es,u=Jr;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=td++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=gC++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:ap,useFormState:Dy,useActionState:Dy,useOptimistic:function(r){var i=Sn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=op.bind(null,Pe,!0,o),o.dispatch=i,[r,i]},useMemoCache:Wf,useCacheRefresh:function(){return Sn().memoizedState=EC.bind(null,Pe)},useEffectEvent:function(r){var i=Sn(),o={impl:r};return i.memoizedState=o,function(){if((rt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},lp={readContext:an,use:rd,useCallback:$y,useContext:an,useEffect:np,useImperativeHandle:Gy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Ky,useReducer:sd,useRef:Uy,useState:function(){return sd(Ms)},useDebugValue:rp,useDeferredValue:function(r,i){var o=Ot();return Qy(o,ut.memoizedState,r,i)},useTransition:function(){var r=sd(Ms)[0],i=Ot().memoizedState;return[typeof r=="boolean"?r:$l(r),i]},useSyncExternalStore:wy,useId:Zy,useHostTransitionStatus:ap,useFormState:jy,useActionState:jy,useOptimistic:function(r,i){var o=Ot();return Ry(o,ut,r,i)},useMemoCache:Wf,useCacheRefresh:Jy};lp.useEffectEvent=By;var sb={readContext:an,use:rd,useCallback:$y,useContext:an,useEffect:np,useImperativeHandle:Gy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Ky,useReducer:Jf,useRef:Uy,useState:function(){return Jf(Ms)},useDebugValue:rp,useDeferredValue:function(r,i){var o=Ot();return ut===null?sp(o,r,i):Qy(o,ut.memoizedState,r,i)},useTransition:function(){var r=Jf(Ms)[0],i=Ot().memoizedState;return[typeof r=="boolean"?r:$l(r),i]},useSyncExternalStore:wy,useId:Zy,useHostTransitionStatus:ap,useFormState:Vy,useActionState:Vy,useOptimistic:function(r,i){var o=Ot();return ut!==null?Ry(o,ut,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Jy};sb.useEffectEvent=By;function up(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var cp={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=Zn(),h=bi(u);h.payload=i,o!=null&&(h.callback=o),i=_i(r,h,u),i!==null&&(jn(i,r,u),ql(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=Zn(),h=bi(u);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=_i(r,h,u),i!==null&&(jn(i,r,u),ql(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Zn(),u=bi(o);u.tag=2,i!=null&&(u.callback=i),i=_i(r,u,o),i!==null&&(jn(i,r,o),ql(i,r,o))}};function ib(r,i,o,u,h,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,E):i.prototype&&i.prototype.isPureReactComponent?!Ol(o,u)||!Ol(h,g):!0}function ab(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&cp.enqueueReplaceState(i,i.state,null)}function Na(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function ob(r){Uc(r)}function lb(r){console.error(r)}function ub(r){Uc(r)}function ld(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function cb(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dp(r,i,o){return o=bi(o),o.tag=3,o.payload={element:null},o.callback=function(){ld(r,i)},o}function db(r){return r=bi(r),r.tag=3,r}function hb(r,i,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){cb(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){cb(i,o,u),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function TC(r,i,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&wo(i,o,h,!0),o=Qn.current,o!==null){switch(o.tag){case 31:case 13:return fr===null?_d():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Yc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),jp(r,u,h)),!1;case 22:return o.flags|=65536,u===Yc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),jp(r,u,h)),!1}throw Error(s(435,o.tag))}return jp(r,u,h),_d(),!1}if(Xe)return i=Qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==Lf&&(r=Error(s(422),{cause:u}),Pl(ur(r,o)))):(u!==Lf&&(i=Error(s(423),{cause:u}),Pl(ur(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=ur(u,o),h=dp(r.stateNode,u,h),Bf(r,h),kt!==4&&(kt=2)),!1;var g=Error(s(520),{cause:u});if(g=ur(g,o),nu===null?nu=[g]:nu.push(g),kt!==4&&(kt=2),i===null)return!0;u=ur(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=dp(o.stateNode,u,r),Bf(o,r),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ci===null||!Ci.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=db(h),hb(h,r,o,u),Bf(o,h),!1}o=o.return}while(o!==null);return!1}var hp=Error(s(461)),qt=!1;function on(r,i,o,u){i.child=r===null?gy(i,null,o,u):Ra(i,r.child,o,u)}function fb(r,i,o,u,h){o=o.render;var g=i.ref;if("ref"in u){var E={};for(var C in u)C!=="ref"&&(E[C]=u[C])}else E=u;return Sa(i),u=Kf(r,i,o,E,g,h),C=Qf(),r!==null&&!qt?(Yf(r,i,h),Os(r,i,h)):(Xe&&C&&kf(i),i.flags|=1,on(r,i,u,h),i.child)}function pb(r,i,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!Sf(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,mb(r,i,g,u,h)):(r=Hc(o.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!_p(r,h)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(E,u)&&r.ref===i.ref)return Os(r,i,h)}return i.flags|=1,r=ks(g,u),r.ref=i.ref,r.return=i,i.child=r}function mb(r,i,o,u,h){if(r!==null){var g=r.memoizedProps;if(Ol(g,u)&&r.ref===i.ref)if(qt=!1,i.pendingProps=u=g,_p(r,h))(r.flags&131072)!==0&&(qt=!0);else return i.lanes=r.lanes,Os(r,i,h)}return fp(r,i,o,u,h)}function gb(r,i,o,u){var h=u.children,g=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(u=i.child=r.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~g}else u=0,i.child=null;return vb(r,i,g,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Kc(i,g!==null?g.cachePool:null),g!==null?by(i,g):Hf(),_y(i);else return u=i.lanes=536870912,vb(r,i,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Kc(i,g.cachePool),by(i,g),Ei(),i.memoizedState=null):(r!==null&&Kc(i,null),Hf(),Ei());return on(r,i,h,o),i.child}function Yl(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vb(r,i,o,u,h){var g=Pf();return g=g===null?null:{parent:zt._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},r!==null&&Kc(i,null),Hf(),_y(i),r!==null&&wo(r,i,u,!0),i.childLanes=h,null}function ud(r,i){return i=dd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function yb(r,i,o){return Ra(i,r.child,null,o),r=ud(i,i.pendingProps),r.flags|=2,Yn(i),i.memoizedState=null,r}function SC(r,i,o){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Xe){if(u.mode==="hidden")return r=ud(i,u),i.lanes=536870912,Yl(null,r);if(Gf(i),(r=gt)?(r=L0(r,hr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:pi!==null?{id:Jr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=ty(r),o.return=i,i.child=o,sn=i,gt=null)):r=null,r===null)throw gi(i);return i.lanes=536870912,null}return ud(i,u)}var g=r.memoizedState;if(g!==null){var E=g.dehydrated;if(Gf(i),h)if(i.flags&256)i.flags&=-257,i=yb(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(qt||wo(r,i,o,!1),h=(o&r.childLanes)!==0,qt||h){if(u=ht,u!==null&&(E=gl(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,xa(r,E),jn(u,r,E),hp;_d(),i=yb(r,i,o)}else r=g.treeContext,gt=pr(E.nextSibling),sn=i,Xe=!0,mi=null,hr=!1,r!==null&&sy(i,r),i=ud(i,u),i.flags|=4096;return i}return r=ks(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function cd(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function fp(r,i,o,u,h){return Sa(i),o=Kf(r,i,o,u,void 0,h),u=Qf(),r!==null&&!qt?(Yf(r,i,h),Os(r,i,h)):(Xe&&u&&kf(i),i.flags|=1,on(r,i,o,h),i.child)}function bb(r,i,o,u,h,g){return Sa(i),i.updateQueue=null,o=Ey(i,u,o,h),xy(r),u=Qf(),r!==null&&!qt?(Yf(r,i,g),Os(r,i,g)):(Xe&&u&&kf(i),i.flags|=1,on(r,i,o,g),i.child)}function _b(r,i,o,u,h){if(Sa(i),i.stateNode===null){var g=bo,E=o.contextType;typeof E=="object"&&E!==null&&(g=an(E)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=cp,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},Uf(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?an(E):bo,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(up(i,o,E,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&cp.enqueueReplaceState(g,g.state,null),Fl(i,u,g,h),Hl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){g=i.stateNode;var C=i.memoizedProps,V=Na(o,C);g.props=V;var J=g.context,oe=o.contextType;E=bo,typeof oe=="object"&&oe!==null&&(E=an(oe));var ce=o.getDerivedStateFromProps;oe=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||J!==E)&&ab(i,g,u,E),yi=!1;var te=i.memoizedState;g.state=te,Fl(i,u,g,h),Hl(),J=i.memoizedState,C||te!==J||yi?(typeof ce=="function"&&(up(i,o,ce,u),J=i.memoizedState),(V=yi||ib(i,o,V,u,te,J,E))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=J),g.props=u,g.state=J,g.context=E,u=V):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,zf(r,i),E=i.memoizedProps,oe=Na(o,E),g.props=oe,ce=i.pendingProps,te=g.context,J=o.contextType,V=bo,typeof J=="object"&&J!==null&&(V=an(J)),C=o.getDerivedStateFromProps,(J=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ce||te!==V)&&ab(i,g,u,V),yi=!1,te=i.memoizedState,g.state=te,Fl(i,u,g,h),Hl();var se=i.memoizedState;E!==ce||te!==se||yi||r!==null&&r.dependencies!==null&&Gc(r.dependencies)?(typeof C=="function"&&(up(i,o,C,u),se=i.memoizedState),(oe=yi||ib(i,o,oe,u,te,se,V)||r!==null&&r.dependencies!==null&&Gc(r.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,se,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,se,V)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=se),g.props=u,g.state=se,g.context=V,u=oe):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),u=!1)}return g=u,cd(r,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&u?(i.child=Ra(i,r.child,null,h),i.child=Ra(i,null,o,h)):on(r,i,o,h),i.memoizedState=g.state,r=i.child):r=Os(r,i,h),r}function xb(r,i,o,u){return wa(),i.flags|=256,on(r,i,o,u),i.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:cy()}}function gp(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Wn),r}function Eb(r,i,o){var u=i.pendingProps,h=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(Mt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(Xe){if(h?xi(i):Ei(),(r=gt)?(r=L0(r,hr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:pi!==null?{id:Jr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=ty(r),o.return=i,i.child=o,sn=i,gt=null)):r=null,r===null)throw gi(i);return Zp(r)?i.lanes=32:i.lanes=536870912,null}var C=u.children;return u=u.fallback,h?(Ei(),h=i.mode,C=dd({mode:"hidden",children:C},h),u=Ea(u,h,o,null),C.return=i,u.return=i,C.sibling=u,i.child=C,u=i.child,u.memoizedState=mp(o),u.childLanes=gp(r,E,o),i.memoizedState=pp,Yl(null,u)):(xi(i),vp(i,C))}var V=r.memoizedState;if(V!==null&&(C=V.dehydrated,C!==null)){if(g)i.flags&256?(xi(i),i.flags&=-257,i=yp(r,i,o)):i.memoizedState!==null?(Ei(),i.child=r.child,i.flags|=128,i=null):(Ei(),C=u.fallback,h=i.mode,u=dd({mode:"visible",children:u.children},h),C=Ea(C,h,o,null),C.flags|=2,u.return=i,C.return=i,u.sibling=C,i.child=u,Ra(i,r.child,null,o),u=i.child,u.memoizedState=mp(o),u.childLanes=gp(r,E,o),i.memoizedState=pp,i=Yl(null,u));else if(xi(i),Zp(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var J=E.dgst;E=J,u=Error(s(419)),u.stack="",u.digest=E,Pl({value:u,source:null,stack:null}),i=yp(r,i,o)}else if(qt||wo(r,i,o,!1),E=(o&r.childLanes)!==0,qt||E){if(E=ht,E!==null&&(u=gl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,xa(r,u),jn(E,r,u),hp;Wp(C)||_d(),i=yp(r,i,o)}else Wp(C)?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,gt=pr(C.nextSibling),sn=i,Xe=!0,mi=null,hr=!1,r!==null&&sy(i,r),i=vp(i,u.children),i.flags|=4096);return i}return h?(Ei(),C=u.fallback,h=i.mode,V=r.child,J=V.sibling,u=ks(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,J!==null?C=ks(J,C):(C=Ea(C,h,o,null),C.flags|=2),C.return=i,u.return=i,u.sibling=C,i.child=u,Yl(null,u),u=i.child,C=r.child.memoizedState,C===null?C=mp(o):(h=C.cachePool,h!==null?(V=zt._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=cy(),C={baseLanes:C.baseLanes|o,cachePool:h}),u.memoizedState=C,u.childLanes=gp(r,E,o),i.memoizedState=pp,Yl(r.child,u)):(xi(i),o=r.child,r=o.sibling,o=ks(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function vp(r,i){return i=dd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function dd(r,i){return r=Kn(22,r,null,i),r.lanes=0,r}function yp(r,i,o){return Ra(i,r.child,null,o),r=vp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function wb(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Mf(r.return,i,o)}function bp(r,i,o,u,h,g){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:g}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=h,E.treeForkCount=g)}function Tb(r,i,o){var u=i.pendingProps,h=u.revealOrder,g=u.tail;u=u.children;var E=Mt.current,C=(E&2)!==0;if(C?(E=E&1|2,i.flags|=128):E&=1,re(Mt,E),on(r,i,u,o),u=Xe?jl:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wb(r,o,i);else if(r.tag===19)wb(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&Jc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),bp(i,!1,h,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Jc(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}bp(i,!0,o,null,g,u);break;case"together":bp(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Os(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Si|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(wo(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=ks(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=ks(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function _p(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Gc(r)))}function CC(r,i,o){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),vi(i,zt,r.memoizedState.cache),wa();break;case 27:case 5:Se(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:vi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gf(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(xi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Eb(r,i,o):(xi(i),r=Os(r,i,o),r!==null?r.sibling:null);xi(i);break;case 19:var h=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(wo(r,i,o,!1),u=(o&i.childLanes)!==0),h){if(u)return Tb(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Mt,Mt.current),u)break;return null;case 22:return i.lanes=0,gb(r,i,o,i.pendingProps);case 24:vi(i,zt,r.memoizedState.cache)}return Os(r,i,o)}function Sb(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)qt=!0;else{if(!_p(r,o)&&(i.flags&128)===0)return qt=!1,CC(r,i,o);qt=(r.flags&131072)!==0}else qt=!1,Xe&&(i.flags&1048576)!==0&&ry(i,jl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Aa(i.elementType),i.type=r,typeof r=="function")Sf(r)?(u=Na(r,u),i.tag=1,i=_b(null,i,r,u,o)):(i.tag=0,i=fp(null,i,r,u,o));else{if(r!=null){var h=r.$$typeof;if(h===H){i.tag=11,i=fb(null,i,r,u,o);break e}else if(h===R){i.tag=14,i=pb(null,i,r,u,o);break e}}throw i=pe(r)||r,Error(s(306,i,""))}}return i;case 0:return fp(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,h=Na(u,i.pendingProps),_b(r,i,u,h,o);case 3:e:{if(we(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;h=g.element,zf(r,i),Fl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,vi(i,zt,u),u!==g.cache&&Of(i,[zt],o,!0),Hl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=xb(r,i,u,o);break e}else if(u!==h){h=ur(Error(s(424)),i),Pl(h),i=xb(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(gt=pr(r.firstChild),sn=i,Xe=!0,mi=null,hr=!0,o=gy(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(wa(),u===h){i=Os(r,i,o);break e}on(r,i,u,o)}i=i.child}return i;case 26:return cd(r,i),r===null?(o=j0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Xe||(o=i.type,r=i.pendingProps,u=Ad(ge.current).createElement(o),u[Pt]=i,u[Zt]=r,ln(u,o,r),Vt(u),i.stateNode=u):i.memoizedState=j0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Se(i),r===null&&Xe&&(u=i.stateNode=M0(i.type,i.pendingProps,ge.current),sn=i,hr=!0,h=gt,Li(i.type)?(Jp=h,gt=pr(u.firstChild)):gt=h),on(r,i,i.pendingProps.children,o),cd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Xe&&((h=u=gt)&&(u=nA(u,i.type,i.pendingProps,hr),u!==null?(i.stateNode=u,sn=i,gt=pr(u.firstChild),hr=!1,h=!0):h=!1),h||gi(i)),Se(i),h=i.type,g=i.pendingProps,E=r!==null?r.memoizedProps:null,u=g.children,Qp(h,g)?u=null:E!==null&&Qp(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Kf(r,i,vC,null,null,o),cu._currentValue=h),cd(r,i),on(r,i,u,o),i.child;case 6:return r===null&&Xe&&((r=o=gt)&&(o=rA(o,i.pendingProps,hr),o!==null?(i.stateNode=o,sn=i,gt=null,r=!0):r=!1),r||gi(i)),null;case 13:return Eb(r,i,o);case 4:return we(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Ra(i,null,u,o):on(r,i,u,o),i.child;case 11:return fb(r,i,i.type,i.pendingProps,o);case 7:return on(r,i,i.pendingProps,o),i.child;case 8:return on(r,i,i.pendingProps.children,o),i.child;case 12:return on(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,vi(i,i.type,u.value),on(r,i,u.children,o),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,Sa(i),h=an(h),u=u(h),i.flags|=1,on(r,i,u,o),i.child;case 14:return pb(r,i,i.type,i.pendingProps,o);case 15:return mb(r,i,i.type,i.pendingProps,o);case 19:return Tb(r,i,o);case 31:return SC(r,i,o);case 22:return gb(r,i,o,i.pendingProps);case 24:return Sa(i),u=an(zt),r===null?(h=Pf(),h===null&&(h=ht,g=Df(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),i.memoizedState={parent:u,cache:h},Uf(i),vi(i,zt,h)):((r.lanes&o)!==0&&(zf(r,i),Fl(i,null,null,o),Hl()),h=r.memoizedState,g=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vi(i,zt,u)):(u=g.cache,vi(i,zt,u),u!==h.cache&&Of(i,[zt],o,!0))),on(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ds(r){r.flags|=4}function xp(r,i,o,u,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(Zb())r.flags|=8192;else throw ka=Yc,Vf}else r.flags&=-16777217}function Cb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!B0(i))if(Zb())r.flags|=8192;else throw ka=Yc,Vf}function hd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?xs():536870912,r.lanes|=i,Do|=i)}function Xl(r,i){if(!Xe)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function AC(r,i,o){var u=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ns(zt),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Eo(i)?Ds(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nf())),vt(i),null;case 26:var h=i.type,g=i.memoizedState;return r===null?(Ds(i),g!==null?(vt(i),Cb(i,g)):(vt(i),xp(i,h,null,u,o))):g?g!==r.memoizedState?(Ds(i),vt(i),Cb(i,g)):(vt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Ds(i),vt(i),xp(i,h,r,u,o)),null;case 27:if(Ve(i),o=ge.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Ds(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return vt(i),null}r=he.current,Eo(i)?iy(i):(r=M0(h,u,o),i.stateNode=r,Ds(i))}return vt(i),null;case 5:if(Ve(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Ds(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return vt(i),null}if(g=he.current,Eo(i))iy(i);else{var E=Ad(ge.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(h,{is:u.is}):E.createElement(h)}}g[Pt]=i,g[Zt]=u;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=g;e:switch(ln(g,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ds(i)}}return vt(i),xp(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Ds(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=ge.current,Eo(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,h=sn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Pt]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||E0(r.nodeValue,o)),r||gi(i,!0)}else r=Ad(r).createTextNode(u),r[Pt]=i,i.stateNode=r}return vt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(u=Eo(i),o!==null){if(r===null){if(!u)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Pt]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),r=!1}else o=Nf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(Yn(i),i):(Yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return vt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Eo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),h=!1}else h=Nf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yn(i),i):(Yn(i),null)}return Yn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),hd(i,i.updateQueue),vt(i),null);case 4:return Ie(),r===null&&Hp(i.stateNode.containerInfo),vt(i),null;case 10:return Ns(i.type),vt(i),null;case 19:if(K(Mt),u=i.memoizedState,u===null)return vt(i),null;if(h=(i.flags&128)!==0,g=u.rendering,g===null)if(h)Xl(u,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=Jc(r),g!==null){for(i.flags|=128,Xl(u,!1),r=g.updateQueue,i.updateQueue=r,hd(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)ey(o,r),o=o.sibling;return re(Mt,Mt.current&1|2),Xe&&Rs(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&Wt()>vd&&(i.flags|=128,h=!0,Xl(u,!1),i.lanes=4194304)}else{if(!h)if(r=Jc(g),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,hd(i,r),Xl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Xe)return vt(i),null}else 2*Wt()-u.renderingStartTime>vd&&o!==536870912&&(i.flags|=128,h=!0,Xl(u,!1),i.lanes=4194304);u.isBackwards?(g.sibling=i.child,i.child=g):(r=u.last,r!==null?r.sibling=g:i.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Wt(),r.sibling=null,o=Mt.current,re(Mt,h?o&1|2:o&1),Xe&&Rs(i,u.treeForkCount),r):(vt(i),null);case 22:case 23:return Yn(i),Ff(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),o=i.updateQueue,o!==null&&hd(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&K(Ca),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ns(zt),vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kC(r,i){switch(Rf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ns(zt),Ie(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ve(i),null;case 31:if(i.memoizedState!==null){if(Yn(i),i.alternate===null)throw Error(s(340));wa()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Yn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wa()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return K(Mt),null;case 4:return Ie(),null;case 10:return Ns(i.type),null;case 22:case 23:return Yn(i),Ff(),r!==null&&K(Ca),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ns(zt),null;case 25:return null;default:return null}}function Ab(r,i){switch(Rf(i),i.tag){case 3:Ns(zt),Ie();break;case 26:case 27:case 5:Ve(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&Yn(i);break;case 13:Yn(i);break;case 19:K(Mt);break;case 10:Ns(i.type);break;case 22:case 23:Yn(i),Ff(),r!==null&&K(Ca);break;case 24:Ns(zt)}}function Wl(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==h)}}catch(C){ot(i,i.return,C)}}function wi(r,i,o){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var E=u.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,h=i;var V=o,J=C;try{J()}catch(oe){ot(h,V,oe)}}}u=u.next}while(u!==g)}}catch(oe){ot(i,i.return,oe)}}function kb(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{yy(i,o)}catch(u){ot(r,r.return,u)}}}function Rb(r,i,o){o.props=Na(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,i,u)}}function Zl(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){ot(r,i,h)}}function ts(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ot(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(r,i,h)}else o.current=null}function Lb(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ot(r,r.return,h)}}function Ep(r,i,o){try{var u=r.stateNode;XC(u,r.type,o,i),u[Zt]=i}catch(h){ot(r,r.return,h)}}function Nb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Li(r.type)||r.tag===4}function wp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Nb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Li(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Tp(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Er));else if(u!==4&&(u===27&&Li(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Tp(r,i,o),r=r.sibling;r!==null;)Tp(r,i,o),r=r.sibling}function fd(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&Li(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(fd(r,i,o),r=r.sibling;r!==null;)fd(r,i,o),r=r.sibling}function Ib(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ln(i,u,o),i[Pt]=r,i[Zt]=o}catch(g){ot(r,r.return,g)}}var js=!1,Ht=!1,Sp=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,en=null;function RC(r,i){if(r=r.containerInfo,$p=Od,r=Gv(r),yf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,C=-1,V=-1,J=0,oe=0,ce=r,te=null;t:for(;;){for(var se;ce!==o||h!==0&&ce.nodeType!==3||(C=E+h),ce!==g||u!==0&&ce.nodeType!==3||(V=E+u),ce.nodeType===3&&(E+=ce.nodeValue.length),(se=ce.firstChild)!==null;)te=ce,ce=se;for(;;){if(ce===r)break t;if(te===o&&++J===h&&(C=E),te===g&&++oe===u&&(V=E),(se=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=se}o=C===-1||V===-1?null:{start:C,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kp={focusedElem:r,selectionRange:o},Od=!1,en=i;en!==null;)if(i=en,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,en=r;else for(;en!==null;){switch(i=en,g=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=i,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ee=Na(o.type,h);r=u.getSnapshotBeforeUpdate(Ee,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(ke){ot(o,o.return,ke)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Xp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,en=r;break}en=i.return}}function Ob(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(r,o),u&4&&Wl(5,o);break;case 1:if(Vs(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(E){ot(o,o.return,E)}else{var h=Na(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&kb(o),u&512&&Zl(o,o.return);break;case 3:if(Vs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{yy(r,i)}catch(E){ot(o,o.return,E)}}break;case 27:i===null&&u&4&&Ib(o);case 26:case 5:Vs(r,o),i===null&&u&4&&Lb(o),u&512&&Zl(o,o.return);break;case 12:Vs(r,o);break;case 31:Vs(r,o),u&4&&Pb(r,o);break;case 13:Vs(r,o),u&4&&Vb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=VC.bind(null,o),sA(r,o))));break;case 22:if(u=o.memoizedState!==null||js,!u){i=i!==null&&i.memoizedState!==null||Ht,h=js;var g=Ht;js=u,(Ht=i)&&!g?Us(r,o,(o.subtreeFlags&8772)!==0):Vs(r,o),js=h,Ht=g}break;case 30:break;default:Vs(r,o)}}function Db(r){var i=r.alternate;i!==null&&(r.alternate=null,Db(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&so(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,In=!1;function Ps(r,i,o){for(o=o.child;o!==null;)jb(r,i,o),o=o.sibling}function jb(r,i,o){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(pn,o)}catch{}switch(o.tag){case 26:Ht||ts(o,i),Ps(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||ts(o,i);var u=xt,h=In;Li(o.type)&&(xt=o.stateNode,In=!1),Ps(r,i,o),ou(o.stateNode),xt=u,In=h;break;case 5:Ht||ts(o,i);case 6:if(u=xt,h=In,xt=null,Ps(r,i,o),xt=u,In=h,xt!==null)if(In)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){ot(o,i,g)}else try{xt.removeChild(o.stateNode)}catch(g){ot(o,i,g)}break;case 18:xt!==null&&(In?(r=xt,k0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ho(r)):k0(xt,o.stateNode));break;case 4:u=xt,h=In,xt=o.stateNode.containerInfo,In=!0,Ps(r,i,o),xt=u,In=h;break;case 0:case 11:case 14:case 15:wi(2,o,i),Ht||wi(4,o,i),Ps(r,i,o);break;case 1:Ht||(ts(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Rb(o,i,u)),Ps(r,i,o);break;case 21:Ps(r,i,o);break;case 22:Ht=(u=Ht)||o.memoizedState!==null,Ps(r,i,o),Ht=u;break;default:Ps(r,i,o)}}function Pb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ho(r)}catch(o){ot(i,i.return,o)}}}function Vb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ho(r)}catch(o){ot(i,i.return,o)}}function LC(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Mb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Mb),i;default:throw Error(s(435,r.tag))}}function pd(r,i){var o=LC(r);i.forEach(function(u){if(!o.has(u)){o.add(u);var h=UC.bind(null,r,u);u.then(h,h)}})}function Mn(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Li(C.type)){xt=C.stateNode,In=!1;break e}break;case 5:xt=C.stateNode,In=!1;break e;case 3:case 4:xt=C.stateNode.containerInfo,In=!0;break e}C=C.return}if(xt===null)throw Error(s(160));jb(g,E,h),xt=null,In=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ub(i,r),i=i.sibling}var kr=null;function Ub(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(i,r),On(r),u&4&&(wi(3,r,r.return),Wl(3,r),wi(5,r,r.return));break;case 1:Mn(i,r),On(r),u&512&&(Ht||o===null||ts(o,o.return)),u&64&&js&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=kr;if(Mn(i,r),On(r),u&512&&(Ht||o===null||ts(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Br]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),ln(g,u,o),g[Pt]=r,Vt(g),u=g;break e;case"link":var E=U0("link","href",h).get(u+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(g=E[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}g=h.createElement(u),ln(g,u,o),h.head.appendChild(g);break;case"meta":if(E=U0("meta","content",h).get(u+(o.content||""))){for(C=0;C<E.length;C++)if(g=E[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}g=h.createElement(u),ln(g,u,o),h.head.appendChild(g);break;default:throw Error(s(468,u))}g[Pt]=r,Vt(g),u=g}r.stateNode=u}else z0(h,r.type,r.stateNode);else r.stateNode=V0(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?z0(h,r.type,r.stateNode):V0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Ep(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(i,r),On(r),u&512&&(Ht||o===null||ts(o,o.return)),o!==null&&u&4&&Ep(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(i,r),On(r),u&512&&(Ht||o===null||ts(o,o.return)),r.flags&32){h=r.stateNode;try{Nn(h,"")}catch(Ee){ot(r,r.return,Ee)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Ep(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Sp=!0);break;case 6:if(Mn(i,r),On(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ee){ot(r,r.return,Ee)}}break;case 3:if(Ld=null,h=kr,kr=kd(i.containerInfo),Mn(i,r),kr=h,On(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ho(i.containerInfo)}catch(Ee){ot(r,r.return,Ee)}Sp&&(Sp=!1,zb(r));break;case 4:u=kr,kr=kd(r.stateNode.containerInfo),Mn(i,r),On(r),kr=u;break;case 12:Mn(i,r),On(r);break;case 31:Mn(i,r),On(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pd(r,u)));break;case 13:Mn(i,r),On(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(gd=Wt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pd(r,u)));break;case 22:h=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,J=js,oe=Ht;if(js=J||h,Ht=oe||V,Mn(i,r),Ht=oe,js=J,On(r),u&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||V||js||Ht||Ia(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(g=V.stateNode,h)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=V.stateNode;var ce=V.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ee){ot(V,V.return,Ee)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(Ee){ot(V,V.return,Ee)}}}else if(i.tag===18){if(o===null){V=i;try{var se=V.stateNode;h?R0(se,!0):R0(V.stateNode,!1)}catch(Ee){ot(V,V.return,Ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pd(r,o))));break;case 19:Mn(i,r),On(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pd(r,u)));break;case 30:break;case 21:break;default:Mn(i,r),On(r)}}function On(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(Nb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,g=wp(r);fd(r,g,h);break;case 5:var E=o.stateNode;o.flags&32&&(Nn(E,""),o.flags&=-33);var C=wp(r);fd(r,C,E);break;case 3:case 4:var V=o.stateNode.containerInfo,J=wp(r);Tp(r,J,V);break;default:throw Error(s(161))}}catch(oe){ot(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function zb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;zb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Vs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ob(r,i.alternate,i),i=i.sibling}function Ia(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:wi(4,i,i.return),Ia(i);break;case 1:ts(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Rb(i,i.return,o),Ia(i);break;case 27:ou(i.stateNode);case 26:case 5:ts(i,i.return),Ia(i);break;case 22:i.memoizedState===null&&Ia(i);break;case 30:Ia(i);break;default:Ia(i)}r=r.sibling}}function Us(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=r,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:Us(h,g,o),Wl(4,g);break;case 1:if(Us(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){ot(u,u.return,J)}if(u=g,h=u.updateQueue,h!==null){var C=u.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)vy(V[h],C)}catch(J){ot(u,u.return,J)}}o&&E&64&&kb(g),Zl(g,g.return);break;case 27:Ib(g);case 26:case 5:Us(h,g,o),o&&u===null&&E&4&&Lb(g),Zl(g,g.return);break;case 12:Us(h,g,o);break;case 31:Us(h,g,o),o&&E&4&&Pb(h,g);break;case 13:Us(h,g,o),o&&E&4&&Vb(h,g);break;case 22:g.memoizedState===null&&Us(h,g,o),Zl(g,g.return);break;case 30:break;default:Us(h,g,o)}i=i.sibling}}function Cp(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vl(o))}function Ap(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Vl(r))}function Rr(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bb(r,i,o,u),i=i.sibling}function Bb(r,i,o,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Rr(r,i,o,u),h&2048&&Wl(9,i);break;case 1:Rr(r,i,o,u);break;case 3:Rr(r,i,o,u),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Vl(r)));break;case 12:if(h&2048){Rr(r,i,o,u),r=i.stateNode;try{var g=i.memoizedProps,E=g.id,C=g.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){ot(i,i.return,V)}}else Rr(r,i,o,u);break;case 31:Rr(r,i,o,u);break;case 13:Rr(r,i,o,u);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?Rr(r,i,o,u):Jl(r,i):g._visibility&2?Rr(r,i,o,u):(g._visibility|=2,Io(r,i,o,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cp(E,i);break;case 24:Rr(r,i,o,u),h&2048&&Ap(i.alternate,i);break;default:Rr(r,i,o,u)}}function Io(r,i,o,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=r,E=i,C=o,V=u,J=E.flags;switch(E.tag){case 0:case 11:case 15:Io(g,E,C,V,h),Wl(8,E);break;case 23:break;case 22:var oe=E.stateNode;E.memoizedState!==null?oe._visibility&2?Io(g,E,C,V,h):Jl(g,E):(oe._visibility|=2,Io(g,E,C,V,h)),h&&J&2048&&Cp(E.alternate,E);break;case 24:Io(g,E,C,V,h),h&&J&2048&&Ap(E.alternate,E);break;default:Io(g,E,C,V,h)}i=i.sibling}}function Jl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,h=u.flags;switch(u.tag){case 22:Jl(o,u),h&2048&&Cp(u.alternate,u);break;case 24:Jl(o,u),h&2048&&Ap(u.alternate,u);break;default:Jl(o,u)}i=i.sibling}}var eu=8192;function Mo(r,i,o){if(r.subtreeFlags&eu)for(r=r.child;r!==null;)qb(r,i,o),r=r.sibling}function qb(r,i,o){switch(r.tag){case 26:Mo(r,i,o),r.flags&eu&&r.memoizedState!==null&&gA(o,kr,r.memoizedState,r.memoizedProps);break;case 5:Mo(r,i,o);break;case 3:case 4:var u=kr;kr=kd(r.stateNode.containerInfo),Mo(r,i,o),kr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=eu,eu=16777216,Mo(r,i,o),eu=u):Mo(r,i,o));break;default:Mo(r,i,o)}}function Hb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function tu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];en=u,Gb(u,r)}Hb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fb(r),r=r.sibling}function Fb(r){switch(r.tag){case 0:case 11:case 15:tu(r),r.flags&2048&&wi(9,r,r.return);break;case 3:tu(r);break;case 12:tu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,md(r)):tu(r);break;default:tu(r)}}function md(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];en=u,Gb(u,r)}Hb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:wi(8,i,i.return),md(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,md(i));break;default:md(i)}r=r.sibling}}function Gb(r,i){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:wi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=r;en!==null;){u=en;var h=u.sibling,g=u.return;if(Db(u),u===o){en=null;break e}if(h!==null){h.return=g,en=h;break e}en=g}}}var NC={getCacheForType:function(r){var i=an(zt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return an(zt).controller.signal}},IC=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,qe=null,Ge=0,at=0,Xn=null,Ti=!1,Oo=!1,kp=!1,zs=0,kt=0,Si=0,Ma=0,Rp=0,Wn=0,Do=0,nu=null,Dn=null,Lp=!1,gd=0,$b=0,vd=1/0,yd=null,Ci=null,Kt=0,Ai=null,jo=null,Bs=0,Np=0,Ip=null,Kb=null,ru=0,Mp=null;function Zn(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:Q.T!==null?Up():bc()}function Qb(){if(Wn===0)if((Ge&536870912)===0||Xe){var r=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Wn=r}else Wn=536870912;return r=Qn.current,r!==null&&(r.flags|=32),Wn}function jn(r,i,o){(r===ht&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(Po(r,0),ki(r,Ge,Wn,!1)),Es(r,o),((rt&2)===0||r!==ht)&&(r===ht&&((rt&2)===0&&(Ma|=o),kt===4&&ki(r,Ge,Wn,!1)),ns(r))}function Yb(r,i,o){if((rt&6)!==0)throw Error(s(327));var u=!o&&(i&127)===0&&(i&r.expiredLanes)===0||mn(r,i),h=u?DC(r,i):Dp(r,i,!0),g=u;do{if(h===0){Oo&&!u&&ki(r,i,0,!1);break}else{if(o=r.current.alternate,g&&!MC(o)){h=Dp(r,i,!1),g=!1;continue}if(h===2){if(g=i,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var C=r;h=nu;var V=C.current.memoizedState.isDehydrated;if(V&&(Po(C,E).flags|=256),E=Dp(C,E,!1),E!==2){if(kp&&!V){C.errorRecoveryDisabledLanes|=g,Ma|=g,h=4;break e}g=Dn,Dn=h,g!==null&&(Dn===null?Dn=g:Dn.push.apply(Dn,g))}h=E}if(g=!1,h!==2)continue}}if(h===1){Po(r,0),ki(r,i,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ki(u,i,Wn,!Ti);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=gd+300-Wt(),10<h)){if(ki(u,i,Wn,!Ti),qn(u,0,!0)!==0)break e;Bs=i,u.timeoutHandle=C0(Xb.bind(null,u,o,Dn,yd,Lp,i,Wn,Ma,Do,Ti,g,"Throttled",-0,0),h);break e}Xb(u,o,Dn,yd,Lp,i,Wn,Ma,Do,Ti,g,null,-0,0)}}break}while(!0);ns(r)}function Xb(r,i,o,u,h,g,E,C,V,J,oe,ce,te,se){if(r.timeoutHandle=-1,ce=i.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Er},qb(i,g,ce);var Ee=(g&62914560)===g?gd-Wt():(g&4194048)===g?$b-Wt():0;if(Ee=vA(ce,Ee),Ee!==null){Bs=g,r.cancelPendingCommit=Ee(s0.bind(null,r,i,g,o,u,h,E,C,V,oe,ce,null,te,se)),ki(r,g,E,!J);return}}s0(r,i,g,o,u,h,E,C,V)}function MC(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!$n(g(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(r,i,o,u){i&=~Rp,i&=~Ma,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var h=i;0<h;){var g=31-bt(h),E=1<<g;u[g]=-1,h&=~E}o!==0&&Re(r,o,i)}function bd(){return(rt&6)===0?(su(0),!1):!0}function Op(){if(qe!==null){if(at===0)var r=qe.return;else r=qe,Ls=Ta=null,Xf(r),Ao=null,zl=0,r=qe;for(;r!==null;)Ab(r.alternate,r),r=r.return;qe=null}}function Po(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,JC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Bs=0,Op(),ht=r,qe=o=ks(r.current,null),Ge=i,at=0,Xn=null,Ti=!1,Oo=mn(r,i),kp=!1,Do=Wn=Rp=Ma=Si=kt=0,Dn=nu=null,Lp=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var h=31-bt(u),g=1<<h;i|=r[h],u&=~g}return zs=i,zc(),o}function Wb(r,i){Pe=null,Q.H=Ql,i===Co||i===Qc?(i=fy(),at=3):i===Vf?(i=fy(),at=4):at=i===hp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,qe===null&&(kt=1,ld(r,ur(i,r.current)))}function Zb(){var r=Qn.current;return r===null?!0:(Ge&4194048)===Ge?fr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?r===fr:!1}function Jb(){var r=Q.H;return Q.H=Ql,r===null?Ql:r}function e0(){var r=Q.A;return Q.A=NC,r}function _d(){kt=4,Ti||(Ge&4194048)!==Ge&&Qn.current!==null||(Oo=!0),(Si&134217727)===0&&(Ma&134217727)===0||ht===null||ki(ht,Ge,Wn,!1)}function Dp(r,i,o){var u=rt;rt|=2;var h=Jb(),g=e0();(ht!==r||Ge!==i)&&(yd=null,Po(r,i)),i=!1;var E=kt;e:do try{if(at!==0&&qe!==null){var C=qe,V=Xn;switch(at){case 8:Op(),E=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(i=!0);var J=at;if(at=0,Xn=null,Vo(r,C,V,J),o&&Oo){E=0;break e}break;default:J=at,at=0,Xn=null,Vo(r,C,V,J)}}OC(),E=kt;break}catch(oe){Wb(r,oe)}while(!0);return i&&r.shellSuspendCounter++,Ls=Ta=null,rt=u,Q.H=h,Q.A=g,qe===null&&(ht=null,Ge=0,zc()),E}function OC(){for(;qe!==null;)t0(qe)}function DC(r,i){var o=rt;rt|=2;var u=Jb(),h=e0();ht!==r||Ge!==i?(yd=null,vd=Wt()+500,Po(r,i)):Oo=mn(r,i);e:do try{if(at!==0&&qe!==null){i=qe;var g=Xn;t:switch(at){case 1:at=0,Xn=null,Vo(r,i,g,1);break;case 2:case 9:if(dy(g)){at=0,Xn=null,n0(i);break}i=function(){at!==2&&at!==9||ht!==r||(at=7),ns(r)},g.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:dy(g)?(at=0,Xn=null,n0(i)):(at=0,Xn=null,Vo(r,i,g,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var C=qe;if(E?B0(E):C.stateNode.complete){at=0,Xn=null;var V=C.sibling;if(V!==null)qe=V;else{var J=C.return;J!==null?(qe=J,xd(J)):qe=null}break t}}at=0,Xn=null,Vo(r,i,g,5);break;case 6:at=0,Xn=null,Vo(r,i,g,6);break;case 8:Op(),kt=6;break e;default:throw Error(s(462))}}jC();break}catch(oe){Wb(r,oe)}while(!0);return Ls=Ta=null,Q.H=u,Q.A=h,rt=o,qe!==null?0:(ht=null,Ge=0,zc(),kt)}function jC(){for(;qe!==null&&!to();)t0(qe)}function t0(r){var i=Sb(r.alternate,r,zs);r.memoizedProps=r.pendingProps,i===null?xd(r):qe=i}function n0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=bb(o,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=bb(o,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Xf(i);default:Ab(o,i),i=qe=ey(i,zs),i=Sb(o,i,zs)}r.memoizedProps=r.pendingProps,i===null?xd(r):qe=i}function Vo(r,i,o,u){Ls=Ta=null,Xf(i),Ao=null,zl=0;var h=i.return;try{if(TC(r,h,i,o,Ge)){kt=1,ld(r,ur(o,r.current)),qe=null;return}}catch(g){if(h!==null)throw qe=h,g;kt=1,ld(r,ur(o,r.current)),qe=null;return}i.flags&32768?(Xe||u===1?r=!0:Oo||(Ge&536870912)!==0?r=!1:(Ti=r=!0,(u===2||u===9||u===3||u===6)&&(u=Qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),r0(i,r)):xd(i)}function xd(r){var i=r;do{if((i.flags&32768)!==0){r0(i,Ti);return}r=i.return;var o=AC(i.alternate,i,zs);if(o!==null){qe=o;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=r}while(i!==null);kt===0&&(kt=5)}function r0(r,i){do{var o=kC(r.alternate,r);if(o!==null){o.flags&=32767,qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){qe=r;return}qe=r=o}while(r!==null);kt=6,qe=null}function s0(r,i,o,u,h,g,E,C,V){r.cancelPendingCommit=null;do Ed();while(Kt!==0);if((rt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=wf,ws(r,o,g,E,C,V),r===ht&&(qe=ht=null,Ge=0),jo=i,Ai=r,Bs=o,Np=g,Ip=h,Kb=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,zC(br,function(){return u0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,h=ie.p,ie.p=2,E=rt,rt|=4;try{RC(r,i,o)}finally{rt=E,ie.p=h,Q.T=u}}Kt=1,i0(),a0(),o0()}}function i0(){if(Kt===1){Kt=0;var r=Ai,i=jo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=ie.p;ie.p=2;var h=rt;rt|=4;try{Ub(i,r);var g=Kp,E=Gv(r.containerInfo),C=g.focusedElem,V=g.selectionRange;if(E!==C&&C&&C.ownerDocument&&Fv(C.ownerDocument.documentElement,C)){if(V!==null&&yf(C)){var J=V.start,oe=V.end;if(oe===void 0&&(oe=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(oe,C.value.length);else{var ce=C.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var se=te.getSelection(),Ee=C.textContent.length,ke=Math.min(V.start,Ee),dt=V.end===void 0?ke:Math.min(V.end,Ee);!se.extend&&ke>dt&&(E=dt,dt=ke,ke=E);var $=Hv(C,ke),q=Hv(C,dt);if($&&q&&(se.rangeCount!==1||se.anchorNode!==$.node||se.anchorOffset!==$.offset||se.focusNode!==q.node||se.focusOffset!==q.offset)){var Z=ce.createRange();Z.setStart($.node,$.offset),se.removeAllRanges(),ke>dt?(se.addRange(Z),se.extend(q.node,q.offset)):(Z.setEnd(q.node,q.offset),se.addRange(Z))}}}}for(ce=[],se=C;se=se.parentNode;)se.nodeType===1&&ce.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var le=ce[C];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Od=!!$p,Kp=$p=null}finally{rt=h,ie.p=u,Q.T=o}}r.current=i,Kt=2}}function a0(){if(Kt===2){Kt=0;var r=Ai,i=jo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=ie.p;ie.p=2;var h=rt;rt|=4;try{Ob(r,i.alternate,i)}finally{rt=h,ie.p=u,Q.T=o}}Kt=3}}function o0(){if(Kt===4||Kt===3){Kt=0,gs();var r=Ai,i=jo,o=Bs,u=Kb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,jo=Ai=null,l0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ci=null),Ts(o),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(pn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var g=r.onRecoverableError,E=0;E<u.length;E++){var C=u[E];g(C.value,{componentStack:C.stack})}}finally{Q.T=i,ie.p=h}}(Bs&3)!==0&&Ed(),ns(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===Mp?ru++:(ru=0,Mp=r):ru=0,su(0)}}function l0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Vl(i)))}function Ed(){return i0(),a0(),o0(),u0()}function u0(){if(Kt!==5)return!1;var r=Ai,i=Np;Np=0;var o=Ts(Bs),u=Q.T,h=ie.p;try{ie.p=32>o?32:o,Q.T=null,o=Ip,Ip=null;var g=Ai,E=Bs;if(Kt=0,jo=Ai=null,Bs=0,(rt&6)!==0)throw Error(s(331));var C=rt;if(rt|=4,Fb(g.current),Bb(g,g.current,E,o),rt=C,su(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(pn,g)}catch{}return!0}finally{ie.p=h,Q.T=u,l0(r,i)}}function c0(r,i,o){i=ur(o,i),i=dp(r.stateNode,i,2),r=_i(r,i,2),r!==null&&(Es(r,2),ns(r))}function ot(r,i,o){if(r.tag===3)c0(r,r,o);else for(;i!==null;){if(i.tag===3){c0(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ci===null||!Ci.has(u))){r=ur(o,r),o=db(2),u=_i(i,o,2),u!==null&&(hb(o,u,i,r),Es(u,2),ns(u));break}}i=i.return}}function jp(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new IC;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(o)||(kp=!0,h.add(o),r=PC.bind(null,r,i,o),i.then(r,r))}function PC(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(Ge&o)===o&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>Wt()-gd?(rt&2)===0&&Po(r,0):Rp|=o,Do===Ge&&(Do=0)),ns(r)}function d0(r,i){i===0&&(i=xs()),r=xa(r,i),r!==null&&(Es(r,i),ns(r))}function VC(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),d0(r,o)}function UC(r,i){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),d0(r,o)}function zC(r,i){return Ct(r,i)}var wd=null,Uo=null,Pp=!1,Td=!1,Vp=!1,Ri=0;function ns(r){r!==Uo&&r.next===null&&(Uo===null?wd=Uo=r:Uo=Uo.next=r),Td=!0,Pp||(Pp=!0,qC())}function su(r,i){if(!Vp&&Td){Vp=!0;do for(var o=!1,u=wd;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var E=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-bt(42|r)+1)-1,g&=h&~(E&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,m0(u,g))}else g=Ge,g=qn(u,u===ht?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||mn(u,g)||(o=!0,m0(u,g));u=u.next}while(o);Vp=!1}}function BC(){h0()}function h0(){Td=Pp=!1;var r=0;Ri!==0&&ZC()&&(r=Ri);for(var i=Wt(),o=null,u=wd;u!==null;){var h=u.next,g=f0(u,i);g===0?(u.next=null,o===null?wd=h:o.next=h,h===null&&(Uo=o)):(o=u,(r!==0||(g&3)!==0)&&(Td=!0)),u=h}Kt!==0&&Kt!==5||su(r),Ri!==0&&(Ri=0)}function f0(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-bt(g),C=1<<E,V=h[E];V===-1?((C&o)===0||(C&u)!==0)&&(h[E]=no(C,i)):V<=i&&(r.expiredLanes|=C),g&=~C}if(i=ht,o=Ge,o=qn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(at===2||at===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&zn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||mn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&zn(u),Ts(o)){case 2:case 8:o=Vr;break;case 32:o=br;break;case 268435456:o=oa;break;default:o=br}return u=p0.bind(null,r),o=Ct(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&zn(u),r.callbackPriority=2,r.callbackNode=null,2}function p0(r,i){if(Kt!==0&&Kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ed()&&r.callbackNode!==o)return null;var u=Ge;return u=qn(r,r===ht?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Yb(r,u,i),f0(r,Wt()),r.callbackNode!=null&&r.callbackNode===o?p0.bind(null,r):null)}function m0(r,i){if(Ed())return null;Yb(r,i,!0)}function qC(){eA(function(){(rt&6)!==0?Ct(ri,BC):h0()})}function Up(){if(Ri===0){var r=To;r===0&&(r=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Ri=r}return Ri}function g0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:lo(""+r)}function v0(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function HC(r,i,o,u,h){if(i==="submit"&&o&&o.stateNode===h){var g=g0((h[Zt]||null).action),E=u.submitter;E&&(i=(i=E[Zt]||null)?g0(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var C=new Yr("action","action",null,u,h);r.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ri!==0){var V=E?v0(h,E):new FormData(h);ip(o,{pending:!0,data:V,method:h.method,action:g},null,V)}}else typeof g=="function"&&(C.preventDefault(),V=E?v0(h,E):new FormData(h),ip(o,{pending:!0,data:V,method:h.method,action:g},g,V))},currentTarget:h}]})}}for(var zp=0;zp<Ef.length;zp++){var Bp=Ef[zp],FC=Bp.toLowerCase(),GC=Bp[0].toUpperCase()+Bp.slice(1);Ar(FC,"on"+GC)}Ar(Qv,"onAnimationEnd"),Ar(Yv,"onAnimationIteration"),Ar(Xv,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(oC,"onTransitionRun"),Ar(lC,"onTransitionStart"),Ar(uC,"onTransitionCancel"),Ar(Wv,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function y0(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var E=u.length-1;0<=E;E--){var C=u[E],V=C.instance,J=C.currentTarget;if(C=C.listener,V!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=J;try{g(h)}catch(oe){Uc(oe)}h.currentTarget=null,g=V}else for(E=0;E<u.length;E++){if(C=u[E],V=C.instance,J=C.currentTarget,C=C.listener,V!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=J;try{g(h)}catch(oe){Uc(oe)}h.currentTarget=null,g=V}}}}function He(r,i){var o=i[ro];o===void 0&&(o=i[ro]=new Set);var u=r+"__bubble";o.has(u)||(b0(i,r,2,!1),o.add(u))}function qp(r,i,o){var u=0;i&&(u|=4),b0(o,r,u,i)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Hp(r){if(!r[Sd]){r[Sd]=!0,vl.forEach(function(o){o!=="selectionchange"&&($C.has(o)||qp(o,!1,r),qp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Sd]||(i[Sd]=!0,qp("selectionchange",!1,i))}}function b0(r,i,o,u){switch(Q0(i)){case 2:var h=_A;break;case 8:h=xA;break;default:h=sm}o=h.bind(null,i,o,r),h=void 0,!fa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function Fp(r,i,o,u,h){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===h)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;C!==null;){if(E=qr(C),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=g=E;continue e}C=C.parentNode}}u=u.return}ci(function(){var J=g,oe=ir(o),ce=[];e:{var te=Zv.get(r);if(te!==void 0){var se=Yr,Ee=r;switch(r){case"keypress":if(ma(o)===0)break e;case"keydown":case"keyup":se=jc;break;case"focusin":Ee="focus",se=va;break;case"focusout":Ee="blur",se=va;break;case"beforeblur":case"afterblur":se=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=x;break;case Qv:case Yv:case Xv:se=Rc;break;case Wv:se=N;break;case"scroll":case"scrollend":se=Rl;break;case"wheel":se=ne;break;case"copy":case"cut":case"paste":se=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=As;break;case"toggle":case"beforetoggle":se=je}var ke=(i&4)!==0,dt=!ke&&(r==="scroll"||r==="scrollend"),$=ke?te!==null?te+"Capture":null:te;ke=[];for(var q=J,Z;q!==null;){var le=q;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||$===null||(le=wr(q,$),le!=null&&ke.push(au(q,le,Z))),dt)break;q=q.return}0<ke.length&&(te=new se(te,Ee,null,o,oe),ce.push({event:te,listeners:ke}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",te&&o!==Cl&&(Ee=o.relatedTarget||o.fromElement)&&(qr(Ee)||Ee[zr]))break e;if((se||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Ee=o.relatedTarget||o.toElement,se=J,Ee=Ee?qr(Ee):null,Ee!==null&&(dt=l(Ee),ke=Ee.tag,Ee!==dt||ke!==5&&ke!==27&&ke!==6)&&(Ee=null)):(se=null,Ee=J),se!==Ee)){if(ke=Ll,le="onMouseLeave",$="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(ke=As,le="onPointerLeave",$="onPointerEnter",q="pointer"),dt=se==null?te:Fn(se),Z=Ee==null?te:Fn(Ee),te=new ke(le,q+"leave",se,o,oe),te.target=dt,te.relatedTarget=Z,le=null,qr(oe)===J&&(ke=new ke($,q+"enter",Ee,o,oe),ke.target=Z,ke.relatedTarget=dt,le=ke),dt=le,se&&Ee)t:{for(ke=KC,$=se,q=Ee,Z=0,le=$;le;le=ke(le))Z++;le=0;for(var Ce=q;Ce;Ce=ke(Ce))le++;for(;0<Z-le;)$=ke($),Z--;for(;0<le-Z;)q=ke(q),le--;for(;Z--;){if($===q||q!==null&&$===q.alternate){ke=$;break t}$=ke($),q=ke(q)}ke=null}else ke=null;se!==null&&_0(ce,te,se,ke,!1),Ee!==null&&dt!==null&&_0(ce,dt,Ee,ke,!0)}}e:{if(te=J?Fn(J):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var Je=Pv;else if(Dv(te))if(Vv)Je=sC;else{Je=nC;var Te=tC}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&oo(J.elementType)&&(Je=Pv):Je=rC;if(Je&&(Je=Je(r,J))){jv(ce,Je,o,oe);break e}Te&&Te(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&wl(te,"number",te.value)}switch(Te=J?Fn(J):window,r){case"focusin":(Dv(Te)||Te.contentEditable==="true")&&(go=Te,bf=J,Dl=null);break;case"focusout":Dl=bf=go=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,$v(ce,o,oe);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":$v(ce,o,oe)}var Ue;if(nt)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else mo?ya(r,o)&&($e="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(Zr&&o.locale!=="ko"&&(mo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&mo&&(Ue=kl()):(Qr=oe,Al="value"in Qr?Qr.value:Qr.textContent,mo=!0)),Te=Cd(J,$e),0<Te.length&&($e=new Wr($e,r,null,o,oe),ce.push({event:$e,listeners:Te}),Ue?$e.data=Ue:(Ue=po(o),Ue!==null&&($e.data=Ue)))),(Ue=or?W1(r,o):Z1(r,o))&&($e=Cd(J,"onBeforeInput"),0<$e.length&&(Te=new Wr("onBeforeInput","beforeinput",null,o,oe),ce.push({event:Te,listeners:$e}),Te.data=Ue)),HC(ce,r,J,o,oe)}y0(ce,i)})}function au(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Cd(r,i){for(var o=i+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=wr(r,o),h!=null&&u.unshift(au(r,h,g)),h=wr(r,i),h!=null&&u.push(au(r,h,g))),r.tag===3)return u;r=r.return}return[]}function KC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function _0(r,i,o,u,h){for(var g=i._reactName,E=[];o!==null&&o!==u;){var C=o,V=C.alternate,J=C.stateNode;if(C=C.tag,V!==null&&V===u)break;C!==5&&C!==26&&C!==27||J===null||(V=J,h?(J=wr(o,g),J!=null&&E.unshift(au(o,J,V))):h||(J=wr(o,g),J!=null&&E.push(au(o,J,V)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var QC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function x0(r){return(typeof r=="string"?r:""+r).replace(QC,`
`).replace(YC,"")}function E0(r,i){return i=x0(i),x0(r)===i}function ct(r,i,o,u,h,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Nn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Nn(r,""+u);break;case"className":Gn(r,"class",u);break;case"tabIndex":Gn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(r,o,u);break;case"style":Sl(r,u,g);break;case"data":if(i!=="object"){Gn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&ct(r,i,"name",h.name,h,null),ct(r,i,"formEncType",h.formEncType,h,null),ct(r,i,"formMethod",h.formMethod,h,null),ct(r,i,"formTarget",h.formTarget,h,null)):(ct(r,i,"encType",h.encType,h,null),ct(r,i,"method",h.method,h,null),ct(r,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Er);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=lo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":He("beforetoggle",r),He("toggle",r),io(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Cc.get(o)||o,io(r,o,u))}}function Gp(r,i,o,u,h,g){switch(o){case"style":Sl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Nn(r,u):(typeof u=="number"||typeof u=="bigint")&&Nn(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),g=r[Zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(i,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):io(r,o,u)}}}function ln(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(r,i,g,E,o,null)}}h&&ct(r,i,"srcSet",o.srcSet,o,null),u&&ct(r,i,"src",o.src,o,null);return;case"input":He("invalid",r);var C=g=E=h=null,V=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":h=oe;break;case"type":E=oe;break;case"checked":V=oe;break;case"defaultChecked":J=oe;break;case"value":g=oe;break;case"defaultValue":C=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:ct(r,i,u,oe,o,null)}}wc(r,g,C,V,J,E,h,!1);return;case"select":He("invalid",r),u=E=g=null;for(h in o)if(o.hasOwnProperty(h)&&(C=o[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":E=C;break;case"multiple":u=C;default:ct(r,i,h,C,o,null)}i=g,o=E,r.multiple=!!u,i!=null?ai(r,!!u,i,!1):o!=null&&ai(r,!!u,o,!0);return;case"textarea":He("invalid",r),g=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":u=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:ct(r,i,E,C,o,null)}oi(r,u,h,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(r,i,V,u,o,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<iu.length;u++)He(iu[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(r,i,J,u,o,null)}return;default:if(oo(i)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&Gp(r,i,oe,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&ct(r,i,C,u,o,null))}function XC(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,C=null,V=null,J=null,oe=null;for(se in o){var ce=o[se];if(o.hasOwnProperty(se)&&ce!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":V=ce;default:u.hasOwnProperty(se)||ct(r,i,se,null,u,ce)}}for(var te in u){var se=u[te];if(ce=o[te],u.hasOwnProperty(te)&&(se!=null||ce!=null))switch(te){case"type":g=se;break;case"name":h=se;break;case"checked":J=se;break;case"defaultChecked":oe=se;break;case"value":E=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,i));break;default:se!==ce&&ct(r,i,te,se,u,ce)}}ao(r,E,C,V,J,oe,g,h);return;case"select":se=E=C=te=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":se=V;default:u.hasOwnProperty(g)||ct(r,i,g,null,u,V)}for(h in u)if(g=u[h],V=o[h],u.hasOwnProperty(h)&&(g!=null||V!=null))switch(h){case"value":te=g;break;case"defaultValue":C=g;break;case"multiple":E=g;default:g!==V&&ct(r,i,h,g,u,V)}i=C,o=E,u=se,te!=null?ai(r,!!o,te,!1):!!u!=!!o&&(i!=null?ai(r,!!o,i,!0):ai(r,!!o,o?[]:"",!1));return;case"textarea":se=te=null;for(C in o)if(h=o[C],o.hasOwnProperty(C)&&h!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ct(r,i,C,null,u,h)}for(E in u)if(h=u[E],g=o[E],u.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":te=h;break;case"defaultValue":se=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&ct(r,i,E,h,u,g)}Tc(r,te,se);return;case"option":for(var Ee in o)if(te=o[Ee],o.hasOwnProperty(Ee)&&te!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:ct(r,i,Ee,null,u,te)}for(V in u)if(te=u[V],se=o[V],u.hasOwnProperty(V)&&te!==se&&(te!=null||se!=null))switch(V){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:ct(r,i,V,te,u,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)te=o[ke],o.hasOwnProperty(ke)&&te!=null&&!u.hasOwnProperty(ke)&&ct(r,i,ke,null,u,te);for(J in u)if(te=u[J],se=o[J],u.hasOwnProperty(J)&&te!==se&&(te!=null||se!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:ct(r,i,J,te,u,se)}return;default:if(oo(i)){for(var dt in o)te=o[dt],o.hasOwnProperty(dt)&&te!==void 0&&!u.hasOwnProperty(dt)&&Gp(r,i,dt,void 0,u,te);for(oe in u)te=u[oe],se=o[oe],!u.hasOwnProperty(oe)||te===se||te===void 0&&se===void 0||Gp(r,i,oe,te,u,se);return}}for(var $ in o)te=o[$],o.hasOwnProperty($)&&te!=null&&!u.hasOwnProperty($)&&ct(r,i,$,null,u,te);for(ce in u)te=u[ce],se=o[ce],!u.hasOwnProperty(ce)||te===se||te==null&&se==null||ct(r,i,ce,te,u,se)}function w0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],g=h.transferSize,E=h.initiatorType,C=h.duration;if(g&&C&&w0(E)){for(E=0,C=h.responseEnd,u+=1;u<o.length;u++){var V=o[u],J=V.startTime;if(J>C)break;var oe=V.transferSize,ce=V.initiatorType;oe&&w0(ce)&&(V=V.responseEnd,E+=oe*(V<C?1:(C-J)/(V-J)))}if(--u,i+=8*(g+E)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $p=null,Kp=null;function Ad(r){return r.nodeType===9?r:r.ownerDocument}function T0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Qp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yp=null;function ZC(){var r=window.event;return r&&r.type==="popstate"?r===Yp?!1:(Yp=r,!0):(Yp=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,JC=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(r){return A0.resolve(null).then(r).catch(tA)}:C0;function tA(r){setTimeout(function(){throw r})}function Li(r){return r==="head"}function k0(r,i){var o=i,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(h),Ho(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ou(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ou(o);for(var g=o.firstChild;g;){var E=g.nextSibling,C=g.nodeName;g[Br]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&ou(r.ownerDocument.body);o=h}while(o);Ho(i)}function R0(r,i){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Xp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xp(o),so(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function nA(r,i,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Br])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function rA(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function L0(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=pr(r.nextSibling),r===null))return null;return r}function Wp(r){return r.data==="$?"||r.data==="$~"}function Zp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function sA(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function pr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Jp=null;function N0(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return pr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function I0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function M0(r,i,o){switch(i=Ad(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ou(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);so(r)}var mr=new Map,O0=new Set;function kd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var qs=ie.d;ie.d={f:iA,r:aA,D:oA,C:lA,L:uA,m:cA,X:hA,S:dA,M:fA};function iA(){var r=qs.f(),i=bd();return r||i}function aA(r){var i=sr(r);i!==null&&i.tag===5&&i.type==="form"?Wy(i):qs.r(r)}var zo=typeof document>"u"?null:document;function D0(r,i,o){var u=zo;if(u&&typeof i=="string"&&i){var h=Ln(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),O0.has(h)||(O0.add(h),r={rel:r,crossOrigin:o,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),ln(i,"link",r),Vt(i),u.head.appendChild(i)))}}function oA(r){qs.D(r),D0("dns-prefetch",r,null)}function lA(r,i){qs.C(r,i),D0("preconnect",r,i)}function uA(r,i,o){qs.L(r,i,o);var u=zo;if(u&&r&&i){var h='link[rel="preload"][as="'+Ln(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Ln(o.imageSizes)+'"]')):h+='[href="'+Ln(r)+'"]';var g=h;switch(i){case"style":g=Bo(r);break;case"script":g=qo(r)}mr.has(g)||(r=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),mr.set(g,r),u.querySelector(h)!==null||i==="style"&&u.querySelector(lu(g))||i==="script"&&u.querySelector(uu(g))||(i=u.createElement("link"),ln(i,"link",r),Vt(i),u.head.appendChild(i)))}}function cA(r,i){qs.m(r,i);var o=zo;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ln(u)+'"][href="'+Ln(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(r)}if(!mr.has(g)&&(r=_({rel:"modulepreload",href:r},i),mr.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uu(g)))return}u=o.createElement("link"),ln(u,"link",r),Vt(u),o.head.appendChild(u)}}}function dA(r,i,o){qs.S(r,i,o);var u=zo;if(u&&r){var h=Hr(u).hoistableStyles,g=Bo(r);i=i||"default";var E=h.get(g);if(!E){var C={loading:0,preload:null};if(E=u.querySelector(lu(g)))C.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},o),(o=mr.get(g))&&em(r,o);var V=E=u.createElement("link");Vt(V),ln(V,"link",r),V._p=new Promise(function(J,oe){V.onload=J,V.onerror=oe}),V.addEventListener("load",function(){C.loading|=1}),V.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Rd(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:C},h.set(g,E)}}}function hA(r,i){qs.X(r,i);var o=zo;if(o&&r){var u=Hr(o).hoistableScripts,h=qo(r),g=u.get(h);g||(g=o.querySelector(uu(h)),g||(r=_({src:r,async:!0},i),(i=mr.get(h))&&tm(r,i),g=o.createElement("script"),Vt(g),ln(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function fA(r,i){qs.M(r,i);var o=zo;if(o&&r){var u=Hr(o).hoistableScripts,h=qo(r),g=u.get(h);g||(g=o.querySelector(uu(h)),g||(r=_({src:r,async:!0,type:"module"},i),(i=mr.get(h))&&tm(r,i),g=o.createElement("script"),Vt(g),ln(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function j0(r,i,o,u){var h=(h=ge.current)?kd(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Bo(o.href),o=Hr(h).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Bo(o.href);var g=Hr(h).hoistableStyles,E=g.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=h.querySelector(lu(r)))&&!g._p&&(E.instance=g,E.state.loading=5),mr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mr.set(r,o),g||pA(h,r,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qo(o),o=Hr(h).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Bo(r){return'href="'+Ln(r)+'"'}function lu(r){return'link[rel="stylesheet"]['+r+"]"}function P0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function pA(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),ln(i,"link",o),Vt(i),r.head.appendChild(i))}function qo(r){return'[src="'+Ln(r)+'"]'}function uu(r){return"script[async]"+r}function V0(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Ln(o.href)+'"]');if(u)return i.instance=u,Vt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Vt(u),ln(u,"style",h),Rd(u,o.precedence,r),i.instance=u;case"stylesheet":h=Bo(o.href);var g=r.querySelector(lu(h));if(g)return i.state.loading|=4,i.instance=g,Vt(g),g;u=P0(o),(h=mr.get(h))&&em(u,h),g=(r.ownerDocument||r).createElement("link"),Vt(g);var E=g;return E._p=new Promise(function(C,V){E.onload=C,E.onerror=V}),ln(g,"link",u),i.state.loading|=4,Rd(g,o.precedence,r),i.instance=g;case"script":return g=qo(o.src),(h=r.querySelector(uu(g)))?(i.instance=h,Vt(h),h):(u=o,(h=mr.get(g))&&(u=_({},o),tm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Vt(h),ln(h,"link",u),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Rd(u,o.precedence,r));return i.instance}function Rd(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,E=0;E<u.length;E++){var C=u[E];if(C.dataset.precedence===i)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function em(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function tm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ld=null;function U0(r,i,o){if(Ld===null){var u=new Map,h=Ld=new Map;h.set(o,u)}else h=Ld,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Br]||g[Pt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=r+E;var C=u.get(E);C?C.push(g):u.set(E,[g])}}return u}function z0(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function mA(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function gA(r,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Bo(u.href),g=i.querySelector(lu(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Nd.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=g,Vt(g);return}g=i.ownerDocument||i,u=P0(u),(h=mr.get(h))&&em(u,h),g=g.createElement("link"),Vt(g);var E=g;E._p=new Promise(function(C,V){E.onload=C,E.onerror=V}),ln(g,"link",u),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Nd.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var nm=0;function vA(r,i){return r.stylesheets&&r.count===0&&Md(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Md(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+i);0<r.imgBytes&&nm===0&&(nm=62500*WC());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Md(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>nm?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Id=null;function Md(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Id=new Map,i.forEach(yA,r),Id=null,Nd.call(r))}function yA(r,i){if(!(i.state.loading&4)){var o=Id.get(r);if(o)var u=o.get(null);else{o=new Map,Id.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=i.instance,E=h.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,h),o.set(E,h),this.count++,u=Nd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var cu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function bA(r,i,o,u,h,g,E,C,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function q0(r,i,o,u,h,g,E,C,V,J,oe,ce){return r=new bA(r,i,o,E,V,J,oe,ce,C),i=1,g===!0&&(i|=24),g=Kn(3,null,null,i),r.current=g,g.stateNode=r,i=Df(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},Uf(g),r}function H0(r){return r?(r=bo,r):bo}function F0(r,i,o,u,h,g){h=H0(h),u.context===null?u.context=h:u.pendingContext=h,u=bi(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=_i(r,u,i),o!==null&&(jn(o,r,i),ql(o,r,i))}function G0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function rm(r,i){G0(r,i),(r=r.alternate)&&G0(r,i)}function $0(r){if(r.tag===13||r.tag===31){var i=xa(r,67108864);i!==null&&jn(i,r,67108864),rm(r,67108864)}}function K0(r){if(r.tag===13||r.tag===31){var i=Zn();i=ua(i);var o=xa(r,i);o!==null&&jn(o,r,i),rm(r,i)}}var Od=!0;function _A(r,i,o,u){var h=Q.T;Q.T=null;var g=ie.p;try{ie.p=2,sm(r,i,o,u)}finally{ie.p=g,Q.T=h}}function xA(r,i,o,u){var h=Q.T;Q.T=null;var g=ie.p;try{ie.p=8,sm(r,i,o,u)}finally{ie.p=g,Q.T=h}}function sm(r,i,o,u){if(Od){var h=im(u);if(h===null)Fp(r,i,u,Dd,o),Y0(r,u);else if(wA(h,r,i,o,u))u.stopPropagation();else if(Y0(r,u),i&4&&-1<EA.indexOf(r)){for(;h!==null;){var g=sr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=wn(g.pendingLanes);if(E!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var V=1<<31-bt(E);C.entanglements[1]|=V,E&=~V}ns(g),(rt&6)===0&&(vd=Wt()+500,su(0))}}break;case 31:case 13:C=xa(g,2),C!==null&&jn(C,g,2),bd(),rm(g,2)}if(g=im(u),g===null&&Fp(r,i,u,Dd,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Fp(r,i,u,null,o)}}function im(r){return r=ir(r),am(r)}var Dd=null;function am(r){if(Dd=null,r=qr(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Dd=r,null}function Q0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case ri:return 2;case Vr:return 8;case br:case si:return 32;case oa:return 268435456;default:return 32}default:return 32}}var om=!1,Ni=null,Ii=null,Mi=null,du=new Map,hu=new Map,Oi=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(r,i){switch(r){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(i.pointerId)}}function fu(r,i,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},i!==null&&(i=sr(i),i!==null&&$0(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function wA(r,i,o,u,h){switch(i){case"focusin":return Ni=fu(Ni,r,i,o,u,h),!0;case"dragenter":return Ii=fu(Ii,r,i,o,u,h),!0;case"mouseover":return Mi=fu(Mi,r,i,o,u,h),!0;case"pointerover":var g=h.pointerId;return du.set(g,fu(du.get(g)||null,r,i,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,hu.set(g,fu(hu.get(g)||null,r,i,o,u,h)),!0}return!1}function X0(r){var i=qr(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,_r(r.priority,function(){K0(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,_r(r.priority,function(){K0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=im(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Cl=u,o.target.dispatchEvent(u),Cl=null}else return i=sr(o),i!==null&&$0(i),r.blockedOn=o,!1;i.shift()}return!0}function W0(r,i,o){jd(r)&&o.delete(i)}function TA(){om=!1,Ni!==null&&jd(Ni)&&(Ni=null),Ii!==null&&jd(Ii)&&(Ii=null),Mi!==null&&jd(Mi)&&(Mi=null),du.forEach(W0),hu.forEach(W0)}function Pd(r,i){r.blockedOn===i&&(r.blockedOn=null,om||(om=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,TA)))}var Vd=null;function Z0(r){Vd!==r&&(Vd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vd===r&&(Vd=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],h=r[i+2];if(typeof u!="function"){if(am(u||o)===null)continue;break}var g=sr(o);g!==null&&(r.splice(i,3),i-=3,ip(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Ho(r){function i(V){return Pd(V,r)}Ni!==null&&Pd(Ni,r),Ii!==null&&Pd(Ii,r),Mi!==null&&Pd(Mi,r),du.forEach(i),hu.forEach(i);for(var o=0;o<Oi.length;o++){var u=Oi[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Oi.length&&(o=Oi[0],o.blockedOn===null);)X0(o),o.blockedOn===null&&Oi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],E=h[Zt]||null;if(typeof g=="function")E||Z0(o);else if(E){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[Zt]||null)C=E.formAction;else if(am(h)!==null)continue}else C=E.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),Z0(o)}}}function J0(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function lm(r){this._internalRoot=r}Ud.prototype.render=lm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Zn();F0(o,u,r,i,null,null)},Ud.prototype.unmount=lm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;F0(r.current,2,null,r,null,null),bd(),i[zr]=null}};function Ud(r){this._internalRoot=r}Ud.prototype.unstable_scheduleHydration=function(r){if(r){var i=bc();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Oi.length&&i!==0&&i<Oi[o].priority;o++);Oi.splice(o,0,r),o===0&&X0(r)}};var e_=e.version;if(e_!=="19.2.3")throw Error(s(527,e_,"19.2.3"));ie.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?b(r):null,r=r===null?null:r.stateNode,r};var SA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{pn=zd.inject(SA),jt=zd}catch{}}return mu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,u="",h=ob,g=lb,E=ub;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=q0(r,1,!1,null,null,o,u,null,h,g,E,J0),r[zr]=i.current,Hp(r),new lm(i)},mu.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var u=!1,h="",g=ob,E=lb,C=ub,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),i=q0(r,1,!0,i,o??null,u,h,V,g,E,C,J0),i.context=H0(null),o=i.current,u=Zn(),u=ua(u),h=bi(u),h.callback=null,_i(o,h,u),o=u,i.current.lanes=o,Es(i,o),ns(i),r[zr]=i.current,Hp(r),new Ud(i)},mu.version="19.2.3",mu}var c_;function jA(){if(c_)return dm.exports;c_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=DA(),dm.exports}var PA=jA();var d_="popstate";function VA(n={}){function e(a,l){let{pathname:c="/",search:f="",hash:p=""}=Ya(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Pm("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:ju(l))}function s(a,l){yr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return zA(e,t,s,n)}function Tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UA(){return Math.random().toString(36).substring(2,10)}function h_(n,e){return{usr:n.state,key:n.key,idx:e}}function Pm(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:t,key:e&&e.key||s||UA()}}function ju({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ya(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function zA(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",p=null,m=b();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function b(){return(c.state||{idx:null}).idx}function _(){f="POP";let I=b(),B=I==null?null:I-m;m=I,p&&p({action:f,location:P.location,delta:B})}function w(I,B){f="PUSH";let z=Pm(P.location,I,B);t&&t(z,I),m=b()+1;let Y=h_(z,m),H=P.createHref(z);try{c.pushState(Y,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(H)}l&&p&&p({action:f,location:P.location,delta:1})}function k(I,B){f="REPLACE";let z=Pm(P.location,I,B);t&&t(z,I),m=b();let Y=h_(z,m),H=P.createHref(z);c.replaceState(Y,"",H),l&&p&&p({action:f,location:P.location,delta:0})}function L(I){return BA(I)}let P={get action(){return f},get location(){return n(a,c)},listen(I){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(d_,_),p=I,()=>{a.removeEventListener(d_,_),p=null}},createHref(I){return e(a,I)},createURL:L,encodeLocation(I){let B=L(I);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:k,go(I){return c.go(I)}};return P}function BA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ju(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function bw(n,e,t="/"){return qA(n,e,t,!1)}function qA(n,e,t,s){let a=typeof e=="string"?Ya(e):e,l=Qs(a.pathname||"/",t);if(l==null)return null;let c=_w(n);HA(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=ek(l);f=ZA(c[p],m,s)}return f}function _w(n,e=[],t=[],s="",a=!1){let l=(c,f,p=a,m)=>{let b={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;Tt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let _=Gs([s,b.relativePath]),w=t.concat(b);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),_w(c.children,e,w,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:XA(_,c.index),routesMeta:w})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let p of xw(c.path))l(c,f,!0,p)}),e}function xw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=xw(s.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function HA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var FA=/^:[\w-]+$/,GA=3,$A=2,KA=1,QA=10,YA=-2,f_=n=>n==="*";function XA(n,e){let t=n.split("/"),s=t.length;return t.some(f_)&&(s+=YA),e&&(s+=$A),t.filter(a=>!f_(a)).reduce((a,l)=>a+(FA.test(l)?GA:l===""?KA:QA),s)}function WA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function ZA(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let f=0;f<s.length;++f){let p=s[f],m=f===s.length-1,b=l==="/"?e:e.slice(l.length)||"/",_=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),w=p.route;if(!_&&m&&t&&!s[s.length-1].route.index&&(_=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Gs([l,_.pathname]),pathnameBase:ik(Gs([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Gs([l,_.pathnameBase]))}return c}function hh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=JA(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((m,{paramName:b,isOptional:_},w)=>{if(b==="*"){let L=f[w]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const k=f[w];return _&&!k?m[b]=void 0:m[b]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function JA(n,e=!1,t=!0){yr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ek(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var tk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nk=n=>tk.test(n);function rk(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Ya(n):n,l;if(t)if(nk(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),yr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=p_(t.substring(1),"/"):l=p_(t,e)}else l=e;return{pathname:l,search:ak(s),hash:ok(a)}}function p_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function mm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ew(n){let e=sk(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ww(n,e,t,s=!1){let a;typeof n=="string"?a=Ya(n):(a={...n},Tt(!a.pathname||!a.pathname.includes("?"),mm("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),mm("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),mm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}f=_>=0?e[_]:"/"}let p=rk(a,f),m=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var Gs=n=>n.join("/").replace(/\/\/+/g,"/"),ik=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ok=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function uk(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tw=["POST","PUT","PATCH","DELETE"];new Set(Tw);var ck=["GET",...Tw];new Set(ck);var al=y.createContext(null);al.displayName="DataRouter";var qh=y.createContext(null);qh.displayName="DataRouterState";y.createContext(!1);var Sw=y.createContext({isTransitioning:!1});Sw.displayName="ViewTransition";var dk=y.createContext(new Map);dk.displayName="Fetchers";var hk=y.createContext(null);hk.displayName="Await";var Mr=y.createContext(null);Mr.displayName="Navigation";var Wu=y.createContext(null);Wu.displayName="Location";var Or=y.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var vg=y.createContext(null);vg.displayName="RouteError";function fk(n,{relative:e}={}){Tt(Zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=y.useContext(Mr),{hash:a,pathname:l,search:c}=Ju(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Gs([t,l])),s.createHref({pathname:f,search:c,hash:a})}function Zu(){return y.useContext(Wu)!=null}function Js(){return Tt(Zu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Wu).location}var Cw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(n){y.useContext(Mr).static||y.useLayoutEffect(n)}function Un(){let{isDataRoute:n}=y.useContext(Or);return n?Rk():pk()}function pk(){Tt(Zu(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(al),{basename:e,navigator:t}=y.useContext(Mr),{matches:s}=y.useContext(Or),{pathname:a}=Js(),l=JSON.stringify(Ew(s)),c=y.useRef(!1);return Aw(()=>{c.current=!0}),y.useCallback((p,m={})=>{if(yr(c.current,Cw),!c.current)return;if(typeof p=="number"){t.go(p);return}let b=ww(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Gs([e,b.pathname])),(m.replace?t.replace:t.push)(b,m.state,m)},[e,t,l,a,n])}var mk=y.createContext(null);function gk(n){let e=y.useContext(Or).outlet;return y.useMemo(()=>e&&y.createElement(mk.Provider,{value:n},e),[e,n])}function vk(){let{matches:n}=y.useContext(Or),e=n[n.length-1];return e?e.params:{}}function Ju(n,{relative:e}={}){let{matches:t}=y.useContext(Or),{pathname:s}=Js(),a=JSON.stringify(Ew(t));return y.useMemo(()=>ww(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function yk(n,e){return kw(n,e)}function kw(n,e,t,s,a){Tt(Zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=y.useContext(Mr),{matches:c}=y.useContext(Or),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",b=f?f.pathnameBase:"/",_=f&&f.route;{let z=_&&_.path||"";Rw(m,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=Js(),k;if(e){let z=typeof e=="string"?Ya(e):e;Tt(b==="/"||z.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${z.pathname}" was given in the \`location\` prop.`),k=z}else k=w;let L=k.pathname||"/",P=L;if(b!=="/"){let z=b.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice(z.length).join("/")}let I=bw(n,{pathname:P});yr(_||I!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),yr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=wk(I&&I.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Gs([b,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?b:Gs([b,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,t,s,a);return e&&B?y.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},B):B}function bk(){let n=kk(),e=lk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:a},t):null,c)}var _k=y.createElement(bk,null),xk=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?y.createElement(Or.Provider,{value:this.props.routeContext},y.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ek({routeContext:n,match:e,children:t}){let s=y.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Or.Provider,{value:n},t)}function wk(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let b=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Tt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let f=!1,p=-1;if(t)for(let b=0;b<l.length;b++){let _=l[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=b),_.route.id){let{loaderData:w,errors:k}=t,L=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!k||k[_.route.id]===void 0);if(_.route.lazy||L){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=t&&s?(b,_)=>{s(b,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:uk(t.matches),errorInfo:_})}:void 0;return l.reduceRight((b,_,w)=>{let k,L=!1,P=null,I=null;t&&(k=c&&_.route.id?c[_.route.id]:void 0,P=_.route.errorElement||_k,f&&(p<0&&w===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,I=null):p===w&&(L=!0,I=_.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),z=()=>{let Y;return k?Y=P:L?Y=I:_.route.Component?Y=y.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=b,y.createElement(Ek,{match:_,routeContext:{outlet:b,matches:B,isDataRoute:t!=null},children:Y})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?y.createElement(xk,{location:t.location,revalidation:t.revalidation,component:P,error:k,children:z(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:m}):z()},null)}function yg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tk(n){let e=y.useContext(al);return Tt(e,yg(n)),e}function Sk(n){let e=y.useContext(qh);return Tt(e,yg(n)),e}function Ck(n){let e=y.useContext(Or);return Tt(e,yg(n)),e}function bg(n){let e=Ck(n),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ak(){return bg("useRouteId")}function kk(){let n=y.useContext(vg),e=Sk("useRouteError"),t=bg("useRouteError");return n!==void 0?n:e.errors?.[t]}function Rk(){let{router:n}=Tk("useNavigate"),e=bg("useNavigate"),t=y.useRef(!1);return Aw(()=>{t.current=!0}),y.useCallback(async(a,l={})=>{yr(t.current,Cw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var m_={};function Rw(n,e,t){!e&&!m_[n]&&(m_[n]=!0,yr(!1,t))}y.memo(Lk);function Lk({routes:n,future:e,state:t,unstable_onError:s}){return kw(n,void 0,t,s,e)}function Nk(n){return gk(n.context)}function yn(n){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ik({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Tt(!Zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=Ya(t));let{pathname:m="/",search:b="",hash:_="",state:w=null,key:k="default"}=t,L=y.useMemo(()=>{let P=Qs(m,f);return P==null?null:{location:{pathname:P,search:b,hash:_,state:w,key:k},navigationType:s}},[f,m,b,_,w,k,s]);return yr(L!=null,`<Router basename="${f}"> is not able to match the URL "${m}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:y.createElement(Mr.Provider,{value:p},y.createElement(Wu.Provider,{children:e,value:L}))}function Mk({children:n,location:e}){return yk(Vm(n),e)}function Vm(n,e=[]){let t=[];return y.Children.forEach(n,(s,a)=>{if(!y.isValidElement(s))return;let l=[...e,a];if(s.type===y.Fragment){t.push.apply(t,Vm(s.props.children,l));return}Tt(s.type===yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Vm(s.props.children,l)),t.push(c)}),t}var eh="get",th="application/x-www-form-urlencoded";function Hh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Ok(n){return Hh(n)&&n.tagName.toLowerCase()==="button"}function Dk(n){return Hh(n)&&n.tagName.toLowerCase()==="form"}function jk(n){return Hh(n)&&n.tagName.toLowerCase()==="input"}function Pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Vk(n,e){return n.button===0&&(!e||e==="_self")&&!Pk(n)}var Bd=null;function Uk(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var zk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(n){return n!=null&&!zk.has(n)?(yr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):n}function Bk(n,e){let t,s,a,l,c;if(Dk(n)){let f=n.getAttribute("action");s=f?Qs(f,e):null,t=n.getAttribute("method")||eh,a=gm(n.getAttribute("enctype"))||th,l=new FormData(n)}else if(Ok(n)||jk(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(s=p?Qs(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||eh,a=gm(n.getAttribute("formenctype"))||gm(f.getAttribute("enctype"))||th,l=new FormData(f,n),!Uk()){let{name:m,type:b,value:_}=n;if(b==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,_)}}else{if(Hh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=eh,s=null,a=th,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _g(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qk(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Qs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function Hk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Gk(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Hk(l,t);return c.links?c.links():[]}return[]}));return Yk(s.flat(1).filter(Fk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function g_(n,e,t,s,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function $k(n,e,{includeHydrateFallback:t}={}){return Kk(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Kk(n){return[...new Set(n)]}function Qk(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function Yk(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(Qk(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function Lw(){let n=y.useContext(al);return _g(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Xk(){let n=y.useContext(qh);return _g(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xg=y.createContext(void 0);xg.displayName="FrameworkContext";function Nw(){let n=y.useContext(xg);return _g(n,"You must render this element inside a <HydratedRouter> element"),n}function Wk(n,e){let t=y.useContext(xg),[s,a]=y.useState(!1),[l,c]=y.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:_}=e,w=y.useRef(null);y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=B=>{B.forEach(z=>{c(z.isIntersecting)})},I=new IntersectionObserver(P,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[n]),y.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let k=()=>{a(!0)},L=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:gu(f,k),onBlur:gu(p,L),onMouseEnter:gu(m,k),onMouseLeave:gu(b,L),onTouchStart:gu(_,k)}]:[!1,w,{}]}function gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Zk({page:n,...e}){let{router:t}=Lw(),s=y.useMemo(()=>bw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?y.createElement(eR,{page:n,matches:s,...e}):null}function Jk(n){let{manifest:e,routeModules:t}=Nw(),[s,a]=y.useState([]);return y.useEffect(()=>{let l=!1;return Gk(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),s}function eR({page:n,matches:e,...t}){let s=Js(),{manifest:a,routeModules:l}=Nw(),{basename:c}=Lw(),{loaderData:f,matches:p}=Xk(),m=y.useMemo(()=>g_(n,e,p,a,s,"data"),[n,e,p,a,s]),b=y.useMemo(()=>g_(n,e,p,a,s,"assets"),[n,e,p,a,s]),_=y.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let L=new Set,P=!1;if(e.forEach(B=>{let z=a.routes[B.route.id];!z||!z.hasLoader||(!m.some(Y=>Y.route.id===B.route.id)&&B.route.id in f&&l[B.route.id]?.shouldRevalidate||z.hasClientLoader?P=!0:L.add(B.route.id))}),L.size===0)return[];let I=qk(n,c,"data");return P&&L.size>0&&I.searchParams.set("_routes",e.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[I.pathname+I.search]},[c,f,s,a,m,e,n,l]),w=y.useMemo(()=>$k(b,a),[b,a]),k=Jk(b);return y.createElement(y.Fragment,null,_.map(L=>y.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),w.map(L=>y.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),k.map(({key:L,link:P})=>y.createElement("link",{key:L,nonce:t.nonce,...P})))}function tR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iw&&(window.__reactRouterVersion="7.10.1")}catch{}function nR({basename:n,children:e,unstable_useTransitions:t,window:s}){let a=y.useRef();a.current==null&&(a.current=VA({window:s,v5Compat:!0}));let l=a.current,[c,f]=y.useState({action:l.action,location:l.location}),p=y.useCallback(m=>{t===!1?f(m):y.startTransition(()=>f(m))},[t]);return y.useLayoutEffect(()=>l.listen(p),[l,p]),y.createElement(Ik,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=y.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:b,viewTransition:_,...w},k){let{basename:L,unstable_useTransitions:P}=y.useContext(Mr),I=typeof m=="string"&&Mw.test(m),B,z=!1;if(typeof m=="string"&&I&&(B=m,Iw))try{let j=new URL(window.location.href),O=m.startsWith("//")?new URL(j.protocol+m):new URL(m),U=Qs(O.pathname,L);O.origin===j.origin&&U!=null?m=U+O.search+O.hash:z=!0}catch{yr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=fk(m,{relative:a}),[H,F,ee]=Wk(s,w),R=aR(m,{replace:c,state:f,target:p,preventScrollReset:b,relative:a,viewTransition:_,unstable_useTransitions:P});function A(j){e&&e(j),j.defaultPrevented||R(j)}let S=y.createElement("a",{...w,...ee,href:B||Y,onClick:z||l?e:A,ref:tR(k,F),target:p,"data-discover":!I&&t==="render"?"true":void 0});return H&&!I?y.createElement(y.Fragment,null,S,y.createElement(Zk,{page:Y})):S});An.displayName="Link";var rR=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...m},b){let _=Ju(c,{relative:m.relative}),w=Js(),k=y.useContext(qh),{navigator:L,basename:P}=y.useContext(Mr),I=k!=null&&dR(_)&&f===!0,B=L.encodeLocation?L.encodeLocation(_).pathname:_.pathname,z=w.pathname,Y=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(z=z.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&P&&(Y=Qs(Y,P)||Y);const H=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let F=z===B||!a&&z.startsWith(B)&&z.charAt(H)==="/",ee=Y!=null&&(Y===B||!a&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),R={isActive:F,isPending:ee,isTransitioning:I},A=F?e:void 0,S;typeof s=="function"?S=s(R):S=[s,F?"active":null,ee?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(R):l;return y.createElement(An,{...m,"aria-current":A,className:S,ref:b,style:j,to:c,viewTransition:f},typeof p=="function"?p(R):p)});rR.displayName="NavLink";var sR=y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=eh,action:f,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:_,...w},k)=>{let{unstable_useTransitions:L}=y.useContext(Mr),P=uR(),I=cR(f,{relative:m}),B=c.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&Mw.test(f),Y=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let F=H.nativeEvent.submitter,ee=F?.getAttribute("formmethod")||c,R=()=>P(F||H.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:m,preventScrollReset:b,viewTransition:_});L&&t!==!1?y.startTransition(()=>R()):R()};return y.createElement("form",{ref:k,method:B,action:I,onSubmit:s?p:Y,...w,"data-discover":!z&&n==="render"?"true":void 0})});sR.displayName="Form";function iR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ow(n){let e=y.useContext(al);return Tt(e,iR(n)),e}function aR(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let p=Un(),m=Js(),b=Ju(n,{relative:l});return y.useCallback(_=>{if(Vk(_,e)){_.preventDefault();let w=t!==void 0?t:ju(m)===ju(b),k=()=>p(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c});f?y.startTransition(()=>k()):k()}},[m,p,b,t,s,e,n,a,l,c,f])}var oR=0,lR=()=>`__${String(++oR)}__`;function uR(){let{router:n}=Ow("useSubmit"),{basename:e}=y.useContext(Mr),t=Ak(),s=n.fetch,a=n.navigate;return y.useCallback(async(l,c={})=>{let{action:f,method:p,encType:m,formData:b,body:_}=Bk(l,e);if(c.navigate===!1){let w=c.fetcherKey||lR();await s(w,t,c.action||f,{preventScrollReset:c.preventScrollReset,formData:b,body:_,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:b,body:_,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,t])}function cR(n,{relative:e}={}){let{basename:t}=y.useContext(Mr),s=y.useContext(Or);Tt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ju(n||".",{relative:e})},c=Js();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let b=f.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Gs([t,l.pathname])),ju(l)}function dR(n,{relative:e}={}){let t=y.useContext(Sw);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ow("useViewTransitionState"),a=Ju(n,{relative:e});if(!t.isTransitioning)return!1;let l=Qs(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Qs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return hh(a.pathname,c)!=null||hh(a.pathname,l)!=null}var ol=yw();function hR({message:n,type:e="success",onClose:t,duration:s=3e3}){const[a,l]=y.useState(!1);return y.useEffect(()=>{const c=setTimeout(()=>l(!0),10),f=setTimeout(()=>{l(!1),setTimeout(t,300)},s);return()=>{clearTimeout(c),clearTimeout(f)}},[s,t]),v.jsxs("div",{className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[100] px-6 py-4 rounded-2xl shadow-xl flex items-center gap-3 min-w-[300px] max-w-md
        transition-all duration-300 ease-out transform
        ${a?"translate-y-0 opacity-100":"-translate-y-8 opacity-0"}
        bg-surface-light dark:bg-surface-dark border border-primary/20
      `,children:[v.jsx("div",{className:`
        flex items-center justify-center w-10 h-10 rounded-full shrink-0
        ${e==="success"?"bg-primary/10 text-primary":"bg-blue-100 text-blue-600"}
      `,children:v.jsx("span",{className:"material-symbols-outlined",children:e==="success"?"check_circle":"info"})}),v.jsx("div",{className:"flex-1",children:v.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:n})}),v.jsx("button",{onClick:()=>{l(!1),setTimeout(t,300)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}const Dw=y.createContext();function fR({children:n}){const[e,t]=y.useState(null),s=y.useCallback((l,c="success",f=3e3)=>{t({message:l,type:c,duration:f})},[]),a=y.useCallback(()=>{t(null)},[]);return v.jsxs(Dw.Provider,{value:{showToast:s,hideToast:a},children:[n,e&&v.jsx(hR,{message:e.message,type:e.type,duration:e.duration,onClose:a})]})}function Eg(){const n=y.useContext(Dw);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}const jw=y.createContext();function pR({children:n}){const{showToast:e}=Eg(),[t,s]=y.useState(()=>{const I=localStorage.getItem("cart");return I?JSON.parse(I):[]}),a=y.useRef(0);y.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t));const I=t.reduce((B,z)=>B+z.quantity,0);I===5&&a.current<5&&a.current!==0?e("Elegiste 5 productos!! Tu envio ahora es GRATIS!!","success",4e3):I===5&&a.current,a.current=I},[t,e]);const l=I=>{s(B=>{let z;return B.find(H=>H.id===I.id)?z=B.map(H=>H.id===I.id?{...H,quantity:H.quantity+1}:H):z=[...B,{...I,quantity:1}],z})},c=I=>{s(B=>B.filter(z=>z.id!==I))},f=(I,B)=>{s(z=>z.map(H=>{if(H.id===I){const F=Math.max(1,H.quantity+B);return{...H,quantity:F}}return H}))},p=()=>s([]),[m,b]=y.useState(0),[_,w]=y.useState(null),k=t.reduce((I,B)=>I+B.price*B.quantity,0),L=0,P=k+L+m;return v.jsx(jw.Provider,{value:{cartItems:t,addToCart:l,removeFromCart:c,updateQuantity:f,clearCart:p,subtotal:k,tax:L,shippingCost:m,setShippingCost:b,selectedAddress:_,setSelectedAddress:w,total:P},children:n})}function Xa(){return y.useContext(jw)}function Pw(){const e=Js().pathname,t=s=>e.startsWith(s);return v.jsx("nav",{className:"fixed bottom-0 left-0 w-full border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-background-dark pb-6 pt-2 px-6 shrink-0 z-50 shadow-lg-up",children:v.jsxs("div",{className:"flex justify-between items-end",children:[v.jsxs(An,{to:"/",className:`flex flex-col items-center gap-1 transition-colors group ${t("/")&&e==="/"?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/")&&e==="/"&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/")&&e==="/"?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"home"})]}),v.jsxs(An,{to:"/catalog",className:`flex flex-col items-center gap-1 transition-colors group ${t("/catalog")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/catalog")&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/catalog")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"search"})]}),v.jsxs(An,{to:"/favorites",className:`flex flex-col items-center gap-1 transition-colors group ${t("/favorites")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/favorites")&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/favorites")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"favorite"})]}),v.jsxs(An,{to:"/profile",className:`flex flex-col items-center gap-1 transition-colors group ${t("/profile")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/profile")&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/profile")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"person"})]})]})})}const mR=()=>{};var v_={};const Vw=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},gR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,b=l>>2,_=(l&3)<<4|f>>4;let w=(f&15)<<2|m>>6,k=m&63;p||(k=64,c||(w=64)),s.push(t[b],t[_],t[w],t[k])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Vw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||_==null)throw new vR;const w=l<<2|f>>4;if(s.push(w),m!==64){const k=f<<4&240|m>>2;if(s.push(k),_!==64){const L=m<<6&192|_;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(n){const e=Vw(n);return Uw.encodeByteArray(e,!0)},fh=function(n){return yR(n).replace(/\./g,"")},zw=function(n){try{return Uw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _R=()=>bR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof v_>"u")return;const n=v_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ER=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zw(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return mR()||_R()||xR()||ER()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Bw=n=>Fh()?.emulatorHosts?.[n],qw=n=>{const e=Bw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Hw=()=>Fh()?.config,Fw=n=>Fh()?.[`_${n}`];class wR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function ra(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wg(n){return(await fetch(n,{credentials:"include"})).ok}function Gw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[fh(JSON.stringify(t)),fh(JSON.stringify(c)),""].join(".")}const ku={};function TR(){const n={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?n.emulator.push(e):n.prod.push(e);return n}function SR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let y_=!1;function Tg(n,e){if(typeof window>"u"||typeof document>"u"||!ra(window.location.host)||ku[n]===e||ku[n]||y_)return;ku[n]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=TR().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{y_=!0,c()},w}function b(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=SR(s),k=t("text"),L=document.getElementById(k)||document.createElement("span"),P=t("learnmore"),I=document.getElementById(P)||document.createElement("a"),B=t("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;f(Y),b(I,P);const H=m();p(z,B),Y.append(z,L,I,H),document.body.appendChild(Y)}l?(L.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function AR(){const n=Fh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IR(){return!AR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const DR="FirebaseError";class ms extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=DR,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?jR(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ms(a,f,s)}}function jR(n,e){return n.replace(PR,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PR=/\{\$([^}]+)}/g;function VR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qa(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(b_(l)&&b_(c)){if(!qa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function b_(n){return n!==null&&typeof n=="object"}function tc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function UR(n,e){const t=new zR(n,e);return t.subscribe.bind(t)}class zR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");BR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=vm),a.error===void 0&&(a.error=vm),a.complete===void 0&&(a.complete=vm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vm(){}function pt(n){return n&&n._delegate?n._delegate:n}class Yi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class qR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new wR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(n){return n===ja?void 0:n}function FR(n){return n.instantiationMode==="EAGER"}class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const $R={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},KR=Ke.INFO,QR={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},YR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=QR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=KR,this._logHandler=YR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const XR=(n,e)=>e.some(t=>n instanceof t);let __,x_;function WR(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $w=new WeakMap,Um=new WeakMap,Kw=new WeakMap,ym=new WeakMap,Cg=new WeakMap;function JR(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Gi(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&$w.set(t,n)}).catch(()=>{}),Cg.set(e,n),e}function eL(n){if(Um.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Um.set(n,e)}let zm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Um.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Kw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tL(n){zm=n(zm)}function nL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(bm(this),e,...t);return Kw.set(s,e.sort?e.sort():[e]),Gi(s)}:ZR().includes(n)?function(...e){return n.apply(bm(this),e),Gi($w.get(this))}:function(...e){return Gi(n.apply(bm(this),e))}}function rL(n){return typeof n=="function"?nL(n):(n instanceof IDBTransaction&&eL(n),XR(n,WR())?new Proxy(n,zm):n)}function Gi(n){if(n instanceof IDBRequest)return JR(n);if(ym.has(n))return ym.get(n);const e=rL(n);return e!==n&&(ym.set(n,e),Cg.set(e,n)),e}const bm=n=>Cg.get(n);function sL(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Gi(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Gi(c.result),p.oldVersion,p.newVersion,Gi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const iL=["get","getKey","getAll","getAllKeys","count"],aL=["put","add","delete","clear"],_m=new Map;function E_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=aL.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||iL.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return _m.set(e,l),l}tL(n=>({...n,get:(e,t,s)=>E_(e,t)||n.get(e,t,s),has:(e,t)=>!!E_(e,t)||n.has(e,t)}));class oL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lL(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function lL(n){return n.getComponent()?.type==="VERSION"}const Bm="@firebase/app",w_="0.14.6";const Ys=new Sg("@firebase/app"),uL="@firebase/app-compat",cL="@firebase/analytics-compat",dL="@firebase/analytics",hL="@firebase/app-check-compat",fL="@firebase/app-check",pL="@firebase/auth",mL="@firebase/auth-compat",gL="@firebase/database",vL="@firebase/data-connect",yL="@firebase/database-compat",bL="@firebase/functions",_L="@firebase/functions-compat",xL="@firebase/installations",EL="@firebase/installations-compat",wL="@firebase/messaging",TL="@firebase/messaging-compat",SL="@firebase/performance",CL="@firebase/performance-compat",AL="@firebase/remote-config",kL="@firebase/remote-config-compat",RL="@firebase/storage",LL="@firebase/storage-compat",NL="@firebase/firestore",IL="@firebase/ai",ML="@firebase/firestore-compat",OL="firebase",DL="12.6.0";const qm="[DEFAULT]",jL={[Bm]:"fire-core",[uL]:"fire-core-compat",[dL]:"fire-analytics",[cL]:"fire-analytics-compat",[fL]:"fire-app-check",[hL]:"fire-app-check-compat",[pL]:"fire-auth",[mL]:"fire-auth-compat",[gL]:"fire-rtdb",[vL]:"fire-data-connect",[yL]:"fire-rtdb-compat",[bL]:"fire-fn",[_L]:"fire-fn-compat",[xL]:"fire-iid",[EL]:"fire-iid-compat",[wL]:"fire-fcm",[TL]:"fire-fcm-compat",[SL]:"fire-perf",[CL]:"fire-perf-compat",[AL]:"fire-rc",[kL]:"fire-rc-compat",[RL]:"fire-gcs",[LL]:"fire-gcs-compat",[NL]:"fire-fst",[ML]:"fire-fst-compat",[IL]:"fire-vertex","fire-js":"fire-js",[OL]:"fire-js-all"};const ph=new Map,PL=new Map,Hm=new Map;function T_(n,e){try{n.container.addComponent(e)}catch(t){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ha(n){const e=n.name;if(Hm.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,n);for(const t of ph.values())T_(t,n);for(const t of PL.values())T_(t,n);return!0}function Gh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function er(n){return n==null?!1:n.settings!==void 0}const VL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new ec("app","Firebase",VL);class UL{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}const Wa=DL;function Qw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:qm,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw $i.create("bad-app-name",{appName:String(a)});if(t||(t=Hw()),!t)throw $i.create("no-options");const l=ph.get(a);if(l){if(qa(t,l.options)&&qa(s,l.config))return l;throw $i.create("duplicate-app",{appName:a})}const c=new GR(a);for(const p of Hm.values())c.addComponent(p);const f=new UL(t,s,c);return ph.set(a,f),f}function Ag(n=qm){const e=ph.get(n);if(!e&&n===qm&&Hw())return Qw();if(!e)throw $i.create("no-app",{appName:n});return e}function as(n,e,t){let s=jL[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(c.join(" "));return}Ha(new Yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const zL="firebase-heartbeat-database",BL=1,Pu="firebase-heartbeat-store";let xm=null;function Yw(){return xm||(xm=sL(zL,BL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw $i.create("idb-open",{originalErrorMessage:n.message})})),xm}async function qL(n){try{const t=(await Yw()).transaction(Pu),s=await t.objectStore(Pu).get(Xw(n));return await t.done,s}catch(e){if(e instanceof ms)Ys.warn(e.message);else{const t=$i.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(t.message)}}}async function S_(n,e){try{const s=(await Yw()).transaction(Pu,"readwrite");await s.objectStore(Pu).put(e,Xw(n)),await s.done}catch(t){if(t instanceof ms)Ys.warn(t.message);else{const s=$i.create("idb-set",{originalErrorMessage:t?.message});Ys.warn(s.message)}}}function Xw(n){return`${n.name}!${n.options.appId}`}const HL=1024,FL=30;class GL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KL(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>FL){const a=QL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C_(),{heartbeatsToSend:t,unsentEntries:s}=$L(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ys.warn(e),""}}}function C_(){return new Date().toISOString().substring(0,10)}function $L(n,e=HL){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),A_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),A_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class KL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function A_(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function QL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function YL(n){Ha(new Yi("platform-logger",e=>new oL(e),"PRIVATE")),Ha(new Yi("heartbeat",e=>new GL(e),"PRIVATE")),as(Bm,w_,n),as(Bm,w_,"esm2020"),as("fire-js","")}YL("");var XL="firebase",WL="12.7.0";as(XL,WL,"app");function Ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZL=Ww,Zw=new ec("auth","Firebase",Ww());const mh=new Sg("@firebase/auth");function JL(n,...e){mh.logLevel<=Ke.WARN&&mh.warn(`Auth (${Wa}): ${n}`,...e)}function nh(n,...e){mh.logLevel<=Ke.ERROR&&mh.error(`Auth (${Wa}): ${n}`,...e)}function Nr(n,...e){throw kg(n,...e)}function os(n,...e){return kg(n,...e)}function Jw(n,e,t){const s={...ZL(),[e]:t};return new ec("auth","Firebase",s).create(e,{appName:n.name})}function $s(n){return Jw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Zw.create(n,...e)}function Le(n,e,...t){if(!n)throw kg(e,...t)}function Hs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nh(e),new Error(e)}function Xs(n,e){n||Hs(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function eN(){return k_()==="http:"||k_()==="https:"}function k_(){return typeof self<"u"&&self.location?.protocol||null}function tN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eN()||RR()||"connection"in navigator)?navigator.onLine:!0}function nN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xs(t>e,"Short delay should be less than long delay!"),this.isMobile=CR()||LR()}get(){return tN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rg(n,e){Xs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class eT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iN=new nc(3e4,6e4);function ei(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ti(n,e,t,s,a={}){return tT(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=tc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...l};return kR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ra(n.emulatorConfig.host)&&(m.credentials="include"),eT.fetch()(await nT(n,n.config.apiHost,t,f),m)})}async function tT(n,e,t){n._canInitEmulator=!1;const s={...rN,...e};try{const a=new oN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw qd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw qd(n,"user-disabled",c);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Jw(n,b,m);Nr(n,b)}}catch(a){if(a instanceof ms)throw a;Nr(n,"network-request-failed",{message:String(a)})}}async function rc(n,e,t,s,a={}){const l=await ti(n,e,t,s,a);return"mfaPendingCredential"in l&&Nr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function nT(n,e,t,s){const a=`${e}${t}?${s}`,l=n,c=l.config.emulator?Rg(n.config,a):`${n.config.apiScheme}://${a}`;return sN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function aN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(os(this.auth,"network-request-failed")),iN.get())})}}function qd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=os(n,e,s);return a.customData._tokenResponse=t,a}function R_(n){return n!==void 0&&n.enterprise!==void 0}class lN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uN(n,e){return ti(n,"GET","/v2/recaptchaConfig",ei(n,e))}async function cN(n,e){return ti(n,"POST","/v1/accounts:delete",e)}async function gh(n,e){return ti(n,"POST","/v1/accounts:lookup",e)}function Ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dN(n,e=!1){const t=pt(n),s=await t.getIdToken(e),a=Lg(s);Le(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Ru(Em(a.auth_time)),issuedAtTime:Ru(Em(a.iat)),expirationTime:Ru(Em(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Em(n){return Number(n)*1e3}function Lg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const a=zw(t);return a?JSON.parse(a):(nh("Failed to decode base64 JWT payload"),null)}catch(a){return nh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function L_(n){const e=Lg(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ms&&hN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function hN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class fN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(n){const e=n.auth,t=await n.getIdToken(),s=await Vu(n,gh(e,{idToken:t}));Le(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?rT(a.providerUserInfo):[],c=mN(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,m=f?p:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Gm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function pN(n){const e=pt(n);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mN(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function rT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function gN(n,e){const t=await tT(n,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await nT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return n.emulatorConfig&&ra(n.emulatorConfig.host)&&(p.credentials="include"),eT.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vN(n,e){return ti(n,"POST","/v2/accounts:revokeToken",ei(n,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=L_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await gN(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Yo;return s&&(Le(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Hs("not implemented")}}function ji(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Lr{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new fN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dN(this,e)}reload(){return pN(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await Vu(this,cN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:k,providerData:L,stsTokenManager:P}=t;Le(_&&P,e,"internal-error");const I=Yo.fromJSON(this.name,P);Le(typeof _=="string",e,"internal-error"),ji(s,e.name),ji(a,e.name),Le(typeof w=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),ji(l,e.name),ji(c,e.name),ji(f,e.name),ji(p,e.name),ji(m,e.name),ji(b,e.name);const B=new Lr({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:k,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:m,lastLoginAt:b});return L&&Array.isArray(L)&&(B.providerData=L.map(z=>({...z}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(e,t,s=!1){const a=new Yo;a.updateFromServerResponse(t);const l=new Lr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await vh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?rT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Yo;f.updateFromIdToken(s);const p=new Lr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}const N_=new Map;function Fs(n){Xs(n instanceof Function,"Expected a class definition");let e=N_.get(n);return e?(Xs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N_.set(n,e),e)}class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sT.type="NONE";const I_=sT;function rh(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=rh(this.userKey,a.apiKey,l),this.fullPersistenceKey=rh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gh(this.auth,{idToken:e}).catch(()=>{});return t?Lr._fromGetAccountInfoResponse(this.auth,t,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Xo(Fs(I_),e,s);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Fs(I_);const c=rh(s,e.config.apiKey,e.name);let f=null;for(const m of t)try{const b=await m._get(c);if(b){let _;if(typeof b=="string"){const w=await gh(e,{idToken:b}).catch(()=>{});if(!w)break;_=await Lr._fromGetAccountInfoResponse(e,w,b)}else _=Lr._fromJSON(e,b);m!==l&&(f=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Xo(l,e,s):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Xo(l,e,s))}}function M_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(dT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||oT(e))&&!e.includes("edge/"))return"Chrome";if(uT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function iT(n=En()){return/firefox\//i.test(n)}function aT(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oT(n=En()){return/crios\//i.test(n)}function lT(n=En()){return/iemobile/i.test(n)}function uT(n=En()){return/android/i.test(n)}function cT(n=En()){return/blackberry/i.test(n)}function dT(n=En()){return/webos/i.test(n)}function Ng(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yN(n=En()){return Ng(n)&&!!window.navigator?.standalone}function bN(){return NR()&&document.documentMode===10}function hT(n=En()){return Ng(n)||uT(n)||dT(n)||cT(n)||/windows phone/i.test(n)||lT(n)}function fT(n,e=[]){let t;switch(n){case"Browser":t=M_(En());break;case"Worker":t=`${M_(En())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${s}`}class _N{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function xN(n,e={}){return ti(n,"GET","/v2/passwordPolicy",ei(n,e))}const EN=6;class wN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??EN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class TN{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new _N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gh(this,{idToken:e}),s=await Lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(er(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject($s(this));const t=e?pt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),t=new wN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await vN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Za(n){return pt(n)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=UR(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SN(n){$h=n}function pT(n){return $h.loadJS(n)}function CN(){return $h.recaptchaEnterpriseScript}function AN(){return $h.gapiScript}function kN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RN{constructor(){this.enterprise=new LN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class LN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const NN="recaptcha-enterprise",mT="NO_RECAPTCHA";class IN{constructor(e){this.type=NN,this.auth=Za(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{uN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new lN(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;R_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(mT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!t&&R_(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=CN();p.length!==0&&(p+=f),pT(p).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function D_(n,e,t,s=!1,a=!1){const l=new IN(n);let c;if(a)c=mT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function $m(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await D_(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await D_(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(l)})}function MN(n,e){const t=Gh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(qa(l,e??{}))return a;Nr(a,"already-initialized")}return t.initialize({options:e})}function ON(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Fs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function DN(n,e,t){const s=Za(n);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=gT(e),{host:c,port:f}=jN(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},b=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(qa(m,s.config.emulator)&&qa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ra(c)?(wg(`${l}//${c}${p}`),Tg("Auth",!0)):PN()}function gT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jN(n){const e=gT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:j_(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:j_(c)}}}function j_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,t){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function VN(n,e){return ti(n,"POST","/v1/accounts:signUp",e)}async function UN(n,e){return rc(n,"POST","/v1/accounts:signInWithPassword",ei(n,e))}async function zN(n,e){return ti(n,"POST","/v1/accounts:sendOobCode",ei(n,e))}async function BN(n,e){return zN(n,e)}async function qN(n,e){return rc(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))}async function HN(n,e){return rc(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))}class Uu extends Ig{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Uu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Uu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,t,"signInWithPassword",UN);case"emailLink":return qN(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,s,"signUpPassword",VN);case"emailLink":return HN(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wo(n,e){return rc(n,"POST","/v1/accounts:signInWithIdp",ei(n,e))}const FN="http://localhost";class Fa extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new Fa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:FN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tc(t)}return e}}function GN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $N(n){const e=Eu(wu(n)).link,t=e?Eu(wu(e)).deep_link_id:null,s=Eu(wu(n)).deep_link_id;return(s?Eu(wu(s)).link:null)||s||t||e||n}class Mg{constructor(e){const t=Eu(wu(e)),s=t.apiKey??null,a=t.oobCode??null,l=GN(t.mode??null);Le(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=$N(e);try{return new Mg(t)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return Uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Mg.parseLink(t);return Le(s,"argument-error"),Uu._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sc extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ui extends sc{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";class zi extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fa._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zi.credential(t,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class Bi extends sc{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";class qi extends sc{constructor(){super("twitter.com")}static credential(e,t){return Fa._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return qi.credential(t,s)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";async function KN(n,e){return rc(n,"POST","/v1/accounts:signUp",ei(n,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Lr._fromIdTokenResponse(e,s,a),c=P_(s);return new Ga({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=P_(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function P_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class yh extends ms{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new yh(e,t,s,a)}}function yT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(n,l,e,s):l})}async function QN(n,e,t=!1){const s=await Vu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ga._forOperation(n,"link",s)}async function YN(n,e,t=!1){const{auth:s}=n;if(er(s.app))return Promise.reject($s(s));const a="reauthenticate";try{const l=await Vu(n,yT(s,a,e,n),t);Le(l.idToken,s,"internal-error");const c=Lg(l.idToken);Le(c,s,"internal-error");const{sub:f}=c;return Le(n.uid===f,s,"user-mismatch"),Ga._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Nr(s,"user-mismatch"),l}}async function bT(n,e,t=!1){if(er(n.app))return Promise.reject($s(n));const s="signIn",a=await yT(n,s,e),l=await Ga._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function XN(n,e){return bT(Za(n),e)}async function _T(n){const e=Za(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WN(n,e,t){if(er(n.app))return Promise.reject($s(n));const s=Za(n),c=await $m(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&_T(n),p}),f=await Ga._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function ZN(n,e,t){return er(n.app)?Promise.reject($s(n)):XN(pt(n),ll.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_T(n),s})}async function JN(n,e){const t=pt(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await BN(t.auth,a);l!==n.email&&await n.reload()}function eI(n,e,t,s){return pt(n).onIdTokenChanged(e,t,s)}function tI(n,e,t){return pt(n).beforeAuthStateChanged(e,t)}function nI(n,e,t,s){return pt(n).onAuthStateChanged(e,t,s)}function rI(n){return pt(n).signOut()}const bh="__sak";class xT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sI=1e3,iI=10;class ET extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);bN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iI):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ET.type="LOCAL";const aI=ET;class wT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wT.type="SESSION";const TT=wT;function oI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async m=>m(t.origin,l)),p=await oI(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function Og(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class lI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Og("",20);a.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ls(){return window}function uI(n){ls().location.href=n}function ST(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function cI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dI(){return navigator?.serviceWorker?.controller||null}function hI(){return ST()?self:null}const CT="firebaseLocalStorageDb",fI=1,_h="firebaseLocalStorage",AT="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(n,e){return n.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function pI(){const n=indexedDB.deleteDatabase(CT);return new ic(n).toPromise()}function Km(){const n=indexedDB.open(CT,fI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(_h,{keyPath:AT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await pI(),e(await Km()))})})}async function V_(n,e,t){const s=Qh(n,!0).put({[AT]:e,value:t});return new ic(s).toPromise()}async function mI(n,e){const t=Qh(n,!1).get(e),s=await new ic(t).toPromise();return s===void 0?null:s.value}function U_(n,e){const t=Qh(n,!0).delete(e);return new ic(t).toPromise()}const gI=800,vI=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(hI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cI(),!this.activeServiceWorker)return;this.sender=new lI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await V_(e,bh,"1"),await U_(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>V_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>mI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>U_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qh(a,!1).getAll();return new ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const yI=kT;new nc(3e4,6e4);function bI(n,e){return e?Fs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Dg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _I(n){return bT(n.auth,new Dg(n),n.bypassAuthState)}function xI(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),YN(t,new Dg(n),n.bypassAuthState)}async function EI(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),QN(t,new Dg(n),n.bypassAuthState)}class RT{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return EI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:Nr(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new nc(2e3,1e4);class Qo extends RT{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}Qo.currentPopupAction=null;const TI="pendingRedirect",sh=new Map;class SI extends RT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await CI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(n,e){const t=RI(e),s=kI(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function AI(n,e){sh.set(n._key(),e)}function kI(n){return Fs(n._redirectPersistence)}function RI(n){return rh(TI,n.config.apiKey,n.name)}async function LI(n,e,t=!1){if(er(n.app))return Promise.reject($s(n));const s=Za(n),a=bI(s,e),c=await new SI(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const NI=600*1e3;class II{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!LT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(os(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(e))}saveEventToCache(e){this.cachedEventUids.add(z_(e)),this.lastProcessedEventTime=Date.now()}}function z_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function MI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(n);default:return!1}}async function OI(n,e={}){return ti(n,"GET","/v1/projects",e)}const DI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jI=/^https?/;async function PI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OI(n);for(const t of e)try{if(VI(t))return}catch{}Nr(n,"unauthorized-domain")}function VI(n){const e=Fm(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!jI.test(t))return!1;if(DI.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const UI=new nc(3e4,6e4);function B_(){const n=ls().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zI(n){return new Promise((e,t)=>{function s(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),t(os(n,"network-request-failed"))},timeout:UI.get()})}if(ls().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ls().gapi?.load)s();else{const a=kN("iframefcb");return ls()[a]=()=>{gapi.load?s():t(os(n,"network-request-failed"))},pT(`${AN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ih=null,e})}let ih=null;function BI(n){return ih=ih||zI(n),ih}const qI=new nc(5e3,15e3),HI="__/auth/iframe",FI="emulator/auth/iframe",GI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KI(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Rg(e,FI):`https://${n.config.authDomain}/${HI}`,s={apiKey:e.apiKey,appName:n.name,v:Wa},a=$I.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${tc(s).slice(1)}`}async function QI(n){const e=await BI(n),t=ls().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:KI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GI,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=os(n,"network-request-failed"),f=ls().setTimeout(()=>{l(c)},qI.get());function p(){ls().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XI=500,WI=600,ZI="_blank",JI="http://localhost";class q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(n,e,t,s=XI,a=WI){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...YI,width:s.toString(),height:a.toString(),top:l,left:c},m=En().toLowerCase();t&&(f=oT(m)?ZI:t),iT(m)&&(e=e||JI,p.scrollbars="yes");const b=Object.entries(p).reduce((w,[k,L])=>`${w}${k}=${L},`,"");if(yN(m)&&f!=="_self")return t2(e||"",f),new q_(null);const _=window.open(e||"",f,b);Le(_,n,"popup-blocked");try{_.focus()}catch{}return new q_(_)}function t2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const n2="__/auth/handler",r2="emulator/auth/handler",s2=encodeURIComponent("fac");async function H_(n,e,t,s,a,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Wa,eventId:a};if(e instanceof vT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",VR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))c[b]=_}if(e instanceof sc){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const p=await n._getAppCheckToken(),m=p?`#${s2}=${encodeURIComponent(p)}`:"";return`${i2(n)}?${tc(f).slice(1)}${m}`}function i2({config:n}){return n.emulator?Rg(n,r2):`https://${n.authDomain}/${n2}`}const wm="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=LI,this._overrideRedirectResult=AI}async _openPopup(e,t,s,a){Xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await H_(e,t,s,Fm(),a);return e2(e,l,Og())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await H_(e,t,s,Fm(),a);return uI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Xs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await QI(e),s=new II(e);return t.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wm,{type:wm},a=>{const l=a?.[0]?.[wm];l!==void 0&&t(!!l),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hT()||aT()||Ng()}}const o2=a2;var F_="@firebase/auth",G_="1.12.0";class l2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function u2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(n){Ha(new Yi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(n)},m=new TN(s,a,l,p);return ON(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ha(new Yi("auth-internal",e=>{const t=Za(e.getProvider("auth").getImmediate());return(s=>new l2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(F_,G_,u2(n)),as(F_,G_,"esm2020")}const d2=300,h2=Fw("authIdTokenMaxAge")||d2;let $_=null;const f2=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>h2)return;const a=t?.token;$_!==a&&($_=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function p2(n=Ag()){const e=Gh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MN(n,{popupRedirectResolver:o2,persistence:[yI,aI,TT]}),s=Fw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=f2(l.toString());tI(t,c,()=>c(t.currentUser)),eI(t,f=>c(f))}}const a=Bw("auth");return a&&DN(t,`http://${a}`),t}function m2(){return document.getElementsByTagName("head")?.[0]??document}SN({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=os("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",m2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ki,NT;(function(){var n;function e(R,A){function S(){}S.prototype=A.prototype,R.F=A.prototype,R.prototype=new S,R.prototype.constructor=R,R.D=function(j,O,U){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return A.prototype[O].apply(j,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,S){S||(S=0);const j=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)j[O]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(O=0;O<16;++O)j[O]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=R.g[0],S=R.g[1],O=R.g[2];let U=R.g[3],M;M=A+(U^S&(O^U))+j[0]+3614090360&4294967295,A=S+(M<<7&4294967295|M>>>25),M=U+(O^A&(S^O))+j[1]+3905402710&4294967295,U=A+(M<<12&4294967295|M>>>20),M=O+(S^U&(A^S))+j[2]+606105819&4294967295,O=U+(M<<17&4294967295|M>>>15),M=S+(A^O&(U^A))+j[3]+3250441966&4294967295,S=O+(M<<22&4294967295|M>>>10),M=A+(U^S&(O^U))+j[4]+4118548399&4294967295,A=S+(M<<7&4294967295|M>>>25),M=U+(O^A&(S^O))+j[5]+1200080426&4294967295,U=A+(M<<12&4294967295|M>>>20),M=O+(S^U&(A^S))+j[6]+2821735955&4294967295,O=U+(M<<17&4294967295|M>>>15),M=S+(A^O&(U^A))+j[7]+4249261313&4294967295,S=O+(M<<22&4294967295|M>>>10),M=A+(U^S&(O^U))+j[8]+1770035416&4294967295,A=S+(M<<7&4294967295|M>>>25),M=U+(O^A&(S^O))+j[9]+2336552879&4294967295,U=A+(M<<12&4294967295|M>>>20),M=O+(S^U&(A^S))+j[10]+4294925233&4294967295,O=U+(M<<17&4294967295|M>>>15),M=S+(A^O&(U^A))+j[11]+2304563134&4294967295,S=O+(M<<22&4294967295|M>>>10),M=A+(U^S&(O^U))+j[12]+1804603682&4294967295,A=S+(M<<7&4294967295|M>>>25),M=U+(O^A&(S^O))+j[13]+4254626195&4294967295,U=A+(M<<12&4294967295|M>>>20),M=O+(S^U&(A^S))+j[14]+2792965006&4294967295,O=U+(M<<17&4294967295|M>>>15),M=S+(A^O&(U^A))+j[15]+1236535329&4294967295,S=O+(M<<22&4294967295|M>>>10),M=A+(O^U&(S^O))+j[1]+4129170786&4294967295,A=S+(M<<5&4294967295|M>>>27),M=U+(S^O&(A^S))+j[6]+3225465664&4294967295,U=A+(M<<9&4294967295|M>>>23),M=O+(A^S&(U^A))+j[11]+643717713&4294967295,O=U+(M<<14&4294967295|M>>>18),M=S+(U^A&(O^U))+j[0]+3921069994&4294967295,S=O+(M<<20&4294967295|M>>>12),M=A+(O^U&(S^O))+j[5]+3593408605&4294967295,A=S+(M<<5&4294967295|M>>>27),M=U+(S^O&(A^S))+j[10]+38016083&4294967295,U=A+(M<<9&4294967295|M>>>23),M=O+(A^S&(U^A))+j[15]+3634488961&4294967295,O=U+(M<<14&4294967295|M>>>18),M=S+(U^A&(O^U))+j[4]+3889429448&4294967295,S=O+(M<<20&4294967295|M>>>12),M=A+(O^U&(S^O))+j[9]+568446438&4294967295,A=S+(M<<5&4294967295|M>>>27),M=U+(S^O&(A^S))+j[14]+3275163606&4294967295,U=A+(M<<9&4294967295|M>>>23),M=O+(A^S&(U^A))+j[3]+4107603335&4294967295,O=U+(M<<14&4294967295|M>>>18),M=S+(U^A&(O^U))+j[8]+1163531501&4294967295,S=O+(M<<20&4294967295|M>>>12),M=A+(O^U&(S^O))+j[13]+2850285829&4294967295,A=S+(M<<5&4294967295|M>>>27),M=U+(S^O&(A^S))+j[2]+4243563512&4294967295,U=A+(M<<9&4294967295|M>>>23),M=O+(A^S&(U^A))+j[7]+1735328473&4294967295,O=U+(M<<14&4294967295|M>>>18),M=S+(U^A&(O^U))+j[12]+2368359562&4294967295,S=O+(M<<20&4294967295|M>>>12),M=A+(S^O^U)+j[5]+4294588738&4294967295,A=S+(M<<4&4294967295|M>>>28),M=U+(A^S^O)+j[8]+2272392833&4294967295,U=A+(M<<11&4294967295|M>>>21),M=O+(U^A^S)+j[11]+1839030562&4294967295,O=U+(M<<16&4294967295|M>>>16),M=S+(O^U^A)+j[14]+4259657740&4294967295,S=O+(M<<23&4294967295|M>>>9),M=A+(S^O^U)+j[1]+2763975236&4294967295,A=S+(M<<4&4294967295|M>>>28),M=U+(A^S^O)+j[4]+1272893353&4294967295,U=A+(M<<11&4294967295|M>>>21),M=O+(U^A^S)+j[7]+4139469664&4294967295,O=U+(M<<16&4294967295|M>>>16),M=S+(O^U^A)+j[10]+3200236656&4294967295,S=O+(M<<23&4294967295|M>>>9),M=A+(S^O^U)+j[13]+681279174&4294967295,A=S+(M<<4&4294967295|M>>>28),M=U+(A^S^O)+j[0]+3936430074&4294967295,U=A+(M<<11&4294967295|M>>>21),M=O+(U^A^S)+j[3]+3572445317&4294967295,O=U+(M<<16&4294967295|M>>>16),M=S+(O^U^A)+j[6]+76029189&4294967295,S=O+(M<<23&4294967295|M>>>9),M=A+(S^O^U)+j[9]+3654602809&4294967295,A=S+(M<<4&4294967295|M>>>28),M=U+(A^S^O)+j[12]+3873151461&4294967295,U=A+(M<<11&4294967295|M>>>21),M=O+(U^A^S)+j[15]+530742520&4294967295,O=U+(M<<16&4294967295|M>>>16),M=S+(O^U^A)+j[2]+3299628645&4294967295,S=O+(M<<23&4294967295|M>>>9),M=A+(O^(S|~U))+j[0]+4096336452&4294967295,A=S+(M<<6&4294967295|M>>>26),M=U+(S^(A|~O))+j[7]+1126891415&4294967295,U=A+(M<<10&4294967295|M>>>22),M=O+(A^(U|~S))+j[14]+2878612391&4294967295,O=U+(M<<15&4294967295|M>>>17),M=S+(U^(O|~A))+j[5]+4237533241&4294967295,S=O+(M<<21&4294967295|M>>>11),M=A+(O^(S|~U))+j[12]+1700485571&4294967295,A=S+(M<<6&4294967295|M>>>26),M=U+(S^(A|~O))+j[3]+2399980690&4294967295,U=A+(M<<10&4294967295|M>>>22),M=O+(A^(U|~S))+j[10]+4293915773&4294967295,O=U+(M<<15&4294967295|M>>>17),M=S+(U^(O|~A))+j[1]+2240044497&4294967295,S=O+(M<<21&4294967295|M>>>11),M=A+(O^(S|~U))+j[8]+1873313359&4294967295,A=S+(M<<6&4294967295|M>>>26),M=U+(S^(A|~O))+j[15]+4264355552&4294967295,U=A+(M<<10&4294967295|M>>>22),M=O+(A^(U|~S))+j[6]+2734768916&4294967295,O=U+(M<<15&4294967295|M>>>17),M=S+(U^(O|~A))+j[13]+1309151649&4294967295,S=O+(M<<21&4294967295|M>>>11),M=A+(O^(S|~U))+j[4]+4149444226&4294967295,A=S+(M<<6&4294967295|M>>>26),M=U+(S^(A|~O))+j[11]+3174756917&4294967295,U=A+(M<<10&4294967295|M>>>22),M=O+(A^(U|~S))+j[2]+718787259&4294967295,O=U+(M<<15&4294967295|M>>>17),M=S+(U^(O|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const S=A-this.blockSize,j=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=S;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(j[O++]=R.charCodeAt(U++),O==this.blockSize){a(this,j),O=0;break}}else for(;U<A;)if(j[O++]=R[U++],O==this.blockSize){a(this,j),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var S=R.length-8;S<R.length;++S)R[S]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,S=0;S<4;++S)for(let j=0;j<32;j+=8)R[A++]=this.g[S]>>>j&255;return R};function l(R,A){var S=f;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=A(R)}function c(R,A){this.h=A;const S=[];let j=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;j&&U==A||(S[O]=U,j=!1)}this.g=S}var f={};function p(R){return-128<=R&&R<128?l(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return I(m(-R));const A=[];let S=1;for(let j=0;R>=S;j++)A[j]=R/S|0,S*=4294967296;return new c(A,0)}function b(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return I(b(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=m(Math.pow(A,8));let j=_;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const M=parseInt(R.substring(U,U+O),A);O<8?(O=m(Math.pow(A,O)),j=j.j(O).add(m(M))):(j=j.j(S),j=j.add(m(M)))}return j}var _=p(0),w=p(1),k=p(16777216);n=c.prototype,n.m=function(){if(P(this))return-I(this).m();let R=0,A=1;for(let S=0;S<this.g.length;S++){const j=this.i(S);R+=(j>=0?j:4294967296+j)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(P(this))return"-"+I(this).toString(R);const A=m(Math.pow(R,6));var S=this;let j="";for(;;){const O=H(S,A).g;S=B(S,O.j(A));let U=((S.g.length>0?S.g[0]:S.h)>>>0).toString(R);if(S=O,L(S))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function P(R){return R.h==-1}n.l=function(R){return R=B(this,R),P(R)?-1:L(R)?0:1};function I(R){const A=R.g.length,S=[];for(let j=0;j<A;j++)S[j]=~R.g[j];return new c(S,~R.h).add(w)}n.abs=function(){return P(this)?I(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),S=[];let j=0;for(let O=0;O<=A;O++){let U=j+(this.i(O)&65535)+(R.i(O)&65535),M=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);j=M>>>16,U&=65535,M&=65535,S[O]=M<<16|U}return new c(S,S[S.length-1]&-2147483648?-1:0)};function B(R,A){return R.add(I(A))}n.j=function(R){if(L(this)||L(R))return _;if(P(this))return P(R)?I(this).j(I(R)):I(I(this).j(R));if(P(R))return I(this.j(I(R)));if(this.l(k)<0&&R.l(k)<0)return m(this.m()*R.m());const A=this.g.length+R.g.length,S=[];for(var j=0;j<2*A;j++)S[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<R.g.length;O++){const U=this.i(j)>>>16,M=this.i(j)&65535,pe=R.i(O)>>>16,be=R.i(O)&65535;S[2*j+2*O]+=M*be,z(S,2*j+2*O),S[2*j+2*O+1]+=U*be,z(S,2*j+2*O+1),S[2*j+2*O+1]+=M*pe,z(S,2*j+2*O+1),S[2*j+2*O+2]+=U*pe,z(S,2*j+2*O+2)}for(R=0;R<A;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=A;R<2*A;R++)S[R]=0;return new c(S,0)};function z(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function Y(R,A){this.g=R,this.h=A}function H(R,A){if(L(A))throw Error("division by zero");if(L(R))return new Y(_,_);if(P(R))return A=H(I(R),A),new Y(I(A.g),I(A.h));if(P(A))return A=H(R,I(A)),new Y(I(A.g),A.h);if(R.g.length>30){if(P(R)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var S=w,j=A;j.l(R)<=0;)S=F(S),j=F(j);var O=ee(S,1),U=ee(j,1);for(j=ee(j,2),S=ee(S,2);!L(j);){var M=U.add(j);M.l(R)<=0&&(O=O.add(S),U=M),j=ee(j,1),S=ee(S,1)}return A=B(R,O.j(A)),new Y(O,A)}for(O=_;R.l(A)>=0;){for(S=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(S)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=m(S),M=U.j(A);P(M)||M.l(R)>0;)S-=j,U=m(S),M=U.j(A);L(U)&&(U=w),O=O.add(U),R=B(R,M)}return new Y(O,R)}n.B=function(R){return H(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),S=[];for(let j=0;j<A;j++)S[j]=this.i(j)&R.i(j);return new c(S,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),S=[];for(let j=0;j<A;j++)S[j]=this.i(j)|R.i(j);return new c(S,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),S=[];for(let j=0;j<A;j++)S[j]=this.i(j)^R.i(j);return new c(S,this.h^R.h)};function F(R){const A=R.g.length+1,S=[];for(let j=0;j<A;j++)S[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(S,R.h)}function ee(R,A){const S=A>>5;A%=32;const j=R.g.length-S,O=[];for(let U=0;U<j;U++)O[U]=A>0?R.i(U+S)>>>A|R.i(U+S+1)<<32-A:R.i(U+S);return new c(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=b,Ki=c}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IT,Tu,MT,ah,Qm,OT,DT,jT;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var x=0;x<d.length;++x){var T=d[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function a(d,x){if(x)e:{var T=s;d=d.split(".");for(var N=0;N<d.length-1;N++){var W=d[N];if(!(W in T))break e;T=T[W]}d=d[d.length-1],N=T[d],x=x(N),x!=N&&x!=null&&e(T,d,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(x){var T=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&T.push([N,x[N]]);return T}});var l=l||{},c=this||self;function f(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function p(d,x,T){return d.call.apply(d.bind,arguments)}function m(d,x,T){return m=p,m.apply(null,arguments)}function b(d,x){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function _(d,x){function T(){}T.prototype=x.prototype,d.Z=x.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(N,W,ne){for(var me=Array(arguments.length-2),je=2;je<arguments.length;je++)me[je-2]=arguments[je];return x.prototype[W].apply(N,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function k(d){const x=d.length;if(x>0){const T=Array(x);for(let N=0;N<x;N++)T[N]=d[N];return T}return[]}function L(d,x){for(let N=1;N<arguments.length;N++){const W=arguments[N];var T=typeof W;if(T=T!="object"?T:W?Array.isArray(W)?"array":T:"null",T=="array"||T=="object"&&typeof W.length=="number"){T=d.length||0;const ne=W.length||0;d.length=T+ne;for(let me=0;me<ne;me++)d[T+me]=W[me]}else d.push(W)}}class P{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function I(d){c.setTimeout(()=>{throw d},0)}function B(){var d=R;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class z{constructor(){this.h=this.g=null}add(x,T){const N=Y.get();N.set(x,T),this.h?this.h.next=N:this.g=N,this.h=N}}var Y=new P(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let F,ee=!1,R=new z,A=()=>{const d=Promise.resolve(void 0);F=()=>{d.then(S)}};function S(){for(var d;d=B();){try{d.h.call(d.g)}catch(T){I(T)}var x=Y;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}ee=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return d})();function M(d){return/^[\s\xa0]*$/.test(d)}function pe(d,x){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}_(pe,O),pe.prototype.init=function(d,x){const T=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(T=="mouseover"?x=d.fromElement:T=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(d,x,T,N,W){this.listener=d,this.proxy=null,this.src=x,this.type=T,this.capture=!!N,this.ha=W,this.key=++Q,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ve(d,x,T){for(const N in d)x.call(T,d[N],N,d)}function G(d,x){for(const T in d)x.call(void 0,d[T],T,d)}function D(d){const x={};for(const T in d)x[T]=d[T];return x}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(d,x){let T,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(T in N)d[T]=N[T];for(let ne=0;ne<K.length;ne++)T=K[ne],Object.prototype.hasOwnProperty.call(N,T)&&(d[T]=N[T])}}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,x,T,N,W){const ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);const me=ge(d,x,N,W);return me>-1?(x=d[me],T||(x.fa=!1)):(x=new ie(x,this.src,ne,!!N,W),x.fa=T,d.push(x)),x};function X(d,x){const T=x.type;if(T in d.g){var N=d.g[T],W=Array.prototype.indexOf.call(N,x,void 0),ne;(ne=W>=0)&&Array.prototype.splice.call(N,W,1),ne&&(fe(x),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ge(d,x,T,N){for(let W=0;W<d.length;++W){const ne=d[W];if(!ne.da&&ne.listener==x&&ne.capture==!!T&&ne.ha==N)return W}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),we={};function Ie(d,x,T,N,W){if(Array.isArray(x)){for(let ne=0;ne<x.length;ne++)Ie(d,x[ne],T,N,W);return null}return T=ni(T),d&&d[be]?d.J(x,T,f(N)?!!N.capture:!1,W):Se(d,x,T,!1,N,W)}function Se(d,x,T,N,W,ne){if(!x)throw Error("Invalid event type");const me=f(W)?!!W.capture:!!W;let je=Dr(d);if(je||(d[xe]=je=new he(d)),T=je.add(x,T,N,me,ne),T.proxy)return T;if(N=Ve(),T.proxy=N,N.src=d,N.listener=T,d.addEventListener)U||(W=me),W===void 0&&(W=!1),d.addEventListener(x.toString(),N,W);else if(d.attachEvent)d.attachEvent(fn(x.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ve(){function d(T){return x.call(d.src,d.listener,T)}const x=We;return d}function Xt(d,x,T,N,W){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)Xt(d,x[ne],T,N,W);else N=f(N)?!!N.capture:!!N,T=ni(T),d&&d[be]?(d=d.i,ne=String(x).toString(),ne in d.g&&(x=d.g[ne],T=ge(x,T,N,W),T>-1&&(fe(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete d.g[ne],d.h--)))):d&&(d=Dr(d))&&(x=d.g[x.toString()],d=-1,x&&(d=ge(x,T,N,W)),(T=d>-1?x[d]:null)&&hn(T))}function hn(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[be])X(x.i,d);else{var T=d.type,N=d.proxy;x.removeEventListener?x.removeEventListener(T,N,d.capture):x.detachEvent?x.detachEvent(fn(T),N):x.addListener&&x.removeListener&&x.removeListener(N),(T=Dr(x))?(X(T,d),T.h==0&&(T.src=null,x[xe]=null)):fe(d)}}}function fn(d){return d in we?we[d]:we[d]="on"+d}function We(d,x){if(d.da)d=!0;else{x=new pe(x,this);const T=d.listener,N=d.ha||d.src;d.fa&&hn(d),d=T.call(N,x)}return d}function Dr(d){return d=d[xe],d instanceof he?d:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ni(d){return typeof d=="function"?d:(d[jr]||(d[jr]=function(x){return d.handleEvent(x)}),d[jr])}function mt(){j.call(this),this.i=new he(this),this.M=this,this.G=null}_(mt,j),mt.prototype[be]=!0,mt.prototype.removeEventListener=function(d,x,T,N){Xt(this,d,x,T,N)};function Ct(d,x){var T,N=d.G;if(N)for(T=[];N;N=N.G)T.push(N);if(d=d.M,N=x.type||x,typeof x=="string")x=new O(x,d);else if(x instanceof O)x.target=x.target||d;else{var W=x;x=new O(N,d),re(x,W)}W=!0;let ne,me;if(T)for(me=T.length-1;me>=0;me--)ne=x.g=T[me],W=zn(ne,N,!0,x)&&W;if(ne=x.g=d,W=zn(ne,N,!0,x)&&W,W=zn(ne,N,!1,x)&&W,T)for(me=0;me<T.length;me++)ne=x.g=T[me],W=zn(ne,N,!1,x)&&W}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const T=d.g[x];for(let N=0;N<T.length;N++)fe(T[N]);delete d.g[x],d.h--}}this.G=null},mt.prototype.J=function(d,x,T,N){return this.i.add(String(d),x,!1,T,N)},mt.prototype.K=function(d,x,T,N){return this.i.add(String(d),x,!0,T,N)};function zn(d,x,T,N){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let W=!0;for(let ne=0;ne<x.length;++ne){const me=x[ne];if(me&&!me.da&&me.capture==T){const je=me.listener,It=me.ha||me.src;me.fa&&X(d.i,me),W=je.call(It,N)!==!1&&W}}return W&&!N.defaultPrevented}function to(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(d,x||0)}function gs(d){d.g=to(()=>{d.g=null,d.i&&(d.i=!1,gs(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class Wt extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(d){j.call(this),this.h=d,this.g={}}_(Pr,j);var ri=[];function Vr(d){ve(d.g,function(x,T){this.g.hasOwnProperty(T)&&hn(x)},d),d.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),Vr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=c.JSON.stringify,si=c.JSON.parse,oa=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function vs(){}function la(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}_(jt,O);function nn(){O.call(this,"c")}_(nn,O);var bt={},ys=null;function bs(){return ys=ys||new mt}bt.Ia="serverreachability";function _s(d){O.call(this,bt.Ia,d)}_(_s,O);function Bn(d){const x=bs();Ct(x,new _s(x))}bt.STAT_EVENT="statevent";function Ur(d,x){O.call(this,bt.STAT_EVENT,d),this.stat=x}_(Ur,O);function Et(d){const x=bs();Ct(x,new Ur(x,d))}bt.Ja="timingevent";function wn(d,x){O.call(this,bt.Ja,d),this.size=x}_(wn,O);function qn(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},x)}function mn(){this.g=!0}mn.prototype.ua=function(){this.g=!1};function no(d,x,T,N,W,ne){d.info(function(){if(d.g)if(ne){var me="",je=ne.split("&");for(let nt=0;nt<je.length;nt++){var It=je[nt].split("=");if(It.length>1){const _t=It[0];It=It[1];const or=_t.split("_");me=or.length>=2&&or[1]=="type"?me+(_t+"="+It+"&"):me+(_t+"=redacted&")}}}else me=null;else me=ne;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+x+`
`+T+`
`+me})}function xs(d,x,T,N,W,ne,me){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+x+`
`+T+`
`+ne+" "+me})}function Hn(d,x,T,N){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+ws(d,T)+(N?" "+N:"")})}function Es(d,x){d.info(function(){return"TIMEOUT: "+x})}mn.prototype.info=function(){};function ws(d,x){if(!d.g)return x;if(!x)return null;try{const ne=JSON.parse(x);if(ne){for(d=0;d<ne.length;d++)if(Array.isArray(ne[d])){var T=ne[d];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var W=N[0];if(W!="noop"&&W!="stop"&&W!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return br(ne)}catch{return x}}var Re={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function ua(){}_(ua,vs),ua.prototype.g=function(){return new XMLHttpRequest},gl=new ua;function Ts(d){return encodeURIComponent(String(d))}function bc(d){var x=1;d=d.split(":");const T=[];for(;x>0&&d.length;)T.push(d.shift()),x--;return d.length&&T.push(d.join(":")),T}function _r(d,x,T,N){this.j=d,this.i=x,this.l=T,this.S=N||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xr}function xr(){this.i=null,this.g="",this.h=!1}var Pt={},Zt={};function zr(d,x,T){d.M=1,d.A=ca(Ut(x)),d.u=T,d.R=!0,ro(d,null)}function ro(d,x){d.F=Date.now(),Br(d),d.B=Ut(d.A);var T=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),oo(T.i,"t",N),d.C=0,T=d.j.L,d.h=new xr,d.g=Oc(d.j,T?x:null,!d.u),d.P>0&&(d.O=new Wt(m(d.Y,d,d.g),d.P)),x=d.V,T=d.g,N=d.ba;var W="readystatechange";Array.isArray(W)||(W&&(ri[0]=W.toString()),W=ri);for(let ne=0;ne<W.length;ne++){const me=Ie(T,W[ne],N||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=d.J?D(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Bn(),no(d.i,d.v,d.B,d.l,d.S,d.u)}_r.prototype.ba=function(d){d=d.target;const x=this.O;x&&Tr(d)==3?x.j():this.Y(d)},_r.prototype.Y=function(d){try{if(d==this.g)e:{const je=Tr(this.g),It=this.g.ya(),nt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||je!=4||It==7||(It==8||nt<=0?Bn(3):Bn(2)),qr(this);var x=this.g.ca();this.X=x;var T=mf(this);if(this.o=x==200,xs(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(N)){var ne=N;break t}}ne=null}if(d=ne)Hn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hr(this,d);else{this.o=!1,this.m=3,Et(12),Fn(this),sr(this);break e}}if(this.R){d=!0;let _t;for(;!this.K&&this.C<T.length;)if(_t=xc(this,T),_t==Zt){je==4&&(this.m=4,Et(14),d=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Pt){this.m=4,Et(15),Hn(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Hn(this.i,this.l,_t,null),Hr(this,_t);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||T.length!=0||this.h.h||(this.m=1,Et(16),d=!1),this.o=this.o&&d,!d)Hn(this.i,this.l,T,"[Invalid Chunked Response]"),Fn(this),sr(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Nl(me),me.P=!0,Et(11))}}else Hn(this.i,this.l,T,null),Hr(this,T);je==4&&Fn(this),this.o&&!this.K&&(je==4?Lc(this.j,this):(this.o=!1,Br(this)))}else Cs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Fn(this),sr(this)}}}catch{}};function mf(d){if(!_c(d))return d.g.la();const x=rn(d.g);if(x==="")return"";let T="";const N=x.length,W=Tr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Fn(d),sr(d),"";d.h.i=new c.TextDecoder}for(let ne=0;ne<N;ne++)d.h.h=!0,T+=d.h.i.decode(x[ne],{stream:!(W&&ne==N-1)});return x.length=0,d.h.g+=T,d.C=0,d.h.g}function _c(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function xc(d,x){var T=d.C,N=x.indexOf(`
`,T);return N==-1?Zt:(T=Number(x.substring(T,N)),isNaN(T)?Pt:(N+=1,N+T>x.length?Zt:(x=x.slice(N,N+T),d.C=N+T,x)))}_r.prototype.cancel=function(){this.K=!0,Fn(this)};function Br(d){d.T=Date.now()+d.H,so(d,d.H)}function so(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qn(m(d.aa,d),x)}function qr(d){d.D&&(c.clearTimeout(d.D),d.D=null)}_r.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Es(this.i,this.B),this.M!=2&&(Bn(),Et(17)),Fn(this),this.m=2,sr(this)):so(this,this.T-d)};function sr(d){d.j.I==0||d.K||Lc(d.j,d)}function Fn(d){qr(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Vr(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Hr(d,x){try{var T=d.j;if(T.I!=0&&(T.g==d||Gr(T.h,d))){if(!d.L&&Gr(T.h,d)&&T.I==3){try{var N=T.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)fo(T),hi(T);else break e;va(T),Et(18)}}else T.xa=W[1],0<T.xa-T.K&&W[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qn(m(T.Va,T),6e3));Fr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Wr(T,11)}else if((d.L||T.g==d)&&fo(T),!M(x))for(W=T.Ba.g.parse(x),x=0;x<W.length;x++){let nt=W[x];const _t=nt[0];if(!(_t<=T.K))if(T.K=_t,nt=nt[1],T.I==2)if(nt[0]=="c"){T.M=nt[1],T.ba=nt[2];const or=nt[3];or!=null&&(T.ka=or,T.j.info("VER="+T.ka));const Zr=nt[4];Zr!=null&&(T.za=Zr,T.j.info("SVER="+T.za));const Sr=nt[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(N=1.5*Sr,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Cr=d.g;if(Cr){const ya=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var ne=N.h;ne.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(bl(ne,ne.h),ne.h=null))}if(N.G){const po=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(N.wa=po,it(N.J,N.G,po))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var me=d;if(N.na=Mc(N,N.L?N.ba:null,N.W),me.L){_l(N.h,me);var je=me,It=N.O;It&&(je.H=It),je.D&&(qr(je),Br(je)),N.g=me}else kc(N);T.i.length>0&&Xr(T)}else nt[0]!="stop"&&nt[0]!="close"||Wr(T,7);else T.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Wr(T,7):Rl(T):nt[0]!="noop"&&T.l&&T.l.qa(nt),T.A=0)}}Bn(4)}catch{}}var Vt=class{constructor(d,x){this.g=d,this.map=x}};function vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Fr(d){return d.h?1:d.g?d.g.size:0}function Gr(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function bl(d,x){d.g?d.g.add(x):d.h=x}function _l(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}vl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const T of d.g.values())x=x.concat(T.G);return x}return k(d.i)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(d,x){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const N=d[T].indexOf("=");let W,ne=null;N>=0?(W=d[T].substring(0,N),ne=d[T].substring(N+1)):W=d[T],x(W,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Gn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Gn?(this.l=d.l,Jt(this,d.j),this.o=d.o,this.g=d.g,ii(this,d.u),this.h=d.h,El(this,Cc(d.i)),this.m=d.m):d&&(x=String(d).match(Ec))?(this.l=!1,Jt(this,x[1]||"",!0),this.o=$r(x[2]||""),this.g=$r(x[3]||"",!0),ii(this,x[4]),this.h=$r(x[5]||"",!0),El(this,x[6]||"",!0),this.m=$r(x[7]||"")):(this.l=!1,this.i=new oi(null,this.l))}Gn.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(da(x,ao,!0),":");var T=this.g;return(T||x=="file")&&(d.push("//"),(x=this.o)&&d.push(da(x,ao,!0),"@"),d.push(Ts(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(da(T,T.charAt(0)=="/"?wl:wc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",da(T,Tc)),d.join("")},Gn.prototype.resolve=function(d){const x=Ut(this);let T=!!d.j;T?Jt(x,d.j):T=!!d.o,T?x.o=d.o:T=!!d.g,T?x.g=d.g:T=d.u!=null;var N=d.h;if(T)ii(x,d.u);else if(T=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var W=x.h.lastIndexOf("/");W!=-1&&(N=x.h.slice(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){N=W.lastIndexOf("/",0)==0,W=W.split("/");const ne=[];for(let me=0;me<W.length;){const je=W[me++];je=="."?N&&me==W.length&&ne.push(""):je==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),N&&me==W.length&&ne.push("")):(ne.push(je),N=!0)}N=ne.join("/")}else N=W}return T?x.h=N:T=d.i.toString()!=="",T?El(x,Cc(d.i)):T=!!d.m,T&&(x.m=d.m),x};function Ut(d){return new Gn(d)}function Jt(d,x,T){d.j=T?$r(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function ii(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function El(d,x,T){x instanceof oi?(d.i=x,lo(d.i,d.l)):(T||(x=da(x,ai)),d.i=new oi(x,d.l))}function it(d,x,T){d.i.set(x,T)}function ca(d){return it(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function $r(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function da(d,x,T){return typeof d=="string"?(d=encodeURI(d).replace(x,Ln),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ln(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ao=/[#\/\?@]/g,wc=/[#\?:]/g,wl=/[#\?]/g,ai=/[#\?@]/g,Tc=/#/g;function oi(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Nn(d){d.g||(d.g=new Map,d.h=0,d.i&&io(d.i,function(x,T){d.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=oi.prototype,n.add=function(d,x){Nn(this),this.i=null,d=li(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(x),this.h+=1,this};function Sc(d,x){Nn(d),x=li(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function Tl(d,x){return Nn(d),x=li(d,x),d.g.has(x)}n.forEach=function(d,x){Nn(this),this.g.forEach(function(T,N){T.forEach(function(W){d.call(x,W,N,this)},this)},this)};function Sl(d,x){Nn(d);let T=[];if(typeof x=="string")Tl(d,x)&&(T=T.concat(d.g.get(li(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)T=T.concat(d[x]);return T}n.set=function(d,x){return Nn(this),this.i=null,d=li(this,d),Tl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},n.get=function(d,x){return d?(d=Sl(this,d),d.length>0?String(d[0]):x):x};function oo(d,x,T){Sc(d,x),T.length>0&&(d.i=null,d.g.set(li(d,x),k(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var T=x[N];const W=Ts(T);T=Sl(this,T);for(let ne=0;ne<T.length;ne++){let me=W;T[ne]!==""&&(me+="="+Ts(T[ne])),d.push(me)}}return this.i=d.join("&")};function Cc(d){const x=new oi;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function li(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function lo(d,x){x&&!d.j&&(Nn(d),d.i=null,d.g.forEach(function(T,N){const W=N.toLowerCase();N!=W&&(Sc(this,N),oo(this,W,T))},d)),d.j=x}function Er(d,x){const T=new mn;if(c.Image){const N=new Image;N.onload=b(ir,T,"TestLoadImage: loaded",!0,x,N),N.onerror=b(ir,T,"TestLoadImage: error",!1,x,N),N.onabort=b(ir,T,"TestLoadImage: abort",!1,x,N),N.ontimeout=b(ir,T,"TestLoadImage: timeout",!1,x,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else x(!1)}function Cl(d,x){const T=new mn,N=new AbortController,W=setTimeout(()=>{N.abort(),ir(T,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:N.signal}).then(ne=>{clearTimeout(W),ne.ok?ir(T,"TestPingServer: ok",!0,x):ir(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(W),ir(T,"TestPingServer: error",!1,x)})}function ir(d,x,T,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(T)}catch{}}function ui(){this.g=new oa}function Kr(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Kr,vs),Kr.prototype.g=function(){return new ha(this.i,this.h)};function ha(d,x){mt.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ha,mt),n=ha.prototype,n.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,wr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?ci(this):wr(this),this.readyState==3&&uo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,ci(this))},n.Na=function(d){this.g&&(this.response=d,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(d){d.readyState=4,d.l=null,d.j=null,d.B=null,wr(d)}n.setRequestHeader=function(d,x){this.A.append(d,x)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=x.next();return d.join(`\r
`)};function wr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ar(d){let x="";return ve(d,function(T,N){x+=N,x+=":",x+=T,x+=`\r
`}),x}function fa(d,x,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=ar(T),typeof d=="string"?T!=null&&Ts(T):it(d,x,T))}function lt(d){mt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,mt);var Qr=/^https?$/i,Al=["POST","PUT"];n=lt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,x,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(ne){pa(this,ne);return}if(d=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)T.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())T.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Al,x,void 0)>=0)||N||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,me]of T)this.g.setRequestHeader(ne,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ne){pa(this,ne)}};function pa(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,kl(d),Ss(d)}function kl(d){d.A||(d.A=!0,Ct(d,"complete"),Ct(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ct(this,"complete"),Ct(this,"abort"),Ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},n.Xa=function(){ma(this)};function ma(d){if(d.h&&typeof l<"u"){if(d.v&&Tr(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ct(d,"readystatechange"),Tr(d)==4){d.h=!1;try{const ne=d.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var N;if(N=ne===0){let me=String(d.D).match(Ec)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),N=!Qr.test(me?me.toLowerCase():"")}T=N}if(T)Ct(d,"complete"),Ct(d,"success");else{d.o=6;try{var W=Tr(d)>2?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.ca()+"]",kl(d)}}finally{Ss(d)}}}}function Ss(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,x||Ct(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),si(x)}};function rn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Cs(d){const x={};d=(d.g&&Tr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(M(d[N]))continue;var T=bc(d[N]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=x[W]||[];x[W]=ne,ne.push(T)}G(x,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(d,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||x}function di(d){this.za=0,this.i=[],this.j=new mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,d),this.Za=Yr("retryDelaySeedMs",1e4,d),this.Ta=Yr("forwardChannelMaxRetries",2,d),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(d&&d.concurrentRequestLimit),this.Ba=new ui,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=di.prototype,n.ka=8,n.I=1,n.connect=function(d,x,T,N){Et(0),this.W=d,this.H=x||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=Mc(this,null,this.W),Xr(this)};function Rl(d){if(co(d),d.I==3){var x=d.V++,T=Ut(d.J);if(it(T,"SID",d.M),it(T,"RID",x),it(T,"TYPE","terminate"),ga(d,T),x=new _r(d,d.j,x),x.M=2,x.A=ca(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=Oc(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Br(x)}Ic(d)}function hi(d){d.g&&(Nl(d),d.g.cancel(),d.g=null)}function co(d){hi(d),d.v&&(c.clearTimeout(d.v),d.v=null),fo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Xr(d){if(!yl(d.h)&&!d.m){d.m=!0;var x=d.Ea;F||A(),ee||(F(),ee=!0),R.add(x,d),d.D=0}}function ho(d,x){return Fr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qn(m(d.Ea,d,x),Nc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const W=new _r(this,this.j,d);let ne=this.o;if(this.U&&(ne?(ne=D(ne),re(ne,this.U)):ne=this.U),this.u!==null||this.R||(W.J=ne,ne=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Ac(this,W,x),T=Ut(this.J),it(T,"RID",d),it(T,"CVER",22),this.G&&it(T,"X-HTTP-Session-Id",this.G),ga(this,T),ne&&(this.R?x="headers="+Ts(ar(ne))+"&"+x:this.u&&fa(T,this.u,ne)),bl(this.h,W),this.Ra&&it(T,"TYPE","init"),this.S?(it(T,"$req",x),it(T,"SID","null"),W.U=!0,zr(W,T,null)):zr(W,T,x),this.I=2}}else this.I==3&&(d?Ll(this,d):this.i.length==0||yl(this.h)||Ll(this))};function Ll(d,x){var T;x?T=x.l:T=d.V++;const N=Ut(d.J);it(N,"SID",d.M),it(N,"RID",T),it(N,"AID",d.K),ga(d,N),d.u&&d.o&&fa(N,d.u,d.o),T=new _r(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),x&&(d.i=x.G.concat(d.i)),x=Ac(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bl(d.h,T),zr(T,N,x)}function ga(d,x){d.H&&ve(d.H,function(T,N){it(x,N,T)}),d.l&&ve({},function(T,N){it(x,N,T)})}function Ac(d,x,T){T=Math.min(d.i.length,T);const N=d.l?m(d.l.Ka,d.l,d):null;e:{var W=d.i;let je=-1;for(;;){const It=["count="+T];je==-1?T>0?(je=W[0].g,It.push("ofs="+je)):je=0:It.push("ofs="+je);let nt=!0;for(let _t=0;_t<T;_t++){var ne=W[_t].g;const or=W[_t].map;if(ne-=je,ne<0)je=Math.max(0,W[_t].g-100),nt=!1;else try{ne="req"+ne+"_"||"";try{var me=or instanceof Map?or:Object.entries(or);for(const[Zr,Sr]of me){let Cr=Sr;f(Sr)&&(Cr=br(Sr)),It.push(ne+Zr+"="+encodeURIComponent(Cr))}}catch(Zr){throw It.push(ne+"type="+encodeURIComponent("_badmap")),Zr}}catch{N&&N(or)}}if(nt){me=It.join("&");break e}}me=void 0}return d=d.i.splice(0,T),x.G=d,me}function kc(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;F||A(),ee||(F(),ee=!0),R.add(x,d),d.A=0}}function va(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qn(m(d.Da,d),Nc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qn(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),hi(this),Rc(this))};function Nl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Rc(d){d.g=new _r(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Ut(d.na);it(x,"RID","rpc"),it(x,"SID",d.M),it(x,"AID",d.K),it(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&it(x,"TO",d.ia),it(x,"TYPE","xmlhttp"),ga(d,x),d.u&&d.o&&fa(x,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=ca(Ut(x)),T.u=null,T.R=!0,ro(T,d)}n.Va=function(){this.C!=null&&(this.C=null,hi(this),va(this),Et(19))};function fo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Lc(d,x){var T=null;if(d.g==x){fo(d),Nl(d),d.g=null;var N=2}else if(Gr(d.h,x))T=x.G,_l(d.h,x),N=1;else return;if(d.I!=0){if(x.o)if(N==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var W=d.D;N=bs(),Ct(N,new wn(N,T)),Xr(d)}else kc(d);else if(W=x.m,W==3||W==0&&x.X>0||!(N==1&&ho(d,x)||N==2&&va(d)))switch(T&&T.length>0&&(x=d.h,x.i=x.i.concat(T)),W){case 1:Wr(d,5);break;case 4:Wr(d,10);break;case 3:Wr(d,6);break;default:Wr(d,2)}}}function Nc(d,x){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*x}function Wr(d,x){if(d.j.info("Error code "+x),x==2){var T=m(d.bb,d),N=d.Ua;const W=!N;N=new Gn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jt(N,"https"),ca(N),W?Er(N.toString(),T):Cl(N.toString(),T)}else Et(2);d.I=0,d.l&&d.l.pa(x),Ic(d),co(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ic(d){if(d.I=0,d.ja=[],d.l){const x=xl(d.h);(x.length!=0||d.i.length!=0)&&(L(d.ja,x),L(d.ja,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.oa()}}function Mc(d,x,T){var N=T instanceof Gn?Ut(T):new Gn(T);if(N.g!="")x&&(N.g=x+"."+N.g),ii(N,N.u);else{var W=c.location;N=W.protocol,x=x?x+"."+W.hostname:W.hostname,W=+W.port;const ne=new Gn(null);N&&Jt(ne,N),x&&(ne.g=x),W&&ii(ne,W),T&&(ne.h=T),N=ne}return T=d.G,x=d.wa,T&&x&&it(N,T,x),it(N,"VER",d.ka),ga(d,N),N}function Oc(d,x,T){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new lt(new Kr({ab:T})):new lt(d.ma),x.Fa(d.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}n=Dc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fi(){}fi.prototype.g=function(d,x){return new Tn(d,x)};function Tn(d,x){mt.call(this),this.g=new di(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!M(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new As(this)}_(Tn,mt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Rl(this.g)},Tn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=br(d),d=T);x.i.push(new Vt(x.Ya++,d)),x.I==3&&Xr(x)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,Tn.Z.N.call(this)};function jc(d){jt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const T in x){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}_(jc,jt);function Pc(){nn.call(this),this.status=1}_(Pc,nn);function As(d){this.g=d}_(As,Dc),As.prototype.ra=function(){Ct(this.g,"a")},As.prototype.qa=function(d){Ct(this.g,new jc(d))},As.prototype.pa=function(d){Ct(this.g,new Pc)},As.prototype.oa=function(){Ct(this.g,"b")},fi.prototype.createWebChannel=fi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,jT=function(){return new fi},DT=function(){return bs()},OT=bt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,ah=Re,ml.COMPLETE="complete",MT=ml,la.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Tu=la,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,IT=lt}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",Y_="4.9.3";class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let ul="12.7.0";const $a=new Sg("@firebase/firestore");function Fo(){return $a.logLevel}function _e(n,...e){if($a.logLevel<=Ke.DEBUG){const t=e.map(jg);$a.debug(`Firestore (${ul}): ${n}`,...t)}}function Ws(n,...e){if($a.logLevel<=Ke.ERROR){const t=e.map(jg);$a.error(`Firestore (${ul}): ${n}`,...t)}}function el(n,...e){if($a.logLevel<=Ke.WARN){const t=e.map(jg);$a.warn(`Firestore (${ul}): ${n}`,...t)}}function jg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ne(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,PT(n,s,t)}function PT(n,e,t){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ws(s),new Error(s)}function st(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||PT(e,a,s)}function De(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class VT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bn.UNAUTHENTICATED)))}shutdown(){}}class v2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ks,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ks)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new VT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class b2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const s=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new X_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class Pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=E2(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Qe(n,e){return n<e?-1:n>e?1:0}function Ym(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return Tm(a)===Tm(l)?Qe(a,l):Tm(a)?1:-1}return Qe(n.length,e.length)}const w2=55296,T2=57343;function Tm(n){const e=n.charCodeAt(0);return e>=w2&&e<=T2}function tl(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}const W_="__name__";class rs{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ne(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=rs.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const s=rs.isNumericId(e),a=rs.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?rs.extractNumericId(e).compare(rs.extractNumericId(t)):Ym(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class ft extends rs{construct(e,t,s){return new ft(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends rs{construct(e,t,s){return new cn(e,t,s)}static isValidIdentifier(e){return S2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new cn([W_])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ye(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ye(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}function UT(n,e,t){if(!t)throw new ye(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C2(n,e,t,s){if(e===!0&&s===!0)throw new ye(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z_(n){if(!Ae.isDocumentKey(n))throw new ye(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J_(n){if(Ae.isDocumentKey(n))throw new ye(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yh(n);throw new ye(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $t(n,e){const t={typeString:n};return e&&(t.value=e),t}function ac(n,e){if(!zT(n))throw new ye(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ye(ue.INVALID_ARGUMENT,t);return!0}const ex=-62135596800,tx=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*tx);return new yt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ex)throw new ye(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tx}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ac(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ex;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new yt(0,0))}static max(){return new Me(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function A2(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new Xi(a,Ae.empty(),e)}function k2(n){return new Xi(n.readTime,n.key,zu)}class Xi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xi(Me.min(),Ae.empty(),zu)}static max(){return new Xi(Me.max(),Ae.empty(),zu)}}function R2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}const L2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==L2)throw n;_e("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):de.reject(t)}static resolve(e){return new de(((t,s)=>{t(e)}))}static reject(e){return new de(((t,s)=>{s(e)}))}static waitFor(e){return new de(((t,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(p=>s(p)))})),c=!0,l===a&&t()}))}static or(e){let t=de.resolve(!1);for(const s of e)t=t.next((a=>a?de.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new de(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((b=>{c[m]=b,++f,f===l&&s(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new de(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function I2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Vg=-1;function Wh(n){return n==null}function xh(n){return n===0&&1/n==-1/0}function M2(n){return typeof n=="number"&&Number.isInteger(n)&&!xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const BT="";function O2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nx(e)),e=D2(n.get(t),e);return nx(e)}function D2(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case BT:t+="";break;default:t+=l}}return t}function nx(n){return n+BT+""}function rx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||un.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new un(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sx(this.data.getIterator())}getIteratorFrom(e){return new sx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class sx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class tr{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new tr([])}unionWith(e){let t=new Qt(cn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new HT("Invalid base64 string: "+l):l}})(e);return new dn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=j2.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}const FT="server_timestamp",GT="__type__",$T="__previous_value__",KT="__local_write_time__";function Ug(n){return(n?.mapValue?.fields||{})[GT]?.stringValue===FT}function Zh(n){const e=n.mapValue.fields[$T];return Ug(e)?Zh(e):e}function Bu(n){const e=Wi(n.mapValue.fields[KT].timestampValue);return new yt(e.seconds,e.nanos)}class P2{constructor(e,t,s,a,l,c,f,p,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=b}}const Eh="(default)";class qu{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}const QT="__type__",V2="__max__",Gd={mapValue:{}},YT="__vector__",wh="value";function Ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ug(n)?4:z2(n)?9007199254740991:U2(n)?10:11:Ne(28295,{value:n})}function fs(n,e){if(n===e)return!0;const t=Ji(n);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Wi(a.timestampValue),f=Wi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Zi(a.bytesValue).isEqual(Zi(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Dt(a.doubleValue),f=Dt(l.doubleValue);return c===f?xh(c)===xh(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(rx(c)!==rx(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!fs(c[p],f[p])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function Hu(n,e){return(n.values||[]).find((t=>fs(t,e)))!==void 0}function nl(n,e){if(n===e)return 0;const t=Ji(n),s=Ji(e);if(t!==s)return Qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Dt(l.integerValue||l.doubleValue),p=Dt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return ix(n.timestampValue,e.timestampValue);case 4:return ix(Bu(n),Bu(e));case 5:return Ym(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Zi(l),p=Zi(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const b=Qe(f[m],p[m]);if(b!==0)return b}return Qe(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Qe(Dt(l.latitude),Dt(c.latitude));return f!==0?f:Qe(Dt(l.longitude),Dt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ax(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},p=c.fields||{},m=f[wh]?.arrayValue,b=p[wh]?.arrayValue,_=Qe(m?.values?.length||0,b?.values?.length||0);return _!==0?_:ax(m,b)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Gd.mapValue&&c===Gd.mapValue)return 0;if(l===Gd.mapValue)return 1;if(c===Gd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let _=0;_<p.length&&_<b.length;++_){const w=Ym(p[_],b[_]);if(w!==0)return w;const k=nl(f[p[_]],m[b[_]]);if(k!==0)return k}return Qe(p.length,b.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function ix(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Wi(n),s=Wi(e),a=Qe(t.seconds,s.seconds);return a!==0?a:Qe(t.nanos,s.nanos)}function ax(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=nl(t[a],s[a]);if(l)return l}return Qe(t.length,s.length)}function rl(n){return Xm(n)}function Xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Wi(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Xm(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xm(t.fields[c])}`;return a+"}"})(n.mapValue):Ne(61005,{value:n})}function oh(n){switch(Ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(n);return e?16+oh(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+oh(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return sa(s.fields,((l,c)=>{a+=l.length+oh(c)})),a})(n.mapValue);default:throw Ne(13486,{value:n})}}function ox(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wm(n){return!!n&&"integerValue"in n}function zg(n){return!!n&&"arrayValue"in n}function lx(n){return!!n&&"nullValue"in n}function ux(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lh(n){return!!n&&"mapValue"in n}function U2(n){return(n?.mapValue?.fields||{})[QT]?.stringValue===YT}function Lu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return sa(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Lu(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return{...n}}function z2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===V2}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=cn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=f.popLast()}c?s[f.lastSegment()]=Lu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];lh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){sa(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Vn(Lu(this.value))}}function XT(n){const e=[];return sa(n.fields,((t,s)=>{const a=new cn([t]);if(lh(s)){const l=XT(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new tr(e)}class _n{constructor(e,t,s,a,l,c,f){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new _n(e,0,Me.min(),Me.min(),Me.min(),Vn.empty(),0)}static newFoundDocument(e,t,s,a){return new _n(e,1,t,Me.min(),s,a,0)}static newNoDocument(e,t){return new _n(e,2,t,Me.min(),Me.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Me.min(),Me.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,t){this.position=e,this.inclusive=t}}function cx(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=Ae.comparator(Ae.fromName(c.referenceValue),t.key):s=nl(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fs(n.position[t],e.position[t]))return!1;return!0}class Fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function B2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WT{}class Gt extends WT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new H2(e,t,s):t==="array-contains"?new $2(e,s):t==="in"?new K2(e,s):t==="not-in"?new Q2(e,s):t==="array-contains-any"?new Y2(e,s):new Gt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new F2(e,s):new G2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Ji(this.value)===Ji(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends WT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return ZT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZT(n){return n.op==="and"}function JT(n){return q2(n)&&ZT(n)}function q2(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function Zm(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(JT(n))return n.filters.map((e=>Zm(e))).join(",");{const e=n.filters.map((t=>Zm(t))).join(",");return`${n.op}(${e})`}}function eS(n,e){return n instanceof Gt?(function(s,a){return a instanceof Gt&&s.op===a.op&&s.field.isEqual(a.field)&&fs(s.value,a.value)})(n,e):n instanceof Ir?(function(s,a){return a instanceof Ir&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&eS(c,a.filters[f])),!0):!1})(n,e):void Ne(19439)}function tS(n){return n instanceof Gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(n):n instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(tS).join(" ,")+"}"})(n):"Filter"}class H2 extends Gt{constructor(e,t,s){super(e,t,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class F2 extends Gt{constructor(e,t){super(e,"in",t),this.keys=nS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class G2 extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=nS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function nS(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class $2 extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&Hu(t.arrayValue,this.value)}}class K2 extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class Q2 extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hu(this.value.arrayValue,t)}}class Y2 extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Hu(this.value.arrayValue,s)))}}class X2{constructor(e,t=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function hx(n,e=null,t=[],s=[],a=null,l=null,c=null){return new X2(n,e,t,s,a,l,c)}function Bg(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Zm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>rl(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>rl(s))).join(",")),e.Te=t}return e.Te}function qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!B2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dx(n.startAt,e.startAt)&&dx(n.endAt,e.endAt)}function Jm(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class hl{constructor(e,t=null,s=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W2(n,e,t,s,a,l,c,f){return new hl(n,e,t,s,a,l,c,f)}function Jh(n){return new hl(n)}function fx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rS(n){return n.collectionGroup!==null}function Nu(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Qt(cn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Fu(l,s))})),t.has(cn.keyField().canonicalString())||e.Ie.push(new Fu(cn.keyField(),s))}return e.Ie}function us(n){const e=De(n);return e.Ee||(e.Ee=Z2(e,Nu(n))),e.Ee}function Z2(n,e){if(n.limitType==="F")return hx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Fu(a.field,l)}));const t=n.endAt?new Th(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Th(n.startAt.position,n.startAt.inclusive):null;return hx(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function eg(n,e){const t=n.filters.concat([e]);return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tg(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ef(n,e){return qg(us(n),us(e))&&n.limitType===e.limitType}function sS(n){return`${Bg(us(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>tS(a))).join(", ")}]`),Wh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>rl(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>rl(a))).join(",")),`Target(${s})`})(us(n))}; limitType=${n.limitType})`}function tf(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ae.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of Nu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,p){const m=cx(c,f,p);return c.inclusive?m<=0:m<0})(s.startAt,Nu(s),a)||s.endAt&&!(function(c,f,p){const m=cx(c,f,p);return c.inclusive?m>=0:m>0})(s.endAt,Nu(s),a))})(n,e)}function J2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iS(n){return(e,t)=>{let s=!1;for(const a of Nu(n)){const l=eM(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function eM(n,e,t){const s=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?nl(p,m):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:n.dir})}}class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}const tM=new St(Ae.comparator);function Zs(){return tM}const aS=new St(Ae.comparator);function Su(...n){let e=aS;for(const t of n)e=e.insert(t.key,t);return e}function oS(n){let e=aS;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Pa(){return Iu()}function lS(){return Iu()}function Iu(){return new Ja((n=>n.toString()),((n,e)=>n.isEqual(e)))}const nM=new St(Ae.comparator),rM=new Qt(Ae.comparator);function Ye(...n){let e=rM;for(const t of n)e=e.add(t);return e}const sM=new Qt(Qe);function iM(){return sM}function Hg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function uS(n){return{integerValue:""+n}}function cS(n,e){return M2(e)?uS(e):Hg(n,e)}class nf{constructor(){this._=void 0}}function aM(n,e,t){return n instanceof Gu?(function(a,l){const c={fields:{[GT]:{stringValue:FT},[KT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ug(l)&&(l=Zh(l)),l&&(c.fields[$T]=l),{mapValue:c}})(t,e):n instanceof $u?hS(n,e):n instanceof Ku?fS(n,e):(function(a,l){const c=dS(a,l),f=px(c)+px(a.Ae);return Wm(c)&&Wm(a.Ae)?uS(f):Hg(a.serializer,f)})(n,e)}function oM(n,e,t){return n instanceof $u?hS(n,e):n instanceof Ku?fS(n,e):t}function dS(n,e){return n instanceof Qu?(function(s){return Wm(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Gu extends nf{}class $u extends nf{constructor(e){super(),this.elements=e}}function hS(n,e){const t=pS(e);for(const s of n.elements)t.some((a=>fs(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Ku extends nf{constructor(e){super(),this.elements=e}}function fS(n,e){let t=pS(e);for(const s of n.elements)t=t.filter((a=>!fs(a,s)));return{arrayValue:{values:t}}}class Qu extends nf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function px(n){return Dt(n.integerValue||n.doubleValue)}function pS(n){return zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mS{constructor(e,t){this.field=e,this.transform=t}}function lM(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof $u&&a instanceof $u||s instanceof Ku&&a instanceof Ku?tl(s.elements,a.elements,fs):s instanceof Qu&&a instanceof Qu?fs(s.Ae,a.Ae):s instanceof Gu&&a instanceof Gu})(n.transform,e.transform)}class uM{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rf{}function gS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sf(n.key,Rn.none()):new oc(n.key,n.data,Rn.none());{const t=n.data,s=Vn.empty();let a=new Qt(cn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ia(n.key,s,new tr(a.toArray()),Rn.none())}}function cM(n,e,t){n instanceof oc?(function(a,l,c){const f=a.value.clone(),p=gx(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof ia?(function(a,l,c){if(!uh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=gx(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(vS(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Mu(n,e,t,s){return n instanceof oc?(function(l,c,f,p){if(!uh(l.precondition,c))return f;const m=l.value.clone(),b=vx(l.fieldTransforms,p,c);return m.setAll(b),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,s):n instanceof ia?(function(l,c,f,p){if(!uh(l.precondition,c))return f;const m=vx(l.fieldTransforms,p,c),b=c.data;return b.setAll(vS(l)),b.setAll(m),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,s):(function(l,c,f){return uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function dM(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=dS(s.transform,a||null);l!=null&&(t===null&&(t=Vn.empty()),t.set(s.field,l))}return t||null}function mx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&tl(s,a,((l,c)=>lM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class oc extends rf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends rf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function gx(n,e,t){const s=new Map;st(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,oM(c,f,t[a]))}return s}function vx(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,aM(l,c,e))}return s}class sf extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hM extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fM{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&cM(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Mu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Mu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=lS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const p=gS(c,f);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Me.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((t,s)=>mx(t,s)))&&tl(this.baseMutations,e.baseMutations,((t,s)=>mx(t,s)))}}class Fg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return nM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Fg(e,t,s,a)}}class pM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mM{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ft,Ze;function gM(n){switch(n){case ue.OK:return Ne(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function yS(n){if(n===void 0)return Ws("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ft.OK:return ue.OK;case Ft.CANCELLED:return ue.CANCELLED;case Ft.UNKNOWN:return ue.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ue.INTERNAL;case Ft.UNAVAILABLE:return ue.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ue.NOT_FOUND;case Ft.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ft.ABORTED:return ue.ABORTED;case Ft.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ft.DATA_LOSS:return ue.DATA_LOSS;default:return Ne(39323,{code:n})}}(Ze=Ft||(Ft={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function vM(){return new TextEncoder}const yM=new Ki([4294967295,4294967295],0);function yx(n){const e=vM().encode(n),t=new NT;return t.update(e),new Uint8Array(t.digest())}function bx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ki([t,s],0),new Ki([a,l],0)]}class Gg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ki.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Ki.fromNumber(s)));return a.compare(yM)===1&&(a=new Ki([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=yx(e),[s,a]=bx(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Gg(l,a,t);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=yx(e),[s,a]=bx(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new af(Me.min(),a,new St(Qe),Zs(),Ye())}}class lc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new lc(s,t,Ye(),Ye(),Ye())}}class ch{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class bS{constructor(e,t){this.targetId=e,this.Ce=t}}class _S{constructor(e,t,s=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class _x{constructor(){this.ve=0,this.Fe=xx(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),t=Ye(),s=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new lc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=xx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=$d(),this.He=$d(),this.Ye=new St(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Jm(l))if(s===0){const c=new Ae(l.path);this.et(t,c,_n.newNoDocument(c,Me.min()))}else st(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Zi(s).toUint8Array()}catch(p){if(p instanceof HT)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Gg(c,a,l)}catch(p){return el(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Jm(f.target)){const p=new Ae(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,_n.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=Ye();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new af(e,t,this.Ye,this.je,s);return this.je=Zs(),this.Je=$d(),this.He=$d(),this.Ye=new St(Qe),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _x,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qt(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qt(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _x),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $d(){return new St(Ae.comparator)}function xx(){return new St(Ae.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EM={and:"AND",or:"OR"};class wM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(n,e){return n.useProto3Json||Wh(e)?e:{value:e}}function Sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TM(n,e){return Sh(n,e.toTimestamp())}function cs(n){return st(!!n,49232),Me.fromTimestamp((function(t){const s=Wi(t);return new yt(s.seconds,s.nanos)})(n))}function $g(n,e){return rg(n,e).canonicalString()}function rg(n,e){const t=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ES(n){const e=ft.fromString(n);return st(AS(e),10190,{key:e.toString()}),e}function sg(n,e){return $g(n.databaseId,e.path)}function Sm(n,e){const t=ES(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(TS(t))}function wS(n,e){return $g(n.databaseId,e)}function SM(n){const e=ES(n);return e.length===4?ft.emptyPath():TS(e)}function ig(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TS(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ex(n,e,t){return{name:sg(n,e),fields:t.value.mapValue.fields}}function CM(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,b){return m.useProto3Json?(st(b===void 0||typeof b=="string",58123),dn.fromBase64String(b||"")):(st(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),dn.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const b=m.code===void 0?ue.UNKNOWN:yS(m.code);return new ye(b,m.message||"")})(c);t=new _S(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Sm(n,s.document.name),l=cs(s.document.updateTime),c=s.document.createTime?cs(s.document.createTime):Me.min(),f=new Vn({mapValue:{fields:s.document.fields}}),p=_n.newFoundDocument(a,l,c,f),m=s.targetIds||[],b=s.removedTargetIds||[];t=new ch(m,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Sm(n,s.document),l=s.readTime?cs(s.readTime):Me.min(),c=_n.newNoDocument(a,l),f=s.removedTargetIds||[];t=new ch([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Sm(n,s.document),l=s.removedTargetIds||[];t=new ch([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new mM(a,l),f=s.targetId;t=new bS(f,c)}}return t}function AM(n,e){let t;if(e instanceof oc)t={update:Ex(n,e.key,e.value)};else if(e instanceof sf)t={delete:sg(n,e.key)};else if(e instanceof ia)t={update:Ex(n,e.key,e.data),updateMask:jM(e.fieldMask)};else{if(!(e instanceof hM))return Ne(16599,{Vt:e.type});t={verify:sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof $u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qu)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ne(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:TM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(n,e.precondition)),t}function kM(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?cs(a.updateTime):cs(l);return c.isEqual(Me.min())&&(c=cs(l)),new uM(c,a.transformResults||[])})(t,e)))):[]}function RM(n,e){return{documents:[wS(n,e.path)]}}function LM(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=wS(n,a);const l=(function(m){if(m.length!==0)return CS(Ir.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((b=>(function(w){return{field:$o(w.field),direction:MM(w.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=ng(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function NM(n){let e=SM(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){st(s===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(_){const w=SS(_);return w instanceof Ir&&JT(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((w=>(function(L){return new Fu(Ko(L.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let w;return w=typeof _=="object"?_.value:_,Wh(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(_){const w=!!_.before,k=_.values||[];return new Th(k,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const w=!_.before,k=_.values||[];return new Th(k,w)})(t.endAt)),W2(e,a,c,l,f,"F",p,m)}function IM(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ko(t.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(t.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(t.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Gt.create(Ko(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((s=>SS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function MM(n){return _M[n]}function OM(n){return xM[n]}function DM(n){return EM[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Ko(n){return cn.fromServerFormat(n.fieldPath)}function CS(n){return n instanceof Gt?(function(t){if(t.op==="=="){if(ux(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(lx(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ux(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(lx(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:OM(t.op),value:t.value}}})(n):n instanceof Ir?(function(t){const s=t.getFilters().map((a=>CS(a)));return s.length===1?s[0]:{compositeFilter:{op:DM(t.op),filters:s}}})(n):Ne(54877,{filter:n})}function jM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function AS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Fi{constructor(e,t,s,a,l=Me.min(),c=Me.min(),f=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PM{constructor(e){this.yt=e}}function VM(n){const e=NM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tg(e,e.limit,"L"):e}class UM{constructor(){this.Cn=new zM}addToCollectionParentIndex(e,t){return this.Cn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Xi.min())}updateCollectionGroup(e,t,s){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class zM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Qt(ft.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Qt(ft.comparator)).toArray()}}const wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(kS,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}const Tx="LruGarbageCollector",BM=1048576;function Sx([n,e],[t,s]){const a=Qe(n,t);return a===0?Qe(e,s):a}class qM{constructor(e){this.Ir=e,this.buffer=new Qt(Sx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Sx(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(Tx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?_e(Tx,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.Vr(3e5)}))}}class FM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return de.resolve(Xh.ce);const s=new qM(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(wx)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,c,f,p,m;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,t)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(m=Date.now(),Fo()<=Ke.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-b}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function GM(n,e){return new FM(n,e)}class $M{constructor(){this.changes=new Ja((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?de.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QM{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Mu(s.mutation,a,tr.empty(),yt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ye()){const a=Pa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=Su();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Pa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ye())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,s,a){let l=Zs();const c=Iu(),f=(function(){return Iu()})();return t.forEach(((p,m)=>{const b=s.get(m.key);a.has(m.key)&&(b===void 0||b.mutation instanceof ia)?l=l.insert(m.key,m):b!==void 0?(c.set(m.key,b.mutation.getFieldMask()),Mu(b.mutation,m,b.mutation.getFieldMask(),yt.now())):c.set(m.key,tr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,b)=>c.set(m,b))),t.forEach(((m,b)=>f.set(m,new KM(b,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,t){const s=Iu();let a=new St(((c,f)=>c-f)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let b=s.get(p)||tr.empty();b=f.applyToLocalView(m,b),s.set(p,b);const _=(a.get(f.batchId)||Ye()).add(p);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,b=p.value,_=lS();b.forEach((w=>{if(!l.has(w)){const k=gS(t.get(w),s.get(w));k!==null&&_.set(w,k),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return de.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):de.resolve(Pa());let f=zu,p=l;return c.next((m=>de.forEach(m,((b,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(b)?de.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{p=p.insert(b,w)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Ye()))).next((b=>({batchId:f,changes:oS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((s=>{let a=Su();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(p=>{const m=(function(_,w){return new hl(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((b=>{b.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((p,m)=>{const b=m.getKey();c.get(b)===null&&(c=c.insert(b,_n.newInvalidDocument(b)))}));let f=Su();return c.forEach(((p,m)=>{const b=l.get(p);b!==void 0&&Mu(b.mutation,m,tr.empty(),yt.now()),tf(t,m)&&(f=f.insert(p,m))})),f}))}}class YM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return de.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}})(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:VM(a.bundledQuery),readTime:cs(a.readTime)}})(t)),de.resolve()}}class XM{constructor(){this.overlays=new St(Ae.comparator),this.qr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pa();return de.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),de.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),de.resolve()}getOverlaysForCollection(e,t,s){const a=Pa(),l=t.length+1,c=new Ae(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return de.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new St(((m,b)=>m-b));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let b=l.get(m.largestBatchId);b===null&&(b=Pa(),l=l.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const f=Pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,b)=>f.set(m,b))),!(f.size()>=a)););return de.resolve(f)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new pM(t,s));let l=this.qr.get(t);l===void 0&&(l=Ye(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class WM{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}class Kg{constructor(){this.Qr=new Qt(tn.$r),this.Ur=new Qt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new tn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new tn(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ae(new ft([])),s=new tn(t,e),a=new tn(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ft([])),s=new tn(t,e),a=new tn(t,e+1);let l=Ye();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new tn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}class ZM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(tn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fM(l,t,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new tn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Vg:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new tn(t,0),a=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Qt(Qe);return t.forEach((a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),de.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ae.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Ae(l),0);let f=new Qt(Qe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Yr)),!0)}),c),de.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){st(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return de.forEach(t.mutations,(a=>{const l=new tn(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new tn(t,0),a=this.Zr.firstAfterOrEqual(s);return de.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JM{constructor(e){this.ri=e,this.docs=(function(){return new St(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return de.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let s=Zs();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),de.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Zs();const c=t.path,f=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:b}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||R2(k2(b),s)<=0||(a.has(b.key)||tf(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ne(9500)}ii(e,t){return de.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new eO(this)}getSize(e){return de.resolve(this.size)}}class eO extends $M{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),de.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class tO{constructor(e){this.persistence=e,this.si=new Ja((t=>Bg(t)),qg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new Kg,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),de.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Pr(t),de.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return de.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),de.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return de.resolve(s)}containsKey(e,t){return de.resolve(this._i.containsKey(t))}}class RS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new WM,this.referenceDelegate=e(this),this.Pi=new tO(this),this.indexManager=new UM,this.remoteDocumentCache=(function(a){return new JM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new PM(t),this.Ii=new YM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new ZM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){_e("MemoryPersistence","Starting transaction:",e);const a=new nO(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return de.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class nO extends N2{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.Ri=new Kg,this.Vi=null}static mi(e){return new Qg(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),de.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(s=>{const a=Ae.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return de.or([()=>de.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.pi=new Ja((s=>O2(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=GM(this,t)}static mi(e,t){return new Ch(e,t)}Ei(){}di(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return de.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?de.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(s++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),de.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),de.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oh(e.data.value)),t}br(e,t,s){return de.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return de.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Ye(),a=Ye();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yg(e,t.fromCache,s,a)}}class rO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IR()?8:I2(En())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new rO;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Fo()<=Ke.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(Fo()<=Ke.DEBUG&&_e("QueryEngine","Query:",Go(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Fo()<=Ke.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(t))):de.resolve())}ys(e,t){if(fx(t))return de.resolve(null);let s=us(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=tg(t,null,"F"),s=us(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ye(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.Ds(t,f);return this.Cs(t,m,c,p.readTime)?this.ys(e,tg(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,s,a){return fx(t)||a.isEqual(Me.min())?de.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,a)?de.resolve(null):(Fo()<=Ke.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(t)),this.vs(e,c,t,A2(a,zu)).next((f=>f)))}))}Ds(e,t){let s=new Qt(iS(e));return t.forEach(((a,l)=>{tf(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Fo()<=Ke.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ps.getDocumentsMatchingQuery(e,t,Xi.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Xg="LocalStore",iO=3e8;class aO{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new St(Qe),this.xs=new Ja((l=>Bg(l)),qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function oO(n,e,t,s){return new aO(n,e,t,s)}async function LS(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let p=Ye();for(const m of a){c.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}for(const m of l){f.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function lO(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,b){const _=m.batch,w=_.keys();let k=de.resolve();return w.forEach((L=>{k=k.next((()=>b.getEntry(p,L))).next((P=>{const I=m.docVersions.get(L);st(I!==null,48541),P.version.compareTo(I)<0&&(_.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),b.addEntry(P)))}))})),k.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Ye();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function NS(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function uO(n,e){const t=De(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((b,_)=>{const w=a.get(_);if(!w)return;f.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,b.addedDocuments,_))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?k=k.withResumeToken(dn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,s)),a=a.insert(_,k),(function(P,I,B){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=iO?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,k,b)&&f.push(t.Pi.updateTargetData(l,k))}));let p=Zs(),m=Ye();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),f.push(cO(l,c,e.documentUpdates).next((b=>{p=b.ks,m=b.qs}))),!s.isEqual(Me.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(b)}return de.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function cO(n,e,t){let s=Ye(),a=Ye();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=Zs();return t.forEach(((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):_e(Xg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function dO(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function hO(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,de.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new Fi(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function ag(n,e,t){const s=De(n),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!dl(c))throw c;_e(Xg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Cx(n,e,t){const s=De(n);let a=Me.min(),l=Ye();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,b){const _=De(p),w=_.xs.get(b);return w!==void 0?de.resolve(_.Ms.get(w)):_.Pi.getTargetData(m,b)})(s,c,us(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Me.min(),t?l:Ye()))).next((f=>(fO(s,J2(e),f),{documents:f,Qs:l})))))}function fO(n,e,t){let s=n.Os.get(e)||Me.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Ax{constructor(){this.activeTargetIds=iM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pO{constructor(){this.Mo=new Ax,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ax,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mO{Oo(e){}shutdown(){}}const kx="ConnectivityMonitor";class Rx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(kx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(kx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kd=null;function og(){return Kd===null?Kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kd++,"0x"+Kd.toString(16)}const Cm="RestConnection",gO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const c=og(),f=this.zo(e,t.toUriEncodedString());_e(Cm,`Sending RPC '${e}' ${c}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:m}=new URL(f),b=ra(m);return this.Jo(e,f,p,s,b).then((_=>(_e(Cm,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw el(Cm,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,t,s,a,l,c){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=gO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class yO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class bO extends vO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=og();return new Promise(((f,p)=>{const m=new IT;m.setWithCredentials(!0),m.listenOnce(MT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ah.NO_ERROR:const _=m.getResponseJson();_e(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case ah.TIMEOUT:_e(vn,`RPC '${e}' ${c} timed out`),p(new ye(ue.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const w=m.getStatus();if(_e(vn,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const L=k?.error;if(L&&L.status&&L.message){const P=(function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(z)>=0?z:ue.UNKNOWN})(L.status);p(new ye(P,L.message))}else p(new ye(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ye(ue.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_e(vn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);_e(vn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",b,s,15)}))}T_(e,t,s){const a=og(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jT(),f=DT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const b=l.join("");_e(vn,`Creating RPC '${e}' stream ${a}: ${b}`,p);const _=c.createWebChannel(b,p);this.I_(_);let w=!1,k=!1;const L=new yO({Yo:I=>{k?_e(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(w||(_e(vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),_e(vn,`RPC '${e}' stream ${a} sending:`,I),_.send(I))},Zo:()=>_.close()}),P=(I,B,z)=>{I.listen(B,(Y=>{try{z(Y)}catch(H){setTimeout((()=>{throw H}),0)}}))};return P(_,Tu.EventType.OPEN,(()=>{k||(_e(vn,`RPC '${e}' stream ${a} transport opened.`),L.o_())})),P(_,Tu.EventType.CLOSE,(()=>{k||(k=!0,_e(vn,`RPC '${e}' stream ${a} transport closed`),L.a_(),this.E_(_))})),P(_,Tu.EventType.ERROR,(I=>{k||(k=!0,el(vn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),L.a_(new ye(ue.UNAVAILABLE,"The operation could not be completed")))})),P(_,Tu.EventType.MESSAGE,(I=>{if(!k){const B=I.data[0];st(!!B,16349);const z=B,Y=z?.error||z[0]?.error;if(Y){_e(vn,`RPC '${e}' stream ${a} received error:`,Y);const H=Y.status;let F=(function(A){const S=Ft[A];if(S!==void 0)return yS(S)})(H),ee=Y.message;F===void 0&&(F=ue.INTERNAL,ee="Unknown error status: "+H+" with message "+Y.message),k=!0,L.a_(new ye(F,ee)),_.close()}else _e(vn,`RPC '${e}' stream ${a} received:`,B),L.u_(B)}})),P(f,OT.STAT_EVENT,(I=>{I.stat===Qm.PROXY?_e(vn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Qm.NOPROXY&&_e(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Am(){return typeof document<"u"?document:null}function of(n){return new wM(n,!0)}class IS{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Lx="PersistentStream";class MS{constructor(e,t,s,a,l,c,f,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ws(t.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(Lx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(Lx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _O extends MS{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=CM(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?cs(c.readTime):Me.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=ig(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=Jm(p)?{documents:RM(l,p)}:{query:LM(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=xS(l,c.resumeToken);const m=ng(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=Sh(l,c.snapshotVersion.toTimestamp());const m=ng(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const s=IM(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=ig(this.serializer),t.removeTarget=e,this.q_(t)}}class xO extends MS{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=kM(e.writeResults,e.commitTime),s=cs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=ig(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>AM(this.serializer,s)))};this.q_(t)}}class EO{}class wO extends EO{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,rg(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ue.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,rg(t,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class SO{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{eo(this)&&(_e(Ka,"Restarting streams for network reachability change."),await(async function(p){const m=De(p);m.Ea.add(4),await uc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await lf(m)})(this))}))})),this.Ra=new TO(s,a)}}async function lf(n){if(eo(n))for(const e of n.da)await e(!0)}async function uc(n){for(const e of n.da)await e(!1)}function OS(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ev(t)?Jg(t):fl(t).O_()&&Zg(t,e))}function Wg(n,e){const t=De(n),s=fl(t);t.Ia.delete(e),s.O_()&&DS(t,e),t.Ia.size===0&&(s.O_()?s.L_():eo(t)&&t.Ra.set("Unknown"))}function Zg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(n).Y_(e)}function DS(n,e){n.Va.Ue(e),fl(n).Z_(e)}function Jg(n){n.Va=new bM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.Ra.ua()}function ev(n){return eo(n)&&!fl(n).x_()&&n.Ia.size>0}function eo(n){return De(n).Ea.size===0}function jS(n){n.Va=void 0}async function CO(n){n.Ra.set("Online")}async function AO(n){n.Ia.forEach(((e,t)=>{Zg(n,e)}))}async function kO(n,e){jS(n),ev(n)?(n.Ra.ha(e),Jg(n)):n.Ra.set("Unknown")}async function RO(n,e,t){if(n.Ra.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(s){_e(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(n,s)}else if(e instanceof ch?n.Va.Ze(e):e instanceof bS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Me.min()))try{const s=await NS(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.Ia.get(m);b&&l.Ia.set(m,b.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,m)=>{const b=l.Ia.get(p);if(!b)return;l.Ia.set(p,b.withResumeToken(dn.EMPTY_BYTE_STRING,b.snapshotVersion)),DS(l,p);const _=new Fi(b.target,p,m,b.sequenceNumber);Zg(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(s){_e(Ka,"Failed to raise snapshot:",s),await Ah(n,s)}}async function Ah(n,e,t){if(!dl(e))throw e;n.Ea.add(1),await uc(n),n.Ra.set("Offline"),t||(t=()=>NS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_e(Ka,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await lf(n)}))}function PS(n,e){return e().catch((t=>Ah(n,t,e)))}async function uf(n){const e=De(n),t=ea(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vg;for(;LO(e);)try{const a=await dO(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,NO(e,a)}catch(a){await Ah(e,a)}VS(e)&&US(e)}function LO(n){return eo(n)&&n.Ta.length<10}function NO(n,e){n.Ta.push(e);const t=ea(n);t.O_()&&t.X_&&t.ea(e.mutations)}function VS(n){return eo(n)&&!ea(n).x_()&&n.Ta.length>0}function US(n){ea(n).start()}async function IO(n){ea(n).ra()}async function MO(n){const e=ea(n);for(const t of n.Ta)e.ea(t.mutations)}async function OO(n,e,t){const s=n.Ta.shift(),a=Fg.from(s,e,t);await PS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await uf(n)}async function DO(n,e){e&&ea(n).X_&&await(async function(s,a){if((function(c){return gM(c)&&c!==ue.ABORTED})(a.code)){const l=s.Ta.shift();ea(s).B_(),await PS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await uf(s)}})(n,e),VS(n)&&US(n)}async function Nx(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),_e(Ka,"RemoteStore received new credentials");const s=eo(t);t.Ea.add(3),await uc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await lf(t)}async function jO(n,e){const t=De(n);e?(t.Ea.delete(2),await lf(t)):e||(t.Ea.add(2),await uc(t),t.Ra.set("Unknown"))}function fl(n){return n.ma||(n.ma=(function(t,s,a){const l=De(t);return l.sa(),new _O(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:CO.bind(null,n),t_:AO.bind(null,n),r_:kO.bind(null,n),H_:RO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ev(n)?Jg(n):n.Ra.set("Unknown")):(await n.ma.stop(),jS(n))}))),n.ma}function ea(n){return n.fa||(n.fa=(function(t,s,a){const l=De(t);return l.sa(),new xO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:IO.bind(null,n),r_:DO.bind(null,n),ta:MO.bind(null,n),na:OO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await uf(n)):(await n.fa.stop(),n.Ta.length>0&&(_e(Ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class tv{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,f=new tv(e,t,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(n,e){if(Ws("AsyncQueue",`${e}: ${n}`),dl(n))return new ye(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ae.comparator(t.key,s.key):(t,s)=>Ae.comparator(t.key,s.key),this.keyedMap=Su(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Ix{constructor(){this.ga=new St(Ae.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class il{constructor(e,t,s,a,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new il(e,t,Zo.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class PO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VO{constructor(){this.queries=Mx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=De(t),l=a.queries;a.queries=Mx(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new ye(ue.ABORTED,"Firestore shutting down"))}}function Mx(){return new Ja((n=>sS(n)),ef)}async function rv(n,e){const t=De(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new PO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=nv(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&iv(t)}async function sv(n,e){const t=De(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function UO(n,e){const t=De(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&iv(t)}function zO(n,e,t){const s=De(n),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function iv(n){n.Ca.forEach((e=>{e.next()}))}var lg,Ox;(Ox=lg||(lg={})).Ma="default",Ox.Cache="cache";class av{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lg.Cache}}class zS{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class BO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=iS(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Ix,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,_)=>{const w=a.get(b),k=tf(this.query,_)?_:null,L=!!w&&this.mutatedKeys.has(w.key),P=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let I=!1;w&&k?w.data.isEqual(k.data)?L!==P&&(s.track({type:3,doc:k}),I=!0):this.su(w,k)||(s.track({type:2,doc:k}),I=!0,(p&&this.eu(k,p)>0||m&&this.eu(k,m)<0)&&(f=!0)):!w&&k?(s.track({type:0,doc:k}),I=!0):w&&!k&&(s.track({type:1,doc:w}),I=!0,(p||m)&&(f=!0)),I&&(k?(c=c.add(k),l=P?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),s.track({type:1,doc:b})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,_)=>(function(k,L){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:I})}};return P(k)-P(L)})(b.type,_.type)||this.eu(b.doc,_.doc))),this.ou(s),a=a??!1;const f=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new il(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ix,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new BS(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new zS(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ye();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ov="SyncEngine";class qO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class HO{constructor(e){this.key=e,this.hu=!1}}class FO{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ja((f=>sS(f)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new St(Ae.comparator),this.Au=new Map,this.Ru=new Kg,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GO(n,e,t=!0){const s=KS(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await qS(s,e,t,!0),a}async function $O(n,e){const t=KS(n);await qS(t,e,!0,!1)}async function qS(n,e,t,s){const a=await hO(n.localStore,us(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await KO(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&OS(n.remoteStore,a),f}async function KO(n,e,t,s,a){n.pu=(_,w,k)=>(async function(P,I,B,z){let Y=I.view.ru(B);Y.Cs&&(Y=await Cx(P.localStore,I.query,!1).then((({documents:R})=>I.view.ru(R,Y))));const H=z&&z.targetChanges.get(I.targetId),F=z&&z.targetMismatches.get(I.targetId)!=null,ee=I.view.applyChanges(Y,P.isPrimaryClient,H,F);return jx(P,I.targetId,ee.au),ee.snapshot})(n,_,w,k);const l=await Cx(n.localStore,e,!0),c=new BO(e,l.Qs),f=c.ru(l.documents),p=lc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,p);jx(n,t,m.au);const b=new qO(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function QO(n,e,t){const s=De(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!ef(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ag(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Wg(s.remoteStore,a.targetId),ug(s,a.targetId)})).catch(cl)):(ug(s,a.targetId),await ag(s.localStore,a.targetId,!0))}async function YO(n,e){const t=De(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Wg(t.remoteStore,s.targetId))}async function XO(n,e,t){const s=rD(n);try{const a=await(function(c,f){const p=De(c),m=yt.now(),b=f.reduce(((k,L)=>k.add(L.key)),Ye());let _,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let L=Zs(),P=Ye();return p.Ns.getEntries(k,b).next((I=>{L=I,L.forEach(((B,z)=>{z.isValidDocument()||(P=P.add(B))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,L))).next((I=>{_=I;const B=[];for(const z of f){const Y=dM(z,_.get(z.key).overlayedDocument);Y!=null&&B.push(new ia(z.key,Y,XT(Y.value.mapValue),Rn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,B,f)})).next((I=>{w=I;const B=I.applyToLocalDocumentSet(_,P);return p.documentOverlayCache.saveOverlays(k,I.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:oS(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new St(Qe)),m=m.insert(f,p),c.Vu[c.currentUser.toKey()]=m})(s,a.batchId,t),await cc(s,a.changes),await uf(s.remoteStore)}catch(a){const l=nv(a,"Failed to persist write");t.reject(l)}}async function HS(n,e){const t=De(n);try{const s=await uO(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?st(c.hu,14607):a.removedDocuments.size>0&&(st(c.hu,42227),c.hu=!1))})),await cc(t,s,e)}catch(s){await cl(s)}}function Dx(n,e,t){const s=De(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const p=De(c);p.onlineState=f;let m=!1;p.queries.forEach(((b,_)=>{for(const w of _.Sa)w.va(f)&&(m=!0)})),m&&iv(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WO(n,e,t){const s=De(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new St(Ae.comparator);c=c.insert(l,_n.newNoDocument(l,Me.min()));const f=Ye().add(l),p=new af(Me.min(),new Map,new St(Qe),c,f);await HS(s,p),s.du=s.du.remove(l),s.Au.delete(e),lv(s)}else await ag(s.localStore,e,!1).then((()=>ug(s,e,t))).catch(cl)}async function ZO(n,e){const t=De(n),s=e.batch.batchId;try{const a=await lO(t.localStore,e);GS(t,s,null),FS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await cc(t,a)}catch(a){await cl(a)}}async function JO(n,e,t){const s=De(n);try{const a=await(function(c,f){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return p.mutationQueue.lookupMutationBatch(m,f).next((_=>(st(_!==null,37113),b=_.keys(),p.mutationQueue.removeMutationBatch(m,_)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,b,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>p.localDocuments.getDocuments(m,b)))}))})(s.localStore,e);GS(s,e,t),FS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await cc(s,a)}catch(a){await cl(a)}}function FS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function GS(n,e,t){const s=De(n);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ug(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||$S(n,s)}))}function $S(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Wg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),lv(n))}function jx(n,e,t){for(const s of t)s instanceof zS?(n.Ru.addReference(s.key,e),eD(n,s)):s instanceof BS?(_e(ov,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||$S(n,s.key)):Ne(19791,{wu:s})}function eD(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(_e(ov,"New document in limbo: "+t),n.Eu.add(s),lv(n))}function lv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ft.fromString(e)),s=n.fu.next();n.Au.set(s,new HO(t)),n.du=n.du.insert(t,s),OS(n.remoteStore,new Fi(us(Jh(t.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function cc(n,e,t){const s=De(n),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{c.push(s.pu(p,e,t).then((m=>{if((m||t)&&s.isPrimaryClient){const b=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){a.push(m);const b=Yg.As(p.targetId,m);l.push(b)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,m){const b=De(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>de.forEach(m,(w=>de.forEach(w.Es,(k=>b.persistence.referenceDelegate.addReference(_,w.targetId,k))).next((()=>de.forEach(w.ds,(k=>b.persistence.referenceDelegate.removeReference(_,w.targetId,k)))))))))}catch(_){if(!dl(_))throw _;_e(Xg,"Failed to update sequence numbers: "+_)}for(const _ of m){const w=_.targetId;if(!_.fromCache){const k=b.Ms.get(w),L=k.snapshotVersion,P=k.withLastLimboFreeSnapshotVersion(L);b.Ms=b.Ms.insert(w,P)}}})(s.localStore,l))}async function tD(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){_e(ov,"User change. New user:",e.toKey());const s=await LS(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ye(ue.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cc(t,s.Ls)}}function nD(n,e){const t=De(n),s=t.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let a=Ye();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function KS(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.Pu.H_=UO.bind(null,e.eventManager),e.Pu.yu=zO.bind(null,e.eventManager),e}function rD(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oO(this.persistence,new sO,e.initialUser,this.serializer)}Cu(e){return new RS(Qg.mi,this.serializer)}Du(e){return new pO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class sD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HM(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new RS((s=>Ch.mi(s,t)),this.serializer)}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tD.bind(null,this.syncEngine),await jO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VO})()}createDatastore(e){const t=of(e.databaseInfo.databaseId),s=(function(l){return new bO(l)})(e.databaseInfo);return(function(l,c,f,p){return new wO(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,f){return new SO(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Dx(this.syncEngine,t,0)),(function(){return Rx.v()?new Rx:new mO})())}createSyncEngine(e,t){return(function(a,l,c,f,p,m,b){const _=new FO(a,l,c,f,p,m);return b&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);_e(Ka,"RemoteStore shutting down."),s.Ea.add(5),await uc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cg.provider={build:()=>new cg};class uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ta="FirestoreClient";class iD{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=Pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{_e(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(_e(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=nv(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function km(n,e){n.asyncQueue.verifyOperationInProgress(),_e(ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await LS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Px(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aD(n);_e(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Nx(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>Nx(e.remoteStore,a))),n._onlineComponents=e}async function aD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(ta,"Using user provided OfflineComponentProvider");try{await km(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await km(n,new kh)}}else _e(ta,"Using default OfflineComponentProvider"),await km(n,new sD(void 0));return n._offlineComponents}async function QS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(ta,"Using user provided OnlineComponentProvider"),await Px(n,n._uninitializedComponentsProvider._online)):(_e(ta,"Using default OnlineComponentProvider"),await Px(n,new cg))),n._onlineComponents}function oD(n){return QS(n).then((e=>e.syncEngine))}async function Rh(n){const e=await QS(n),t=e.eventManager;return t.onListen=GO.bind(null,e.syncEngine),t.onUnlisten=QO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$O.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YO.bind(null,e.syncEngine),t}function lD(n,e,t={}){const s=new Ks;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const b=new uv({next:w=>{b.Nu(),c.enqueueAndForget((()=>sv(l,_)));const k=w.docs.has(f);!k&&w.fromCache?m.reject(new ye(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?m.reject(new ye(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new av(Jh(f.path),b,{includeMetadataChanges:!0,qa:!0});return rv(l,_)})(await Rh(n),n.asyncQueue,e,t,s))),s.promise}function uD(n,e,t={}){const s=new Ks;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const b=new uv({next:w=>{b.Nu(),c.enqueueAndForget((()=>sv(l,_))),w.fromCache&&p.source==="server"?m.reject(new ye(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new av(f,b,{includeMetadataChanges:!0,qa:!0});return rv(l,_)})(await Rh(n),n.asyncQueue,e,t,s))),s.promise}function YS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Vx=new Map;const XS="firestore.googleapis.com",Ux=!0;class zx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=Ux}else this.host=e.host,this.ssl=e.ssl??Ux;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BM)throw new ye(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new g2;switch(s.type){case"firstParty":return new _2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Vx.get(t);s&&(_e("ComponentProvider","Removing Datastore"),Vx.delete(t),s.terminate())})(this),Promise.resolve()}}function cD(n,e,t,s={}){n=kn(n,cf);const a=ra(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(wg(`https://${f}`),Tg("Firestore",!0)),l.host!==XS&&l.host!==f&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!qa(p,c)&&(n._setSettings(p),s.mockUserToken)){let m,b;if(typeof s.mockUserToken=="string")m=s.mockUserToken,b=bn.MOCK_USER;else{m=Gw(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ye(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new bn(_)}n._authCredentials=new v2(new VT(m,b))}}class aa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Rt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ac(t,Rt._jsonSchema))return new Rt(e,s||null,new Ae(ft.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:$t("string",Rt._jsonSchemaVersion),referencePath:$t("string")};class Qi extends aa{constructor(e,t,s){super(e,t,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new Ae(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function na(n,e,...t){if(n=pt(n),UT("collection","path",e),n instanceof cf){const s=ft.fromString(e,...t);return J_(s),new Qi(n,null,s)}{if(!(n instanceof Rt||n instanceof Qi))throw new ye(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ft.fromString(e,...t));return J_(s),new Qi(n.firestore,null,s)}}function xn(n,e,...t){if(n=pt(n),arguments.length===1&&(e=Pg.newId()),UT("doc","path",e),n instanceof cf){const s=ft.fromString(e,...t);return Z_(s),new Rt(n,null,new Ae(s))}{if(!(n instanceof Rt||n instanceof Qi))throw new ye(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ft.fromString(e,...t));return Z_(s),new Rt(n.firestore,n instanceof Qi?n.converter:null,new Ae(s))}}const Bx="AsyncQueue";class qx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IS(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&_e(Bx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Am();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Am();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;_e(Bx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",Hx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=tv.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:Hx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Fx(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class ps extends cf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new qx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qx(e),this._firestoreClient=void 0,await e}}}function dD(n,e){const t=typeof n=="object"?n:Ag(),s=typeof n=="string"?n:Eh,a=Gh(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=qw("firestore");l&&cD(a,...l)}return a}function dc(n){if(n._terminated)throw new ye(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hD(n),n._firestoreClient}function hD(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new P2(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,YS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new iD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(dn.fromBase64String(e))}catch(t){throw new ye(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ac(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:$t("string",vr._jsonSchemaVersion),bytes:$t("string")};class hc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fc{constructor(e){this._methodName=e}}class ds{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(e){if(ac(e,ds._jsonSchema))return new ds(e.latitude,e.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:$t("string",ds._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class hs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ac(e,hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hs(e.vectorValues);throw new ye(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:$t("string",hs._jsonSchemaVersion),vectorValues:$t("object")};const fD=/^__.*__$/;class pD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new oc(e,this.data,t,this.fieldTransforms)}}class WS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class cv{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZS(this.Ac)&&fD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||of(e)}Cc(e,t,s,a=!1){return new cv({Ac:e,methodName:t,Dc:s,path:cn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pc(n){const e=n._freezeSettings(),t=of(n._databaseId);return new mD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dv(n,e,t,s,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);pv("Data must be an object, but it was:",c,s);const f=t1(s,c);let p,m;if(l.merge)p=new tr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const _ of l.mergeFields){const w=dg(e,_,t);if(!c.contains(w))throw new ye(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);r1(b,w)||b.push(w)}p=new tr(b),m=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,m=c.fieldTransforms;return new pD(new Vn(f),p,m)}class df extends fc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class hv extends fc{_toFieldTransform(e){return new mS(e.path,new Gu)}isEqual(e){return e instanceof hv}}class fv extends fc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Qu(e.serializer,cS(e.serializer,this.Fc));return new mS(e.path,t)}isEqual(e){return e instanceof fv&&this.Fc===e.Fc}}function JS(n,e,t,s){const a=n.Cc(1,e,t);pv("Data must be an object, but it was:",a,s);const l=[],c=Vn.empty();sa(s,((p,m)=>{const b=mv(e,p,t);m=pt(m);const _=a.yc(b);if(m instanceof df)l.push(b);else{const w=mc(m,_);w!=null&&(l.push(b),c.set(b,w))}}));const f=new tr(l);return new WS(c,f,a.fieldTransforms)}function e1(n,e,t,s,a,l){const c=n.Cc(1,e,t),f=[dg(e,s,t)],p=[a];if(l.length%2!=0)throw new ye(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(dg(e,l[w])),p.push(l[w+1]);const m=[],b=Vn.empty();for(let w=f.length-1;w>=0;--w)if(!r1(m,f[w])){const k=f[w];let L=p[w];L=pt(L);const P=c.yc(k);if(L instanceof df)m.push(k);else{const I=mc(L,P);I!=null&&(m.push(k),b.set(k,I))}}const _=new tr(m);return new WS(b,_,c.fieldTransforms)}function gD(n,e,t,s=!1){return mc(t,n.Cc(s?4:3,e))}function mc(n,e){if(n1(n=pt(n)))return pv("Unsupported field value:",e,n),t1(n,e);if(n instanceof fc)return(function(s,a){if(!ZS(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let p=mc(f,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:Sh(a.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(a.serializer,l)}}if(s instanceof ds)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vr)return{bytesValue:xS(a.serializer,s._byteString)};if(s instanceof Rt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$g(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof hs)return(function(c,f){return{mapValue:{fields:{[QT]:{stringValue:YT},[wh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Hg(f.serializer,m)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Yh(s)}`)})(n,e)}function t1(n,e){const t={};return qT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(n,((s,a)=>{const l=mc(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function n1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof ds||n instanceof vr||n instanceof Rt||n instanceof fc||n instanceof hs)}function pv(n,e,t){if(!n1(t)||!zT(t)){const s=Yh(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function dg(n,e,t){if((e=pt(e))instanceof hc)return e._internalPath;if(typeof e=="string")return mv(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const vD=new RegExp("[~\\*/\\[\\]]");function mv(n,e,t){if(e.search(vD)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hc(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ye(ue.INVALID_ARGUMENT,f+n+p)}function r1(n,e){return n.some((t=>t.isEqual(e)))}class s1{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yD extends s1{data(){return super.data()}}function hf(n,e){return typeof e=="string"?mv(n,e):e instanceof hc?e._internalPath:e._delegate._internalPath}function i1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class a1 extends gv{}function gc(n,e,...t){let s=[];e instanceof gv&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof vv)).length,f=l.filter((p=>p instanceof ff)).length;if(c>1||c>0&&f>0)throw new ye(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class ff extends a1{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ff(e,t,s)}_apply(e){const t=this._parse(e);return u1(e._query,t),new aa(e.firestore,e.converter,eg(e._query,t))}_parse(e){const t=pc(e.firestore);return(function(l,c,f,p,m,b,_){let w;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ye(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){$x(_,b);const L=[];for(const P of _)L.push(Gx(p,l,P));w={arrayValue:{values:L}}}else w=Gx(p,l,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||$x(_,b),w=gD(f,c,_,b==="in"||b==="not-in");return Gt.create(m,b,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function o1(n,e,t){const s=e,a=hf("where",n);return ff._create(a,s,t)}class vv extends gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vv(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const p of f)u1(c,p),c=eg(c,p)})(e._query,t),new aa(e.firestore,e.converter,eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yv extends a1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yv(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ye(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(l,c)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new hl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function l1(n,e="asc"){const t=e,s=hf("orderBy",n);return yv._create(s,t)}function Gx(n,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new ye(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(e)&&t.indexOf("/")!==-1)throw new ye(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ft.fromString(t));if(!Ae.isDocumentKey(s))throw new ye(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ox(n,new Ae(s))}if(t instanceof Rt)return ox(n,t._key);throw new ye(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}function $x(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u1(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ye(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bD{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return sa(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[wh].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new hs(t)}convertGeoPoint(e){return new ds(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ft.fromString(e);st(AS(s),9688,{name:e});const a=new qu(s.get(1),s.get(3)),l=new Ae(s.popFirst(5));return a.isEqual(t)||Ws(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function bv(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends s1{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ua._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:$t("string",Ua._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class dh extends Ua{data(e={}){return super.data(e)}}class za{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new dh(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const p=new dh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new dh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,b=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),b=c.indexOf(f.doc.key)),{type:_D(f.type),doc:p,oldIndex:m,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _D(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}function xD(n){n=kn(n,Rt);const e=kn(n.firestore,ps);return lD(dc(e),n._key).then((t=>d1(e,n,t)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:$t("string",za._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class _v extends bD{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function xv(n){n=kn(n,aa);const e=kn(n.firestore,ps),t=dc(e),s=new _v(e);return i1(n._query),uD(t,n._query).then((a=>new za(e,s,n,a)))}function Nh(n,e,t){n=kn(n,Rt);const s=kn(n.firestore,ps),a=bv(n.converter,e,t);return vc(s,[dv(pc(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Rn.none())])}function Yu(n,e,t,...s){n=kn(n,Rt);const a=kn(n.firestore,ps),l=pc(a);let c;return c=typeof(e=pt(e))=="string"||e instanceof hc?e1(l,"updateDoc",n._key,e,t,s):JS(l,"updateDoc",n._key,e),vc(a,[c.toMutation(n._key,Rn.exists(!0))])}function c1(n){return vc(kn(n.firestore,ps),[new sf(n._key,Rn.none())])}function ED(n,e){const t=kn(n.firestore,ps),s=xn(n),a=bv(n.converter,e);return vc(t,[dv(pc(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Rn.exists(!1))]).then((()=>s))}function pf(n,...e){n=pt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Fx(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Fx(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,f;if(n instanceof Rt)c=kn(n.firestore,ps),f=Jh(n._key.path),l={next:p=>{e[s]&&e[s](d1(c,n,p))},error:e[s+1],complete:e[s+2]};else{const p=kn(n,aa);c=kn(p.firestore,ps),f=p._query;const m=new _v(c);l={next:b=>{e[s]&&e[s](new za(c,m,p,b))},error:e[s+1],complete:e[s+2]},i1(n._query)}return(function(m,b,_,w){const k=new uv(w),L=new av(b,k,_);return m.asyncQueue.enqueueAndForget((async()=>rv(await Rh(m),L))),()=>{k.Nu(),m.asyncQueue.enqueueAndForget((async()=>sv(await Rh(m),L)))}})(dc(c),f,a,l)}function vc(n,e){return(function(s,a){const l=new Ks;return s.asyncQueue.enqueueAndForget((async()=>XO(await oD(s),a,l))),l.promise})(dc(n),e)}function d1(n,e,t){const s=t.docs.get(e._key),a=new _v(n);return new Ua(n,a,e._key,s,new Au(t.hasPendingWrites,t.fromCache),e.converter)}class wD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pc(e)}set(e,t,s){this._verifyNotCommitted();const a=Rm(e,this._firestore),l=bv(a.converter,t,s),c=dv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Rn.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=Rm(e,this._firestore);let c;return c=typeof(t=pt(t))=="string"||t instanceof hc?e1(this._dataReader,"WriteBatch.update",l._key,t,s,a):JS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rm(e,this._firestore);return this._mutations=this._mutations.concat(new sf(t._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rm(n,e){if((n=pt(n)).firestore!==e)throw new ye(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function TD(){return new hv("serverTimestamp")}function SD(n){return new fv("increment",n)}function CD(n){return dc(n=kn(n,ps)),new wD(n,(e=>vc(n,e)))}(function(e,t=!0){(function(a){ul=a})(Wa),Ha(new Yi("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new ps(new y2(s.getProvider("auth-internal")),new x2(c,s.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(m.options.projectId,b)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),as(Q_,Y_,e),as(Q_,Y_,"esm2020")})();const h1="firebasestorage.googleapis.com",f1="storageBucket",AD=120*1e3,kD=600*1e3;class Nt extends ms{constructor(e,t,s=0){super(Lm(e),`Firebase Storage: ${t} (${Lm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function Lm(n){return"storage/"+n}function Ev(){const n="An unknown error occurred, please check the error payload for server response.";return new Nt(Lt.UNKNOWN,n)}function RD(n){return new Nt(Lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function LD(n){return new Nt(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ND(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(Lt.UNAUTHENTICATED,n)}function ID(){return new Nt(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MD(n){return new Nt(Lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function OD(){return new Nt(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DD(){return new Nt(Lt.CANCELED,"User canceled the upload/download.")}function jD(n){return new Nt(Lt.INVALID_URL,"Invalid URL '"+n+"'.")}function PD(n){return new Nt(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function VD(){return new Nt(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f1+"' property when initializing the app?")}function UD(){return new Nt(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zD(){return new Nt(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BD(n){return new Nt(Lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hg(n){return new Nt(Lt.INVALID_ARGUMENT,n)}function p1(){return new Nt(Lt.APP_DELETED,"The Firebase app was deleted.")}function qD(n){return new Nt(Lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ou(n,e){return new Nt(Lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vu(n){throw new Nt(Lt.INTERNAL_ERROR,"Internal error: "+n)}class nr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=nr.makeFromUrl(e,t)}catch{return new nr(e,"")}if(s.path==="")return s;throw PD(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const b="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${_}/${b}/b/${a}/o${w}`,"i"),L={bucket:1,path:3},P=t===h1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",B=new RegExp(`^https?://${P}/${a}/${I}`,"i"),Y=[{regex:f,indices:p,postModify:l},{regex:k,indices:L,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<Y.length;H++){const F=Y[H],ee=F.regex.exec(e);if(ee){const R=ee[F.indices.bucket];let A=ee[F.indices.path];A||(A=""),s=new nr(R,A),F.postModify(s);break}}if(s==null)throw jD(e);return s}}class HD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FD(n,e,t){let s=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function b(...I){m||(m=!0,e.apply(null,I))}function _(I){a=setTimeout(()=>{a=null,n(k,p())},I)}function w(){l&&clearTimeout(l)}function k(I,...B){if(m){w();return}if(I){w(),b.call(null,I,...B);return}if(p()||c){w(),b.call(null,I,...B);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,_(Y)}let L=!1;function P(I){L||(L=!0,w(),!m&&(a!==null?(I||(f=2),clearTimeout(a),_(0)):I||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,P(!0)},t),P}function GD(n){n(!1)}function $D(n){return n!==void 0}function KD(n){return typeof n=="object"&&!Array.isArray(n)}function wv(n){return typeof n=="string"||n instanceof String}function Kx(n){return Tv()&&n instanceof Blob}function Tv(){return typeof Blob<"u"}function Qx(n,e,t,s){if(s<e)throw hg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw hg(`Invalid value for '${n}'. Expected ${t} or less.`)}function Sv(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function m1(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ba;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ba||(Ba={}));function QD(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class YD{constructor(e,t,s,a,l,c,f,p,m,b,_,w=!0,k=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=b,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,P)=>{this.resolve_=L,this.reject_=P,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Qd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ba.NO_ERROR,p=l.getStatus();if(!f||QD(p,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===Ba.ABORT;s(!1,new Qd(!1,null,b));return}const m=this.successCodes_.indexOf(p)!==-1;s(!0,new Qd(m,l))})},t=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());$D(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=Ev();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?p1():DD();c(p)}else{const p=OD();c(p)}};this.canceled_?t(!1,new Qd(!1,null,!0)):this.backoffId_=FD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qd{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function XD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function WD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function JD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ej(n,e,t,s,a,l,c=!0,f=!1){const p=m1(n.urlParams),m=n.url+p,b=Object.assign({},n.headers);return ZD(b,e),XD(b,t),WD(b,l),JD(b,s),new YD(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function tj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nj(...n){const e=tj();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Tv())return new Blob(n);throw new Nt(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rj(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function sj(n){if(typeof atob>"u")throw BD("base-64");return atob(n)}const is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nm{constructor(e,t){this.data=e,this.contentType=t||null}}function ij(n,e){switch(n){case is.RAW:return new Nm(g1(e));case is.BASE64:case is.BASE64URL:return new Nm(v1(n,e));case is.DATA_URL:return new Nm(oj(e),lj(e))}throw Ev()}function g1(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=n.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function aj(n){let e;try{e=decodeURIComponent(n)}catch{throw Ou(is.DATA_URL,"Malformed data URL.")}return g1(e)}function v1(n,e){switch(n){case is.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ou(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case is.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ou(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=sj(e)}catch(a){throw a.message.includes("polyfill")?a:Ou(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class y1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ou(is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=uj(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function oj(n){const e=new y1(n);return e.base64?v1(is.BASE64,e.rest):aj(e.rest)}function lj(n){return new y1(n).contentType}function uj(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Hi{constructor(e,t){let s=0,a="";Kx(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Kx(this.data_)){const s=this.data_,a=rj(s,e,t);return a===null?null:new Hi(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Hi(s,!0)}}static getBlob(...e){if(Tv()){const t=e.map(s=>s instanceof Hi?s.data_:s);return new Hi(nj.apply(null,t))}else{const t=e.map(c=>wv(c)?ij(is.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Hi(a,!0)}}uploadData(){return this.data_}}function b1(n){let e;try{e=JSON.parse(n)}catch{return null}return KD(e)?e:null}function cj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function dj(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function _1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function hj(n,e){return e}class Cn{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||hj}}let Yd=null;function fj(n){return!wv(n)||n.length<2?n:_1(n)}function x1(){if(Yd)return Yd;const n=[];n.push(new Cn("bucket")),n.push(new Cn("generation")),n.push(new Cn("metageneration")),n.push(new Cn("name","fullPath",!0));function e(l,c){return fj(c)}const t=new Cn("name");t.xform=e,n.push(t);function s(l,c){return c!==void 0?Number(c):c}const a=new Cn("size");return a.xform=s,n.push(a),n.push(new Cn("timeCreated")),n.push(new Cn("updated")),n.push(new Cn("md5Hash",null,!0)),n.push(new Cn("cacheControl",null,!0)),n.push(new Cn("contentDisposition",null,!0)),n.push(new Cn("contentEncoding",null,!0)),n.push(new Cn("contentLanguage",null,!0)),n.push(new Cn("contentType",null,!0)),n.push(new Cn("metadata","customMetadata",!0)),Yd=n,Yd}function pj(n,e){function t(){const s=n.bucket,a=n.fullPath,l=new nr(s,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function mj(n,e,t){const s={};s.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return pj(s,n),s}function E1(n,e,t){const s=b1(e);return s===null?null:mj(n,s,t)}function gj(n,e,t,s){const a=b1(e);if(a===null||!wv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const b=n.bucket,_=n.fullPath,w="/b/"+c(b)+"/o/"+c(_),k=Sv(w,t,s),L=m1({alt:"media",token:m});return k+L})[0]}function vj(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class w1{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function T1(n){if(!n)throw Ev()}function yj(n,e){function t(s,a){const l=E1(n,a,e);return T1(l!==null),l}return t}function bj(n,e){function t(s,a){const l=E1(n,a,e);return T1(l!==null),gj(l,a,n.host,n._protocol)}return t}function S1(n){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=ID():a=ND():t.getStatus()===402?a=LD(n.bucket):t.getStatus()===403?a=MD(n.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function _j(n){const e=S1(n);function t(s,a){let l=e(s,a);return s.getStatus()===404&&(l=RD(n.path)),l.serverResponse=a.serverResponse,l}return t}function xj(n,e,t){const s=e.fullServerUrl(),a=Sv(s,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new w1(a,l,bj(n,t),c);return f.errorHandler=_j(e),f}function Ej(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function wj(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=Ej(null,e)),s}function Tj(n,e,t,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let Y="";for(let H=0;H<2;H++)Y=Y+Math.random().toString().slice(2);return Y}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=wj(e,s,a),b=vj(m,t),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+p+"--",k=Hi.getBlob(_,s,w);if(k===null)throw UD();const L={name:m.fullPath},P=Sv(l,n.host,n._protocol),I="POST",B=n.maxUploadRetryTime,z=new w1(P,I,yj(n,t),B);return z.urlParams=L,z.headers=c,z.body=k.uploadData(),z.errorHandler=S1(e),z}class Sj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,l){if(this.sent_)throw vu("cannot .send() more than once");if(ra(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Cj extends Sj{initXhr(){this.xhr_.responseType="text"}}function C1(){return new Cj}class Qa{constructor(e,t){this._service=e,t instanceof nr?this._location=t:this._location=nr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qa(e,t)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _1(this._location.path)}get storage(){return this._service}get parent(){const e=cj(this._location.path);if(e===null)return null;const t=new nr(this._location.bucket,e);return new Qa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw qD(e)}}function Aj(n,e,t){n._throwIfRoot("uploadBytes");const s=Tj(n.storage,n._location,x1(),new Hi(e,!0),t);return n.storage.makeRequestWithTokens(s,C1).then(a=>({metadata:a,ref:n}))}function kj(n){n._throwIfRoot("getDownloadURL");const e=xj(n.storage,n._location,x1());return n.storage.makeRequestWithTokens(e,C1).then(t=>{if(t===null)throw zD();return t})}function Rj(n,e){const t=dj(n._location.path,e),s=new nr(n._location.bucket,t);return new Qa(n.storage,s)}function Lj(n){return/^[A-Za-z]+:\/\//.test(n)}function Nj(n,e){return new Qa(n,e)}function A1(n,e){if(n instanceof Cv){const t=n;if(t._bucket==null)throw VD();const s=new Qa(t,t._bucket);return e!=null?A1(s,e):s}else return e!==void 0?Rj(n,e):n}function Ij(n,e){if(e&&Lj(e)){if(n instanceof Cv)return Nj(n,e);throw hg("To use ref(service, url), the first argument must be a Storage instance.")}else return A1(n,e)}function Yx(n,e){const t=e?.[f1];return t==null?null:nr.makeFromBucketSpec(t,n)}function Mj(n,e,t,s={}){n.host=`${e}:${t}`;const a=ra(e);a&&(wg(`https://${n.host}/b`),Tg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:Gw(l,n.app.options.projectId))}class Cv{constructor(e,t,s,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=h1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AD,this._maxUploadRetryTime=kD,this._requests=new Set,a!=null?this._bucket=nr.makeFromBucketSpec(a,this._host):this._bucket=Yx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=Yx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new HD(p1());{const c=ej(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const Xx="@firebase/storage",Wx="0.14.0";const k1="storage";function Oj(n,e,t){return n=pt(n),Aj(n,e,t)}function Dj(n){return n=pt(n),kj(n)}function jj(n,e){return n=pt(n),Ij(n,e)}function Pj(n=Ag(),e){n=pt(n);const s=Gh(n,k1).getImmediate({identifier:e}),a=qw("storage");return a&&Vj(s,...a),s}function Vj(n,e,t,s={}){Mj(n,e,t,s)}function Uj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Cv(t,s,a,e,Wa)}function zj(){Ha(new Yi(k1,Uj,"PUBLIC").setMultipleInstances(!0)),as(Xx,Wx,""),as(Xx,Wx,"esm2020")}zj();const Bj={apiKey:"AIzaSyDLV_7VhVreewagteqfNtx4-I9AkSYMRwk",authDomain:"auraverde-db.firebaseapp.com",projectId:"auraverde-db",storageBucket:"auraverde-db.firebasestorage.app",messagingSenderId:"1045483358918",appId:"1:1045483358918:web:1a82ec3c166abc5641a5c7"},Av=Qw(Bj),Xd=p2(Av),wt=dD(Av),qj=Pj(Av),R1=y.createContext();function rr(){return y.useContext(R1)}function Hj({children:n}){const[e,t]=y.useState(null),[s,a]=y.useState(null),[l,c]=y.useState(null),[f,p]=y.useState(!0);async function m(L,P,I){const B=await WN(Xd,L,P),z=B.user;try{await JN(z)}catch(Y){console.error("Error sending verification email:",Y)}return await Nh(xn(wt,"users",z.uid),{email:z.email,displayName:I||"",role:"customer",favorites:[],createdAt:new Date().toISOString()}),B}function b(L,P){return ZN(Xd,L,P)}function _(){return rI(Xd)}async function w(L){if(!e)return;const P=xn(wt,"users",e.uid),I=l?.favorites||[];let B;I.includes(L)?B=I.filter(z=>z!==L):B=[...I,L];try{await Nh(P,{favorites:B},{merge:!0})}catch(z){console.error("Error toggling favorite:",z)}}y.useEffect(()=>{const L=nI(Xd,async P=>{if(t(P),p(!0),P){const I=xn(wt,"users",P.uid),B=pf(I,z=>{if(z.exists()){const Y=z.data();a(Y.role),c(Y)}else a("customer"),c(null);p(!1)},z=>{console.error("Error fetching user data:",z),p(!1)});return()=>B()}else a(null),c(null),p(!1)});return()=>L()},[]);const k={currentUser:e,userRole:s,userData:l,toggleFavorite:w,signin:b,login:b,signup:m,logout:_};return v.jsx(R1.Provider,{value:k,children:!f&&n})}const Fj=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:v.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.645-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),Gj=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:[v.jsx("path",{d:"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"}),v.jsx("path",{d:"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"})]});function L1({className:n=""}){return v.jsxs("div",{className:`flex items-center gap-4 ${n}`,children:[v.jsx("a",{href:"https://www.instagram.com/auraverdesuculentas/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full",title:"Instagram",children:v.jsx(Fj,{className:"w-8 h-8"})}),v.jsx("a",{href:"mailto:auraverdesuculentas@gmail.com",className:"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full",title:"Email",children:v.jsx(Gj,{className:"w-8 h-8"})})]})}const N1=y.createContext();function $j({children:n}){const[e,t]=y.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});y.useEffect(()=>{const a=window.document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const s=()=>{t(a=>a==="dark"?"light":"dark")};return v.jsx(N1.Provider,{value:{theme:e,toggleTheme:s},children:n})}const Kj=()=>y.useContext(N1);function I1({className:n=""}){const{theme:e,toggleTheme:t}=Kj();return v.jsx("button",{onClick:t,className:`p-2 rounded-full transition-colors active:scale-95 ${e==="dark"?"bg-slate-800 text-yellow-400 hover:bg-slate-700":"bg-orange-100 text-orange-500 hover:bg-orange-200"} ${n}`,"aria-label":"Toggle Theme",children:v.jsx("span",{className:"material-symbols-outlined text-xl align-middle",children:e==="dark"?"dark_mode":"light_mode"})})}function Qj(){const n=Js(),e=Un(),{currentUser:t,userRole:s,logout:a}=rr(),l=[{icon:"home",label:"Inicio",path:"/"},{icon:"search",label:"Buscar",path:"/catalog"},{icon:"shopping_cart",label:"Carrito",path:"/cart"},{icon:"person",label:"Perfil",path:"/profile"}],c=f=>f==="/"?n.pathname==="/":n.pathname.startsWith(f);return v.jsxs("div",{className:"flex min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display transition-colors duration-300",children:[v.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-gray-200 dark:border-gray-800 bg-surface-light dark:bg-background-dark p-6 sticky top-0 h-screen",children:[v.jsxs("div",{className:"flex flex-col items-center -mt-2 mb-10 px-2 w-full",children:[v.jsx(An,{to:"/",className:"w-40 h-40 flex items-center justify-center mb-2 transition-transform duration-300 hover:scale-105 active:scale-95 active:rotate-3 cursor-pointer",children:v.jsx("img",{src:"/auraverde/logolocal.svg",alt:"AuraVerde Logo",className:"w-full h-full object-contain animate-float"})}),v.jsx("h1",{className:"font-varela text-3xl text-primary font-bold tracking-wide -mt-6 text-center w-full leading-none",children:"AURA VERDE"})]}),v.jsx("nav",{className:"flex flex-col gap-2 flex-1",children:l.map(f=>v.jsxs("button",{onClick:()=>e(f.path),className:`flex items-center gap-3 p-3 rounded-xl transition-all duration-200 group text-left
                ${c(f.path)?"bg-primary text-white shadow-md shadow-emerald-200 dark:shadow-emerald-900/20":"text-text-secondary dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-text-main dark:hover:text-white"}`,children:[v.jsx("span",{className:`material-symbols-outlined transition-transform duration-300 group-hover:scale-110 ${c(f.path)?"font-bold":""}`,children:f.icon}),v.jsx("span",{className:"font-medium text-sm",children:f.label})]},f.label))}),v.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-200 dark:border-gray-800 flex flex-col gap-2",children:[t?v.jsxs(v.Fragment,{children:[s==="admin"&&v.jsxs("button",{onClick:()=>e("/admin"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),v.jsx("span",{className:"font-medium text-sm",children:"Panel Maestro"})]}),v.jsxs("button",{onClick:a,className:"flex items-center gap-3 p-3 rounded-xl w-full text-text-secondary dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined",children:"logout"}),v.jsx("span",{className:"font-medium text-sm",children:"Cerrar Sesin"})]})]}):v.jsxs("button",{onClick:()=>e("/login"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-primary hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined",children:"login"}),v.jsx("span",{className:"font-medium text-sm",children:"Iniciar Sesin"})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center justify-center gap-6 w-full",children:[v.jsx(I1,{}),v.jsx(L1,{})]})]})]}),v.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto md:p-8 pb-24 md:pb-8",children:v.jsx("div",{className:"h-full w-full",children:v.jsx(Nk,{})})}),v.jsx("div",{className:"md:hidden",children:!["/cart","/checkout"].includes(n.pathname)&&!n.pathname.startsWith("/product/")&&v.jsx(Pw,{})})]})}function kv(){const[n,e]=y.useState([]),[t,s]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function c(){try{const f=gc(na(wt,"products"),l1("createdAt","desc")),m=(await xv(f)).docs.map(b=>({id:b.id,...b.data(),firestoreId:b.id}));e(m)}catch(f){console.error("Error fetching products:",f),l(f)}finally{s(!1)}}c()},[]),{products:n,loading:t,error:a}}function Yj(n){const[e,t]=y.useState(null),[s,a]=y.useState(!0),[l,c]=y.useState(null);return y.useEffect(()=>{if(!n)return;async function f(){try{const p=parseInt(n),m=isNaN(p)?n:p,b=gc(na(wt,"products"),o1("id","==",m)),_=await xv(b);if(_.empty){const w=xn(wt,"products",n),k=await xD(w);k.exists()?t({id:k.id,...k.data()}):c("Producto no encontrado")}else{const w=_.docs[0];t({id:w.data().id,...w.data(),firestoreId:w.id})}}catch(p){console.error("Error fetching product:",p),c(p)}finally{a(!1)}}f()},[n]),{product:e,loading:s,error:l}}function Rv({id:n,name:e,type:t,price:s,image:a,isNew:l,badge:c,onAddToCart:f}){const{toggleFavorite:p,userData:m}=rr(),b=m?.favorites?.includes(n),_=c||(l?"nuevo":null);return v.jsxs("div",{className:"group flex flex-col gap-3",children:[v.jsxs("div",{className:"relative w-full aspect-[3/4] rounded-2xl overflow-hidden bg-slate-100 dark:bg-surface-dark",children:[v.jsx(An,{to:`/product/${n}`,children:v.jsx("img",{alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",src:a})}),_&&_!=="none"&&v.jsx("div",{className:`absolute top-3 left-3 px-2 py-1 text-white text-[10px] font-black uppercase tracking-wider rounded-md shadow-md z-10
            ${_==="nuevo"?"bg-emerald-500":"bg-red-500"}
          `,children:_}),v.jsxs("button",{onClick:w=>{w.preventDefault(),p(n)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-white/50 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center transition-all hover:bg-white dark:hover:bg-surface-dark group/fav",children:[v.jsx("span",{className:`material-symbols-outlined text-[20px] transition-colors ${b?"text-red-500 fill-current":"text-white group-hover/fav:text-red-500"}`,children:"favorite"}),v.jsx("style",{children:`
               .material-symbols-outlined { font-variation-settings: 'FILL' ${b?1:0}, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
             `})]}),v.jsx("button",{onClick:w=>{w.preventDefault(),p&&p(n)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-black/20 hover:bg-white/90 dark:hover:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center transition-all text-white hover:text-red-500",title:b?"Quitar de favoritos":"Aadir a favoritos",children:v.jsx("span",{className:`material-symbols-outlined text-[20px] ${b?"text-red-500":""}`,style:{fontVariationSettings:`'FILL' ${b?1:0}`},children:"favorite"})}),v.jsx("button",{onClick:w=>{w.preventDefault(),f&&f()},className:"absolute bottom-3 right-3 z-10 h-10 w-10 rounded-full bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center text-slate-900 dark:text-white shadow-lg active:scale-90 transition-all hover:bg-primary hover:text-slate-900 cursor-pointer",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"flex justify-between items-start",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-900 dark:text-white text-base font-bold leading-tight",children:e}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium mt-1",children:t})]})}),v.jsxs("p",{className:"text-slate-900 dark:text-primary text-sm font-bold mt-2",children:["$",s.toFixed(2)]})]})]})}function yc({title:n="Catlogo",showSearch:e=!0,onSearch:t,searchValue:s}){const{cartItems:a}=Xa(),{currentUser:l,logout:c,userRole:f}=rr(),p=a.reduce((m,b)=>m+b.quantity,0);return v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-background-light dark:bg-background-dark z-10 shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs(An,{to:"/",className:"md:hidden flex flex-col items-center justify-center gap-0 group",children:[v.jsx("div",{className:"h-28 w-28 flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-active:scale-95 group-active:rotate-3 -mb-3",children:v.jsx("img",{src:"/auraverde/logolocal.svg",alt:"Logo",className:"w-full h-full object-contain"})}),v.jsx("div",{className:"flex items-center leading-none",children:v.jsx("span",{className:"text-xl font-bold tracking-[0.1em] text-primary whitespace-nowrap",children:"AURA VERDE"})})]}),v.jsx("h1",{className:"hidden md:block text-2xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:n})]}),v.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[v.jsx(I1,{}),l?v.jsxs(v.Fragment,{children:[f==="admin"&&v.jsx(An,{to:"/admin",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-emerald-500",title:"Panel Admin",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"admin_panel_settings"})}),v.jsx("button",{onClick:c,className:"flex items-center justify-center p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-slate-500 hover:text-red-500",title:"Cerrar Sesin",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"})})]}):v.jsx(An,{to:"/login",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-primary",title:"Iniciar Sesin",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"login"})}),v.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1 hidden md:block"}),v.jsx(An,{to:"/catalog",className:"hidden md:flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"search"})}),v.jsxs(An,{to:"/cart",className:"relative flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:[v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),p>0&&v.jsx("span",{className:"absolute top-0 right-0 h-5 w-5 flex items-center justify-center rounded-full bg-primary text-[10px] font-bold text-slate-900 border-2 border-background-light dark:border-background-dark",children:p})]})]})]}),e&&v.jsx("div",{className:"px-6 pb-2 shrink-0",children:v.jsxs("div",{className:"relative flex items-center w-full h-12 rounded-xl bg-white dark:bg-surface-dark shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden group focus-within:ring-2 focus-within:ring-primary/50 transition-all",children:[v.jsx("div",{className:"grid place-items-center h-full w-12 text-slate-400",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),v.jsx("input",{className:"peer h-full w-full outline-none text-sm text-slate-700 dark:text-slate-200 pr-2 bg-transparent placeholder-slate-400 font-medium",id:"search",placeholder:"Buscar plantas...",type:"text",value:s,onChange:m=>t&&t(m.target.value)})]})})]})}function Xj(){return v.jsx("footer",{className:"bg-white dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 py-12 px-6",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8",children:[v.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[v.jsx("h2",{className:"text-2xl font-bold font-varela text-primary tracking-wide",children:"AURA VERDE"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-2 max-w-xs",children:"Llevando la naturaleza a tu hogar con las mejores suculentas."})]}),v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider",children:"Sguenos"}),v.jsx(L1,{})]}),v.jsxs("div",{className:"text-center md:text-right",children:[v.jsxs("p",{className:"text-xs text-slate-400 dark:text-gray-500",children:[" ",new Date().getFullYear()," Aura Verde."]}),v.jsx("p",{className:"text-xs text-slate-400 dark:text-gray-500 mt-1",children:"Todos los derechos reservados."})]})]})})}function Wj(){const n=Un(),{addToCart:e}=Xa(),{showToast:t}=Eg(),{products:s}=kv(),a=s.filter(l=>l.badge==="nuevo"||l.badge==="oferta").slice(0,4);return v.jsxs("div",{className:"flex flex-col min-h-screen",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(yc,{title:"Inicio",showSearch:!1})}),v.jsxs("section",{className:"relative h-[500px] w-full bg-surface-light dark:bg-surface-dark overflow-hidden flex items-center justify-center text-center px-4",children:[v.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10 bg-[url('https://images.unsplash.com/photo-1470058869958-2a77ade41c02?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background-light dark:to-background-dark z-0"}),v.jsxs("div",{className:"relative z-10 max-w-3xl flex flex-col items-center gap-6 animate-fade-in-up",children:[v.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-emerald-100 dark:bg-primary/10 border border-emerald-200 dark:border-primary/20 text-emerald-800 dark:text-primary font-bold text-sm uppercase tracking-wider mb-2",children:"Nueva Coleccin 2026"}),v.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight tracking-tight",children:["Lleva la Naturaleza a ",v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-400",children:"Casa"})]}),v.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-xl leading-relaxed",children:"Transforma tu espacio con nuestra coleccin curada de suculentas premium. Entregadas frescas desde nuestro vivero hasta tu puerta."}),v.jsx("div",{className:"flex gap-4 mt-4",children:v.jsxs("button",{onClick:()=>n("/catalog"),className:"px-8 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",children:["Comprar Ahora",v.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]})]}),v.jsx("section",{className:"py-16 px-6 bg-white dark:bg-surface-dark/50",children:v.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"local_shipping",title:"Envo Gratis",text:"En rdenes mayor a 5 suculentas",action:()=>n("/catalog")},{icon:"verified",title:"Garanta de Calidad",text:"Plantas sanas o dinero devuelto",action:()=>{t("Escribenos y juntos solucionaremos el inconveniente","info"),setTimeout(()=>{window.location.href="mailto:auraverdesuculentas@gmail.com"},2500)}},{icon:"support_agent",title:"Soporte Experto",text:"Consejos de cuidado 24/7",action:()=>{t("Cuentanos en que podemos ayudarte","info"),setTimeout(()=>{window.open("https://www.instagram.com/auraverdesuculentas/","_blank")},2500)}}].map((l,c)=>v.jsxs("div",{onClick:l.action,className:"flex flex-col items-center text-center p-6 rounded-3xl bg-background-light dark:bg-background-dark border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-shadow cursor-pointer hover:border-primary/30",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 text-primary",children:v.jsx("span",{className:"material-symbols-outlined text-3xl",children:l.icon})}),v.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:l.title}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:l.text})]},c))})}),v.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto w-full",children:[v.jsxs("div",{className:"flex justify-between items-end mb-10",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Plantas Destacadas"}),v.jsx("p",{className:"text-slate-500 mt-2",children:"Ms vendidas elegidas para ti"})]}),v.jsxs("button",{onClick:()=>n("/catalog"),className:"hidden md:flex items-center gap-1 text-primary font-bold hover:gap-2 transition-all",children:["Ver Todas ",v.jsx("span",{className:"material-symbols-outlined",children:"arrow_right_alt"})]})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:a.map(l=>v.jsx(Rv,{...l,onAddToCart:()=>e(l)},l.firestoreId||l.id))}),v.jsx("button",{onClick:()=>n("/catalog"),className:"mt-10 w-full md:hidden py-3 border-2 border-primary/20 text-primary font-bold rounded-xl active:bg-primary/5",children:"Ver Catalogo Completo"})]}),v.jsx("div",{className:"md:hidden pb-20",children:v.jsx(Xj,{})})]})}function Zj(){const{userData:n,currentUser:e}=rr(),{products:t}=kv(),{addToCart:s}=Xa(),a=Un(),l=n?.favorites||[],c=t.filter(f=>l.includes(f.firestoreId));return e?v.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(yc,{title:"Favoritos",showSearch:!1})}),v.jsxs("div",{className:"hidden md:block mb-6 pt-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Mis Favoritos"}),v.jsx("p",{className:"text-slate-500 text-lg",children:"Tu coleccin de sueos verdes"})]}),c.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 text-center opacity-60",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"favorite_border"}),v.jsx("p",{className:"text-lg font-medium",children:"An no tienes favoritos"}),v.jsx("p",{className:"text-sm",children:"Explora el catlogo y dale amor a las plantas."})]}):v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6 px-6 md:px-0 pb-24",children:c.map(f=>v.jsx(Rv,{...f,id:f.firestoreId,onAddToCart:()=>s(f)},f.firestoreId))})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"lock"}),v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Inicia sesin"}),v.jsx("p",{className:"text-gray-500 mb-4",children:"Necesitas una cuenta para guardar tus plantas favoritas."}),v.jsx("button",{onClick:()=>a("/login"),className:"bg-primary text-white px-6 py-2 rounded-xl font-bold",children:"Ir al Login"})]})}function Jj({label:n,active:e,onClick:t}){return e?v.jsx("button",{onClick:t,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-primary text-slate-900 font-bold shadow-sm shadow-primary/20",children:n}):v.jsx("button",{onClick:t,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 text-slate-600 dark:text-slate-300 font-semibold whitespace-nowrap",children:n})}const Zx=[{id:1,name:"Echeveria Lola",type:"Suculenta pequea",price:12,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA0eZ15aq4T37Ryj4bDgj81ZEUyIYsh_RKRe_i8s-gujmUO-i27DiYWUuBzPiPJ_YWIS2p_w47QKZMKDQWOHo6CRndOci24Fq8e8I8K-sMCpajjkdksObyDBwAwTd51gu_8U6d9MPdleEc-8Hnb1zzYYCFR_l_Ypk_iSruncVz3mVHzQopMI-9CTT8lKOVIlGLTyDkJF-HpDQXMvf6jWJpWFFQWuC4q3TuYCE1oQ49Fy4VkatuhBcPfA-InsniE7TV93a8vHXmlmM7L",isNew:!1},{id:2,name:"Dracaena Marg.",type:"rbol de interior",price:45,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD57UKN04xBtoohXvHEHpARBywa8wc9eKFvD7XDp4cKqtu9QbUHhMHlIAQTqq_YH7bNSJZY_0dW3eOTEeI9MC9bd_WXnHPghUkvnYzkep7OhHBL-V9YT8ONnxMMkepRc2VuSeXjffy01QOpFPIiYTvJQwC61ojAnDKXHvEixwbL_OCVDtP5FGpHB9huUjYwZVBarcehQQXtsDxIj-0kpDwgAjMXOMgDtuAfllSqSFCXo5viLkIt76k5EhbsAZ_oBuXDEOk1HeJbKmDY",isNew:!1},{id:3,name:"Bonsai Ficus",type:"rbol miniatura",price:30,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBuQ1GGR9x_WTdo-L0S5BynKVM9VNi2KLnWCv4u1BHbfC0ie4CsUb1AH_2sDOTV1EIOAyydQTq86WSJXuVqYbuIctNrkOoDPfqY4-2WVg-VcVGxkgXgLhCeSe8AOSMdCpdWYBwJDeS9tU9OxFtysrT5GG8kDBiTbp9WeJrIwpzQIw9DsA28HoOQo78lMm95heiSA-aLd_HzAeO8wCyPlJKyYrXEE-tXalpUWPPAj2mSTuWxxzkmW5tkBvw7RQdWDU6lyq_4RCuJpbGA",isNew:!0},{id:4,name:"Areca Palm",type:"Purificadora de aire",price:25,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBAUIOGKnSrRSRBsNH6nVvIGWGAjTC_RjE5eYoFgCX3nVZhG8onMlpG6odQCRlezHvUBrnLoPigEGnahxWvlORm1v5BBRZG7xMRj0yVKYjlMVr8I-5L0EKYnDc-S8bLYQDmSnpA4ZZGvfEYSPrA3gzmhrunA2P1IoiQgF9W1018hn-beC_BOq0-UnIp5TcFSKAZzLb1jm7J7S_uGkx47DlPPxEmEQ4a96EzOfGPzv9UGY6vBVAbtpedg9j5DVnWaiSvg8HLvPT1HE1L",isNew:!1},{id:5,name:"Aloe Vera",type:"Medicinal",price:18,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBfjrTHo8MXN3qD5PVNyclKEE_LCe5L71uyaOi8yGBA9XUtVSfajLxPMY29U6lUbZK2E8MHsrmHvNlI6zqvkMAgT8CdDxbZ8sG8FdQfL3BHz3SANG0_6iu6Mewm5SNjWV3wI0EcDF3lQV7TXY-3EYsAkN5zec0-orJkKfDL-i33XXdodWx5IqvjLkjkdX1T-CdmyNcdm2K12tFpTYIkG2lOp5HVceiwh3_ErHSxtY-Hk9lEuYaAnSbRVQHEa-mBffh9SoTgtA7yjNIK",isNew:!1},{id:6,name:"String of Pearls",type:"Planta colgante",price:22,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAXXU5YobKex3kwVW5GUM5bXC6_ctZHQSoRW_qNQbh3g9p93oaSRMcqMZB6pZX5EE8j9UAuv6ETV_EFs9pdLtMj566Qky3NQnqyuO6nT8tOCXzdomwBB0zrfQSK1sEURbbA0O05Q_GBSd4c9tqROmHIUdsTfcGdWAOC-5V2-ELxwyAolZEMDOWyvJ1cb4irkDMDcGr0v3yA2dWUQXp7Zv7thW4UTCGX3aRXgCBiUVuDNMp26Ts9B5MWJpif5mwp-qBQRiM6JEkw0BWY",isNew:!1}],eP=["Todos","Dracaena","Bonsai","Suculentas","Palmas"];function tP(){const[n,e]=y.useState("Todos"),[t,s]=y.useState(""),{addToCart:a}=Xa(),{products:l,loading:c,error:f}=kv(),p=l.filter(m=>{const b=n==="Todos"||m.type.includes(n)||m.name.includes(n),_=m.name.toLowerCase().includes(t.toLowerCase())||m.type.toLowerCase().includes(t.toLowerCase());return b&&_});return c?v.jsx("div",{className:"flex h-full items-center justify-center text-primary font-bold",children:"Cargando catlogo..."}):f?v.jsx("div",{className:"flex h-full items-center justify-center text-red-500",children:"Error cargando productos."}):v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(yc,{onSearch:s,searchValue:t})}),v.jsxs("div",{className:"hidden md:block mb-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Descubre"}),v.jsx("p",{className:"text-slate-500 text-lg",children:"Encuentra la planta perfecta para tu espacio"})]}),v.jsx("div",{className:"pl-6 py-4 shrink-0 md:pl-0",children:v.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pr-6 items-center",children:[v.jsx("button",{className:"flex shrink-0 h-10 w-10 items-center justify-center rounded-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md transition-transform hover:scale-105",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"tune"})}),eP.map(m=>v.jsx(Jj,{label:m,active:n===m,onClick:()=>e(m)},m))]})}),v.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-24 md:pb-8 hide-scrollbar md:px-0",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:p.map(m=>v.jsx(Rv,{...m,id:m.firestoreId||m.id,onAddToCart:()=>a(m)},m.firestoreId||m.id))})})]})}function nP(){const n=Un(),{id:e}=vk(),{addToCart:t}=Xa(),[s,a]=y.useState(1),[l,c]=y.useState(0),{product:f,loading:p,error:m}=Yj(e);if(p)return v.jsx("div",{className:"flex h-screen items-center justify-center text-primary font-bold",children:"Cargando producto..."});if(m||!f)return v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-900 dark:text-white",children:"Producto no encontrado"}),v.jsx("button",{onClick:()=>n("/catalog"),className:"text-primary font-bold",children:"Volver al Catlogo"})]});const b=()=>{for(let _=0;_<s;_++)t(f);n("/cart")};return v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden pb-24 bg-background-light dark:bg-background-dark",children:[v.jsxs("header",{className:"absolute top-0 left-0 right-0 z-30 flex items-center justify-between p-4 pt-12 md:pt-6 bg-gradient-to-b from-black/40 to-transparent",children:[v.jsx("button",{onClick:()=>n(-1),className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"})}),v.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"favorite"})})]})]}),v.jsxs("div",{className:"relative w-full h-[55vh] lg:h-[75vh] shrink-0 bg-gray-50 dark:bg-gray-950 overflow-hidden flex items-center justify-center",children:[v.jsxs("div",{className:"absolute inset-0 hidden lg:block overflow-hidden transition-all duration-1000",children:[v.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110 blur-[80px] opacity-40 dark:opacity-30 transition-all duration-700",style:{backgroundImage:`url(${l===0?f.image:f.image2||f.image})`}}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-background-light dark:to-background-dark"})]}),v.jsxs("div",{className:"relative z-10 w-full h-full flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${l*100}%)`},children:[v.jsx("div",{className:"w-full h-full shrink-0 flex items-center justify-center p-0 lg:p-14",children:v.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full lg:w-auto lg:max-h-full object-cover lg:object-contain lg:rounded-3xl lg:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.4)] transition-all duration-500"})}),f.image2&&v.jsx("div",{className:"w-full h-full shrink-0 flex items-center justify-center p-0 lg:p-14",children:v.jsx("img",{src:f.image2,alt:`${f.name} - Alternativa`,className:"w-full h-full lg:w-auto lg:max-h-full object-cover lg:object-contain lg:rounded-3xl lg:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.4)] transition-all duration-500"})})]}),f.image2&&v.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-30",children:[v.jsx("button",{onClick:()=>c(0),className:`h-1.5 w-10 rounded-full transition-all duration-300 ${l===0?"bg-primary scale-110 shadow-[0_0_15px_rgba(16,185,129,0.5)]":"bg-black/20 dark:bg-white/20 hover:bg-black/40 dark:hover:bg-white/40"}`}),v.jsx("button",{onClick:()=>c(1),className:`h-1.5 w-10 rounded-full transition-all duration-300 ${l===1?"bg-primary scale-110 shadow-[0_0_15px_rgba(16,185,129,0.5)]":"bg-black/20 dark:bg-white/20 hover:bg-black/40 dark:hover:bg-white/40"}`})]}),f.image2&&v.jsxs("div",{className:"absolute inset-0 z-20 hidden lg:flex items-center justify-between px-8 pointer-events-none",children:[v.jsx("button",{onClick:()=>c(0),className:`h-14 w-14 flex items-center justify-center rounded-full bg-white/10 dark:bg-black/20 backdrop-blur-xl border border-white/20 text-white pointer-events-auto transition-all hover:bg-primary hover:text-black hover:scale-110 active:scale-95 ${l===0?"opacity-30 cursor-default":"opacity-100 shadow-xl"}`,children:v.jsx("span",{className:"material-symbols-outlined text-3xl",children:"chevron_left"})}),v.jsx("button",{onClick:()=>c(1),className:`h-14 w-14 flex items-center justify-center rounded-full bg-white/10 dark:bg-black/20 backdrop-blur-xl border border-white/20 text-white pointer-events-auto transition-all hover:bg-primary hover:text-black hover:scale-110 active:scale-95 ${l===1?"opacity-30 cursor-default":"opacity-100 shadow-xl"}`,children:v.jsx("span",{className:"material-symbols-outlined text-3xl",children:"chevron_right"})})]})]}),v.jsxs("main",{className:"relative z-10 -mt-6 flex flex-1 flex-col rounded-t-3xl bg-background-light dark:bg-background-dark px-6 pt-8 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",children:[v.jsxs("div",{className:"mb-6 flex flex-col gap-2",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:f.name}),(f.badge||f.isNew)&&v.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest text-white shadow-sm
                    ${f.badge==="oferta"?"bg-red-500":"bg-emerald-500"}
                  `,children:f.badge==="oferta"?"Oferta":"Nuevo"})]}),v.jsx("p",{className:"text-lg italic text-gray-500 dark:text-gray-400",children:f.type})]}),v.jsx("div",{className:"flex flex-col items-end",children:v.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",f.price.toFixed(2)]})})]}),v.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[v.jsx("span",{className:"material-symbols-outlined text-yellow-400 fill-current text-[20px]",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),v.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"4.8"}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(120 reseas)"})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Descripcin"}),v.jsxs("p",{className:"text-base leading-relaxed text-gray-600 dark:text-gray-300",children:[f.name," es una hermosa planta. Perfecta para agregar un toque de naturaleza a tu hogar u oficina.",v.jsx("span",{className:"font-bold text-primary cursor-pointer ml-1",children:"Leer ms"})]})]}),(f.careLuz||f.careAgua||f.careTemp)&&v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Cuidados"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.careLuz&&v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-500",children:v.jsx("span",{className:"material-symbols-outlined",children:"wb_sunny"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Luz"}),v.jsx("span",{className:"block text-[10px] text-gray-500",children:f.careLuz})]})]}),f.careAgua&&v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-500",children:v.jsx("span",{className:"material-symbols-outlined",children:"water_drop"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Agua"}),v.jsx("span",{className:"block text-[10px] text-gray-500",children:f.careAgua})]})]}),f.careTemp&&v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/30 text-red-500",children:v.jsx("span",{className:"material-symbols-outlined",children:"thermostat"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Temp"}),v.jsx("span",{className:"block text-[10px] text-gray-500",children:f.careTemp})]})]})]}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-4 text-center",children:"Tamao Seleccionado"}),v.jsx("div",{className:"flex justify-center gap-3",children:[{id:"pequena",name:"Pequea",icon:"eco",val:f.potPequea},{id:"mediana",name:"Mediana",icon:"nature",val:f.potMediana},{id:"grande",name:"Grande",icon:"forest",val:f.potGrande}].map(_=>v.jsxs("div",{className:`flex flex-col items-center gap-2 rounded-2xl p-4 border transition-all duration-500 w-1/3
                      ${f.potDefault===_.id?"bg-primary border-primary shadow-lg shadow-primary/20 text-black scale-105 z-10":"bg-surface-light dark:bg-surface-dark border-gray-100 dark:border-gray-800 text-gray-400 opacity-30"}
                    `,children:[v.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full 
                      ${f.potDefault===_.id?"bg-black/10":"bg-gray-100 dark:bg-gray-800"}
                    `,children:v.jsx("span",{className:"material-symbols-outlined text-xl",children:_.icon})}),v.jsx("div",{className:"text-center",children:v.jsx("span",{className:"block text-[10px] font-black uppercase tracking-tight",children:_.name})}),f.potDefault===_.id&&v.jsx("div",{className:"absolute top-1 right-1",children:v.jsx("span",{className:"material-symbols-outlined text-xs font-black",children:"check_circle"})})]},_.id))})]})]}),v.jsx("div",{className:"h-6"})]}),v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-gray-100 dark:border-gray-800 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-lg pb-safe pt-4 px-6 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[v.jsx("div",{className:"mb-4 flex items-center justify-center pb-6 md:pb-0",children:v.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-gray-100 dark:bg-gray-800 p-1",children:[v.jsx("button",{onClick:()=>a(Math.max(1,s-1)),className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),v.jsx("span",{className:"w-5 text-center text-sm font-black text-gray-900 dark:text-white",children:s}),v.jsx("button",{onClick:()=>a(s+1),className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),v.jsxs("button",{onClick:b,className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-primary py-3 px-3 text-black shadow-lg shadow-primary/30 transition-all hover:bg-primary/90 active:scale-95 min-h-[48px]",children:[v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"shopping_bag"}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-1",children:[v.jsx("span",{className:"text-[13px] sm:text-base font-black uppercase tracking-tight",children:"Agregar"}),v.jsxs("span",{className:"text-[11px] sm:text-sm font-bold opacity-80 whitespace-nowrap",children:["| $",(f.price*s).toFixed(2)]})]})]})]})}),v.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})}function M1(){const{currentUser:n}=rr(),[e,t]=y.useState([]),[s,a]=y.useState(!0),[l,c]=y.useState(null);return y.useEffect(()=>{if(!n){t([]),a(!1);return}a(!0);const m=gc(na(wt,"users",n.uid,"addresses")),b=pf(m,_=>{const w=_.docs.map(k=>({id:k.id,...k.data()}));t(w),a(!1)},_=>{console.error(_),c(_.message),a(!1)});return()=>b()},[n]),{addresses:e,addAddress:async m=>{if(!n)throw new Error("Debes iniciar sesin");try{await ED(na(wt,"users",n.uid,"addresses"),m)}catch(b){throw console.error(b),b}},deleteAddress:async m=>{if(n)try{await c1(xn(wt,"users",n.uid,"addresses",m))}catch(b){throw console.error(b),b}},loading:s,error:l}}const Jx={lat:-38.7361644,lon:-62.2874379},Oa={LOCAL_TIER_1:1500,LOCAL_TIER_2:3500,LOCAL_TIER_3:5e3,NATIONAL:8500,FREE_THRESHOLD:5};function rP(n,e,t,s){const l=Wd(t-n),c=Wd(s-e),f=Math.sin(l/2)*Math.sin(l/2)+Math.cos(Wd(n))*Math.cos(Wd(t))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))}function Wd(n){return n*(Math.PI/180)}async function sP(n){try{const e=encodeURIComponent(n),s=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${e}&format=json&limit=1`,{headers:{"User-Agent":"AuraVerdeApp/1.0"}})).json();return s&&s.length>0?{lat:parseFloat(s[0].lat),lon:parseFloat(s[0].lon)}:null}catch(e){return console.error("Error geocoding address:",e),null}}async function O1(n,e=0){if(e>=Oa.FREE_THRESHOLD||!n)return 0;const t=n.toLowerCase();if(!(t.includes("bahia blanca")||t.includes("baha blanca")||t.includes("punta alta")||t.includes("ingeniero white")||t.includes("general cerri")))return Oa.NATIONAL;try{const a=await sP(n);if(!a)return console.warn("Could not geocode local address, using standard local price"),Oa.LOCAL_TIER_3;const l=rP(Jx.lat,Jx.lon,a.lat,a.lon);return console.log(`Distance to store: ${l.toFixed(2)} km`),l<=2?Oa.LOCAL_TIER_1:l<=4?Oa.LOCAL_TIER_2:Oa.LOCAL_TIER_3}catch(a){return console.error("Error calculating local distance:",a),Oa.LOCAL_TIER_3}}function iP(){const n=Un(),{cartItems:e,removeFromCart:t,updateQuantity:s,subtotal:a,total:l,shippingCost:c,setShippingCost:f,selectedAddress:p,setSelectedAddress:m}=Xa();M1();const{currentUser:b,userData:_}=rr(),[w,k]=y.useState(!1),{showToast:L}=Eg(),P=_?.shippingAddress?.address&&_?.shippingAddress?.city,I=e.reduce((B,z)=>B+z.quantity,0);return y.useEffect(()=>{if(b&&_?.shippingAddress){const B=_.shippingAddress;(async()=>{k(!0);try{const Y=`${B.address}, ${B.city}, ${B.zip}`,H=await O1(Y,I);f(H),m(B)}catch(Y){console.error("Error calculating shipping:",Y),f(0)}finally{k(!1)}})()}else f(0),m(null)},[b,_,I]),v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden pb-32 bg-background-light dark:bg-background-dark md:pb-0",children:[v.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-surface-light/95 dark:bg-background-dark/95 backdrop-blur-sm p-4 pb-2 border-b border-gray-100 dark:border-gray-800 md:hidden",children:[v.jsx("button",{onClick:()=>n(-1),className:"flex size-10 shrink-0 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark cursor-pointer",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white text-2xl",children:"arrow_back_ios_new"})}),v.jsxs("h2",{className:"text-text-main dark:text-white text-lg font-bold leading-tight flex-1 text-center",children:["Mi Carrito (",I,")"]}),v.jsx("div",{className:"flex w-12 items-center justify-end cursor-pointer"})]}),v.jsxs("div",{className:"hidden md:flex items-center justify-between mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Carrito de Compras"}),v.jsxs("span",{className:"text-lg font-medium text-slate-500",children:[I," items"]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-8 h-full overflow-hidden",children:[v.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-0 hide-scrollbar",children:v.jsx("div",{className:"flex flex-col gap-4",children:e.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 dark:text-gray-700 mb-4",children:"shopping_cart_off"}),v.jsx("p",{className:"text-lg text-gray-500 font-medium",children:"Tu carrito est vaco"}),v.jsx("button",{onClick:()=>n("/catalog"),className:"mt-4 text-primary font-bold hover:underline",children:"Comenzar a Comprar"})]}):e.map(B=>v.jsxs("div",{className:"relative flex flex-col gap-4 bg-surface-light dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-transparent dark:border-gray-800 md:flex-row md:items-center",children:[v.jsxs("div",{className:"flex items-start justify-between gap-4 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[v.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-lg aspect-square w-20 h-20 shrink-0 bg-gray-200",style:{backgroundImage:`url("${B.image}")`}}),v.jsxs("div",{className:"flex flex-col justify-center h-full",children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-bold leading-normal line-clamp-1",children:B.name}),v.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium leading-normal mb-2",children:B.type}),v.jsxs("p",{className:"text-text-main dark:text-primary text-base font-bold leading-normal",children:["$",B.price.toFixed(2)]})]})]}),v.jsx("button",{onClick:()=>t(B.id),className:"text-gray-400 hover:text-red-500 transition-colors md:self-center",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]}),v.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-3 mt-1 md:border-t-0 md:pt-0 md:mt-0 md:justify-end md:gap-6",children:[v.jsx("span",{className:"text-xs text-text-secondary dark:text-gray-500 font-medium md:hidden",children:"Cantidad"}),v.jsxs("div",{className:"flex items-center gap-3 bg-background-light dark:bg-background-dark rounded-full p-1 px-1",children:[v.jsx("button",{onClick:()=>s(B.id,-1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white dark:bg-surface-dark shadow-sm text-text-main dark:text-white hover:bg-gray-5 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:B.quantity<=1,children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),v.jsx("span",{className:"w-8 text-center text-text-main dark:text-white font-bold text-sm",children:B.quantity}),v.jsx("button",{onClick:()=>s(B.id,1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-text-main shadow-sm hover:brightness-110 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]})]})]},B.id))})}),e.length>0&&v.jsx("div",{className:`
            fixed bottom-0 left-0 right-0 bg-surface-light dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 p-4 px-6 pb-8 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] dark:shadow-none z-20 
            md:static md:w-96 md:h-fit md:border md:rounded-2xl md:p-6 md:pb-6 md:shadow-sm
          `,children:v.jsxs("div",{className:"flex flex-col gap-4 max-w-md mx-auto w-full",children:[v.jsxs("div",{className:"flex flex-col gap-4 border-b border-gray-200 dark:border-gray-700 pb-4",children:[v.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Envo"}),b?v.jsx(v.Fragment,{children:P?v.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-xl border border-primary bg-primary/5",children:[v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Direccin de Envo"}),v.jsxs("p",{className:"text-slate-500",children:[_.shippingAddress.address,", ",_.shippingAddress.city,", ",_.shippingAddress.zip]})]}),v.jsx("button",{onClick:()=>n("/profile"),className:"text-primary font-bold text-xs hover:underline",children:"CAMBIAR"})]}):v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("p",{className:"text-sm text-gray-500",children:"No tienes una direccin de envo guardada."}),v.jsxs("button",{onClick:()=>n("/profile"),className:"flex items-center justify-center gap-2 p-3 rounded-xl border border-dashed border-gray-300 text-slate-500 hover:text-primary hover:border-primary/50 transition-colors text-sm font-medium",children:[v.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_location"}),"AGREGAR"]})]})}):v.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"Inicia sesin para gestionar tu direccin y calcular el envo."})]}),v.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Subtotal"}),v.jsxs("span",{className:"text-text-main dark:text-white text-sm font-bold",children:["$",a.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Envo"}),v.jsx("span",{className:`text-sm font-bold ${c===0?"text-primary":"text-text-main dark:text-white"}`,children:w?"Calculando...":c>0?`$${c}`:p?"Gratis":"Seleccionar direccin"})]}),v.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-text-main dark:text-white text-lg font-bold",children:"Total"}),v.jsxs("span",{className:"text-2xl font-black text-text-main dark:text-white leading-none",children:["$",l.toFixed(2)]})]})]}),v.jsxs("button",{onClick:()=>{P?n("/checkout"):L("Debe tener una direccion de envio para poder comprar, por favor agreguelo","error")},className:"flex w-full items-center justify-center gap-2 rounded-xl h-14 bg-primary text-text-main text-base font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 mt-2 disabled:opacity-50 disabled:pointer-events-none",disabled:w,children:[v.jsx("span",{children:w?"Calculando...":"Pagar"}),!w&&v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})]})]})})]})]})}function Lv(){const{currentUser:n}=rr(),[e,t]=y.useState([]),[s,a]=y.useState(!0),[l,c]=y.useState(null),f=async p=>{if(!n)throw new Error("Debes iniciar sesin para comprar");a(!0);try{const m=CD(wt),b=xn(na(wt,"orders"));return m.set(b,{...p,userId:n.uid,userEmail:n.email,createdAt:TD(),status:"Processing",paymentStatus:"pending"}),p.items&&p.items.length>0&&p.items.forEach(_=>{const w=xn(wt,"products",String(_.id));m.update(w,{stock:SD(-_.quantity)})}),await m.commit(),b.id}catch(m){throw console.error("Error creating order with stock sync:",m),c(m.message),m}finally{a(!1)}};return y.useEffect(()=>{if(!n){t([]),a(!1);return}a(!0);const p=gc(na(wt,"orders"),o1("userId","==",n.uid)),m=pf(p,b=>{const _=b.docs.map(w=>{const k=w.data();return{id:w.id,...k,dateStr:k.createdAt?.toDate?k.createdAt.toDate().toLocaleDateString():"Reciente"}});_.sort((w,k)=>{const L=w.createdAt?.toMillis?w.createdAt.toMillis():Date.now();return(k.createdAt?.toMillis?k.createdAt.toMillis():Date.now())-L}),t(_),a(!1)},b=>{console.error("Error fetching orders:",b),c("No se pudieron cargar los pedidos"),a(!1)});return()=>m()},[n]),{orders:e,createOrder:f,loading:s,error:l}}function Ih(){return Ih=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ih.apply(this,arguments)}var eE=(function(n){var e=y.useRef(n);return e.current=n,e}),aP=(function(n,e){var t;return function(){for(var s=this,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t!==null&&(clearTimeout(t),t=null),t=setTimeout(function(){return n.apply(s,l)},e)}}),oP=" use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",lP=function(e){var t=e===void 0?{}:e,s=t.requestOptions,a=t.debounce,l=a===void 0?200:a,c=t.cache,f=c===void 0?1440*60:c,p=t.cacheKey,m=p===void 0?"upa":p,b=t.googleMaps,_=t.callbackName,w=t.defaultValue,k=w===void 0?"":w,L=t.initOnMount,P=L===void 0?!0:L,I=y.useState(!1),B=I[0],z=I[1],Y=y.useState(k),H=Y[0],F=Y[1],ee=y.useState({loading:!1,status:"",data:[]}),R=ee[0],A=ee[1],S=y.useRef(),j=eE(s),O=eE(b),U=y.useCallback(function(){var ie;if(!S.current){var fe=window,ve=fe.google,G=O.current,D=G?.places||(ve==null||(ie=ve.maps)==null?void 0:ie.places);if(!D){console.error(oP);return}S.current=new D.AutocompleteService,z(!0)}},[O]),M=y.useCallback(function(){A({loading:!1,status:"",data:[]})},[]),pe=y.useCallback(function(ie){ie===void 0&&(ie=m);try{sessionStorage.removeItem(ie)}catch{}},[m]),be=y.useCallback(aP(function(ie){var fe;if(!ie){M();return}A(function(G){return Ih({},G,{loading:!0})});var ve={};try{ve=JSON.parse(sessionStorage.getItem(m)||"{}")}catch{}if(f&&(ve=Object.keys(ve).reduce(function(G,D){return ve[D].maxAge-Date.now()>=0&&(G[D]=ve[D]),G},{}),ve[ie])){A({loading:!1,status:"OK",data:ve[ie].data});return}(fe=S.current)==null||fe.getPlacePredictions(Ih({},j.current,{input:ie}),function(G,D){if(A({loading:!1,status:D,data:G||[]}),f&&D==="OK"){ve[ie]={data:G,maxAge:Date.now()+f*1e3};try{sessionStorage.setItem(m,JSON.stringify(ve))}catch{}}})},l),[f,m,M,j]),Q=y.useCallback(function(ie,fe){fe===void 0&&(fe=!0),F(ie),S.current&&fe&&be(ie)},[be]);return y.useEffect(function(){if(!P)return function(){return null};var ie=window,fe=ie.google;return!O.current&&!(fe!=null&&fe.maps)&&_?window[_]=U:U(),function(){window[_]&&delete window[_]}},[_,O,U,P]),{ready:B,value:H,suggestions:R,setValue:Q,clearSuggestions:M,clearCache:pe,init:U}},uP=" use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",cP=function(e){var t=new window.google.maps.Geocoder;return new Promise(function(s,a){t.geocode(e,function(l,c){c!=="OK"&&a(c),!e.address&&e.componentRestrictions&&(console.error(uP),s(l)),s(l)})})},dP=function(e){var t=e.geometry.location,s=t.lat,a=t.lng;return{lat:s(),lng:a()}};function Xu(n){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(n)}function hP(n,e){if(Xu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(Xu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fP(n){var e=hP(n,"string");return Xu(e)=="symbol"?e:e+""}function ae(n,e,t){return(e=fP(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function D1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Im,tE;function pP(){if(tE)return Im;tE=1;var n=function(t,s,a,l,c,f,p,m){if(!t){var b;if(s===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[a,l,c,f,p,m],w=0;b=new Error(s.replace(/%s/g,function(){return _[w++]})),b.name="Invariant Violation"}throw b.framesToPop=1,b}};return Im=n,Im}var mP=pP(),Yt=D1(mP),ze=y.createContext(null);function gP(){Yt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=y.useContext(ze);return Yt(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function vP(n,e,t){return Object.keys(n).reduce(function(a,l){return e(a,n[l],l)},t)}function yP(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function bP(n,e,t,s){var a={},l=(c,f)=>{var p=t[f];p!==e[f]&&(a[f]=p,c(s,p))};return yP(n,l),a}function _P(n,e,t){var s=vP(t,function(l,c,f){return typeof n[f]=="function"&&l.push(google.maps.event.addListener(e,c,n[f])),l},[]);return s}function xP(n){google.maps.event.removeListener(n)}function Fe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(xP)}function Be(n){var{updaterMap:e,eventMap:t,prevProps:s,nextProps:a,instance:l}=n,c=_P(a,l,t);return bP(e,s,a,l),c}var nE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},rE={extraMapTypes(n,e){e.forEach(function(s,a){n.mapTypes.set(String(a),s)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function EP(n){var{children:e,options:t,id:s,mapContainerStyle:a,mapContainerClassName:l,center:c,onClick:f,onDblClick:p,onDrag:m,onDragEnd:b,onDragStart:_,onMouseMove:w,onMouseOut:k,onMouseOver:L,onMouseDown:P,onMouseUp:I,onRightClick:B,onCenterChanged:z,onLoad:Y,onUnmount:H}=n,[F,ee]=y.useState(null),R=y.useRef(null),[A,S]=y.useState(null),[j,O]=y.useState(null),[U,M]=y.useState(null),[pe,be]=y.useState(null),[Q,ie]=y.useState(null),[fe,ve]=y.useState(null),[G,D]=y.useState(null),[K,re]=y.useState(null),[he,X]=y.useState(null),[ge,xe]=y.useState(null),[we,Ie]=y.useState(null),[Se,Ve]=y.useState(null);return y.useEffect(()=>{t&&F!==null&&F.setOptions(t)},[F,t]),y.useEffect(()=>{F!==null&&typeof c<"u"&&F.setCenter(c)},[F,c]),y.useEffect(()=>{F&&p&&(j!==null&&google.maps.event.removeListener(j),O(google.maps.event.addListener(F,"dblclick",p)))},[p]),y.useEffect(()=>{F&&b&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(F,"dragend",b)))},[b]),y.useEffect(()=>{F&&_&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(F,"dragstart",_)))},[_]),y.useEffect(()=>{F&&P&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(F,"mousedown",P)))},[P]),y.useEffect(()=>{F&&w&&(fe!==null&&google.maps.event.removeListener(fe),ve(google.maps.event.addListener(F,"mousemove",w)))},[w]),y.useEffect(()=>{F&&k&&(G!==null&&google.maps.event.removeListener(G),D(google.maps.event.addListener(F,"mouseout",k)))},[k]),y.useEffect(()=>{F&&L&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(F,"mouseover",L)))},[L]),y.useEffect(()=>{F&&I&&(he!==null&&google.maps.event.removeListener(he),X(google.maps.event.addListener(F,"mouseup",I)))},[I]),y.useEffect(()=>{F&&B&&(ge!==null&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener(F,"rightclick",B)))},[B]),y.useEffect(()=>{F&&f&&(we!==null&&google.maps.event.removeListener(we),Ie(google.maps.event.addListener(F,"click",f)))},[f]),y.useEffect(()=>{F&&m&&(Se!==null&&google.maps.event.removeListener(Se),Ve(google.maps.event.addListener(F,"drag",m)))},[m]),y.useEffect(()=>{F&&z&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(F,"center_changed",z)))},[f]),y.useEffect(()=>{var Xt=R.current===null?null:new google.maps.Map(R.current,t);return ee(Xt),Xt!==null&&Y&&Y(Xt),()=>{Xt!==null&&H&&H(Xt)}},[]),v.jsx("div",{id:s,ref:R,style:a,className:l,children:v.jsx(ze.Provider,{value:F,children:F!==null?e:null})})}y.memo(EP);class wP extends y.PureComponent{constructor(){super(...arguments),ae(this,"state",{map:null}),ae(this,"registeredEvents",[]),ae(this,"mapRef",null),ae(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ae(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),ae(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ae(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:rE,eventMap:nE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:rE,eventMap:nE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Fe(this.registeredEvents))}render(){return v.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:v.jsx(ze.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function sE(n,e,t,s,a,l,c){try{var f=n[l](c),p=f.value}catch(m){return void t(m)}f.done?e(p):Promise.resolve(p).then(s,a)}function j1(n){return function(){var e=this,t=arguments;return new Promise(function(s,a){var l=n.apply(e,t);function c(p){sE(l,s,a,c,f,"next",p)}function f(p){sE(l,s,a,c,f,"throw",p)}c(void 0)})}}function P1(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:s="weekly",language:a,region:l,libraries:c,channel:f,mapIds:p,authReferrerPolicy:m,apiUrl:b="https://maps.googleapis.com"}=n,_=[];return Yt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?_.push("key=".concat(e)):t&&_.push("client=".concat(t)),s&&_.push("v=".concat(s)),a&&_.push("language=".concat(a)),l&&_.push("region=".concat(l)),c&&c.length&&_.push("libraries=".concat(c.sort().join(","))),f&&_.push("channel=".concat(f)),p&&p.length&&_.push("map_ids=".concat(p.join(","))),m&&_.push("auth_referrer_policy=".concat(m)),_.push("loading=async"),_.push("callback=initMap"),"".concat(b,"/maps/api/js?").concat(_.join("&"))}var Va=typeof document<"u";function V1(n){var{url:e,id:t,nonce:s}=n;return Va?new Promise(function(l,c){var f=document.getElementById(t),p=window;if(f){var m=f.getAttribute("data-state");if(f.src===e&&m!=="error"){if(m==="ready")return l(t);var b=p.initMap,_=f.onerror;p.initMap=function(){b&&b(),l(t)},f.onerror=function(k){_&&_(k),c(k)};return}else f.remove()}var w=document.createElement("script");w.type="text/javascript",w.src=e,w.id=t,w.async=!0,w.nonce=s||"",w.onerror=function(L){w.setAttribute("data-state","error"),c(L)},p.initMap=function(){w.setAttribute("data-state","ready"),l(t)},document.head.appendChild(w)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function iE(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function U1(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(a,l){return iE(a)||Reflect.apply(e,n,[a,l]),a};var t=n.appendChild.bind(n);n.appendChild=function(a){return iE(a)||Reflect.apply(t,n,[a]),a}}}var yu=!1;function z1(){return v.jsx("div",{children:"Loading..."})}var fg={id:"script-loader",version:"weekly"};class TP extends y.PureComponent{constructor(){super(...arguments),ae(this,"check",null),ae(this,"state",{loaded:!1}),ae(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ae(this,"isCleaningUp",j1(function*(){function e(t){if(!yu)t();else if(Va)var s=window.setInterval(function(){yu||(window.clearInterval(s),t())},1)}return new Promise(e)})),ae(this,"cleanup",()=>{yu=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),ae(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&U1(),Yt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:P1(this.props)};V1(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ae(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Va){if(window.google&&window.google.maps&&!yu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Va&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Va){this.cleanup();var e=()=>{this.check||(delete window.google,yu=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||v.jsx(z1,{})]})}}ae(TP,"defaultProps",fg);function SP(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.includes(s))continue;t[s]=n[s]}return t}function Nv(n,e){if(n==null)return{};var t,s,a=SP(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)t=l[s],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var aE;function Iv(n){var{id:e=fg.id,version:t=fg.version,nonce:s,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,preventGoogleFontsLoading:m,channel:b,mapIds:_,authReferrerPolicy:w,apiUrl:k="https://maps.googleapis.com"}=n,L=y.useRef(!1),[P,I]=y.useState(!1),[B,z]=y.useState(void 0);y.useEffect(function(){return L.current=!0,()=>{L.current=!1}},[]),y.useEffect(function(){Va&&m&&U1()},[m]),y.useEffect(function(){P&&Yt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[P]);var Y=P1({version:t,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,channel:b,mapIds:_,authReferrerPolicy:w,apiUrl:k});y.useEffect(function(){if(!Va)return;function ee(){L.current&&(I(!0),aE=Y)}if(window.google&&window.google.maps&&aE===Y){ee();return}V1({id:e,url:Y,nonce:s}).then(ee).catch(function(A){L.current&&z(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[e,Y,s]);var H=y.useRef(void 0);return y.useEffect(function(){H.current&&p!==H.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),H.current=p},[p]),{isLoaded:P,loadError:B,url:Y}}var CP=["loadingElement","onLoad","onError","onUnmount","children"],AP=v.jsx(z1,{});function kP(n){var{loadingElement:e,onLoad:t,onError:s,onUnmount:a,children:l}=n,c=Nv(n,CP),{isLoaded:f,loadError:p}=Iv(c);return y.useEffect(function(){f&&typeof t=="function"&&t()},[f,t]),y.useEffect(function(){p&&typeof s=="function"&&s(p)},[p,s]),y.useEffect(function(){return()=>{a&&a()}},[a]),f?l:e||AP}y.memo(kP);var oE;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(oE||(oE={}));function lE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Mh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var uE={},cE={options(n,e){n.setOptions(e)}};function RP(n){var{options:e,onLoad:t,onUnmount:s}=n,a=y.useContext(ze),[l,c]=y.useState(null);return y.useEffect(()=>{l!==null&&l.setMap(a)},[a]),y.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),y.useEffect(()=>{var f=new google.maps.TrafficLayer(Mh(Mh({},e),{},{map:a}));return c(f),t&&t(f),()=>{l!==null&&(s&&s(l),l.setMap(null))}},[]),null}y.memo(RP);class LP extends y.PureComponent{constructor(){super(...arguments),ae(this,"state",{trafficLayer:null}),ae(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ae(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Mh(Mh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:cE,eventMap:uE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:cE,eventMap:uE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Fe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ae(LP,"contextType",ze);function NP(n){var{onLoad:e,onUnmount:t}=n,s=y.useContext(ze),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(s)},[s]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return l(c),c.setMap(s),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}y.memo(NP);class IP extends y.PureComponent{constructor(){super(...arguments),ae(this,"state",{bicyclingLayer:null}),ae(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ae(IP,"contextType",ze);function MP(n){var{onLoad:e,onUnmount:t}=n,s=y.useContext(ze),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(s)},[s]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return l(c),c.setMap(s),e&&e(c),()=>{a!==null&&(t&&t(a),a.setMap(null))}},[]),null}y.memo(MP);class OP extends y.PureComponent{constructor(){super(...arguments),ae(this,"state",{transitLayer:null}),ae(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ae(OP,"contextType",ze);function dE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var hE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},fE={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function DP(n){var{options:e,drawingMode:t,onCircleComplete:s,onMarkerComplete:a,onOverlayComplete:l,onPolygonComplete:c,onPolylineComplete:f,onRectangleComplete:p,onLoad:m,onUnmount:b}=n,_=y.useContext(ze),[w,k]=y.useState(null),[L,P]=y.useState(null),[I,B]=y.useState(null),[z,Y]=y.useState(null),[H,F]=y.useState(null),[ee,R]=y.useState(null),[A,S]=y.useState(null);return y.useEffect(()=>{w!==null&&w.setMap(_)},[_]),y.useEffect(()=>{e&&w!==null&&w.setOptions(e)},[w,e]),y.useEffect(()=>{w!==null&&w.setDrawingMode(t??null)},[w,t]),y.useEffect(()=>{w&&s&&(L!==null&&google.maps.event.removeListener(L),P(google.maps.event.addListener(w,"circlecomplete",s)))},[w,s]),y.useEffect(()=>{w&&a&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(w,"markercomplete",a)))},[w,a]),y.useEffect(()=>{w&&l&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(w,"overlaycomplete",l)))},[w,l]),y.useEffect(()=>{w&&c&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(w,"polygoncomplete",c)))},[w,c]),y.useEffect(()=>{w&&f&&(ee!==null&&google.maps.event.removeListener(ee),R(google.maps.event.addListener(w,"polylinecomplete",f)))},[w,f]),y.useEffect(()=>{w&&p&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(w,"rectanglecomplete",p)))},[w,p]),y.useEffect(()=>{Yt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var j=new google.maps.drawing.DrawingManager(Oh(Oh({},e),{},{map:_}));return t&&j.setDrawingMode(t),s&&P(google.maps.event.addListener(j,"circlecomplete",s)),a&&B(google.maps.event.addListener(j,"markercomplete",a)),l&&Y(google.maps.event.addListener(j,"overlaycomplete",l)),c&&F(google.maps.event.addListener(j,"polygoncomplete",c)),f&&R(google.maps.event.addListener(j,"polylinecomplete",f)),p&&S(google.maps.event.addListener(j,"rectanglecomplete",p)),k(j),m&&m(j),()=>{w!==null&&(L&&google.maps.event.removeListener(L),I&&google.maps.event.removeListener(I),z&&google.maps.event.removeListener(z),H&&google.maps.event.removeListener(H),ee&&google.maps.event.removeListener(ee),A&&google.maps.event.removeListener(A),b&&b(w),w.setMap(null))}},[]),null}y.memo(DP);class jP extends y.PureComponent{constructor(e){super(e),ae(this,"registeredEvents",[]),ae(this,"state",{drawingManager:null}),ae(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Yt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Oh(Oh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:fE,eventMap:hE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:fE,eventMap:hE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Fe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ae(jP,"contextType",ze);function pE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Jo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var mE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},gE={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},Dh={};function PP(n){var{position:e,options:t,clusterer:s,noClustererRedraw:a,children:l,draggable:c,visible:f,animation:p,clickable:m,cursor:b,icon:_,label:w,opacity:k,shape:L,title:P,zIndex:I,onClick:B,onDblClick:z,onDrag:Y,onDragEnd:H,onDragStart:F,onMouseOut:ee,onMouseOver:R,onMouseUp:A,onMouseDown:S,onRightClick:j,onClickableChanged:O,onCursorChanged:U,onAnimationChanged:M,onDraggableChanged:pe,onFlatChanged:be,onIconChanged:Q,onPositionChanged:ie,onShapeChanged:fe,onTitleChanged:ve,onVisibleChanged:G,onZindexChanged:D,onLoad:K,onUnmount:re}=n,he=y.useContext(ze),[X,ge]=y.useState(null),[xe,we]=y.useState(null),[Ie,Se]=y.useState(null),[Ve,Xt]=y.useState(null),[hn,fn]=y.useState(null),[We,Dr]=y.useState(null),[jr,ni]=y.useState(null),[mt,Ct]=y.useState(null),[zn,to]=y.useState(null),[gs,Wt]=y.useState(null),[Pr,ri]=y.useState(null),[Vr,br]=y.useState(null),[si,oa]=y.useState(null),[vs,la]=y.useState(null),[pn,jt]=y.useState(null),[nn,bt]=y.useState(null),[ys,bs]=y.useState(null),[_s,Bn]=y.useState(null),[Ur,Et]=y.useState(null),[wn,qn]=y.useState(null),[mn,no]=y.useState(null),[xs,Hn]=y.useState(null);y.useEffect(()=>{X!==null&&X.setMap(he)},[he]),y.useEffect(()=>{typeof t<"u"&&X!==null&&X.setOptions(t)},[X,t]),y.useEffect(()=>{typeof c<"u"&&X!==null&&X.setDraggable(c)},[X,c]),y.useEffect(()=>{e&&X!==null&&X.setPosition(e)},[X,e]),y.useEffect(()=>{typeof f<"u"&&X!==null&&X.setVisible(f)},[X,f]),y.useEffect(()=>{X?.setAnimation(p)},[X,p]),y.useEffect(()=>{X&&m!==void 0&&X.setClickable(m)},[X,m]),y.useEffect(()=>{X&&b!==void 0&&X.setCursor(b)},[X,b]),y.useEffect(()=>{X&&_!==void 0&&X.setIcon(_)},[X,_]),y.useEffect(()=>{X&&w!==void 0&&X.setLabel(w)},[X,w]),y.useEffect(()=>{X&&k!==void 0&&X.setOpacity(k)},[X,k]),y.useEffect(()=>{X&&L!==void 0&&X.setShape(L)},[X,L]),y.useEffect(()=>{X&&P!==void 0&&X.setTitle(P)},[X,P]),y.useEffect(()=>{X&&I!==void 0&&X.setZIndex(I)},[X,I]),y.useEffect(()=>{X&&z&&(xe!==null&&google.maps.event.removeListener(xe),we(google.maps.event.addListener(X,"dblclick",z)))},[z]),y.useEffect(()=>{X&&H&&(Ie!==null&&google.maps.event.removeListener(Ie),Se(google.maps.event.addListener(X,"dragend",H)))},[H]),y.useEffect(()=>{X&&F&&(Ve!==null&&google.maps.event.removeListener(Ve),Xt(google.maps.event.addListener(X,"dragstart",F)))},[F]),y.useEffect(()=>{X&&S&&(hn!==null&&google.maps.event.removeListener(hn),fn(google.maps.event.addListener(X,"mousedown",S)))},[S]),y.useEffect(()=>{X&&ee&&(We!==null&&google.maps.event.removeListener(We),Dr(google.maps.event.addListener(X,"mouseout",ee)))},[ee]),y.useEffect(()=>{X&&R&&(jr!==null&&google.maps.event.removeListener(jr),ni(google.maps.event.addListener(X,"mouseover",R)))},[R]),y.useEffect(()=>{X&&A&&(mt!==null&&google.maps.event.removeListener(mt),Ct(google.maps.event.addListener(X,"mouseup",A)))},[A]),y.useEffect(()=>{X&&j&&(zn!==null&&google.maps.event.removeListener(zn),to(google.maps.event.addListener(X,"rightclick",j)))},[j]),y.useEffect(()=>{X&&B&&(gs!==null&&google.maps.event.removeListener(gs),Wt(google.maps.event.addListener(X,"click",B)))},[B]),y.useEffect(()=>{X&&Y&&(Pr!==null&&google.maps.event.removeListener(Pr),ri(google.maps.event.addListener(X,"drag",Y)))},[Y]),y.useEffect(()=>{X&&O&&(Vr!==null&&google.maps.event.removeListener(Vr),br(google.maps.event.addListener(X,"clickable_changed",O)))},[O]),y.useEffect(()=>{X&&U&&(si!==null&&google.maps.event.removeListener(si),oa(google.maps.event.addListener(X,"cursor_changed",U)))},[U]),y.useEffect(()=>{X&&M&&(vs!==null&&google.maps.event.removeListener(vs),la(google.maps.event.addListener(X,"animation_changed",M)))},[M]),y.useEffect(()=>{X&&pe&&(pn!==null&&google.maps.event.removeListener(pn),jt(google.maps.event.addListener(X,"draggable_changed",pe)))},[pe]),y.useEffect(()=>{X&&be&&(nn!==null&&google.maps.event.removeListener(nn),bt(google.maps.event.addListener(X,"flat_changed",be)))},[be]),y.useEffect(()=>{X&&Q&&(ys!==null&&google.maps.event.removeListener(ys),bs(google.maps.event.addListener(X,"icon_changed",Q)))},[Q]),y.useEffect(()=>{X&&ie&&(_s!==null&&google.maps.event.removeListener(_s),Bn(google.maps.event.addListener(X,"position_changed",ie)))},[ie]),y.useEffect(()=>{X&&fe&&(Ur!==null&&google.maps.event.removeListener(Ur),Et(google.maps.event.addListener(X,"shape_changed",fe)))},[fe]),y.useEffect(()=>{X&&ve&&(wn!==null&&google.maps.event.removeListener(wn),qn(google.maps.event.addListener(X,"title_changed",ve)))},[ve]),y.useEffect(()=>{X&&G&&(mn!==null&&google.maps.event.removeListener(mn),no(google.maps.event.addListener(X,"visible_changed",G)))},[G]),y.useEffect(()=>{X&&D&&(xs!==null&&google.maps.event.removeListener(xs),Hn(google.maps.event.addListener(X,"zindex_changed",D)))},[D]),y.useEffect(()=>{var ws=Jo(Jo(Jo({},t||Dh),s?Dh:{map:he}),{},{position:e}),Re=new google.maps.Marker(ws);return s?s.addMarker(Re,!!a):Re.setMap(he),e&&Re.setPosition(e),typeof f<"u"&&Re.setVisible(f),typeof c<"u"&&Re.setDraggable(c),typeof m<"u"&&Re.setClickable(m),typeof b=="string"&&Re.setCursor(b),_&&Re.setIcon(_),typeof w<"u"&&Re.setLabel(w),typeof k<"u"&&Re.setOpacity(k),L&&Re.setShape(L),typeof P=="string"&&Re.setTitle(P),typeof I=="number"&&Re.setZIndex(I),z&&we(google.maps.event.addListener(Re,"dblclick",z)),H&&Se(google.maps.event.addListener(Re,"dragend",H)),F&&Xt(google.maps.event.addListener(Re,"dragstart",F)),S&&fn(google.maps.event.addListener(Re,"mousedown",S)),ee&&Dr(google.maps.event.addListener(Re,"mouseout",ee)),R&&ni(google.maps.event.addListener(Re,"mouseover",R)),A&&Ct(google.maps.event.addListener(Re,"mouseup",A)),j&&to(google.maps.event.addListener(Re,"rightclick",j)),B&&Wt(google.maps.event.addListener(Re,"click",B)),Y&&ri(google.maps.event.addListener(Re,"drag",Y)),O&&br(google.maps.event.addListener(Re,"clickable_changed",O)),U&&oa(google.maps.event.addListener(Re,"cursor_changed",U)),M&&la(google.maps.event.addListener(Re,"animation_changed",M)),pe&&jt(google.maps.event.addListener(Re,"draggable_changed",pe)),be&&bt(google.maps.event.addListener(Re,"flat_changed",be)),Q&&bs(google.maps.event.addListener(Re,"icon_changed",Q)),ie&&Bn(google.maps.event.addListener(Re,"position_changed",ie)),fe&&Et(google.maps.event.addListener(Re,"shape_changed",fe)),ve&&qn(google.maps.event.addListener(Re,"title_changed",ve)),G&&no(google.maps.event.addListener(Re,"visible_changed",G)),D&&Hn(google.maps.event.addListener(Re,"zindex_changed",D)),ge(Re),K&&K(Re),()=>{xe!==null&&google.maps.event.removeListener(xe),Ie!==null&&google.maps.event.removeListener(Ie),Ve!==null&&google.maps.event.removeListener(Ve),hn!==null&&google.maps.event.removeListener(hn),We!==null&&google.maps.event.removeListener(We),jr!==null&&google.maps.event.removeListener(jr),mt!==null&&google.maps.event.removeListener(mt),zn!==null&&google.maps.event.removeListener(zn),gs!==null&&google.maps.event.removeListener(gs),Vr!==null&&google.maps.event.removeListener(Vr),si!==null&&google.maps.event.removeListener(si),vs!==null&&google.maps.event.removeListener(vs),pn!==null&&google.maps.event.removeListener(pn),nn!==null&&google.maps.event.removeListener(nn),ys!==null&&google.maps.event.removeListener(ys),_s!==null&&google.maps.event.removeListener(_s),wn!==null&&google.maps.event.removeListener(wn),mn!==null&&google.maps.event.removeListener(mn),xs!==null&&google.maps.event.removeListener(xs),re&&re(Re),s?s.removeMarker(Re,!!a):Re&&Re.setMap(null)}},[]);var Es=y.useMemo(()=>l?y.Children.map(l,ws=>{if(!y.isValidElement(ws))return ws;var Re=ws;return y.cloneElement(Re,{anchor:X})}):null,[l,X]);return v.jsx(v.Fragment,{children:Es})||null}y.memo(PP);class B1 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[])}componentDidMount(){var e=this;return j1(function*(){var t=Jo(Jo(Jo({},e.props.options||Dh),e.props.clusterer?Dh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:gE,eventMap:mE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:gE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Fe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var s=t;return y.cloneElement(s,{anchor:this.marker})}):null;return e||null}}ae(B1,"contextType",ze);var VP=(function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var s=t.getMaxZoom(),a=this.cluster.getBounds(),l=t.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(a),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(a);var f=c.getZoom()||0;s!==null&&f>s&&c.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,s,a,l,c;if(this.div&&this.center){var f=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),m=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),b=parseInt(((t=p[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),_=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(_!==null?"".concat(_.y,"px"):"0","; left: ").concat(_!==null?"".concat(_.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var w=document.createElement("img");w.alt=f,w.src=this.url,w.width=this.width,w.height=this.height,w.setAttribute("style","position: absolute; top: ".concat(b,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(w.style.clip="rect(-".concat(b,"px, -").concat(m+this.width,"px, -").concat(b+this.height,", -").concat(m,")"));var k=document.createElement("div");k.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(k.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(k.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(w),this.div.appendChild(k),this.div.title=f,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),s=t[Math.min(t.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n})(),UP=(function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new VP(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),s=0,a=t;s<a.length;s++){var l=a[s],c=l.getPosition();c&&e.extend(c)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+s.lat())/a,(this.center.lng()*(a-1)+s.lng())/a),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,c=this.markerClusterer.getMaxZoom(),f=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof f<"u"&&f>c)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var p=0,m=this.markers;p<m.length;p++){var b=m[p];b.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof a<"u"&&a>s){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n})();function zP(n,e){var t=n.length,s=t.toString().length,a=Math.min(s,e);return{text:t.toString(),index:a,title:""}}var BP=2e3,qP=500,HP="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",FP="png",GP=[53,56,66,78,90],$P="cluster",q1=(function(){function n(e,t,s){t===void 0&&(t=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||HP,this.imageExtension=s.imageExtension||FP,this.imageSizes=s.imageSizes||GP,this.calculator=s.calculator||zP,this.batchSize=s.batchSize||BP,this.batchSizeIE=s.batchSizeIE||qP,this.clusterClass=s.clusterClass||$P,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var s=t[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var a=0,l=this.clusters;a<l.length;a++){var c=l[a];c.remove()}this.clusters=[];for(var f=0,p=this.listeners;f<p.length;f++){var m=p[f];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,s=0,a=e;s<a.length;s++){var l=a[s],c=l.getPosition();c&&t.extend(c)}var f=this.getMap();f!==null&&"fitBounds"in f&&f.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=e[s];a&&this.pushMarkerTo(a)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){t=s;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var s=this.removeMarker_(e);return!t&&s&&this.repaint(),s},n.prototype.removeMarkers=function(e,t){for(var s=!1,a=0,l=e;a<l.length;a++){var c=l[a];s=s||this.removeMarker_(c)}return!t&&s&&this.repaint(),s},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,a=e;s<a.length;s++){var l=a[s];l.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),s=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var a=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),s!==null){var l=t.fromDivPixelToLatLng(s);l!==null&&e.extend(l)}if(a!==null){var c=t.fromDivPixelToLatLng(a);c!==null&&e.extend(c)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,s=this.clusters;t<s.length;t++){var a=s[t];a.remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var f=c[l];f.isAdded=!1,e&&f.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var s=6371,a=(t.lat()-e.lat())*Math.PI/180,l=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return s*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},n.prototype.isMarkerInBounds=function(e,t){var s=e.getPosition();return s?t.contains(s):!1},n.prototype.addToClosestCluster=function(e){for(var t,s=4e4,a=null,l=0,c=this.clusters;l<c.length;l++){var f=c[l];t=f;var p=t.getCenter(),m=e.getPosition();if(p&&m){var b=this.distanceBetweenPoints(p,m);b<s&&(s=b,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(t=new UP(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),a=s!==null&&("getBounds"in s)?s.getBounds():null,l=s?.getZoom()||0,c=l>3?new google.maps.LatLngBounds(a?.getSouthWest(),a?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),f=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),m=e;m<p;m++){var b=this.markers[m];b&&!b.isAdded&&this.isMarkerInBounds(b,f)&&(!this.ignoreHidden||this.ignoreHidden&&b.getVisible())&&this.addToClosestCluster(b)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var _=0,w=this.clusters;_<w.length;_++){var k=w[_];k.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype){var c=l;this.prototype[c]=a.prototype[c]}return this}).apply(e,[t])},n})();function vE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function KP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var gr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},tt={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},QP={};function YP(n){var{children:e,options:t,averageCenter:s,batchSizeIE:a,calculator:l,clusterClass:c,enableRetinaIcons:f,gridSize:p,ignoreHidden:m,imageExtension:b,imagePath:_,imageSizes:w,maxZoom:k,minimumClusterSize:L,styles:P,title:I,zoomOnClick:B,onClick:z,onClusteringBegin:Y,onClusteringEnd:H,onMouseOver:F,onMouseOut:ee,onLoad:R,onUnmount:A}=n,[S,j]=y.useState(null),O=y.useContext(ze),[U,M]=y.useState(null),[pe,be]=y.useState(null),[Q,ie]=y.useState(null),[fe,ve]=y.useState(null),[G,D]=y.useState(null);return y.useEffect(()=>{S&&ee&&(fe!==null&&google.maps.event.removeListener(fe),ve(google.maps.event.addListener(S,gr.onMouseOut,ee)))},[ee]),y.useEffect(()=>{S&&F&&(G!==null&&google.maps.event.removeListener(G),D(google.maps.event.addListener(S,gr.onMouseOver,F)))},[F]),y.useEffect(()=>{S&&z&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(S,gr.onClick,z)))},[z]),y.useEffect(()=>{S&&Y&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(S,gr.onClusteringBegin,Y)))},[Y]),y.useEffect(()=>{S&&H&&(Q!==null&&google.maps.event.removeListener(Q),be(google.maps.event.addListener(S,gr.onClusteringEnd,H)))},[H]),y.useEffect(()=>{typeof s<"u"&&S!==null&&tt.averageCenter(S,s)},[S,s]),y.useEffect(()=>{typeof a<"u"&&S!==null&&tt.batchSizeIE(S,a)},[S,a]),y.useEffect(()=>{typeof l<"u"&&S!==null&&tt.calculator(S,l)},[S,l]),y.useEffect(()=>{typeof c<"u"&&S!==null&&tt.clusterClass(S,c)},[S,c]),y.useEffect(()=>{typeof f<"u"&&S!==null&&tt.enableRetinaIcons(S,f)},[S,f]),y.useEffect(()=>{typeof p<"u"&&S!==null&&tt.gridSize(S,p)},[S,p]),y.useEffect(()=>{typeof m<"u"&&S!==null&&tt.ignoreHidden(S,m)},[S,m]),y.useEffect(()=>{typeof b<"u"&&S!==null&&tt.imageExtension(S,b)},[S,b]),y.useEffect(()=>{typeof _<"u"&&S!==null&&tt.imagePath(S,_)},[S,_]),y.useEffect(()=>{typeof w<"u"&&S!==null&&tt.imageSizes(S,w)},[S,w]),y.useEffect(()=>{typeof k<"u"&&S!==null&&tt.maxZoom(S,k)},[S,k]),y.useEffect(()=>{typeof L<"u"&&S!==null&&tt.minimumClusterSize(S,L)},[S,L]),y.useEffect(()=>{typeof P<"u"&&S!==null&&tt.styles(S,P)},[S,P]),y.useEffect(()=>{typeof I<"u"&&S!==null&&tt.title(S,I)},[S,I]),y.useEffect(()=>{typeof B<"u"&&S!==null&&tt.zoomOnClick(S,B)},[S,B]),y.useEffect(()=>{if(O){var K=KP({},t||QP),re=new q1(O,[],K);return s&&tt.averageCenter(re,s),a&&tt.batchSizeIE(re,a),l&&tt.calculator(re,l),c&&tt.clusterClass(re,c),f&&tt.enableRetinaIcons(re,f),p&&tt.gridSize(re,p),m&&tt.ignoreHidden(re,m),b&&tt.imageExtension(re,b),_&&tt.imagePath(re,_),w&&tt.imageSizes(re,w),k&&tt.maxZoom(re,k),L&&tt.minimumClusterSize(re,L),P&&tt.styles(re,P),I&&tt.title(re,I),B&&tt.zoomOnClick(re,B),ee&&ve(google.maps.event.addListener(re,gr.onMouseOut,ee)),F&&D(google.maps.event.addListener(re,gr.onMouseOver,F)),z&&M(google.maps.event.addListener(re,gr.onClick,z)),Y&&be(google.maps.event.addListener(re,gr.onClusteringBegin,Y)),H&&ie(google.maps.event.addListener(re,gr.onClusteringEnd,H)),j(re),R&&R(re),()=>{fe!==null&&google.maps.event.removeListener(fe),G!==null&&google.maps.event.removeListener(G),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),Q!==null&&google.maps.event.removeListener(Q),A&&A(re)}}},[]),S!==null&&e(S)||null}y.memo(YP);class XP extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{markerClusterer:null}),ae(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new q1(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:tt,eventMap:gr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:tt,eventMap:gr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Fe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ae(XP,"contextType",ze);function yE(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var H1=(function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(b){b.returnValue=!1,b.preventDefault&&b.preventDefault(),e.enableEventPropagation||yE(b)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,f=l;c<f.length;c++){var p=f[c];this.eventListeners.push(google.maps.event.addListener(this.div,p,yE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var s=0,a=0,l=t.getBounds();l&&!l.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),f=c.offsetWidth,p=c.offsetHeight,m=this.pixelOffset.width,b=this.pixelOffset.height,_=this.div.offsetWidth,w=this.div.offsetHeight,k=this.infoBoxClearance.width,L=this.infoBoxClearance.height,P=this.getProjection(),I=P.fromLatLngToContainerPixel(this.position);I!==null&&(I.x<-m+k?s=I.x+m-k:I.x+_+m+k>f&&(s=I.x+_+m+k-f),this.alignBottom?I.y<-b+L+w?a=I.y+b-L-w:I.y+b+L>p&&(a=I.y+b+L-p):I.y<-b+L?a=I.y+b-L:I.y+w+b+L>p&&(a=I.y+w+b+L-p)),s===0&&a===0||t.panBy(s,a)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,s=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var s=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var a=t.getPosition();s.setPosition(a)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){s.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var s=t[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=a.prototype[l]);return this}).apply(e,[t])},n})(),WP=["position"],ZP=["position"];function bE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function jh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var _E={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},xE={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},JP={};function e4(n){var{children:e,anchor:t,options:s,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:m,onZindexChanged:b,onLoad:_,onUnmount:w}=n,k=y.useContext(ze),[L,P]=y.useState(null),[I,B]=y.useState(null),[z,Y]=y.useState(null),[H,F]=y.useState(null),[ee,R]=y.useState(null),[A,S]=y.useState(null),j=y.useRef(null);return y.useEffect(()=>{k&&L!==null&&(L.close(),t?L.open(k,t):L.getPosition()&&L.open(k))},[k,L,t]),y.useEffect(()=>{s&&L!==null&&L.setOptions(s)},[L,s]),y.useEffect(()=>{if(a&&L!==null){var O=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);L.setPosition(O)}},[a]),y.useEffect(()=>{typeof l=="number"&&L!==null&&L.setZIndex(l)},[l]),y.useEffect(()=>{L&&c&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(L,"closeclick",c)))},[c]),y.useEffect(()=>{L&&f&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(L,"domready",f)))},[f]),y.useEffect(()=>{L&&p&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(L,"content_changed",p)))},[p]),y.useEffect(()=>{L&&m&&(ee!==null&&google.maps.event.removeListener(ee),R(google.maps.event.addListener(L,"position_changed",m)))},[m]),y.useEffect(()=>{L&&b&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(L,"zindex_changed",b)))},[b]),y.useEffect(()=>{if(k){var O=s||JP,{position:U}=O,M=Nv(O,WP),pe;U&&!(U instanceof google.maps.LatLng)&&(pe=new google.maps.LatLng(U.lat,U.lng));var be=new H1(jh(jh({},M),pe?{position:pe}:{}));j.current=document.createElement("div"),P(be),c&&B(google.maps.event.addListener(be,"closeclick",c)),f&&Y(google.maps.event.addListener(be,"domready",f)),p&&F(google.maps.event.addListener(be,"content_changed",p)),m&&R(google.maps.event.addListener(be,"position_changed",m)),b&&S(google.maps.event.addListener(be,"zindex_changed",b)),be.setContent(j.current),t?be.open(k,t):be.getPosition()?be.open(k):Yt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),_&&_(be)}return()=>{L!==null&&(I&&google.maps.event.removeListener(I),H&&google.maps.event.removeListener(H),z&&google.maps.event.removeListener(z),ee&&google.maps.event.removeListener(ee),A&&google.maps.event.removeListener(A),w&&w(L),L.close())}},[]),j.current?ol.createPortal(y.Children.only(e),j.current):null}y.memo(e4);class t4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",null),ae(this,"state",{infoBox:null}),ae(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Yt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ae(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,s=Nv(e,ZP),a;t&&!(t instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(t.lat,t.lng));var l=new H1(jh(jh({},s),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:xE,eventMap:_E,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:xE,eventMap:_E,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Fe(this.registeredEvents),t.close())}render(){return this.containerElement?ol.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ae(t4,"contextType",ze);var Mm,EE;function n4(){return EE||(EE=1,Mm=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,a,l;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(a=s;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=s;a--!==0;){var c=l[a];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),Mm}var r4=n4(),wE=D1(r4),TE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Om=1,bu=8;class Mv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,s]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=s>>4;if(a!==Om)throw new Error("Got v".concat(a," data when expected v").concat(Om,"."));var l=TE[s&15];if(!l)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[f]=new Uint32Array(e,4,1);return new Mv(f,c,l,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=TE.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,f=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-f%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(s,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,bu,e),this.coords=new this.ArrayType(this.data,bu+f+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(bu+c+f+p),this.ids=new this.IndexArrayType(this.data,bu,e),this.coords=new this.ArrayType(this.data,bu+f+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Om<<4)+l]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=t,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return pg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,s,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:f}=this,p=[0,l.length-1,0],m=[];p.length;){var b=p.pop()||0,_=p.pop()||0,w=p.pop()||0;if(_-w<=f){for(var k=w;k<=_;k++){var L=c[2*k],P=c[2*k+1];L>=e&&L<=s&&P>=t&&P<=a&&m.push(l[k])}continue}var I=w+_>>1,B=c[2*I],z=c[2*I+1];B>=e&&B<=s&&z>=t&&z<=a&&m.push(l[I]),(b===0?e<=B:t<=z)&&(p.push(w),p.push(I-1),p.push(1-b)),(b===0?s>=B:a>=z)&&(p.push(I+1),p.push(_),p.push(1-b))}return m}within(e,t,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,f=[0,a.length-1,0],p=[],m=s*s;f.length;){var b=f.pop()||0,_=f.pop()||0,w=f.pop()||0;if(_-w<=c){for(var k=w;k<=_;k++)SE(l[2*k],l[2*k+1],e,t)<=m&&p.push(a[k]);continue}var L=w+_>>1,P=l[2*L],I=l[2*L+1];SE(P,I,e,t)<=m&&p.push(a[L]),(b===0?e-s<=P:t-s<=I)&&(f.push(w),f.push(L-1),f.push(1-b)),(b===0?e+s>=P:t+s>=I)&&(f.push(L+1),f.push(_),f.push(1-b))}return p}}function pg(n,e,t,s,a,l){if(!(a-s<=t)){var c=s+a>>1;F1(n,e,c,s,a,l),pg(n,e,t,s,c-1,1-l),pg(n,e,t,c+1,a,1-l)}}function F1(n,e,t,s,a,l){for(;a>s;){if(a-s>600){var c=a-s+1,f=t-s+1,p=Math.log(c),m=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*m*(c-m)/c)*(f-c/2<0?-1:1),_=Math.max(s,Math.floor(t-f*m/c+b)),w=Math.min(a,Math.floor(t+(c-f)*m/c+b));F1(n,e,t,_,w,l)}var k=e[2*t+l],L=s,P=a;for(_u(n,e,s,t),e[2*a+l]>k&&_u(n,e,s,a);L<P;){for(_u(n,e,L,P),L++,P--;e[2*L+l]<k;)L++;for(;e[2*P+l]>k;)P--}e[2*s+l]===k?_u(n,e,s,P):(P++,_u(n,e,P,a)),P<=t&&(s=P+1),t<=P&&(a=P-1)}}function _u(n,e,t,s){Dm(n,t,s),Dm(e,2*t,2*s),Dm(e,2*t+1,2*s+1)}function Dm(n,e,t){var s=n[e];n[e]=n[t],n[t]=s}function SE(n,e,t,s){var a=n-t,l=e-s;return a*a+l*l}var s4={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},CE=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Da=2,Vi=3,jm=4,Pi=5,G1=6;class i4{constructor(e){this.options=Object.assign(Object.create(s4),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:s,maxZoom:a}=this.options;t&&console.time("total time");var l="prepare ".concat(e.length," points");t&&console.time(l),this.points=e;for(var c=[],f=0;f<e.length;f++){var p=e[f];if(p.geometry){var[m,b]=p.geometry.coordinates,_=CE(Zd(m)),w=CE(Jd(b));c.push(_,w,1/0,f,-1,1),this.options.reduce&&c.push(0)}}var k=this.trees[a+1]=this._createTree(c);t&&console.timeEnd(l);for(var L=a;L>=s;L--){var P=+Date.now();k=this.trees[L]=this._createTree(this._cluster(k,L)),t&&console.log("z%d: %d clusters in %dms",L,k.numItems,+Date.now()-P)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var s=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,l=180;else if(s>l){var f=this.getClusters([s,a,180,c],t),p=this.getClusters([-180,a,l,c],t);return f.concat(p)}var m=this.trees[this._limitZoom(t)],b=m.range(Zd(s),Jd(c),Zd(l),Jd(a)),_=m.data,w=[];for(var k of b){var L=this.stride*k;w.push(_[L+Pi]>1?AE(_,L,this.clusterProps):this.points[_[L+Vi]])}return w}getChildren(e){var t=this._getOriginId(e),s=this._getOriginZoom(e),a="No cluster with the specified id.",l=this.trees[s];if(!l)throw new Error(a);var c=l.data;if(t*this.stride>=c.length)throw new Error(a);var f=this.options.radius/(this.options.extent*Math.pow(2,s-1)),p=c[t*this.stride],m=c[t*this.stride+1],b=l.within(p,m,f),_=[];for(var w of b){var k=w*this.stride;c[k+jm]===e&&_.push(c[k+Pi]>1?AE(c,k,this.clusterProps):this.points[c[k+Vi]])}if(_.length===0)throw new Error(a);return _}getLeaves(e,t,s){t=t||10,s=s||0;var a=[];return this._appendLeaves(a,e,t,s,0),a}getTile(e,t,s){var a=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:c,radius:f}=this.options,p=f/c,m=(s-p)/l,b=(s+1+p)/l,_={features:[]};return this._addTileFeatures(a.range((t-p)/l,m,(t+1+p)/l,b),a.data,t,s,l,_),t===0&&this._addTileFeatures(a.range(1-p/l,m,1,b),a.data,l,s,l,_),t===l-1&&this._addTileFeatures(a.range(0,m,p/l,b),a.data,-1,s,l,_),_.features.length?_:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var s=this.getChildren(e);if(t++,s.length!==1)break;e=s[0].properties.cluster_id}return t}_appendLeaves(e,t,s,a,l){var c=this.getChildren(t);for(var f of c){var p=f.properties;if(p&&p.cluster?l+p.point_count<=a?l+=p.point_count:l=this._appendLeaves(e,p.cluster_id,s,a,l):l<a?l++:e.push(f),e.length===s)break}return l}_createTree(e){for(var t=new Mv(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)t.add(e[s],e[s+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,s,a,l,c){for(var f of e){var p=f*this.stride,m=t[p+Pi]>1,b=void 0,_=void 0,w=void 0;if(m)b=$1(t,p,this.clusterProps),_=t[p],w=t[p+1];else{var k=this.points[t[p+Vi]];b=k.properties;var[L,P]=k.geometry.coordinates;_=Zd(L),w=Jd(P)}var I={type:1,geometry:[[Math.round(this.options.extent*(_*l-s)),Math.round(this.options.extent*(w*l-a))]],tags:b},B=void 0;m||this.options.generateId?B=t[p+Vi]:B=this.points[t[p+Vi]].id,B!==void 0&&(I.id=B),c.features.push(I)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:s,extent:a,reduce:l,minPoints:c}=this.options,f=s/(a*Math.pow(2,t)),p=e.data,m=[],b=this.stride,_=0;_<p.length;_+=b)if(!(p[_+Da]<=t)){p[_+Da]=t;var w=p[_],k=p[_+1],L=e.within(p[_],p[_+1],f),P=p[_+Pi],I=P;for(var B of L){var z=B*b;p[z+Da]>t&&(I+=p[z+Pi])}if(I>P&&I>=c){var Y=w*P,H=k*P,F=void 0,ee=-1,R=((_/b|0)<<5)+(t+1)+this.points.length;for(var A of L){var S=A*b;if(!(p[S+Da]<=t)){p[S+Da]=t;var j=p[S+Pi];Y+=p[S]*j,H+=p[S+1]*j,p[S+jm]=R,l&&(F||(F=this._map(p,_,!0),ee=this.clusterProps.length,this.clusterProps.push(F)),l(F,this._map(p,S)))}}p[_+jm]=R,m.push(Y/I,H/I,1/0,R,-1,I),l&&m.push(ee)}else{for(var O=0;O<b;O++)m.push(p[_+O]);if(I>1)for(var U of L){var M=U*b;if(!(p[M+Da]<=t)){p[M+Da]=t;for(var pe=0;pe<b;pe++)m.push(p[M+pe])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,s){if(e[t+Pi]>1){var a=this.clusterProps[e[t+G1]];return s?Object.assign({},a):a}var l=this.points[e[t+Vi]].properties,c=this.options.map(l);return s&&c===l?Object.assign({},c):c}}function AE(n,e,t){return{type:"Feature",id:n[e+Vi],properties:$1(n,e,t),geometry:{type:"Point",coordinates:[a4(n[e]),o4(n[e+1])]}}}function $1(n,e,t){var s=n[e+Pi],a=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,l=n[e+G1],c=l===-1?{}:Object.assign({},t[l]);return Object.assign(c,{cluster:!0,cluster_id:n[e+Vi],point_count:s,point_count_abbreviated:a})}function Zd(n){return n/360+.5}function Jd(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function a4(n){return(n-.5)*360}function o4(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function l4(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}class Jn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class mg{constructor(e){var{markers:t,position:s}=e;this.markers=t,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Jn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Jn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Jn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class u4{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return c4(t)}}var c4=n=>{var e=n.map(t=>new mg({position:Jn.getPosition(t),markers:[t]}));return e};class d4 extends u4{constructor(e){var{maxZoom:t,radius:s=60}=e,a=l4(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new i4(Object.assign({maxZoom:this.maxZoom,radius:s},a))}calculate(e){var t=!1,s={zoom:e.map.getZoom()};if(!wE(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var a=this.markers.map(l=>{var c=Jn.getPosition(l),f=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:f},properties:{marker:l}}});this.superCluster.load(a)}return t||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(t=!wE(this.state,s)),this.state=s,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[t,s]},properties:a}=e;if(a.cluster)return new mg({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:s,lng:t}});var l=a.marker;return new mg({markers:[l],position:Jn.getPosition(l)})}}class h4{constructor(e,t){this.markers={sum:e.length};var s=t.map(l=>l.count),a=s.reduce((l,c)=>l+c,0);this.clusters={count:t.length,markers:{mean:a/t.length,sum:a,min:Math.min(...s),max:Math.max(...s)}}}}class f4{render(e,t,s){var{count:a,position:l}=e,c=a>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",f='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),p="Cluster of ".concat(a," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+a;if(Jn.isAdvancedMarkerAvailable(s)){var b=new DOMParser,_=b.parseFromString(f,"image/svg+xml").documentElement;_.setAttribute("transform","translate(0 25)");var w={map:s,position:l,zIndex:m,title:p,content:_};return new google.maps.marker.AdvancedMarkerElement(w)}var k={position:l,zIndex:m,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(f)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(k)}}function p4(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class Ov{constructor(){p4(Ov,google.maps.OverlayView)}}var Du;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Du||(Du={}));var m4=(n,e,t)=>{t.fitBounds(e.bounds)};class g4 extends Ov{constructor(e){var{map:t,markers:s=[],algorithmOptions:a={},algorithm:l=new d4(a),renderer:c=new f4,onClusterClick:f=m4}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=l,this.renderer=c,this.onClusterClick=f,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(s=>{this.addMarker(s,!0)}),t||this.render()}removeMarker(e,t){var s=this.markers.indexOf(e);return s===-1?!1:(Jn.setMap(e,null),this.markers.splice(s,1),t||this.render(),!0)}removeMarkers(e,t){var s=!1;return e.forEach(a=>{s=this.removeMarker(a,!0)||s}),s&&!t&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Du.CLUSTERING_BEGIN,this);var{clusters:t,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var a=new Set;for(var l of t)l.markers.length==1&&a.add(l.markers[0]);var c=[];for(var f of this.clusters)f.marker!=null&&(f.markers.length==1?a.has(f.marker)||Jn.setMap(f.marker,null):c.push(f.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(p=>Jn.setMap(p,null)))}google.maps.event.trigger(this,Du.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Jn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new h4(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,t),s.markers.forEach(a=>Jn.setMap(a,null)),this.onClusterClick&&s.marker.addListener("click",a=>{google.maps.event.trigger(this,Du.CLUSTER_CLICK,s),this.onClusterClick(a,s,t)})),Jn.setMap(s.marker,t)})}}function kE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function RE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function v4(n){var e=gP(),[t,s]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var a=new g4(RE(RE({},n),{},{map:e}));s(a)}},[e]),t}function y4(n){var{children:e,options:t}=n,s=v4(t);return s!==null?e(s):null}y.memo(y4);var LE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},NE={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function b4(n){var{children:e,anchor:t,options:s,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:m,onZindexChanged:b,onLoad:_,onUnmount:w}=n,k=y.useContext(ze),[L,P]=y.useState(null),[I,B]=y.useState(null),[z,Y]=y.useState(null),[H,F]=y.useState(null),[ee,R]=y.useState(null),[A,S]=y.useState(null),j=y.useRef(null);return y.useEffect(()=>{L!==null&&(L.close(),t?L.open(k,t):L.getPosition()&&L.open(k))},[k,L,t]),y.useEffect(()=>{s&&L!==null&&L.setOptions(s)},[L,s]),y.useEffect(()=>{a&&L!==null&&L.setPosition(a)},[a]),y.useEffect(()=>{typeof l=="number"&&L!==null&&L.setZIndex(l)},[l]),y.useEffect(()=>{L&&c&&(I!==null&&google.maps.event.removeListener(I),B(google.maps.event.addListener(L,"closeclick",c)))},[c]),y.useEffect(()=>{L&&f&&(z!==null&&google.maps.event.removeListener(z),Y(google.maps.event.addListener(L,"domready",f)))},[f]),y.useEffect(()=>{L&&p&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(L,"content_changed",p)))},[p]),y.useEffect(()=>{L&&m&&(ee!==null&&google.maps.event.removeListener(ee),R(google.maps.event.addListener(L,"position_changed",m)))},[m]),y.useEffect(()=>{L&&b&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(L,"zindex_changed",b)))},[b]),y.useEffect(()=>{var O=new google.maps.InfoWindow(s);return P(O),j.current=document.createElement("div"),c&&B(google.maps.event.addListener(O,"closeclick",c)),f&&Y(google.maps.event.addListener(O,"domready",f)),p&&F(google.maps.event.addListener(O,"content_changed",p)),m&&R(google.maps.event.addListener(O,"position_changed",m)),b&&S(google.maps.event.addListener(O,"zindex_changed",b)),O.setContent(j.current),a&&O.setPosition(a),l&&O.setZIndex(l),t?O.open(k,t):O.getPosition()?O.open(k):Yt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),_&&_(O),()=>{I&&google.maps.event.removeListener(I),H&&google.maps.event.removeListener(H),z&&google.maps.event.removeListener(z),ee&&google.maps.event.removeListener(ee),A&&google.maps.event.removeListener(A),w&&w(O),O.close()}},[]),j.current?ol.createPortal(y.Children.only(e),j.current):null}y.memo(b4);class _4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",null),ae(this,"state",{infoWindow:null}),ae(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Yt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ae(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:NE,eventMap:LE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:NE,eventMap:LE,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?ol.createPortal(y.Children.only(this.props.children),this.containerElement):null}}ae(_4,"contextType",ze);function IE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Ph(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var ME={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},OE={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},x4={};function E4(n){var{options:e,draggable:t,editable:s,visible:a,path:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:m,onMouseMove:b,onMouseOut:_,onMouseOver:w,onMouseUp:k,onRightClick:L,onClick:P,onDrag:I,onLoad:B,onUnmount:z}=n,Y=y.useContext(ze),[H,F]=y.useState(null),[ee,R]=y.useState(null),[A,S]=y.useState(null),[j,O]=y.useState(null),[U,M]=y.useState(null),[pe,be]=y.useState(null),[Q,ie]=y.useState(null),[fe,ve]=y.useState(null),[G,D]=y.useState(null),[K,re]=y.useState(null),[he,X]=y.useState(null),[ge,xe]=y.useState(null);return y.useEffect(()=>{H!==null&&H.setMap(Y)},[Y]),y.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),y.useEffect(()=>{typeof t<"u"&&H!==null&&H.setDraggable(t)},[H,t]),y.useEffect(()=>{typeof s<"u"&&H!==null&&H.setEditable(s)},[H,s]),y.useEffect(()=>{typeof a<"u"&&H!==null&&H.setVisible(a)},[H,a]),y.useEffect(()=>{typeof l<"u"&&H!==null&&H.setPath(l)},[H,l]),y.useEffect(()=>{H&&c&&(ee!==null&&google.maps.event.removeListener(ee),R(google.maps.event.addListener(H,"dblclick",c)))},[c]),y.useEffect(()=>{H&&f&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(H,"dragend",f)))},[f]),y.useEffect(()=>{H&&p&&(j!==null&&google.maps.event.removeListener(j),O(google.maps.event.addListener(H,"dragstart",p)))},[p]),y.useEffect(()=>{H&&m&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(H,"mousedown",m)))},[m]),y.useEffect(()=>{H&&b&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(H,"mousemove",b)))},[b]),y.useEffect(()=>{H&&_&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(H,"mouseout",_)))},[_]),y.useEffect(()=>{H&&w&&(fe!==null&&google.maps.event.removeListener(fe),ve(google.maps.event.addListener(H,"mouseover",w)))},[w]),y.useEffect(()=>{H&&k&&(G!==null&&google.maps.event.removeListener(G),D(google.maps.event.addListener(H,"mouseup",k)))},[k]),y.useEffect(()=>{H&&L&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(H,"rightclick",L)))},[L]),y.useEffect(()=>{H&&P&&(he!==null&&google.maps.event.removeListener(he),X(google.maps.event.addListener(H,"click",P)))},[P]),y.useEffect(()=>{H&&I&&(ge!==null&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener(H,"drag",I)))},[I]),y.useEffect(()=>{var we=new google.maps.Polyline(Ph(Ph({},e||x4),{},{map:Y}));return l&&we.setPath(l),typeof a<"u"&&we.setVisible(a),typeof s<"u"&&we.setEditable(s),typeof t<"u"&&we.setDraggable(t),c&&R(google.maps.event.addListener(we,"dblclick",c)),f&&S(google.maps.event.addListener(we,"dragend",f)),p&&O(google.maps.event.addListener(we,"dragstart",p)),m&&M(google.maps.event.addListener(we,"mousedown",m)),b&&be(google.maps.event.addListener(we,"mousemove",b)),_&&ie(google.maps.event.addListener(we,"mouseout",_)),w&&ve(google.maps.event.addListener(we,"mouseover",w)),k&&D(google.maps.event.addListener(we,"mouseup",k)),L&&re(google.maps.event.addListener(we,"rightclick",L)),P&&X(google.maps.event.addListener(we,"click",P)),I&&xe(google.maps.event.addListener(we,"drag",I)),F(we),B&&B(we),()=>{ee!==null&&google.maps.event.removeListener(ee),A!==null&&google.maps.event.removeListener(A),j!==null&&google.maps.event.removeListener(j),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),he!==null&&google.maps.event.removeListener(he),z&&z(we),we.setMap(null)}},[]),null}y.memo(E4);class w4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{polyline:null}),ae(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Ph(Ph({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:OE,eventMap:ME,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:OE,eventMap:ME,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Fe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ae(w4,"contextType",ze);function DE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function jE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var PE={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},VE={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function T4(n){var{options:e,draggable:t,editable:s,visible:a,path:l,paths:c,onDblClick:f,onDragEnd:p,onDragStart:m,onMouseDown:b,onMouseMove:_,onMouseOut:w,onMouseOver:k,onMouseUp:L,onRightClick:P,onClick:I,onDrag:B,onLoad:z,onUnmount:Y,onEdit:H}=n,F=y.useContext(ze),[ee,R]=y.useState(null),[A,S]=y.useState(null),[j,O]=y.useState(null),[U,M]=y.useState(null),[pe,be]=y.useState(null),[Q,ie]=y.useState(null),[fe,ve]=y.useState(null),[G,D]=y.useState(null),[K,re]=y.useState(null),[he,X]=y.useState(null),[ge,xe]=y.useState(null),[we,Ie]=y.useState(null);return y.useEffect(()=>{ee!==null&&ee.setMap(F)},[F]),y.useEffect(()=>{typeof e<"u"&&ee!==null&&ee.setOptions(e)},[ee,e]),y.useEffect(()=>{typeof t<"u"&&ee!==null&&ee.setDraggable(t)},[ee,t]),y.useEffect(()=>{typeof s<"u"&&ee!==null&&ee.setEditable(s)},[ee,s]),y.useEffect(()=>{typeof a<"u"&&ee!==null&&ee.setVisible(a)},[ee,a]),y.useEffect(()=>{typeof l<"u"&&ee!==null&&ee.setPath(l)},[ee,l]),y.useEffect(()=>{typeof c<"u"&&ee!==null&&ee.setPaths(c)},[ee,c]),y.useEffect(()=>{ee&&typeof f=="function"&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(ee,"dblclick",f)))},[f]),y.useEffect(()=>{ee&&(google.maps.event.addListener(ee.getPath(),"insert_at",()=>{H?.(ee)}),google.maps.event.addListener(ee.getPath(),"set_at",()=>{H?.(ee)}),google.maps.event.addListener(ee.getPath(),"remove_at",()=>{H?.(ee)}))},[ee,H]),y.useEffect(()=>{ee&&typeof p=="function"&&(j!==null&&google.maps.event.removeListener(j),O(google.maps.event.addListener(ee,"dragend",p)))},[p]),y.useEffect(()=>{ee&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(ee,"dragstart",m)))},[m]),y.useEffect(()=>{ee&&typeof b=="function"&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(ee,"mousedown",b)))},[b]),y.useEffect(()=>{ee&&typeof _=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(ee,"mousemove",_)))},[_]),y.useEffect(()=>{ee&&typeof w=="function"&&(fe!==null&&google.maps.event.removeListener(fe),ve(google.maps.event.addListener(ee,"mouseout",w)))},[w]),y.useEffect(()=>{ee&&typeof k=="function"&&(G!==null&&google.maps.event.removeListener(G),D(google.maps.event.addListener(ee,"mouseover",k)))},[k]),y.useEffect(()=>{ee&&typeof L=="function"&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(ee,"mouseup",L)))},[L]),y.useEffect(()=>{ee&&typeof P=="function"&&(he!==null&&google.maps.event.removeListener(he),X(google.maps.event.addListener(ee,"rightclick",P)))},[P]),y.useEffect(()=>{ee&&typeof I=="function"&&(ge!==null&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener(ee,"click",I)))},[I]),y.useEffect(()=>{ee&&typeof B=="function"&&(we!==null&&google.maps.event.removeListener(we),Ie(google.maps.event.addListener(ee,"drag",B)))},[B]),y.useEffect(()=>{var Se=new google.maps.Polygon(jE(jE({},e),{},{map:F}));return l&&Se.setPath(l),c&&Se.setPaths(c),typeof a<"u"&&Se.setVisible(a),typeof s<"u"&&Se.setEditable(s),typeof t<"u"&&Se.setDraggable(t),f&&S(google.maps.event.addListener(Se,"dblclick",f)),p&&O(google.maps.event.addListener(Se,"dragend",p)),m&&M(google.maps.event.addListener(Se,"dragstart",m)),b&&be(google.maps.event.addListener(Se,"mousedown",b)),_&&ie(google.maps.event.addListener(Se,"mousemove",_)),w&&ve(google.maps.event.addListener(Se,"mouseout",w)),k&&D(google.maps.event.addListener(Se,"mouseover",k)),L&&re(google.maps.event.addListener(Se,"mouseup",L)),P&&X(google.maps.event.addListener(Se,"rightclick",P)),I&&xe(google.maps.event.addListener(Se,"click",I)),B&&Ie(google.maps.event.addListener(Se,"drag",B)),R(Se),z&&z(Se),()=>{A!==null&&google.maps.event.removeListener(A),j!==null&&google.maps.event.removeListener(j),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),he!==null&&google.maps.event.removeListener(he),ge!==null&&google.maps.event.removeListener(ge),Y&&Y(Se),Se.setMap(null)}},[]),null}y.memo(T4);class S4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:VE,eventMap:PE,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:VE,eventMap:PE,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Fe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ae(S4,"contextType",ze);function UE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Vh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var zE={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},BE={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function C4(n){var{options:e,bounds:t,draggable:s,editable:a,visible:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:m,onMouseMove:b,onMouseOut:_,onMouseOver:w,onMouseUp:k,onRightClick:L,onClick:P,onDrag:I,onBoundsChanged:B,onLoad:z,onUnmount:Y}=n,H=y.useContext(ze),[F,ee]=y.useState(null),[R,A]=y.useState(null),[S,j]=y.useState(null),[O,U]=y.useState(null),[M,pe]=y.useState(null),[be,Q]=y.useState(null),[ie,fe]=y.useState(null),[ve,G]=y.useState(null),[D,K]=y.useState(null),[re,he]=y.useState(null),[X,ge]=y.useState(null),[xe,we]=y.useState(null),[Ie,Se]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(H)},[H]),y.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),y.useEffect(()=>{typeof s<"u"&&F!==null&&F.setDraggable(s)},[F,s]),y.useEffect(()=>{typeof a<"u"&&F!==null&&F.setEditable(a)},[F,a]),y.useEffect(()=>{typeof l<"u"&&F!==null&&F.setVisible(l)},[F,l]),y.useEffect(()=>{typeof t<"u"&&F!==null&&F.setBounds(t)},[F,t]),y.useEffect(()=>{F&&c&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(F,"dblclick",c)))},[c]),y.useEffect(()=>{F&&f&&(S!==null&&google.maps.event.removeListener(S),j(google.maps.event.addListener(F,"dragend",f)))},[f]),y.useEffect(()=>{F&&p&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(F,"dragstart",p)))},[p]),y.useEffect(()=>{F&&m&&(M!==null&&google.maps.event.removeListener(M),pe(google.maps.event.addListener(F,"mousedown",m)))},[m]),y.useEffect(()=>{F&&b&&(be!==null&&google.maps.event.removeListener(be),Q(google.maps.event.addListener(F,"mousemove",b)))},[b]),y.useEffect(()=>{F&&_&&(ie!==null&&google.maps.event.removeListener(ie),fe(google.maps.event.addListener(F,"mouseout",_)))},[_]),y.useEffect(()=>{F&&w&&(ve!==null&&google.maps.event.removeListener(ve),G(google.maps.event.addListener(F,"mouseover",w)))},[w]),y.useEffect(()=>{F&&k&&(D!==null&&google.maps.event.removeListener(D),K(google.maps.event.addListener(F,"mouseup",k)))},[k]),y.useEffect(()=>{F&&L&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(F,"rightclick",L)))},[L]),y.useEffect(()=>{F&&P&&(X!==null&&google.maps.event.removeListener(X),ge(google.maps.event.addListener(F,"click",P)))},[P]),y.useEffect(()=>{F&&I&&(xe!==null&&google.maps.event.removeListener(xe),we(google.maps.event.addListener(F,"drag",I)))},[I]),y.useEffect(()=>{F&&B&&(Ie!==null&&google.maps.event.removeListener(Ie),Se(google.maps.event.addListener(F,"bounds_changed",B)))},[B]),y.useEffect(()=>{var Ve=new google.maps.Rectangle(Vh(Vh({},e),{},{map:H}));return typeof l<"u"&&Ve.setVisible(l),typeof a<"u"&&Ve.setEditable(a),typeof s<"u"&&Ve.setDraggable(s),typeof t<"u"&&Ve.setBounds(t),c&&A(google.maps.event.addListener(Ve,"dblclick",c)),f&&j(google.maps.event.addListener(Ve,"dragend",f)),p&&U(google.maps.event.addListener(Ve,"dragstart",p)),m&&pe(google.maps.event.addListener(Ve,"mousedown",m)),b&&Q(google.maps.event.addListener(Ve,"mousemove",b)),_&&fe(google.maps.event.addListener(Ve,"mouseout",_)),w&&G(google.maps.event.addListener(Ve,"mouseover",w)),k&&K(google.maps.event.addListener(Ve,"mouseup",k)),L&&he(google.maps.event.addListener(Ve,"rightclick",L)),P&&ge(google.maps.event.addListener(Ve,"click",P)),I&&we(google.maps.event.addListener(Ve,"drag",I)),B&&Se(google.maps.event.addListener(Ve,"bounds_changed",B)),ee(Ve),z&&z(Ve),()=>{R!==null&&google.maps.event.removeListener(R),S!==null&&google.maps.event.removeListener(S),O!==null&&google.maps.event.removeListener(O),M!==null&&google.maps.event.removeListener(M),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),ve!==null&&google.maps.event.removeListener(ve),D!==null&&google.maps.event.removeListener(D),re!==null&&google.maps.event.removeListener(re),X!==null&&google.maps.event.removeListener(X),xe!==null&&google.maps.event.removeListener(xe),Ie!==null&&google.maps.event.removeListener(Ie),Y&&Y(Ve),Ve.setMap(null)}},[]),null}y.memo(C4);class A4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{rectangle:null}),ae(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Vh(Vh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:BE,eventMap:zE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:BE,eventMap:zE,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Fe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ae(A4,"contextType",ze);function qE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Uh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var HE={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},FE={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},k4={};function R4(n){var{options:e,center:t,radius:s,draggable:a,editable:l,visible:c,onDblClick:f,onDragEnd:p,onDragStart:m,onMouseDown:b,onMouseMove:_,onMouseOut:w,onMouseOver:k,onMouseUp:L,onRightClick:P,onClick:I,onDrag:B,onCenterChanged:z,onRadiusChanged:Y,onLoad:H,onUnmount:F}=n,ee=y.useContext(ze),[R,A]=y.useState(null),[S,j]=y.useState(null),[O,U]=y.useState(null),[M,pe]=y.useState(null),[be,Q]=y.useState(null),[ie,fe]=y.useState(null),[ve,G]=y.useState(null),[D,K]=y.useState(null),[re,he]=y.useState(null),[X,ge]=y.useState(null),[xe,we]=y.useState(null),[Ie,Se]=y.useState(null),[Ve,Xt]=y.useState(null),[hn,fn]=y.useState(null);return y.useEffect(()=>{R!==null&&R.setMap(ee)},[ee]),y.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),y.useEffect(()=>{typeof a<"u"&&R!==null&&R.setDraggable(a)},[R,a]),y.useEffect(()=>{typeof l<"u"&&R!==null&&R.setEditable(l)},[R,l]),y.useEffect(()=>{typeof c<"u"&&R!==null&&R.setVisible(c)},[R,c]),y.useEffect(()=>{typeof s=="number"&&R!==null&&R.setRadius(s)},[R,s]),y.useEffect(()=>{typeof t<"u"&&R!==null&&R.setCenter(t)},[R,t]),y.useEffect(()=>{R&&f&&(S!==null&&google.maps.event.removeListener(S),j(google.maps.event.addListener(R,"dblclick",f)))},[f]),y.useEffect(()=>{R&&p&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(R,"dragend",p)))},[p]),y.useEffect(()=>{R&&m&&(M!==null&&google.maps.event.removeListener(M),pe(google.maps.event.addListener(R,"dragstart",m)))},[m]),y.useEffect(()=>{R&&b&&(be!==null&&google.maps.event.removeListener(be),Q(google.maps.event.addListener(R,"mousedown",b)))},[b]),y.useEffect(()=>{R&&_&&(ie!==null&&google.maps.event.removeListener(ie),fe(google.maps.event.addListener(R,"mousemove",_)))},[_]),y.useEffect(()=>{R&&w&&(ve!==null&&google.maps.event.removeListener(ve),G(google.maps.event.addListener(R,"mouseout",w)))},[w]),y.useEffect(()=>{R&&k&&(D!==null&&google.maps.event.removeListener(D),K(google.maps.event.addListener(R,"mouseover",k)))},[k]),y.useEffect(()=>{R&&L&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(R,"mouseup",L)))},[L]),y.useEffect(()=>{R&&P&&(X!==null&&google.maps.event.removeListener(X),ge(google.maps.event.addListener(R,"rightclick",P)))},[P]),y.useEffect(()=>{R&&I&&(xe!==null&&google.maps.event.removeListener(xe),we(google.maps.event.addListener(R,"click",I)))},[I]),y.useEffect(()=>{R&&B&&(Ie!==null&&google.maps.event.removeListener(Ie),Se(google.maps.event.addListener(R,"drag",B)))},[B]),y.useEffect(()=>{R&&z&&(Ve!==null&&google.maps.event.removeListener(Ve),Xt(google.maps.event.addListener(R,"center_changed",z)))},[I]),y.useEffect(()=>{R&&Y&&(hn!==null&&google.maps.event.removeListener(hn),fn(google.maps.event.addListener(R,"radius_changed",Y)))},[Y]),y.useEffect(()=>{var We=new google.maps.Circle(Uh(Uh({},e||k4),{},{map:ee}));return typeof s=="number"&&We.setRadius(s),typeof t<"u"&&We.setCenter(t),typeof s=="number"&&We.setRadius(s),typeof c<"u"&&We.setVisible(c),typeof l<"u"&&We.setEditable(l),typeof a<"u"&&We.setDraggable(a),f&&j(google.maps.event.addListener(We,"dblclick",f)),p&&U(google.maps.event.addListener(We,"dragend",p)),m&&pe(google.maps.event.addListener(We,"dragstart",m)),b&&Q(google.maps.event.addListener(We,"mousedown",b)),_&&fe(google.maps.event.addListener(We,"mousemove",_)),w&&G(google.maps.event.addListener(We,"mouseout",w)),k&&K(google.maps.event.addListener(We,"mouseover",k)),L&&he(google.maps.event.addListener(We,"mouseup",L)),P&&ge(google.maps.event.addListener(We,"rightclick",P)),I&&we(google.maps.event.addListener(We,"click",I)),B&&Se(google.maps.event.addListener(We,"drag",B)),z&&Xt(google.maps.event.addListener(We,"center_changed",z)),Y&&fn(google.maps.event.addListener(We,"radius_changed",Y)),A(We),H&&H(We),()=>{S!==null&&google.maps.event.removeListener(S),O!==null&&google.maps.event.removeListener(O),M!==null&&google.maps.event.removeListener(M),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),ve!==null&&google.maps.event.removeListener(ve),D!==null&&google.maps.event.removeListener(D),re!==null&&google.maps.event.removeListener(re),X!==null&&google.maps.event.removeListener(X),xe!==null&&google.maps.event.removeListener(xe),Ve!==null&&google.maps.event.removeListener(Ve),hn!==null&&google.maps.event.removeListener(hn),F&&F(We),We.setMap(null)}},[]),null}y.memo(R4);class L4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{circle:null}),ae(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Uh(Uh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:FE,eventMap:HE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:FE,eventMap:HE,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Fe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ae(L4,"contextType",ze);function GE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function zh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var $E={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},KE={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,s){n.loadGeoJson(e,t,s)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function N4(n){var{options:e,onClick:t,onDblClick:s,onMouseDown:a,onMouseMove:l,onMouseOut:c,onMouseOver:f,onMouseUp:p,onRightClick:m,onAddFeature:b,onRemoveFeature:_,onRemoveProperty:w,onSetGeometry:k,onSetProperty:L,onLoad:P,onUnmount:I}=n,B=y.useContext(ze),[z,Y]=y.useState(null),[H,F]=y.useState(null),[ee,R]=y.useState(null),[A,S]=y.useState(null),[j,O]=y.useState(null),[U,M]=y.useState(null),[pe,be]=y.useState(null),[Q,ie]=y.useState(null),[fe,ve]=y.useState(null),[G,D]=y.useState(null),[K,re]=y.useState(null),[he,X]=y.useState(null),[ge,xe]=y.useState(null),[we,Ie]=y.useState(null);return y.useEffect(()=>{z!==null&&z.setMap(B)},[B]),y.useEffect(()=>{z&&s&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(z,"dblclick",s)))},[s]),y.useEffect(()=>{z&&a&&(ee!==null&&google.maps.event.removeListener(ee),R(google.maps.event.addListener(z,"mousedown",a)))},[a]),y.useEffect(()=>{z&&l&&(A!==null&&google.maps.event.removeListener(A),S(google.maps.event.addListener(z,"mousemove",l)))},[l]),y.useEffect(()=>{z&&c&&(j!==null&&google.maps.event.removeListener(j),O(google.maps.event.addListener(z,"mouseout",c)))},[c]),y.useEffect(()=>{z&&f&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(z,"mouseover",f)))},[f]),y.useEffect(()=>{z&&p&&(pe!==null&&google.maps.event.removeListener(pe),be(google.maps.event.addListener(z,"mouseup",p)))},[p]),y.useEffect(()=>{z&&m&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(z,"rightclick",m)))},[m]),y.useEffect(()=>{z&&t&&(fe!==null&&google.maps.event.removeListener(fe),ve(google.maps.event.addListener(z,"click",t)))},[t]),y.useEffect(()=>{z&&b&&(G!==null&&google.maps.event.removeListener(G),D(google.maps.event.addListener(z,"addfeature",b)))},[b]),y.useEffect(()=>{z&&_&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(z,"removefeature",_)))},[_]),y.useEffect(()=>{z&&w&&(he!==null&&google.maps.event.removeListener(he),X(google.maps.event.addListener(z,"removeproperty",w)))},[w]),y.useEffect(()=>{z&&k&&(ge!==null&&google.maps.event.removeListener(ge),xe(google.maps.event.addListener(z,"setgeometry",k)))},[k]),y.useEffect(()=>{z&&L&&(we!==null&&google.maps.event.removeListener(we),Ie(google.maps.event.addListener(z,"setproperty",L)))},[L]),y.useEffect(()=>{if(B!==null){var Se=new google.maps.Data(zh(zh({},e),{},{map:B}));s&&F(google.maps.event.addListener(Se,"dblclick",s)),a&&R(google.maps.event.addListener(Se,"mousedown",a)),l&&S(google.maps.event.addListener(Se,"mousemove",l)),c&&O(google.maps.event.addListener(Se,"mouseout",c)),f&&M(google.maps.event.addListener(Se,"mouseover",f)),p&&be(google.maps.event.addListener(Se,"mouseup",p)),m&&ie(google.maps.event.addListener(Se,"rightclick",m)),t&&ve(google.maps.event.addListener(Se,"click",t)),b&&D(google.maps.event.addListener(Se,"addfeature",b)),_&&re(google.maps.event.addListener(Se,"removefeature",_)),w&&X(google.maps.event.addListener(Se,"removeproperty",w)),k&&xe(google.maps.event.addListener(Se,"setgeometry",k)),L&&Ie(google.maps.event.addListener(Se,"setproperty",L)),Y(Se),P&&P(Se)}return()=>{z&&(H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),A!==null&&google.maps.event.removeListener(A),j!==null&&google.maps.event.removeListener(j),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),he!==null&&google.maps.event.removeListener(he),ge!==null&&google.maps.event.removeListener(ge),we!==null&&google.maps.event.removeListener(we),I&&I(z),z.setMap(null))}},[]),null}y.memo(N4);class I4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{data:null}),ae(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(zh(zh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:KE,eventMap:$E,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:KE,eventMap:$E,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Fe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ae(I4,"contextType",ze);function QE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function YE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var XE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},WE={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class M4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{kmlLayer:null}),ae(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(YE(YE({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:WE,eventMap:XE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:WE,eventMap:XE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Fe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ae(M4,"contextType",ze);function K1(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function O4(n,e){return new e(n.lat,n.lng)}function D4(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function j4(n,e,t){return n instanceof e?n:t(n,e)}function P4(n,e,t){return n instanceof e?n:t(n,e)}function V4(n,e,t){var s=n&&n.fromLatLngToDivPixel(t.getNorthEast()),a=n&&n.fromLatLngToDivPixel(t.getSouthWest());return s&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-a.x-e.x,"px"),height:"".concat(a.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function U4(n,e,t){var s=n&&n.fromLatLngToDivPixel(t);if(s){var{x:a,y:l}=s;return{left:"".concat(a+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Q1(n,e,t,s){return t!==void 0?V4(n,e,P4(t,google.maps.LatLngBounds,D4)):U4(n,e,j4(s,google.maps.LatLng,O4))}function z4(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function ZE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function B4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function q4(n,e,t,s,a){class l extends google.maps.OverlayView{constructor(f,p,m,b){super(),this.container=f,this.pane=p,this.position=m,this.bounds=b}onAdd(){var f,p=(f=this.getPanes())===null||f===void 0?void 0:f[this.pane];p?.appendChild(this.container)}draw(){var f=this.getProjection(),p=B4({},this.container?K1(this.container,a):{x:0,y:0}),m=Q1(f,p,this.bounds,this.position);for(var[b,_]of Object.entries(m))this.container.style[b]=_}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(n,e,t,s)}function JE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function H4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function ew(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function tw(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function F4(n){var{position:e,bounds:t,mapPaneName:s,zIndex:a,onLoad:l,onUnmount:c,getPixelPositionOffset:f,children:p}=n,m=y.useContext(ze),b=y.useMemo(()=>{var w=document.createElement("div");return w.style.position="absolute",w},[]),_=y.useMemo(()=>q4(b,s,e,t,f),[b,s,e,t]);return y.useEffect(()=>(l?.(_),_?.setMap(m),()=>{c?.(_),_?.setMap(null)}),[m,_]),y.useEffect(()=>{b.style.zIndex="".concat(a)},[a,b]),ol.createPortal(p,b)}y.memo(F4);class pl extends y.PureComponent{constructor(e){super(e),ae(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ae(this,"updatePane",()=>{var s=this.props.mapPaneName,a=this.overlayView.getPanes();Yt(!!s,"OverlayView requires props.mapPaneName but got %s",s),a?this.setState({paneEl:a[s]}):this.setState({paneEl:null})}),ae(this,"onAdd",()=>{var s,a;this.updatePane(),(s=(a=this.props).onLoad)===null||s===void 0||s.call(a,this.overlayView)}),ae(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),a=H4({x:0,y:0},this.containerRef.current?K1(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=Q1(s,a,this.props.bounds,this.props.position);if(!z4(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,f,p,m;this.setState({containerStyle:{top:(c=l.top)!==null&&c!==void 0?c:0,left:(f=l.left)!==null&&f!==void 0?f:0,width:(p=l.width)!==null&&p!==void 0?p:0,height:(m=l.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),ae(this,"draw",()=>{this.onPositionElement()}),ae(this,"onRemove",()=>{var s,a;this.setState(()=>({paneEl:null})),(s=(a=this.props).onUnmount)===null||s===void 0||s.call(a,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=ew(e.position),s=ew(this.props.position),a=tw(e.bounds),l=tw(this.props.bounds);(t!==s||a!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?ol.createPortal(v.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}ae(pl,"FLOAT_PANE","floatPane");ae(pl,"MAP_PANE","mapPane");ae(pl,"MARKER_LAYER","markerLayer");ae(pl,"OVERLAY_LAYER","overlayLayer");ae(pl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ae(pl,"contextType",ze);function G4(){}function nw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function rw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nw(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var sw={onDblClick:"dblclick",onClick:"click"},iw={opacity(n,e){n.setOpacity(e)}};function $4(n){var{url:e,bounds:t,options:s,visible:a}=n,l=y.useContext(ze),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),f=y.useMemo(()=>new google.maps.GroundOverlay(e,c,s),[]);return y.useEffect(()=>{f!==null&&f.setMap(l)},[l]),y.useEffect(()=>{typeof e<"u"&&f!==null&&(f.set("url",e),f.setMap(l))},[f,e]),y.useEffect(()=>{typeof a<"u"&&f!==null&&f.setOpacity(a?1:0)},[f,a]),y.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&f!==null&&(f.set("bounds",p),f.setMap(l))},[f,t]),null}y.memo($4);class Y1 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{groundOverlay:null}),ae(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Yt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,rw(rw({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:iw,eventMap:sw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:iw,eventMap:sw,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ae(Y1,"defaultProps",{onLoad:G4});ae(Y1,"contextType",ze);function aw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Bh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(t),!0).forEach(function(s){ae(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aw(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}var ow={},lw={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function K4(n){var{data:e,onLoad:t,onUnmount:s,options:a}=n,l=y.useContext(ze),[c,f]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Yt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Yt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(l)},[l]),y.useEffect(()=>{a&&c!==null&&c.setOptions(a)},[c,a]),y.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(Bh(Bh({},a),{},{data:e,map:l}));return f(p),t&&t(p),()=>{c!==null&&(s&&s(c),c.setMap(null))}},[]),null}y.memo(K4);class Q4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{heatmapLayer:null}),ae(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Yt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Yt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Bh(Bh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:lw,eventMap:ow,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:lw,eventMap:ow,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Fe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ae(Q4,"contextType",ze);var uw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},cw={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class Y4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{streetViewPanorama:null}),ae(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,s=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:cw,eventMap:uw,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:cw,eventMap:uw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Fe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ae(Y4,"contextType",ze);class X4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"state",{streetViewService:null}),ae(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ae(X4,"contextType",ze);var dw={onDirectionsChanged:"directions_changed"},hw={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class W4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{directionsRenderer:null}),ae(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:hw,eventMap:dw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:hw,eventMap:dw,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Fe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ae(W4,"contextType",ze);var fw={onPlacesChanged:"places_changed"},pw={bounds(n,e){n.setBounds(e)}};class Z4 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",y.createRef()),ae(this,"state",{searchBox:null}),ae(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Yt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:pw,eventMap:fw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:pw,eventMap:fw,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Fe(this.registeredEvents))}render(){return v.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}ae(Z4,"contextType",ze);var mw={onPlaceChanged:"place_changed"},gw={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class X1 extends y.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",y.createRef()),ae(this,"state",{autocomplete:null}),ae(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Yt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var s=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Be({updaterMap:gw,eventMap:mw,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:gw,eventMap:mw,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Fe(this.registeredEvents)}render(){return v.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}ae(X1,"defaultProps",{className:""});ae(X1,"contextType",ze);const J4=["places"];function e3({onAddressSelect:n,onInputChange:e,defaultValue:t=""}){const{isLoaded:s}=Iv({googleMapsApiKey:"AIzaSyDP74fOHC_PBVTwNGHKpK9mTFKerfmmsBk",libraries:J4,language:"es",region:"AR"});return s?v.jsx(t3,{onAddressSelect:n,onInputChange:e,defaultValue:t}):v.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded-lg"})}function t3({onAddressSelect:n,onInputChange:e,defaultValue:t}){const{ready:s,value:a,setValue:l,suggestions:{status:c,data:f},clearSuggestions:p}=lP({requestOptions:{componentRestrictions:{country:"ar"}},debounce:300,defaultValue:t});y.useEffect(()=>{t&&l(t,!1)},[t,l]);const m=_=>{l(_.target.value),e&&e(_.target.value)},b=async _=>{l(_,!1),p(),e&&e(_);try{const w=await cP({address:_}),{lat:k,lng:L}=await dP(w[0]),P=w[0].address_components;let I="",B="",z="",Y="",H="";P.forEach(F=>{F.types.includes("route")&&(I=F.long_name),F.types.includes("street_number")&&(B=F.long_name),F.types.includes("locality")&&(z=F.long_name),F.types.includes("administrative_area_level_1")&&(Y=F.long_name),F.types.includes("postal_code")&&(H=F.long_name)}),n({fullAddress:_,street:I,number:B,city:z,province:Y,zip:H,lat:k,lng:L})}catch(w){console.error("Error geocoding address: ",w)}};return v.jsxs("div",{className:"relative w-full",children:[v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),v.jsx("input",{value:a,onChange:m,disabled:!s,placeholder:"Buscar direccin (ej. Av Corrientes 1234)",className:"w-full pl-10 pr-4 py-2 border border-slate-200 dark:border-white/10 rounded-xl bg-gray-50 dark:bg-black/20 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-slate-900 dark:text-white"}),a&&v.jsx("button",{onClick:()=>{l(""),p(),e&&e("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}),c==="OK"&&v.jsx("ul",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/10 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:f.map(({place_id:_,description:w,structured_formatting:k})=>v.jsx("li",{onClick:()=>b(w),className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer border-b last:border-0 border-gray-50 dark:border-white/5 transition-colors",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"location_on"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-slate-800 dark:text-gray-200 text-sm",children:k.main_text}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:k.secondary_text})]})]})},_))})]})}const n3=["places"];function r3({lat:n,lng:e}){const{isLoaded:t}=Iv({googleMapsApiKey:"AIzaSyDP74fOHC_PBVTwNGHKpK9mTFKerfmmsBk",libraries:n3,language:"es",region:"AR"}),s=y.useMemo(()=>({lat:n||-34.6037,lng:e||-58.3816}),[n,e]),a=y.useMemo(()=>({disableDefaultUI:!0,zoomControl:!0,streetViewControl:!1,mapTypeControl:!1}),[]);return t?!n||!e?null:v.jsx("div",{className:"w-full h-40 rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/10 mt-3 mb-3",children:v.jsx(wP,{mapContainerStyle:{width:"100%",height:"100%"},center:s,zoom:15,options:a,children:v.jsx(B1,{position:s})})}):v.jsx("div",{className:"animate-pulse h-40 bg-gray-100 rounded-lg w-full"})}function s3(){const n=Un(),{currentUser:e,userData:t,logout:s,userRole:a}=rr(),{orders:l}=Lv(),c=y.useRef(null),[f,p]=y.useState(""),[m,b]=y.useState(""),[_,w]=y.useState(""),[k,L]=y.useState({lat:null,lng:null}),[P,I]=y.useState(!1),[B,z]=y.useState(!1),[Y,H]=y.useState(null),[F,ee]=y.useState(!1),R=async()=>{if(!(!f||!m)){ee(!0);try{const M=`${f}, ${m}, Argentina`,pe=await O1(M,0);H(pe)}catch(M){console.error("Error calculating cost:",M),alert("No se pudo calcular el costo. Verifica la direccin.")}finally{ee(!1)}}};y.useEffect(()=>{e?t&&t.shippingAddress&&(p(t.shippingAddress.address||""),b(t.shippingAddress.city||""),w(t.shippingAddress.zip||"")):n("/login")},[e,t,n]);const A=async()=>{if(!e)return;const M={address:f,city:m,zip:_};try{const pe=xn(wt,"users",e.uid);await Yu(pe,{shippingAddress:M}),I(!1),alert("Direccin actualizada correctamente")}catch(pe){console.error("Error updating address:",pe),alert("Error al guardar la direccin")}},S=()=>{c.current.click()},j=async M=>{const pe=M.target.files[0];if(pe){z(!0);try{const be=jj(qj,`profile_images/${e.uid}`);await Oj(be,pe);const Q=await Dj(be),ie=xn(wt,"users",e.uid);await Yu(ie,{photoURL:Q})}catch(be){console.error("Error uploading image:",be),alert("Error al subir la imagen")}finally{z(!1)}}},O=M=>{const pe=`${M.street} ${M.number}`.trim()||M.fullAddress;p(pe),b(M.city||M.province||""),w(M.zip||""),L({lat:M.lat,lng:M.lng})},U=async()=>{try{await s(),n("/login")}catch(M){console.error("Failed to log out",M)}};return e?v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden md:overflow-visible bg-background-light dark:bg-background-dark pb-24 md:pb-8",children:[v.jsx("div",{className:"md:hidden sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm border-b border-gray-100 dark:border-white/5",children:v.jsx(yc,{title:"Perfil",showSearch:!1})}),v.jsxs("div",{className:"w-full max-w-7xl mx-auto md:p-6 md:grid md:grid-cols-12 md:gap-8 items-start",children:[v.jsxs("div",{className:"md:col-span-4 flex flex-col gap-6",children:[v.jsxs("div",{className:"bg-white dark:bg-surface-dark md:rounded-3xl md:p-6 md:shadow-lg md:border border-gray-100 dark:border-white/5",children:[v.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6 px-4",children:[v.jsxs("div",{className:"relative group cursor-pointer",onClick:S,children:[v.jsx("input",{type:"file",ref:c,onChange:j,className:"hidden",accept:"image/*"}),v.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full h-28 w-28 border-4 border-white dark:border-surface-dark shadow-lg bg-emerald-100 flex items-center justify-center text-4xl font-bold text-emerald-700 uppercase overflow-hidden",style:t?.photoURL?{backgroundImage:`url("${t.photoURL}")`}:{},children:B?v.jsx("span",{className:"material-symbols-outlined animate-spin text-3xl",children:"progress_activity"}):!t?.photoURL&&(t?.displayName?.charAt(0)||e.email?.charAt(0)||"U")}),v.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1.5 border-2 border-white dark:border-surface-dark shadow-sm group-hover:bg-emerald-600 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-black text-[18px]",children:"edit"})})]}),v.jsxs("div",{className:"flex flex-col items-center mt-4",children:[v.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-center text-text-main dark:text-white",children:t?.displayName||"Usuario"}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm font-medium mt-1",children:e.email}),v.jsx("div",{className:"mt-3 bg-primary/20 px-3 py-1 rounded-full",children:v.jsx("p",{className:"text-black dark:text-primary text-xs font-bold uppercase tracking-wider",children:a==="admin"?"Administrador":"Cliente VIP"})})]})]}),v.jsxs("div",{className:"flex gap-3 px-4 pb-6 md:px-0 md:pb-0",children:[v.jsxs("button",{onClick:()=>n("/orders"),className:"flex flex-1 flex-col gap-1 rounded-2xl bg-gray-50 dark:bg-white/5 md:bg-gray-50 md:dark:bg-white/5 p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all cursor-pointer",children:[v.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:l.length}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Pedidos"})]}),v.jsxs("button",{onClick:()=>n("/favorites"),className:"flex flex-1 flex-col gap-1 rounded-2xl bg-gray-50 dark:bg-white/5 md:bg-gray-50 md:dark:bg-white/5 p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all cursor-pointer",children:[v.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:t?.favorites?.length||0}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Favoritos"})]})]})]}),v.jsxs("div",{className:"hidden md:block",children:[v.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors border border-red-100 dark:border-red-900/20",children:[v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),v.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]})]}),v.jsxs("div",{className:"md:col-span-8 flex flex-col gap-6",children:[v.jsxs("div",{className:"px-4 mt-2 mb-2 md:px-0 md:mt-0",children:[v.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Mi Jardn"}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5",children:[v.jsxs("button",{onClick:()=>n("/orders"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[v.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"local_shipping"})}),v.jsxs("div",{className:"flex-1 text-left",children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Mis Pedidos"}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver historial"})]}),v.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]}),v.jsx("div",{className:"h-[1px] bg-gray-100 dark:bg-white/5 mx-4"}),v.jsxs("button",{onClick:()=>n("/favorites"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[v.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"potted_plant"})}),v.jsxs("div",{className:"flex-1 text-left",children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Favoritos"}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver guardados"})]}),v.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]})]})]}),v.jsxs("div",{className:"px-4 mt-6 mb-2 md:px-0 md:mt-0",children:[v.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Direccin de Envo"}),v.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5 p-4",children:P?v.jsxs("div",{className:"flex flex-col gap-3 animate-fade-in-up",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Direccin de Entrega"}),v.jsx("div",{className:"mb-2",children:v.jsx(e3,{onAddressSelect:O,onInputChange:p,defaultValue:f})}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",value:m,onChange:M=>b(M.target.value),placeholder:"Localidad (ej. Baha Blanca / Punta Alta)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsx("input",{type:"text",value:_,onChange:M=>w(M.target.value),placeholder:"C.P.",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),v.jsx(r3,{lat:k.lat,lng:k.lng}),v.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-100 dark:border-white/5",children:[v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"font-bold text-slate-700 dark:text-gray-300",children:"Costo de Envo Estimado:"}),Y!==null?v.jsxs("p",{className:"text-primary font-bold text-lg",children:["$",Y]}):v.jsx("p",{className:"text-gray-400 text-xs text-balance",children:"Ingresa tu direccin para calcular"})]}),v.jsx("button",{onClick:R,disabled:F||!f||!m,className:"text-xs font-bold text-primary border border-primary/30 px-3 py-1.5 rounded-lg hover:bg-primary/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Calculando...":"Calcular"})]}),v.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[v.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:A,className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar Direccin"})]})]}):v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 dark:bg-white/10 shrink-0 size-10 mt-1",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"location_on"})}),v.jsx("div",{children:t?.shippingAddress&&(t.shippingAddress.address||t.shippingAddress.city)?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold",children:t.shippingAddress.address}),v.jsxs("p",{className:"text-text-muted dark:text-gray-400 text-sm",children:[t.shippingAddress.city,", ",t.shippingAddress.zip]})]}):v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm italic font-medium",children:"NO HAY DIRECCION AGREGADA"})})]}),v.jsx("button",{onClick:()=>I(!0),className:"text-primary font-bold text-sm hover:underline",children:t?.shippingAddress&&(t.shippingAddress.address||t.shippingAddress.city)?"Editar":"Agregar"})]})})]}),v.jsxs("div",{className:"md:hidden px-4 mt-6 mb-8",children:[v.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),v.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]})]})]}),v.jsx("div",{className:"md:hidden",children:v.jsx(Pw,{})})]}):null}function i3(){const n=Un(),{orders:e,loading:t}=Lv();return v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col bg-background-light dark:bg-background-dark",children:[v.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800",children:[v.jsx("button",{onClick:()=>n("/profile"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),v.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mis Pedidos"})]}),v.jsxs("div",{className:"flex-1 p-4 max-w-3xl mx-auto w-full",children:[t&&v.jsx("div",{className:"mt-10 flex justify-center text-primary",children:v.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl",children:"progress_activity"})}),!t&&e.length===0&&v.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-8 text-center bg-white dark:bg-surface-dark rounded-2xl shadow-sm",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-200 dark:text-emerald-900/40 mb-4",children:"local_shipping"}),v.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Sin pedidos an"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Tu historial est vaco. Es hora de llenar el jardn!"}),v.jsx("button",{onClick:()=>n("/catalog"),className:"px-6 py-2 bg-primary text-white rounded-xl font-bold hover:bg-emerald-600 transition-colors",children:"Ir al Catlogo"})]}),v.jsx("div",{className:"flex flex-col gap-4",children:e.map(s=>v.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5 flex gap-4",children:[v.jsx("div",{className:"size-20 bg-gray-100 rounded-xl bg-center bg-cover shrink-0",style:{backgroundImage:`url(${s.items?.[0]?.image||"https://via.placeholder.com/150"})`},children:s.items?.length>1&&v.jsxs("div",{className:"flex items-center justify-center h-full w-full bg-black/40 text-white font-bold rounded-xl backdrop-blur-sm",children:["+",s.items.length-1]})}),v.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1",children:[v.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white text-xs md:text-sm uppercase tracking-wider text-slate-500",children:["ID: ",s.id.slice(0,8),"..."]}),v.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${s.status==="Delivered"?"bg-green-100 text-green-700":s.status==="Processing"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:s.status})]}),v.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:[s.items?.[0]?.name," ",s.items?.length>1?`y ${s.items.length-1} ms`:""]}),v.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[v.jsx("span",{className:"text-xs text-slate-400",children:s.dateStr}),v.jsxs("span",{className:"font-bold text-primary",children:["$",s.total?.toFixed(2)]})]})]})]},s.id))})]})]})}function a3(){const{addresses:n,addAddress:e,deleteAddress:t,loading:s}=M1(),[a,l]=y.useState(!1),[c,f]=y.useState({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""}),p=Un(),m=_=>{const{name:w,value:k}=_.target;f(L=>({...L,[w]:k}))},b=async _=>{_.preventDefault();try{await e(c),l(!1),f({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""})}catch(w){alert("Error al guardar: "+w.message)}};return v.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(yc,{title:"Mis Direcciones",showSearch:!1})}),v.jsxs("div",{className:"hidden md:flex items-center gap-4 p-6 border-b border-gray-100 dark:border-white/5 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm sticky top-0 z-10",children:[v.jsx("button",{onClick:()=>p("/profile"),className:"flex items-center justify-center size-10 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Mis Direcciones"})]}),v.jsxs("div",{className:"p-4 md:p-8 max-w-2xl mx-auto w-full flex flex-col gap-6",children:[s&&v.jsx("div",{className:"flex justify-center p-8",children:v.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary",children:"progress_activity"})}),!s&&n.map(_=>v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 flex flex-col gap-2 relative group",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),v.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:_.alias})]}),v.jsx("button",{onClick:()=>t(_.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2 -mr-2 -mt-2",children:v.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),v.jsxs("div",{className:"pl-8 text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:[v.jsxs("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:[_.firstName," ",_.lastName]}),v.jsx("p",{children:_.address}),v.jsxs("p",{children:[_.city,", ",_.zip]})]})]},_.id)),!s&&n.length===0&&!a&&v.jsxs("div",{className:"text-center py-12 opacity-60",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-2",children:"map"}),v.jsx("p",{children:"No tienes direcciones guardadas."})]}),a?v.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-lg border border-primary/20 animate-fade-in-up",children:[v.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-900 dark:text-white",children:"Nueva Direccin"}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsx("input",{name:"alias",value:c.alias,onChange:m,required:!0,placeholder:"Nombre (ej. Casa, Trabajo)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"firstName",value:c.firstName,onChange:m,required:!0,placeholder:"Nombre",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsx("input",{name:"lastName",value:c.lastName,onChange:m,required:!0,placeholder:"Apellido",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),v.jsx("input",{name:"address",value:c.address,onChange:m,required:!0,placeholder:"Calle y nmero",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"city",value:c.city,onChange:m,required:!0,placeholder:"Ciudad",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsx("input",{name:"zip",value:c.zip,onChange:m,required:!0,placeholder:"Cdigo Postal",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[v.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),v.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar"})]})]})]}):v.jsxs("button",{onClick:()=>l(!0),className:"w-full py-4 rounded-xl border-2 border-dashed border-gray-300 dark:border-white/10 text-slate-400 font-bold flex items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-white/5 hover:border-primary/50 hover:text-primary transition-all",children:[v.jsx("span",{className:"material-symbols-outlined",children:"add_location_alt"}),"Agregar Nueva Direccin"]})]})]})}var xu={},vw;function o3(){if(vw)return xu;vw=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.loadMercadoPago=void 0;const n="https://sdk.mercadopago.com/js/v2",e=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,t="MercadoPago has already been initialized in your window, please remove the duplicate import",s="MercadoPago.js not available",a="Failed to load MercadoPago.js",l=()=>{for(var m=document.querySelectorAll(`script[src^="${n}"`),b=0;b<m.length;b++){var _=m[b];if(e.test(_.src))return _}return null},c=()=>{const m=document.createElement("script");m.src=n;const b=document.head||document.body;if(!b)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return b.appendChild(m),m};let f=null;const p=()=>(f!==null||(f=new Promise((m,b)=>{if(typeof window>"u"){m(null);return}if(window.MercadoPago){console.warn(t),m(window.MercadoPago);return}try{let _=l();_?console.warn(t):_||(_=c()),_.addEventListener("load",()=>{window.MercadoPago?m(window.MercadoPago):b(new Error(s))}),_.addEventListener("error",()=>{b(new Error(a))})}catch(_){b(_);return}})),f);return xu.loadMercadoPago=p,xu}var l3=o3(),u3=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(b){try{m(s.next(b))}catch(_){c(_)}}function p(b){try{m(s.throw(b))}catch(_){c(_)}}function m(b){b.done?l(b.value):a(b.value).then(f,p)}m((s=s.apply(n,e||[])).next())})};class ss{static getInstance(){return u3(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield l3.loadMercadoPago(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}ss.publicKey=null;ss.options={};ss.instanceMercadoPago=void 0;ss.loadedInstanceMercadoPago=!1;function c3(n,e){return Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(s=>Object.prototype.hasOwnProperty.call(e,s)&&n[s]===e[s])}const d3=(n,e)=>{const t=Object.assign(Object.assign({},e),{frontEndStack:"react"}),s=!c3(ss.options,t);(n!==ss.publicKey||s)&&(ss.publicKey=n,ss.options=t,ss.instanceMercadoPago=void 0)};var h3=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(b){try{m(s.next(b))}catch(_){c(_)}}function p(b){try{m(s.throw(b))}catch(_){c(_)}}function m(b){b.done?l(b.value):a(b.value).then(f,p)}m((s=s.apply(n,e||[])).next())})};const f3=()=>h3(void 0,void 0,void 0,function*(){}),p3=()=>{},m3=n=>{console.error(n)};var g3=function(n,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(b){try{m(s.next(b))}catch(_){c(_)}}function p(b){try{m(s.throw(b))}catch(_){c(_)}}function m(b){b.done?l(b.value):a(b.value).then(f,p)}m((s=s.apply(n,e||[])).next())})};const v3=({settings:n,name:e,containerId:t,controller:s})=>g3(void 0,void 0,void 0,function*(){const a=yield ss.getInstance(),l=a?.bricks();window[s]=yield l?.create(e,t,n)}),y3=200,b3=({onReady:n=p3,onError:e=m3,onSubmit:t=f3,customization:s,initialization:a,locale:l,id:c="walletBrick_container"})=>(y.useEffect(()=>{const f={settings:{initialization:a,customization:s,locale:l,callbacks:{onReady:n,onSubmit:t,onError:e}},name:"wallet",containerId:c,controller:"walletBrickController"},p=setTimeout(()=>{v3(f)},y3);return()=>{var m;clearTimeout(p),(m=window.walletBrickController)===null||m===void 0||m.unmount()}},[s,a,n,e,t]),NA.createElement("div",{id:c})),_3="APP_USR-ba40ce42-cf76-493a-89e2-d548df4447d4";function x3({orderId:n,total:e,items:t,shippingCost:s}){const[a,l]=y.useState(null),[c,f]=y.useState(!1);y.useEffect(()=>{d3(_3,{locale:"es-AR"})},[]);const p=async()=>{f(!0);try{const m=t.map(k=>({id:k.id,title:k.name,currency_id:"ARS",picture_url:k.image,description:k.name,category_id:"gardening",quantity:k.quantity,unit_price:Number(k.price)}));s>0&&m.push({id:"shipping",title:"Envo",currency_id:"ARS",description:"Costo de envo",quantity:1,unit_price:Number(s)});const _=await fetch("https://us-central1-auraverde-db.cloudfunctions.net/createPreference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:m,orderId:n})});if(!_.ok)throw new Error("Network response was not ok");const{id:w}=await _.json();l(w)}catch(m){console.error("Error creating preference:",m),alert("Error al inicializar el pago. Intenta nuevamente.")}finally{f(!1)}};return v.jsxs("div",{className:"flex flex-col gap-4",children:[a?v.jsx(b3,{initialization:{preferenceId:a}}):v.jsx("button",{onClick:p,disabled:c,className:"w-full py-4 bg-[#009EE3] hover:bg-[#008ED6] text-white font-bold rounded-xl shadow-lg shadow-blue-400/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:c?v.jsx("span",{className:"size-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):v.jsxs(v.Fragment,{children:["Pagar con ",v.jsx("span",{className:"font-extrabold",children:"Mercado Pago"})]})}),v.jsxs("p",{className:"text-xs text-center text-gray-400 mt-2",children:[v.jsx("span",{className:"material-symbols-outlined text-[10px] align-middle mr-1",children:"lock"}),"Pagos procesados de forma segura por Mercado Pago"]})]})}function E3(){const n=Un(),{cartItems:e,total:t,subtotal:s,tax:a,clearCart:l,shippingCost:c}=Xa(),{createOrder:f}=Lv(),{currentUser:p,userData:m}=rr(),[b,_]=y.useState(!1),[w,k]=y.useState(null);y.useEffect(()=>{p&&m&&!m.shippingAddress&&(alert("Para que podamos enviarte tu pedido necesitamos tu direccion"),n("/profile"))},[p,m,n]);const L=async P=>{if(P.preventDefault(),e.length!==0){_(!0);try{await new Promise(z=>setTimeout(z,1500));const I={items:e,subtotal:s,tax:a,total:t,shippingAddress:m.shippingAddress,paymentLast4:"MercadoPago",status:"pending_payment",date:new Date().toLocaleDateString()},B=await f(I);k(B)}catch(I){console.error("Checkout failed",I),alert("Error: "+I.message),_(!1)}}};return e.length,v.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark pb-12",children:[v.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800 mb-6",children:[v.jsx("button",{onClick:()=>n("/cart"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),v.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Pagar"})]}),v.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsx("div",{className:"flex flex-col gap-6",children:v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[v.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"local_shipping"}),"Direccin de Envo"]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5 flex items-start gap-3",children:[v.jsx("span",{className:"material-symbols-outlined text-primary mt-0.5",children:"location_on"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-base",children:m?.displayName||"Usuario"}),v.jsx("p",{className:"text-slate-600 dark:text-gray-300 text-sm mt-1",children:m?.shippingAddress?.address}),v.jsxs("p",{className:"text-slate-500 dark:text-gray-400 text-sm",children:[m?.shippingAddress?.city,", ",m?.shippingAddress?.zip]})]})]}),v.jsx("div",{className:"mt-4 flex justify-end",children:v.jsx("button",{onClick:()=>n("/profile"),className:"text-primary text-sm font-bold hover:underline",children:"Editar en Perfil"})})]})}),v.jsx("div",{className:"flex flex-col gap-6",children:v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[v.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Resumen del Pedido"}),v.jsx("div",{className:"flex flex-col gap-4 mb-6 max-h-64 overflow-y-auto pr-2 custom-scrollbar",children:e.map(P=>v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"size-16 bg-gray-100 rounded-lg bg-center bg-cover shrink-0",style:{backgroundImage:`url(${P.image})`}}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:P.name}),v.jsxs("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:["Cant: ",P.quantity]}),v.jsxs("p",{className:"font-bold text-primary text-sm",children:["$",(P.price*P.quantity).toFixed(2)]})]})]},P.id))}),v.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-4"}),v.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[v.jsx("span",{children:"Subtotal"}),v.jsxs("span",{children:["$",s.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[v.jsx("span",{children:"Envo"}),c===0?v.jsx("span",{className:"text-green-500 font-bold",children:"Gratis"}):v.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["$",c.toFixed(2)]})]}),v.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-2"}),v.jsxs("div",{className:"flex justify-between text-lg font-bold text-slate-900 dark:text-white",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["$",t.toFixed(2)]})]})]}),v.jsx("div",{className:"mt-6",children:w?v.jsx(x3,{orderId:w,total:t,items:e,shippingCost:c}):v.jsx("button",{onClick:L,type:"submit",disabled:b,className:"w-full py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"Procesando...":"Confirmar Datos y Pagar"})})]})})]})]})}function w3(){const n=Un(),e=`ORD-${Math.floor(Math.random()*1e6)}`;return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background-light dark:bg-background-dark p-6 text-center",children:[v.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6 animate-bounce",children:v.jsx("span",{className:"material-symbols-outlined text-5xl text-green-600 dark:text-green-400",children:"check_circle"})}),v.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"Gracias por su compra!"}),v.jsxs("p",{className:"text-lg text-slate-500 dark:text-gray-400 mb-8 max-w-md",children:["Su orden ",v.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:e})," ha sido confirmada y ser enviada pronto."]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-sm",children:[v.jsx("button",{onClick:()=>n("/catalog"),className:"flex-1 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 transition-all",children:"Continuar Comprando"}),v.jsx("button",{onClick:()=>n("/orders"),className:"flex-1 py-4 bg-white dark:bg-surface-dark border-2 border-slate-200 dark:border-gray-700 text-slate-900 dark:text-white font-bold rounded-2xl hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:"Ver Orden"})]})]})}function T3(){const[n,e]=y.useState(""),[t,s]=y.useState(""),[a,l]=y.useState(""),[c,f]=y.useState(!1),{signin:p}=rr(),m=Un();async function b(_){_.preventDefault();try{l(""),f(!0),await p(n,t),m("/profile")}catch(w){console.error(w),l("Error al iniciar sesin: Verifique sus credenciales.")}f(!1)}return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[v.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Bienvenido"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"Ingresa a tu cuenta para continuar"}),a&&v.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:a}),v.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:n,onChange:_=>e(_.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),v.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:t,onChange:_=>s(_.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:c,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:c?"Iniciando...":"Iniciar Sesin"})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["No tienes una cuenta? ",v.jsx(An,{to:"/register",className:"text-primary font-bold hover:underline",children:"Regstrate"})]})]})})}function S3(){const[n,e]=y.useState(""),[t,s]=y.useState(""),[a,l]=y.useState(""),[c,f]=y.useState(""),[p,m]=y.useState(""),[b,_]=y.useState(!1),{signup:w}=rr(),k=Un();async function L(P){if(P.preventDefault(),t!==a)return m("Las contraseas no coinciden");try{m(""),_(!0),await w(n,t,c),k("/")}catch(I){console.error(I),m("Error al crear la cuenta. Intente nuevamente.")}_(!1)}return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[v.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Crear Cuenta"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"nete a Aura Verde hoy"}),p&&v.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:p}),v.jsxs("form",{onSubmit:L,className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Completo"}),v.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"Juan Prez",value:c,onChange:P=>f(P.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:n,onChange:P=>e(P.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),v.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:t,onChange:P=>s(P.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirmar Contrasea"}),v.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:a,onChange:P=>l(P.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:b,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:b?"Creando cuenta...":"Registrarse"})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Ya tienes cuenta? ",v.jsx(An,{to:"/login",className:"text-primary font-bold hover:underline",children:"Inicia Sesin"})]})]})})}function C3(){const[n,e]=y.useState("idle"),[t,s]=y.useState([]);async function a(){e("loading"),s(l=>[...l,"Iniciando migracin..."]);try{let l=0;for(const c of Zx)await Nh(xn(wt,"products",String(c.id)),{...c,price:Number(c.price),createdAt:new Date().toISOString()}),s(f=>[...f,` Producto migrado: ${c.name}`]),l++;e("success"),s(c=>[...c,` xito! ${l} productos subidos a Firestore.`])}catch(l){console.error(l),e("error"),s(c=>[...c,` Error: ${l.message}`])}}return v.jsxs("div",{className:"min-h-screen p-8 flex flex-col items-center",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Migracin de Base de Datos"}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-lg w-full max-w-2xl border border-slate-200 dark:border-slate-800",children:[v.jsxs("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:["Este script leer los ",Zx.length," productos del archivo local y los subir a tu base de datos Firestore."]}),v.jsx("button",{onClick:a,disabled:n==="loading"||n==="success",className:`w-full py-3 rounded-xl font-bold text-white transition-all
            ${n==="success"?"bg-green-500":"bg-blue-600 hover:bg-blue-700"}`,children:n==="loading"?"Migrando...":n==="success"?"Migracin Completada!":"Iniciar Migracin"}),v.jsx("div",{className:"mt-6 bg-slate-100 dark:bg-slate-900 p-4 rounded-lg font-mono text-sm h-64 overflow-y-auto",children:t.map((l,c)=>v.jsx("div",{className:"mb-1 text-slate-700 dark:text-slate-300 border-b border-slate-200 dark:border-slate-800 pb-1 last:border-0",children:l},c))})]})]})}function A3(){const{userRole:n}=rr(),[e,t]=y.useState([]),[s,a]=y.useState(!0),[l,c]=y.useState(null);return y.useEffect(()=>{if(n!=="admin"){a(!1);return}const p=gc(na(wt,"orders"),l1("createdAt","desc")),m=pf(p,b=>{const _=b.docs.map(w=>({id:w.id,...w.data()}));t(_),a(!1)},b=>{console.error("Error fetching all orders:",b),c("No se pudieron cargar los pedidos del sistema"),a(!1)});return()=>m()},[n]),{orders:e,loading:s,error:l,updateOrderStatus:async(p,m)=>{try{const b=xn(wt,"orders",p);await Yu(b,{status:m})}catch(b){throw console.error("Error updating order status:",b),b}}}}function k3(){const{userRole:n,currentUser:e}=rr(),{orders:t,updateOrderStatus:s}=A3();Un();const[a,l]=y.useState("inventory"),[c,f]=y.useState([]),[p,m]=y.useState(!0),[b,_]=y.useState(!1),[w,k]=y.useState(null),[L,P]=y.useState(null),[I,B]=y.useState(null),[z,Y]=y.useState(null),[H,F]=y.useState(null),[ee,R]=y.useState(null),[A,S]=y.useState({name:"",price:"",type:"",image:"",image2:"",description:"",stock:0,costPrice:"",isNew:!1,badge:"none",potPequea:"",potMediana:"",potGrande:"",careLuz:"",careAgua:"",careTemp:"",potDefault:"pequena"}),j=y.useMemo(()=>{const G=t.length,D=t.reduce((ge,xe)=>ge+(xe.total||0),0),K=t.reduce((ge,xe)=>{const we=(xe.items||[]).reduce((Ie,Se)=>{const Ve=Se.costPrice||0;return Ie+Ve*(Se.quantity||1)},0);return ge+we},0),re=D-K,he=t.filter(ge=>ge.status==="Pendiente").length,X=c.filter(ge=>ge.stock<=5).length;return{totalSales:G,totalRevenue:D,totalCost:K,netProfit:re,pendingOrders:he,lowStockProducts:X}},[t,c]),O=async()=>{m(!0);try{const D=(await xv(na(wt,"products"))).docs.map(K=>({id:K.id,...K.data()}));D.sort((K,re)=>parseInt(K.id)-parseInt(re.id)),f(D)}catch(G){console.error("Error fetching products:",G)}finally{m(!1)}};y.useEffect(()=>{n==="admin"&&O()},[n]);const U=async G=>{try{await c1(xn(wt,"products",String(G))),O(),R(null)}catch(D){console.error("Error deleting:",D),alert("Error al eliminar el producto")}},M=()=>{if(c.length===0)return 1;const G=c.map(D=>parseInt(D.id)).filter(D=>!isNaN(D));return Math.max(...G.length>0?G:[0])+1},pe=(G,D=!1)=>{const K=G.target.files[0];if(K){D?B(K):k(K);const re=new FileReader;re.onloadend=()=>{D?Y(re.result):P(re.result)},re.readAsDataURL(K)}},be=G=>new Promise((D,K)=>{const re=new FileReader;re.readAsDataURL(G),re.onload=()=>{const he=re.result.split(",")[1];D(he)},re.onerror=he=>K(he)}),Q=async G=>{if(G.preventDefault(),!H&&!w){alert("Por favor, selecciona al menos una imagen");return}_(!0);try{const D="https://us-central1-auraverde-db.cloudfunctions.net/uploadImage";let K=A.image,re=A.image2;if(w){const X=await be(w),ge=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64Image:X,fileName:w.name,contentType:w.type})});ge.ok&&(K=(await ge.json()).url)}if(I){const X=await be(I),ge=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64Image:X,fileName:I.name,contentType:I.type})});ge.ok&&(re=(await ge.json()).url)}const he={...A,image:K,image2:re,price:parseFloat(A.price),costPrice:parseFloat(A.costPrice||0),stock:parseInt(A.stock),badge:A.badge||"none",potPequea:A.potPequea||"",potMediana:A.potMediana||"",potGrande:A.potGrande||"",careLuz:A.careLuz||"",careAgua:A.careAgua||"",careTemp:A.careTemp||"",potDefault:A.potDefault||"pequena",updatedAt:new Date().toISOString()};if(H)await Yu(xn(wt,"products",String(H)),he);else{const X=M(),ge={...he,id:X,createdAt:new Date().toISOString()};await Nh(xn(wt,"products",String(X)),ge)}ie(),O(),alert(H?"Producto actualizado":"Producto creado")}catch(D){console.error("Error saving product:",D),alert("Error al guardar")}finally{_(!1)}},ie=()=>{S({name:"",price:"",type:"",image:"",image2:"",description:"",stock:0,costPrice:"",isNew:!1,badge:"none",potPequea:"",potMediana:"",potGrande:"",careLuz:"",careAgua:"",careTemp:"",potDefault:"pequena"}),k(null),P(null),B(null),Y(null),F(null)},fe=G=>{F(G.id),S({name:G.name||"",price:G.price||"",type:G.type||"",image:G.image||"",image2:G.image2||"",description:G.description||"",stock:G.stock||0,costPrice:G.costPrice||"",isNew:G.isNew||!1,badge:G.badge||"none",potPequea:G.potPequea||"",potMediana:G.potMediana||"",potGrande:G.potGrande||"",careLuz:G.careLuz||"",careAgua:G.careAgua||"",careTemp:G.careTemp||"",potDefault:G.potDefault||"pequena"}),P(G.image||null),Y(G.image2||null),window.scrollTo({top:0,behavior:"smooth"})},ve=async(G,D)=>{try{await Yu(xn(wt,"products",String(G)),{stock:parseInt(D)}),f(c.map(K=>K.id===G?{...K,stock:D}:K))}catch(K){console.error("Error updating stock:",K)}};return!e||n!=="admin"?v.jsx("div",{className:"p-10 text-center",children:"Acceso denegado"}):v.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark p-4 md:p-8",children:[v.jsxs("header",{className:"mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Panel Maestro"}),v.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"Control total de Auraverde"})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-white/5",children:[v.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Ventas Totales"}),v.jsx("p",{className:"text-2xl font-black text-primary",children:j.totalSales})]}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-white/5",children:[v.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Rentabilidad Final"}),v.jsxs("p",{className:`text-2xl font-black ${j.netProfit>=0?"text-emerald-500":"text-red-500"}`,children:["$",j.netProfit.toFixed(0)]})]}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-white/5",children:[v.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Pedidos Pendientes"}),v.jsx("p",{className:"text-2xl font-black text-amber-500",children:j.pendingOrders})]}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-white/5",children:[v.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Bajo Stock"}),v.jsx("p",{className:"text-2xl font-black text-red-500",children:j.lowStockProducts})]})]}),v.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-100 dark:border-gray-800 pb-px overflow-x-auto",children:["inventory","orders","sales"].map(G=>v.jsx("button",{onClick:()=>l(G),className:`px-6 py-3 font-bold text-sm transition-all rounded-t-xl ${a===G?"bg-primary text-black":"text-slate-500 hover:text-slate-900 dark:hover:text-white"}`,children:G==="inventory"?"Inventario":G==="orders"?"Pedidos":"Ventas y Ganancias"},G))}),v.jsxs("div",{className:"mt-6",children:[a==="inventory"&&v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:H?"Editar Producto":"Aadir Producto"}),H&&v.jsx("button",{onClick:ie,className:"text-xs font-bold text-red-500 uppercase",children:"Cancelar"})]}),v.jsxs("form",{onSubmit:Q,className:"space-y-4 text-sm",children:[v.jsx("input",{required:!0,placeholder:"Nombre",value:A.name,onChange:G=>S({...A,name:G.target.value}),className:"w-full p-3 border rounded-xl dark:bg-black dark:border-gray-800"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{required:!0,type:"number",placeholder:"Precio Venta ($)",value:A.price,onChange:G=>S({...A,price:G.target.value}),className:"w-full p-3 border rounded-xl dark:bg-black dark:border-gray-800"}),v.jsx("input",{required:!0,type:"number",placeholder:"Costo ($)",value:A.costPrice,onChange:G=>S({...A,costPrice:G.target.value}),className:"w-full p-3 border rounded-xl dark:bg-black dark:border-gray-800"})]}),v.jsx("input",{required:!0,type:"number",placeholder:"Stock Inicial",value:A.stock,onChange:G=>S({...A,stock:G.target.value}),className:"w-full p-3 border rounded-xl dark:bg-black dark:border-gray-800"}),v.jsx("input",{required:!0,placeholder:"Tipo (Ej. Interior)",value:A.type,onChange:G=>S({...A,type:G.target.value}),className:"w-full p-3 border rounded-xl dark:bg-black dark:border-gray-800"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Foto Principal"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:G=>pe(G,!1),className:"hidden",id:"img-1"}),v.jsxs("label",{htmlFor:"img-1",className:"flex-1 flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-all",children:[v.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"add_a_photo"}),v.jsx("span",{className:"text-xs text-slate-500 truncate max-w-[100px]",children:w?w.name:"Subir 1"})]}),L&&v.jsx("div",{className:"size-10 rounded-lg bg-cover bg-center border border-gray-100 dark:border-white/10",style:{backgroundImage:`url(${L})`}})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Foto Secundaria"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:G=>pe(G,!0),className:"hidden",id:"img-2"}),v.jsxs("label",{htmlFor:"img-2",className:"flex-1 flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-all",children:[v.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"add_a_photo"}),v.jsx("span",{className:"text-xs text-slate-500 truncate max-w-[100px]",children:I?I.name:"Subir 2"})]}),z&&v.jsx("div",{className:"size-10 rounded-lg bg-cover bg-center border border-gray-100 dark:border-white/10",style:{backgroundImage:`url(${z})`}})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Etiqueta Especial"}),v.jsx("div",{className:"flex gap-2 p-1 bg-gray-50 dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/5",children:[{id:"none",label:"Ninguna",color:"text-slate-500 hover:bg-gray-200 dark:hover:bg-white/10"},{id:"nuevo",label:"Nuevo",color:"bg-emerald-500/10 text-emerald-600 border-emerald-200 dark:border-emerald-900/30"},{id:"oferta",label:"Oferta",color:"bg-red-500/10 text-red-600 border-red-200 dark:border-red-900/30"}].map(G=>v.jsx("button",{type:"button",onClick:()=>S({...A,badge:G.id}),className:`flex-1 py-3 px-2 rounded-xl text-[10px] font-black uppercase transition-all border-2
                                                    ${A.badge===G.id?"bg-white dark:bg-black border-primary scale-[1.02] shadow-sm z-10":"border-transparent opacity-60 hover:opacity-100"}
                                                    ${G.id!=="none"&&A.badge===G.id?G.color:""}
                                                `,children:G.label},G.id))})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-2",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Tamaos de Maceta"}),v.jsx("div",{className:"flex gap-2 p-1 bg-gray-50 dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/5",children:[{id:"pequena",label:"Pequea"},{id:"mediana",label:"Mediana"},{id:"grande",label:"Grande"}].map(G=>v.jsx("button",{type:"button",onClick:()=>S({...A,potDefault:G.id}),className:`flex-1 py-3 px-2 rounded-xl text-[10px] font-black uppercase transition-all border-2
                                                        ${A.potDefault===G.id?"bg-white dark:bg-black border-primary scale-[1.02] shadow-sm z-10":"border-transparent opacity-60 hover:opacity-100"}
                                                    `,children:G.label},G.id))})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cuidados (Texto personalizado)"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-amber-500 text-sm",children:"wb_sunny"}),v.jsx("input",{placeholder:"Luz (Ej. Indirecta)",value:A.careLuz,onChange:G=>S({...A,careLuz:G.target.value}),className:"flex-1 p-2 bg-gray-50 dark:bg-black border border-gray-100 dark:border-gray-800 rounded-xl text-xs"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-blue-500 text-sm",children:"water_drop"}),v.jsx("input",{placeholder:"Agua (Ej. Semanal)",value:A.careAgua,onChange:G=>S({...A,careAgua:G.target.value}),className:"flex-1 p-2 bg-gray-50 dark:bg-black border border-gray-100 dark:border-gray-800 rounded-xl text-xs"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-red-500 text-sm",children:"thermostat"}),v.jsx("input",{placeholder:"Temp (Ej. 18-25C)",value:A.careTemp,onChange:G=>S({...A,careTemp:G.target.value}),className:"flex-1 p-2 bg-gray-50 dark:bg-black border border-gray-100 dark:border-gray-800 rounded-xl text-xs"})]})]})]})]}),v.jsx("textarea",{placeholder:"Descripcin",value:A.description,onChange:G=>S({...A,description:G.target.value}),className:"w-full p-3 border rounded-xl dark:bg-black dark:border-gray-800",rows:"3"}),v.jsx("button",{disabled:b,className:"w-full bg-primary py-4 rounded-xl font-bold shadow-lg shadow-emerald-500/20 text-black hover:bg-emerald-500 transition-colors",children:b?"Guardando...":H?"Actualizar Producto":"Guardar Producto"})]})]}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl border border-gray-100 dark:border-white/5 overflow-hidden",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Stock Actual"}),v.jsx("div",{className:"overflow-y-auto max-h-[500px] flex flex-col gap-3 pr-2 custom-scrollbar",children:c.map(G=>v.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-100 dark:border-white/5",children:[v.jsx("div",{className:"size-12 bg-cover bg-center rounded-lg",style:{backgroundImage:`url(${G.image})`}}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("p",{className:"font-bold truncate text-sm",children:["#",G.id," ",G.name]}),v.jsxs("p",{className:"text-xs text-slate-500",children:["PVP: $",G.price," | Costo: $",G.costPrice||0]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("p",{className:"text-xs font-bold text-slate-400",children:"Stock:"}),v.jsx("input",{type:"number",className:"w-16 p-1 text-center bg-white dark:bg-black border rounded-lg text-sm font-bold",value:G.stock||0,onChange:D=>ve(G.id,D.target.value)})]}),v.jsx("div",{className:"flex items-center gap-1",children:ee===G.id?v.jsxs("div",{className:"flex items-center gap-1 bg-red-50 dark:bg-red-900/20 p-1 rounded-xl border border-red-100 dark:border-red-900/30",children:[v.jsx("button",{type:"button",onClick:()=>U(G.id),className:"px-3 py-1 bg-red-500 text-white text-[10px] font-black uppercase rounded-lg hover:bg-red-600 transition-colors",children:"Borrar"}),v.jsx("button",{type:"button",onClick:()=>R(null),className:"px-3 py-1 bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400 text-[10px] font-black uppercase rounded-lg",children:"No"})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{type:"button",onClick:()=>fe(G),className:"text-primary p-2 hover:bg-primary/10 rounded-lg transition-colors border border-transparent hover:border-primary/20",children:v.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),v.jsx("button",{type:"button",onClick:()=>R(G.id),className:"text-red-500 p-2 hover:bg-red-500/10 rounded-lg transition-colors border border-transparent hover:border-red-500/20",children:v.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})})]},G.id))})]})]}),a==="orders"&&v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl border border-gray-100 dark:border-white/5 overflow-x-auto",children:[v.jsx("h2",{className:"text-xl font-bold mb-6",children:"Gestin de Pedidos"}),v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-xs text-slate-400 uppercase border-b border-gray-100 dark:border-gray-800",children:[v.jsx("th",{className:"pb-4 font-black",children:"Pedido ID"}),v.jsx("th",{className:"pb-4 font-black",children:"Cliente"}),v.jsx("th",{className:"pb-4 font-black",children:"Total"}),v.jsx("th",{className:"pb-4 font-black",children:"Estado"}),v.jsx("th",{className:"pb-4 font-black",children:"Accin"})]})}),v.jsx("tbody",{className:"text-sm",children:t.map(G=>v.jsxs("tr",{className:"border-b border-gray-50 dark:border-white/5",children:[v.jsxs("td",{className:"py-4 font-mono text-xs",children:["#",G.id.slice(-6)]}),v.jsxs("td",{className:"py-4",children:[v.jsx("p",{className:"font-bold",children:G.userEmail}),v.jsx("p",{className:"text-xs text-slate-500",children:G.dateStr})]}),v.jsxs("td",{className:"py-4 font-black text-primary",children:["$",G.total?.toFixed(2)]}),v.jsx("td",{className:"py-4",children:v.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase
                                                ${G.status==="Entregado"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":G.status==="Despachado"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":G.status==="Pendiente"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-400"}
                                            `,children:G.status||"Procesando"})}),v.jsx("td",{className:"py-4",children:v.jsxs("select",{className:"bg-gray-100 dark:bg-black border-none rounded-lg p-1 text-xs font-bold focus:ring-2 ring-primary transition-all",value:G.status||"Procesando",onChange:D=>s(G.id,D.target.value),children:[v.jsx("option",{value:"Procesando",children:"Procesando"}),v.jsx("option",{value:"Pendiente",children:"Pendiente"}),v.jsx("option",{value:"Despachado",children:"Despachado"}),v.jsx("option",{value:"Entregado",children:"Entregado"})]})})]},G.id))})]})]}),a==="sales"&&v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl border border-gray-100 dark:border-white/5",children:[v.jsx("h2",{className:"text-xl font-bold mb-6",children:"Informes de Venta"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"p-6 bg-gradient-to-br from-primary to-emerald-600 rounded-2xl text-black",children:[v.jsx("p",{className:"text-sm font-bold opacity-80",children:"Bruto Total"}),v.jsxs("p",{className:"text-4xl font-black",children:["$",j.totalRevenue.toFixed(2)]})]}),v.jsxs("div",{className:"p-6 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[v.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Promedio por Pedido"}),v.jsxs("p",{className:"text-4xl font-black",children:["$",(j.totalRevenue/(j.totalSales||1)).toFixed(2)]})]}),v.jsxs("div",{className:"p-6 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[v.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Crecimiento"}),v.jsxs("p",{className:"text-4xl font-black text-primary",children:["+",j.totalSales]}),v.jsx("p",{className:"text-xs text-slate-400",children:"Pedidos capturados"})]})]})]})]})]})}function R3(){return v.jsx(nR,{children:v.jsx(fR,{children:v.jsx($j,{children:v.jsx(Hj,{children:v.jsx(pR,{children:v.jsx(Mk,{children:v.jsxs(yn,{element:v.jsx(Qj,{}),children:[v.jsx(yn,{path:"/",element:v.jsx(Wj,{})}),v.jsx(yn,{path:"/catalog",element:v.jsx(tP,{})}),v.jsx(yn,{path:"/product/:id",element:v.jsx(nP,{})}),v.jsx(yn,{path:"/cart",element:v.jsx(iP,{})}),v.jsx(yn,{path:"/profile",element:v.jsx(s3,{})}),v.jsx(yn,{path:"/orders",element:v.jsx(i3,{})}),v.jsx(yn,{path:"/addresses",element:v.jsx(a3,{})}),v.jsx(yn,{path:"/checkout",element:v.jsx(E3,{})}),v.jsx(yn,{path:"/success",element:v.jsx(w3,{})}),v.jsx(yn,{path:"/login",element:v.jsx(T3,{})}),v.jsx(yn,{path:"/register",element:v.jsx(S3,{})}),v.jsx(yn,{path:"/migrate",element:v.jsx(C3,{})}),v.jsx(yn,{path:"/favorites",element:v.jsx(Zj,{})}),v.jsx(yn,{path:"/admin",element:v.jsx(k3,{})})]})})})})})})})}PA.createRoot(document.getElementById("root")).render(v.jsx(y.StrictMode,{children:v.jsx(R3,{})}));
