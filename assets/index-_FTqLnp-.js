(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function WA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nm={exports:{}},ql={};var av;function JA(){if(av)return ql;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var ov;function ZA(){return ov||(ov=1,Nm.exports=JA()),Nm.exports}var y=ZA(),Cm={exports:{}},Te={};var lv;function e1(){if(lv)return Te;lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function G(P,te,ae){this.props=P,this.context=te,this.refs=j,this.updater=ae||B}G.prototype.isReactComponent={},G.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},G.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=G.prototype;function re(P,te,ae){this.props=P,this.context=te,this.refs=j,this.updater=ae||B}var oe=re.prototype=new X;oe.constructor=re,L(oe,G.prototype),oe.isPureReactComponent=!0;var ve=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(P,te,ae){var ce=ae.ref;return{$$typeof:r,type:P,key:te,ref:ce!==void 0?ce:null,props:ae}}function O(P,te){return R(P.type,te,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function U(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return te[ae]})}var C=/\/+/g;function et(P,te){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):te.toString(36)}function Ot(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(be,be):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,te,ae,ce,xe){var Re=typeof P;(Re==="undefined"||Re==="boolean")&&(P=null);var Pe=!1;if(P===null)Pe=!0;else switch(Re){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(P.$$typeof){case r:case e:Pe=!0;break;case b:return Pe=P._init,W(Pe(P._payload),te,ae,ce,xe)}}if(Pe)return xe=xe(P),Pe=ce===""?"."+et(P,0):ce,ve(xe)?(ae="",Pe!=null&&(ae=Pe.replace(C,"$&/")+"/"),W(xe,te,ae,"",function(Ns){return Ns})):xe!=null&&(D(xe)&&(xe=O(xe,ae+(xe.key==null||P&&P.key===xe.key?"":(""+xe.key).replace(C,"$&/")+"/")+Pe)),te.push(xe)),1;Pe=0;var jt=ce===""?".":ce+":";if(ve(P))for(var st=0;st<P.length;st++)ce=P[st],Re=jt+et(ce,st),Pe+=W(ce,te,ae,Re,xe);else if(st=k(P),typeof st=="function")for(P=st.call(P),st=0;!(ce=P.next()).done;)ce=ce.value,Re=jt+et(ce,st++),Pe+=W(ce,te,ae,Re,xe);else if(Re==="object"){if(typeof P.then=="function")return W(Ot(P),te,ae,ce,xe);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(P,te,ae){if(P==null)return P;var ce=[],xe=0;return W(P,ce,"","",function(Re){return te.call(ae,Re,xe++)}),ce}function pe(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var Ue=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ge={map:se,forEach:function(P,te,ae){se(P,function(){te.apply(this,arguments)},ae)},count:function(P){var te=0;return se(P,function(){te++}),te},toArray:function(P){return se(P,function(te){return te})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Te.Activity=E,Te.Children=Ge,Te.Component=G,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=re,Te.StrictMode=s,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},Te.cache=function(P){return function(){return P.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(P,te,ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=L({},P.props),xe=P.key;if(te!=null)for(Re in te.key!==void 0&&(xe=""+te.key),te)!S.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(ce[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)ce.children=ae;else if(1<Re){for(var Pe=Array(Re),jt=0;jt<Re;jt++)Pe[jt]=arguments[jt+2];ce.children=Pe}return R(P.type,xe,ce)},Te.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Te.createElement=function(P,te,ae){var ce,xe={},Re=null;if(te!=null)for(ce in te.key!==void 0&&(Re=""+te.key),te)S.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(xe[ce]=te[ce]);var Pe=arguments.length-2;if(Pe===1)xe.children=ae;else if(1<Pe){for(var jt=Array(Pe),st=0;st<Pe;st++)jt[st]=arguments[st+2];xe.children=jt}if(P&&P.defaultProps)for(ce in Pe=P.defaultProps,Pe)xe[ce]===void 0&&(xe[ce]=Pe[ce]);return R(P,Re,xe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(P){return{$$typeof:m,render:P}},Te.isValidElement=D,Te.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:pe}},Te.memo=function(P,te){return{$$typeof:p,type:P,compare:te===void 0?null:te}},Te.startTransition=function(P){var te=N.T,ae={};N.T=ae;try{var ce=P(),xe=N.S;xe!==null&&xe(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(be,Ue)}catch(Re){Ue(Re)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),N.T=te}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(P){return N.H.use(P)},Te.useActionState=function(P,te,ae){return N.H.useActionState(P,te,ae)},Te.useCallback=function(P,te){return N.H.useCallback(P,te)},Te.useContext=function(P){return N.H.useContext(P)},Te.useDebugValue=function(){},Te.useDeferredValue=function(P,te){return N.H.useDeferredValue(P,te)},Te.useEffect=function(P,te){return N.H.useEffect(P,te)},Te.useEffectEvent=function(P){return N.H.useEffectEvent(P)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(P,te,ae){return N.H.useImperativeHandle(P,te,ae)},Te.useInsertionEffect=function(P,te){return N.H.useInsertionEffect(P,te)},Te.useLayoutEffect=function(P,te){return N.H.useLayoutEffect(P,te)},Te.useMemo=function(P,te){return N.H.useMemo(P,te)},Te.useOptimistic=function(P,te){return N.H.useOptimistic(P,te)},Te.useReducer=function(P,te,ae){return N.H.useReducer(P,te,ae)},Te.useRef=function(P){return N.H.useRef(P)},Te.useState=function(P){return N.H.useState(P)},Te.useSyncExternalStore=function(P,te,ae){return N.H.useSyncExternalStore(P,te,ae)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.2.3",Te}var uv;function Sp(){return uv||(uv=1,Cm.exports=e1()),Cm.exports}var V=Sp();const t1=WA(V);var Im={exports:{}},Hl={},km={exports:{}},Dm={};var cv;function n1(){return cv||(cv=1,(function(r){function e(W,se){var pe=W.length;W.push(se);e:for(;0<pe;){var Ue=pe-1>>>1,Ge=W[Ue];if(0<o(Ge,se))W[Ue]=se,W[pe]=Ge,pe=Ue;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var se=W[0],pe=W.pop();if(pe!==se){W[0]=pe;e:for(var Ue=0,Ge=W.length,P=Ge>>>1;Ue<P;){var te=2*(Ue+1)-1,ae=W[te],ce=te+1,xe=W[ce];if(0>o(ae,pe))ce<Ge&&0>o(xe,ae)?(W[Ue]=xe,W[ce]=pe,Ue=ce):(W[Ue]=ae,W[te]=pe,Ue=te);else if(ce<Ge&&0>o(xe,pe))W[Ue]=xe,W[ce]=pe,Ue=ce;else break e}}return se}function o(W,se){var pe=W.sortIndex-se.sortIndex;return pe!==0?pe:W.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var g=[],p=[],b=1,E=null,A=3,k=!1,B=!1,L=!1,j=!1,G=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=W)s(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function ve(W){if(L=!1,oe(W),!B)if(n(g)!==null)B=!0,be||(be=!0,U());else{var se=n(p);se!==null&&Ot(ve,se.startTime-W)}}var be=!1,N=-1,S=5,R=-1;function O(){return j?!0:!(r.unstable_now()-R<S)}function D(){if(j=!1,be){var W=r.unstable_now();R=W;var se=!0;try{e:{B=!1,L&&(L=!1,X(N),N=-1),k=!0;var pe=A;try{t:{for(oe(W),E=n(g);E!==null&&!(E.expirationTime>W&&O());){var Ue=E.callback;if(typeof Ue=="function"){E.callback=null,A=E.priorityLevel;var Ge=Ue(E.expirationTime<=W);if(W=r.unstable_now(),typeof Ge=="function"){E.callback=Ge,oe(W),se=!0;break t}E===n(g)&&s(g),oe(W)}else s(g);E=n(g)}if(E!==null)se=!0;else{var P=n(p);P!==null&&Ot(ve,P.startTime-W),se=!1}}break e}finally{E=null,A=pe,k=!1}se=void 0}}finally{se?U():be=!1}}}var U;if(typeof re=="function")U=function(){re(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,et=C.port2;C.port1.onmessage=D,U=function(){et.postMessage(null)}}else U=function(){G(D,0)};function Ot(W,se){N=G(function(){W(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(W){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return W()}finally{A=pe}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=A;A=W;try{return se()}finally{A=pe}},r.unstable_scheduleCallback=function(W,se,pe){var Ue=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,W){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,W={id:b++,callback:se,priorityLevel:W,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Ue?(W.sortIndex=pe,e(p,W),n(g)===null&&W===n(p)&&(L?(X(N),N=-1):L=!0,Ot(ve,pe-Ue))):(W.sortIndex=Ge,e(g,W),B||k||(B=!0,be||(be=!0,U()))),W},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(W){var se=A;return function(){var pe=A;A=se;try{return W.apply(this,arguments)}finally{A=pe}}}})(Dm)),Dm}var hv;function r1(){return hv||(hv=1,km.exports=n1()),km.exports}var Om={exports:{}},Jt={};var dv;function i1(){if(dv)return Jt;dv=1;var r=Sp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:b}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,b)},Jt.flushSync=function(g){var p=c.T,b=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=p,s.p=b,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,E=m(b,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:k}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,E=m(b,p.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,b){return c.H.useFormState(g,p,b)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var fv;function s1(){if(fv)return Om.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=i1(),Om.exports}var mv;function a1(){if(mv)return Hl;mv=1;var r=r1(),e=Sp(),n=s1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case G:return"Profiler";case j:return"StrictMode";case ve:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case re:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:et(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return et(t(i))}catch{}}return null}var Ot=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function P(t){return{current:t}}function te(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ae(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var ce=P(null),xe=P(null),Re=P(null),Pe=P(null);function jt(t,i){switch(ae(Re,i),ae(xe,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?C0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=C0(i),t=I0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ce),ae(ce,t)}function st(){te(ce),te(xe),te(Re)}function Ns(t){t.memoizedState!==null&&ae(Pe,t);var i=ce.current,a=I0(i,t.type);i!==a&&(ae(xe,t),ae(ce,a))}function Aa(t){xe.current===t&&(te(ce),te(xe)),Pe.current===t&&(te(Pe),Ll._currentValue=pe)}var Sa,Ra;function mr(t){if(Sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Sa=i&&i[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+Ra}var Lo=!1;function Cs(t,i){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var Q=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){Q=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var I=v.split(`
`),F=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===F.length)for(l=I.length-1,d=F.length-1;1<=l&&0<=d&&I[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==F[d]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=d);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mr(a):""}function Uo(t,i){switch(t.tag){case 26:case 27:case 5:return mr(t.type);case 16:return mr("Lazy");case 13:return t.child!==i&&i!==null?mr("Suspense Fallback"):mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return mr("Activity");default:return""}}function zo(t){try{var i="",a=null;do i+=Uo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,Ri=r.unstable_cancelCallback,Cd=r.unstable_shouldYield,ju=r.unstable_requestPaint,sn=r.unstable_now,Is=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,qo=r.unstable_UserBlockingPriority,Ni=r.unstable_NormalPriority,Id=r.unstable_LowPriority,Mu=r.unstable_IdlePriority,Vu=r.log,Pu=r.unstable_setDisableYieldValue,$n=null,qt=null;function On(t){if(typeof Vu=="function"&&Pu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode($n,t)}catch{}}var gt=Math.clz32?Math.clz32:Uu,Lu=Math.log,Na=Math.LN2;function Uu(t){return t>>>=0,t===0?32:31-(Lu(t)/Na|0)|0}var pr=256,ks=262144,Et=4194304;function gr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=gr(l):(v&=T,v!==0?d=gr(v):a||(a=T&~t,a!==0&&(d=gr(a))))):(T=l&~f,T!==0?d=gr(T):v!==0?d=gr(v):a||(a=l&~t,a!==0&&(d=gr(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function kd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function _r(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ds(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dd(t,i,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-gt(a),ee=1<<$;T[$]=0,I[$]=-1;var Q=F[$];if(Q!==null)for(F[$]=null,$=0;$<Q.length;$++){var Y=Q[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Os(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Os(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ho(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Fo(t,i){var a=i&-i;return a=(a&42)!==0?1:js(a),(a&(t.suspendedLanes|i))!==0?0:a}function js(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Z0(t.type))}function Jn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Zn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Zn,Lt="__reactProps$"+Zn,vr="__reactContainer$"+Zn,Ca="__reactEvents$"+Zn,Od="__reactListeners$"+Zn,qu="__reactHandles$"+Zn,Hu="__reactResources$"+Zn,br="__reactMarker$"+Zn;function Ia(t){delete t[Tt],delete t[Lt],delete t[Ca],delete t[Od],delete t[qu]}function xr(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vr]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=P0(t);t!==null;){if(a=t[Tt])return a;t=P0(t)}return i}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Tt]||t[vr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function xn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Er(t){var i=t[Hu];return i||(i=t[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[br]=!0}var Go=new Set,Qo={};function Tr(t,i){wr(t,i),wr(t+"Capture",i)}function wr(t,i){for(Qo[t]=i,t=0;t<i.length;t++)Go.add(i[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Xo={};function Fu(t){return xt.call(Xo,t)?!0:xt.call(Yo,t)?!1:Ko.test(t)?Xo[t]=!0:(Yo[t]=!0,!1)}function ka(t,i,a){if(Fu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ci(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $o(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Ci(t)?"checked":"value";t._valueTracker=$o(t,i,""+t[i])}}function Ms(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ci(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function cn(t){return t.replace(Vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Da(t,i,a,l,d,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Wo(t,v,Ut(i)):a!=null?Wo(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function Gu(t,i,a,l,d,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function Wo(t,i,a){i==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Qu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function ki(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Jo(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&Jo(t,f,i[f])}function Oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Di.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function er(){}var el=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Sr=null;function Ps(t){var i=jn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Lt]||null;if(!d)throw Error(s(90));Da(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ms(l)}break e;case"textarea":Qu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var Ma=!1;function ji(t,i,a){if(Ma)return t(i,a);Ma=!0;try{var l=t(i);return l}finally{if(Ma=!1,(Oi!==null||Sr!==null)&&(Bc(),Oi&&(i=Oi,t=Sr,Sr=Oi=null,Ps(i),t)))for(i=0;i<t.length;i++)Ps(t[i])}}function tr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Vn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ls=!1}var Rr=null,tl=null,Us=null;function nl(){if(Us)return Us;var t,i=tl,a=i.length,l,d="value"in Rr?Rr.value:Rr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===d[f-l];l++);return Us=d.slice(t,1<l?1-l:void 0)}function zs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xr(){return!0}function nr(){return!1}function Ht(t){function i(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xr:nr,this.isPropagationStopped=nr,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),i}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Ht($r),Mi=E({},$r,{view:0,detail:0}),rl=Ht(Mi),Vi,Va,Cr,Pa=E({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Vi=t.screenX-Cr.screenX,Va=t.screenY-Cr.screenY):Va=Vi=0,Cr=t),Vi)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),il=Ht(Pa),Bs=E({},Pa,{dataTransfer:0}),Xu=Ht(Bs),$u=E({},Mi,{relatedTarget:0}),qs=Ht($u),sl=E({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=Ht(sl),La=E({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=Ht(La),Zu=E({},$r,{data:0}),Ir=Ht(Zu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nc[t])?!!i[t]:!1}function Pi(){return rc}var an=E({},Mi,{key:function(t){if(t.key){var i=ec[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(t){return t.type==="keypress"?zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ic=Ht(an),sc=E({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=Ht(sc),h=E({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),_=Ht(h),x=E({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(x),q=E({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ht(q),ie=E({},$r,{newState:0,oldState:0}),Ae=Ht(ie),yt=[9,13,27,32],qe=Vn&&"CompositionEvent"in window,at=null;Vn&&"documentMode"in document&&(at=document.documentMode);var Pn=Vn&&"TextEvent"in window&&!at,kr=Vn&&(!qe||at&&8<at&&11>=at),rr=" ",ir=!1;function Hs(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function xw(t,i){switch(t){case"compositionend":return Ua(i);case"keypress":return i.which!==32?null:(ir=!0,rr);case"textInput":return t=i.data,t===rr&&ir?null:t;default:return null}}function Ew(t,i){if(za)return t==="compositionend"||!qe&&Hs(t,i)?(t=nl(),Us=tl=Rr=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kr&&i.locale!=="ko"?null:i.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Tw[t.type]:i==="textarea"}function Bg(t,i,a,l){Oi?Sr?Sr.push(l):Sr=[l]:Oi=l,i=Yc(i,"onChange"),0<i.length&&(a=new Nr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var al=null,ol=null;function ww(t){T0(t,0)}function ac(t){var i=xn(t);if(Ms(i))return t}function qg(t,i){if(t==="change")return i}var Hg=!1;if(Vn){var jd;if(Vn){var Md="oninput"in document;if(!Md){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Md=typeof Fg.oninput=="function"}jd=Md}else jd=!1;Hg=jd&&(!document.documentMode||9<document.documentMode)}function Gg(){al&&(al.detachEvent("onpropertychange",Qg),ol=al=null)}function Qg(t){if(t.propertyName==="value"&&ac(ol)){var i=[];Bg(i,ol,t,Mn(t)),ji(ww,i)}}function Aw(t,i,a){t==="focusin"?(Gg(),al=i,ol=a,al.attachEvent("onpropertychange",Qg)):t==="focusout"&&Gg()}function Sw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ol)}function Rw(t,i){if(t==="click")return ac(i)}function Nw(t,i){if(t==="input"||t==="change")return ac(i)}function Cw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:Cw;function ll(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!xt.call(i,d)||!Tn(t[d],i[d]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,i){var a=Kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ar(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ar(t.document)}return i}function Vd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Iw=Vn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Pd=null,ul=null,Ld=!1;function Wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ld||Ba==null||Ba!==Ar(l)||(l=Ba,"selectionStart"in l&&Vd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Yc(Pd,"onSelect"),0<l.length&&(i=new Nr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ba)))}function Fs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var qa={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Ud={},Jg={};Vn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Gs(t){if(Ud[t])return Ud[t];if(!qa[t])return t;var i=qa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jg)return Ud[t]=i[a];return t}var Zg=Gs("animationend"),ey=Gs("animationiteration"),ty=Gs("animationstart"),kw=Gs("transitionrun"),Dw=Gs("transitionstart"),Ow=Gs("transitioncancel"),ny=Gs("transitionend"),ry=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function sr(t,i){ry.set(t,i),Tr(i,[t])}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Ha=0,Bd=0;function lc(){for(var t=Ha,i=Bd=Ha=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var d=Ln[i];Ln[i++]=null;var f=Ln[i];if(Ln[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&iy(a,d,f)}}function uc(t,i,a,l){Ln[Ha++]=t,Ln[Ha++]=i,Ln[Ha++]=a,Ln[Ha++]=l,Bd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qd(t,i,a,l){return uc(t,i,a,l),cc(t)}function Qs(t,i){return uc(t,null,null,i),cc(t)}function iy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-gt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function cc(t){if(50<kl)throw kl=0,Jf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fa={};function jw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new jw(t,i,a,l)}function Hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function hc(t,i,a,l,d,f){var v=0;if(l=t,typeof t=="function")Hd(t)&&(v=1);else if(typeof t=="string")v=UA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=wn(31,a,i,d),t.elementType=R,t.lanes=f,t;case L:return Ks(a.children,d,f,i);case j:v=8,d|=24;break;case G:return t=wn(12,a,i,d|2),t.elementType=G,t.lanes=f,t;case ve:return t=wn(13,a,i,d),t.elementType=ve,t.lanes=f,t;case be:return t=wn(19,a,i,d),t.elementType=be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case X:v=9;break e;case oe:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wn(v,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Ks(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function Fd(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function ay(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function Gd(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var oy=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=oy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:zo(i)},oy.set(t,i),i)}return{value:t,source:i,stack:zo(i)}}var Ga=[],Qa=0,dc=null,cl=0,zn=[],Bn=0,Li=null,Dr=1,Or="";function Zr(t,i){Ga[Qa++]=cl,Ga[Qa++]=dc,dc=t,cl=i}function ly(t,i,a){zn[Bn++]=Dr,zn[Bn++]=Or,zn[Bn++]=Li,Li=t;var l=Dr;t=Or;var d=32-gt(l)-1;l&=~(1<<d),a+=1;var f=32-gt(i)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Dr=1<<32-gt(i)+d|a<<d|l,Or=f+t}else Dr=1<<f|a<<d|l,Or=t}function Qd(t){t.return!==null&&(Zr(t,1),ly(t,1,0))}function Kd(t){for(;t===dc;)dc=Ga[--Qa],Ga[Qa]=null,cl=Ga[--Qa],Ga[Qa]=null;for(;t===Li;)Li=zn[--Bn],zn[Bn]=null,Or=zn[--Bn],zn[Bn]=null,Dr=zn[--Bn],zn[Bn]=null}function uy(t,i){zn[Bn++]=Dr,zn[Bn++]=Or,zn[Bn++]=Li,Dr=i.id,Or=i.overflow,Li=t}var Ft=null,nt=null,Ve=!1,Ui=null,qn=!1,Yd=Error(s(519));function zi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Un(i,t)),Yd}function cy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ie(Ol[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Gu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),ki(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||R0(i.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),l.onScroll!=null&&Ie("scroll",i),l.onScrollEnd!=null&&Ie("scrollend",i),l.onClick!=null&&(i.onclick=er),i=!0):i=!1,i||zi(t,!0)}function hy(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ft=Ft.return}}function Ka(t){if(t!==Ft)return!1;if(!Ve)return hy(t),Ve=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fm(t.type,t.memoizedProps)),a=!a),a&&nt&&zi(t),hy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=V0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=V0(t)}else i===27?(i=nt,es(t.type)?(t=_m,_m=null,nt=t):nt=i):nt=Ft?Fn(t.stateNode.nextSibling):null;return!0}function Ys(){nt=Ft=null,Ve=!1}function Xd(){var t=Ui;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ui=null),t}function hl(t){Ui===null?Ui=[t]:Ui.push(t)}var $d=P(null),Xs=null,ei=null;function Bi(t,i,a){ae($d,i._currentValue),i._currentValue=a}function ti(t){t._currentValue=$d.current,te($d)}function Wd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Jd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var I=0;I<i.length;I++)if(T.context===i[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Wd(f.return,a,t),l||(v=null);break e}f=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Wd(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ya(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=d.type;Tn(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===Pe.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}d=d.return}t!==null&&Jd(i,t,a,l),i.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Xs=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return dy(Xs,t)}function mc(t,i){return Xs===null&&$s(t),dy(t,i)}function dy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(s(308));ei=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ei=ei.next=i;return a}var Mw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Vw=r.unstable_scheduleCallback,Pw=r.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new Mw,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&Vw(Pw,function(){t.controller.abort()})}var fl=null,ef=0,Xa=0,$a=null;function Lw(t,i){if(fl===null){var a=fl=[];ef=0,Xa=im(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ef++,i.then(fy,fy),i}function fy(){if(--ef===0&&fl!==null){$a!==null&&($a.status="fulfilled");var t=fl;fl=null,Xa=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Uw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var my=W.S;W.S=function(t,i){W_=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Lw(t,i),my!==null&&my(t,i)};var Ws=P(null);function tf(){var t=Ws.current;return t!==null?t:Ze.pooledCache}function pc(t,i){i===null?ae(Ws,Ws.current):ae(Ws,i.pool)}function py(){var t=tf();return t===null?null:{parent:St._currentValue,pool:t}}var Wa=Error(s(460)),nf=Error(s(474)),gc=Error(s(542)),yc={then:function(){}};function gy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(er,er),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vy(t),t;default:if(typeof i.status=="string")i.then(er,er);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vy(t),t}throw Zs=i,Wa}}function Js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,Wa):a}}var Zs=null;function _y(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function vy(t){if(t===Wa||t===gc)throw Error(s(483))}var Ja=null,ml=0;function _c(t){var i=ml;return ml+=1,Ja===null&&(Ja=[]),yy(Ja,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function by(t){function i(z,M){if(t){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function d(z,M){return z=Jr(z,M),z.index=0,z.sibling=null,z}function f(z,M,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,H,J){return M===null||M.tag!==6?(M=Fd(H,z.mode,J),M.return=z,M):(M=d(M,H),M.return=z,M)}function I(z,M,H,J){var fe=H.type;return fe===L?$(z,M,H.props.children,J,H.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Js(fe)===M.type)?(M=d(M,H.props),pl(M,H),M.return=z,M):(M=hc(H.type,H.key,H.props,null,z.mode,J),pl(M,H),M.return=z,M)}function F(z,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Gd(H,z.mode,J),M.return=z,M):(M=d(M,H.children||[]),M.return=z,M)}function $(z,M,H,J,fe){return M===null||M.tag!==7?(M=Ks(H,z.mode,J,fe),M.return=z,M):(M=d(M,H),M.return=z,M)}function ee(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Fd(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return H=hc(M.type,M.key,M.props,null,z.mode,H),pl(H,M),H.return=z,H;case B:return M=Gd(M,z.mode,H),M.return=z,M;case S:return M=Js(M),ee(z,M,H)}if(Ot(M)||U(M))return M=Ks(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return ee(z,_c(M),H);if(M.$$typeof===re)return ee(z,mc(z,M),H);vc(z,M)}return null}function Q(z,M,H,J){var fe=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:T(z,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return H.key===fe?I(z,M,H,J):null;case B:return H.key===fe?F(z,M,H,J):null;case S:return H=Js(H),Q(z,M,H,J)}if(Ot(H)||U(H))return fe!==null?null:$(z,M,H,J,null);if(typeof H.then=="function")return Q(z,M,_c(H),J);if(H.$$typeof===re)return Q(z,M,mc(z,H),J);vc(z,H)}return null}function Y(z,M,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,T(M,z,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return z=z.get(J.key===null?H:J.key)||null,I(M,z,J,fe);case B:return z=z.get(J.key===null?H:J.key)||null,F(M,z,J,fe);case S:return J=Js(J),Y(z,M,H,J,fe)}if(Ot(J)||U(J))return z=z.get(H)||null,$(M,z,J,fe,null);if(typeof J.then=="function")return Y(z,M,H,_c(J),fe);if(J.$$typeof===re)return Y(z,M,H,mc(M,J),fe);vc(M,J)}return null}function he(z,M,H,J){for(var fe=null,ze=null,de=M,Ne=M=0,De=null;de!==null&&Ne<H.length;Ne++){de.index>Ne?(De=de,de=null):De=de.sibling;var Be=Q(z,de,H[Ne],J);if(Be===null){de===null&&(de=De);break}t&&de&&Be.alternate===null&&i(z,de),M=f(Be,M,Ne),ze===null?fe=Be:ze.sibling=Be,ze=Be,de=De}if(Ne===H.length)return a(z,de),Ve&&Zr(z,Ne),fe;if(de===null){for(;Ne<H.length;Ne++)de=ee(z,H[Ne],J),de!==null&&(M=f(de,M,Ne),ze===null?fe=de:ze.sibling=de,ze=de);return Ve&&Zr(z,Ne),fe}for(de=l(de);Ne<H.length;Ne++)De=Y(de,z,Ne,H[Ne],J),De!==null&&(t&&De.alternate!==null&&de.delete(De.key===null?Ne:De.key),M=f(De,M,Ne),ze===null?fe=De:ze.sibling=De,ze=De);return t&&de.forEach(function(ss){return i(z,ss)}),Ve&&Zr(z,Ne),fe}function ge(z,M,H,J){if(H==null)throw Error(s(151));for(var fe=null,ze=null,de=M,Ne=M=0,De=null,Be=H.next();de!==null&&!Be.done;Ne++,Be=H.next()){de.index>Ne?(De=de,de=null):De=de.sibling;var ss=Q(z,de,Be.value,J);if(ss===null){de===null&&(de=De);break}t&&de&&ss.alternate===null&&i(z,de),M=f(ss,M,Ne),ze===null?fe=ss:ze.sibling=ss,ze=ss,de=De}if(Be.done)return a(z,de),Ve&&Zr(z,Ne),fe;if(de===null){for(;!Be.done;Ne++,Be=H.next())Be=ee(z,Be.value,J),Be!==null&&(M=f(Be,M,Ne),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Ve&&Zr(z,Ne),fe}for(de=l(de);!Be.done;Ne++,Be=H.next())Be=Y(de,z,Ne,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ne:Be.key),M=f(Be,M,Ne),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&de.forEach(function($A){return i(z,$A)}),Ve&&Zr(z,Ne),fe}function Je(z,M,H,J){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case k:e:{for(var fe=H.key;M!==null;){if(M.key===fe){if(fe=H.type,fe===L){if(M.tag===7){a(z,M.sibling),J=d(M,H.props.children),J.return=z,z=J;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Js(fe)===M.type){a(z,M.sibling),J=d(M,H.props),pl(J,H),J.return=z,z=J;break e}a(z,M);break}else i(z,M);M=M.sibling}H.type===L?(J=Ks(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=hc(H.type,H.key,H.props,null,z.mode,J),pl(J,H),J.return=z,z=J)}return v(z);case B:e:{for(fe=H.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),J=d(M,H.children||[]),J.return=z,z=J;break e}else{a(z,M);break}else i(z,M);M=M.sibling}J=Gd(H,z.mode,J),J.return=z,z=J}return v(z);case S:return H=Js(H),Je(z,M,H,J)}if(Ot(H))return he(z,M,H,J);if(U(H)){if(fe=U(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ge(z,M,H,J)}if(typeof H.then=="function")return Je(z,M,_c(H),J);if(H.$$typeof===re)return Je(z,M,mc(z,H),J);vc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),J=d(M,H),J.return=z,z=J):(a(z,M),J=Fd(H,z.mode,J),J.return=z,z=J),v(z)):a(z,M)}return function(z,M,H,J){try{ml=0;var fe=Je(z,M,H,J);return Ja=null,fe}catch(de){if(de===Wa||de===gc)throw de;var ze=wn(29,de,null,z.mode);return ze.lanes=J,ze.return=z,ze}}}var ea=by(!0),xy=by(!1),qi=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=cc(t),iy(t,null,a),i}return uc(t,l,i,a),cc(t)}function gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}function af(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var of=!1;function yl(){if(of){var t=$a;if(t!==null)throw t}}function _l(t,i,a,l){of=!1;var d=t.updateQueue;qi=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,F=I.next;I.next=null,v===null?f=F:v.next=F,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=F:T.next=F,$.lastBaseUpdate=I))}if(f!==null){var ee=d.baseState;v=0,$=F=I=null,T=f;do{var Q=T.lane&-536870913,Y=Q!==T.lane;if(Y?(ke&Q)===Q:(l&Q)===Q){Q!==0&&Q===Xa&&(of=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ge=T;Q=i;var Je=a;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){ee=he.call(Je,ee,Q);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,Q=typeof he=="function"?he.call(Je,ee,Q):he,Q==null)break e;ee=E({},ee,Q);break e;case 2:qi=!0}}Q=T.callback,Q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(F=$=Y,I=ee):$=$.next=Y,v|=Q;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);$===null&&(I=ee),d.baseState=I,d.firstBaseUpdate=F,d.lastBaseUpdate=$,f===null&&(d.shared.lanes=0),Xi|=v,t.lanes=v,t.memoizedState=ee}}function Ey(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ty(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ey(a[t],i)}var Za=P(null),bc=P(0);function wy(t,i){t=ci,ae(bc,t),ae(Za,i),ci=t|i.baseLanes}function lf(){ae(bc,ci),ae(Za,Za.current)}function uf(){ci=bc.current,te(Za),te(bc)}var An=P(null),Hn=null;function Gi(t){var i=t.alternate;ae(_t,_t.current&1),ae(An,t),Hn===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Hn=t)}function cf(t){ae(_t,_t.current),ae(An,t),Hn===null&&(Hn=t)}function Ay(t){t.tag===22?(ae(_t,_t.current),ae(An,t),Hn===null&&(Hn=t)):Qi()}function Qi(){ae(_t,_t.current),ae(An,An.current)}function Sn(t){te(An),Hn===t&&(Hn=null),te(_t)}var _t=P(0);function xc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gm(a)||ym(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ni=0,Se=null,$e=null,Rt=null,Ec=!1,eo=!1,ta=!1,Tc=0,vl=0,to=null,zw=0;function ht(){throw Error(s(321))}function hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function df(t,i,a,l,d,f){return ni=f,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?l_:Rf,ta=!1,f=a(l,d),ta=!1,eo&&(f=Ry(i,a,l,d)),Sy(t),f}function Sy(t){W.H=El;var i=$e!==null&&$e.next!==null;if(ni=0,Rt=$e=Se=null,Ec=!1,vl=0,to=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&fc(t)&&(Nt=!0))}function Ry(t,i,a,l){Se=t;var d=0;do{if(eo&&(to=null),vl=0,eo=!1,25<=d)throw Error(s(301));if(d+=1,Rt=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}W.H=u_,f=i(a,l)}while(eo);return f}function Bw(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Se.flags|=1024),i}function ff(){var t=Tc!==0;return Tc=0,t}function mf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function pf(t){if(Ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ec=!1}ni=0,Rt=$e=Se=null,eo=!1,vl=Tc=0,to=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Se.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function vt(){if($e===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=Rt===null?Se.memoizedState:Rt.next;if(i!==null)Rt=i,$e=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Rt===null?Se.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=vl;return vl+=1,to===null&&(to=[]),t=yy(to,t,i),i=Se,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?l_:Rf),t}function Ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===re)return Gt(t)}throw Error(s(438,String(t)))}function gf(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wc(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function ri(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=vt();return yf(i,$e,t)}function yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var T=v=null,I=null,F=i,$=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(ke&ee)===ee:(ni&ee)===ee){var Q=F.revertLane;if(Q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Xa&&($=!0);else if((ni&Q)===Q){F=F.next,Q===Xa&&($=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=ee,v=f):I=I.next=ee,Se.lanes|=Q,Xi|=Q;ee=F.action,ta&&a(f,ee),f=F.hasEagerState?F.eagerState:a(f,ee)}else Q={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=Q,v=f):I=I.next=Q,Se.lanes|=ee,Xi|=ee;F=F.next}while(F!==null&&F!==i);if(I===null?v=f:I.next=T,!Tn(f,t.memoizedState)&&(Nt=!0,$&&(a=$a,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _f(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Tn(f,i.memoizedState)||(Nt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Ny(t,i,a){var l=Se,d=vt(),f=Ve;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn(($e||d).memoizedState,a);if(v&&(d.memoizedState=a,Nt=!0),d=d.queue,xf(ky.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},Iy.bind(null,l,d,a,i),null),Ze===null)throw Error(s(349));f||(ni&127)!==0||Cy(l,i,a)}return a}function Cy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=wc(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Iy(t,i,a,l){i.value=a,i.getSnapshot=l,Dy(i)&&Oy(t)}function ky(t,i,a){return a(function(){Dy(i)&&Oy(t)})}function Dy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function Oy(t){var i=Qs(t,2);i!==null&&gn(i,t,2)}function vf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),ta){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},i}function jy(t,i,a,l){return t.baseState=a,yf(t,$e,typeof l=="function"?l:ri)}function qw(t,i,a,l,d){if(Cc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};W.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,My(i,f)):(f.next=a.next,i.pending=a.next=f)}}function My(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=W.T,v={};W.T=v;try{var T=a(d,l),I=W.S;I!==null&&I(v,T),Vy(t,i,T)}catch(F){bf(t,i,F)}finally{f!==null&&v.types!==null&&(f.types=v.types),W.T=f}}else try{f=a(d,l),Vy(t,i,f)}catch(F){bf(t,i,F)}}function Vy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Py(t,i,l)},function(l){return bf(t,i,l)}):Py(t,i,a)}function Py(t,i,a){i.status="fulfilled",i.value=a,Ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,My(t,a)))}function bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ly(i),i=i.next;while(i!==l)}t.action=null}function Ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Uy(t,i){return i}function zy(t,i){if(Ve){var a=Ze.formState;if(a!==null){e:{var l=Se;if(Ve){if(nt){t:{for(var d=nt,f=qn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Fn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){nt=Fn(d.nextSibling),l=d.data==="F!";break e}}zi(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:i},a.queue=l,a=s_.bind(null,Se,l),l.dispatch=a,l=vf(!1),f=Sf.bind(null,Se,!1,l.queue),l=on(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=qw.bind(null,Se,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function By(t){var i=vt();return qy(i,$e,t)}function qy(t,i,a){if(i=yf(t,i,Uy)[0],t=Sc(ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(v){throw v===Wa?gc:v}else l=i;i=vt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,no(9,{destroy:void 0},Hw.bind(null,d,a),null)),[l,f,t]}function Hw(t,i){t.action=i}function Hy(t){var i=vt(),a=$e;if(a!==null)return qy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function no(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=wc(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Fy(){return vt().memoizedState}function Rc(t,i,a,l){var d=on();Se.flags|=t,d.memoizedState=no(1|i,{destroy:void 0},a,l===void 0?null:l)}function Nc(t,i,a,l){var d=vt();l=l===void 0?null:l;var f=d.memoizedState.inst;$e!==null&&l!==null&&hf(l,$e.memoizedState.deps)?d.memoizedState=no(i,f,a,l):(Se.flags|=t,d.memoizedState=no(1|i,f,a,l))}function Gy(t,i){Rc(8390656,8,t,i)}function xf(t,i){Nc(2048,8,t,i)}function Fw(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=wc(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Qy(t){var i=vt().memoizedState;return Fw({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ky(t,i){return Nc(4,2,t,i)}function Yy(t,i){return Nc(4,4,t,i)}function Xy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $y(t,i,a){a=a!=null?a.concat([t]):null,Nc(4,4,Xy.bind(null,i,t),a)}function Ef(){}function Wy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Jy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&hf(i,l[1]))return l[0];if(l=t(),ta){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function Tf(t,i,a){return a===void 0||(ni&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Z_(),Se.lanes|=t,Xi|=t,a)}function Zy(t,i,a,l){return Tn(a,i)?a:Za.current!==null?(t=Tf(t,a,l),Tn(t,i)||(Nt=!0),t):(ni&42)===0||(ni&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=a):(t=Z_(),Se.lanes|=t,Xi|=t,i)}function e_(t,i,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var v=W.T,T={};W.T=T,Sf(t,!1,i,a);try{var I=d(),F=W.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=Uw(I,l);xl(t,i,$,Cn(t))}else xl(t,i,l,Cn(t))}catch(ee){xl(t,i,{then:function(){},status:"rejected",reason:ee},Cn())}finally{se.p=f,v!==null&&T.types!==null&&(v.types=T.types),W.T=v}}function Gw(){}function wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=t_(t).queue;e_(t,d,i,pe,a===null?Gw:function(){return n_(t),a(l)})}function t_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function n_(t){var i=t_(t);i.next===null&&(i=t.alternate.memoizedState),xl(t,i.next.queue,{},Cn())}function Af(){return Gt(Ll)}function r_(){return vt().memoizedState}function i_(){return vt().memoizedState}function Qw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();t=Hi(a);var l=Fi(i,t,a);l!==null&&(gn(l,i,a),gl(l,i,a)),i={cache:Zd()},t.payload=i;return}i=i.return}}function Kw(t,i,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(t)?a_(i,a):(a=qd(t,i,a,l),a!==null&&(gn(a,t,l),o_(a,i,l)))}function s_(t,i,a){var l=Cn();xl(t,i,a,l)}function xl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(t))a_(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,T=f(v,a);if(d.hasEagerState=!0,d.eagerState=T,Tn(T,v))return uc(t,i,d,0),Ze===null&&lc(),!1}catch{}if(a=qd(t,i,d,l),a!==null)return gn(a,t,l),o_(a,i,l),!0}return!1}function Sf(t,i,a,l){if(l={lane:2,revertLane:im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cc(t)){if(i)throw Error(s(479))}else i=qd(t,a,l,2),i!==null&&gn(i,t,2)}function Cc(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function a_(t,i){eo=Ec=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function o_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}var El={readContext:Gt,use:Ac,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};El.useEffectEvent=ht;var l_={readContext:Gt,use:Ac,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Gy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Rc(4194308,4,Xy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Rc(4194308,4,t,i)},useInsertionEffect:function(t,i){Rc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(ta){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var d=a(i);if(ta){On(!0);try{a(i)}finally{On(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Kw.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=vf(t);var i=t.queue,a=s_.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,i){var a=on();return Tf(a,t,i)},useTransition:function(){var t=vf(!1);return t=e_.bind(null,Se,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Se,d=on();if(Ve){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(ke&127)!==0||Cy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Gy(ky.bind(null,l,f,t),[t]),l.flags|=2048,no(9,{destroy:void 0},Iy.bind(null,l,f,a,i),null),a},useId:function(){var t=on(),i=Ze.identifierPrefix;if(Ve){var a=Or,l=Dr;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Af,useFormState:zy,useActionState:zy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Sf.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:gf,useCacheRefresh:function(){return on().memoizedState=Qw.bind(null,Se)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Rf={readContext:Gt,use:Ac,useCallback:Wy,useContext:Gt,useEffect:xf,useImperativeHandle:$y,useInsertionEffect:Ky,useLayoutEffect:Yy,useMemo:Jy,useReducer:Sc,useRef:Fy,useState:function(){return Sc(ri)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=vt();return Zy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Sc(ri)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ny,useId:r_,useHostTransitionStatus:Af,useFormState:By,useActionState:By,useOptimistic:function(t,i){var a=vt();return jy(a,$e,t,i)},useMemoCache:gf,useCacheRefresh:i_};Rf.useEffectEvent=Qy;var u_={readContext:Gt,use:Ac,useCallback:Wy,useContext:Gt,useEffect:xf,useImperativeHandle:$y,useInsertionEffect:Ky,useLayoutEffect:Yy,useMemo:Jy,useReducer:_f,useRef:Fy,useState:function(){return _f(ri)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=vt();return $e===null?Tf(a,t,i):Zy(a,$e.memoizedState,t,i)},useTransition:function(){var t=_f(ri)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ny,useId:r_,useHostTransitionStatus:Af,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,i){var a=vt();return $e!==null?jy(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:i_};u_.useEffectEvent=Qy;function Nf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Cn(),d=Hi(l);d.payload=i,a!=null&&(d.callback=a),i=Fi(t,d,l),i!==null&&(gn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Cn(),d=Hi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Fi(t,d,l),i!==null&&(gn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Cn(),l=Hi(a);l.tag=2,i!=null&&(l.callback=i),i=Fi(t,l,a),i!==null&&(gn(i,t,a),gl(i,t,a))}};function c_(t,i,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(d,f):!0}function h_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Cf.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function d_(t){oc(t)}function f_(t){console.error(t)}function m_(t){oc(t)}function Ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function p_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function If(t,i,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,i)},a}function g_(t){return t=Hi(t),t.tag=3,t}function y_(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){p_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){p_(i,a,l),typeof d!="function"&&($i===null?$i=new Set([this]):$i.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Yw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ya(i,a,d,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?qc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===yc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),tm(t,l,d)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),tm(t,l,d)),!1}throw Error(s(435,a.tag))}return tm(t,l,d),qc(),!1}if(Ve)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Yd&&(t=Error(s(422),{cause:l}),hl(Un(t,a)))):(l!==Yd&&(i=Error(s(423),{cause:l}),hl(Un(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Un(l,a),d=If(t.stateNode,l,d),af(t,d),dt!==4&&(dt=2)),!1;var f=Error(s(520),{cause:l});if(f=Un(f,a),Il===null?Il=[f]:Il.push(f),dt!==4&&(dt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=If(a.stateNode,l,t),af(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=g_(d),y_(d,t,a,l),af(a,d),!1}a=a.return}while(a!==null);return!1}var kf=Error(s(461)),Nt=!1;function Qt(t,i,a,l){i.child=t===null?xy(i,null,a,l):ea(i,t.child,a,l)}function __(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return $s(i),l=df(t,i,a,v,f,d),T=ff(),t!==null&&!Nt?(mf(t,i,d),ii(t,i,d)):(Ve&&T&&Qd(i),i.flags|=1,Qt(t,i,l,d),i.child)}function v_(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Hd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,b_(t,i,f,l,d)):(t=hc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Uf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&t.ref===i.ref)return ii(t,i,d)}return i.flags|=1,t=Jr(f,l),t.ref=i.ref,t.return=i,i.child=t}function b_(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=f,Uf(t,d))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ii(t,i,d)}return Df(t,i,a,l,d)}function x_(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return E_(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(i,f!==null?f.cachePool:null),f!==null?wy(i,f):lf(),Ay(i);else return l=i.lanes=536870912,E_(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(pc(i,f.cachePool),wy(i,f),Qi(),i.memoizedState=null):(t!==null&&pc(i,null),lf(),Qi());return Qt(t,i,d,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function E_(t,i,a,l,d){var f=tf();return f=f===null?null:{parent:St._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&pc(i,null),lf(),Ay(i),t!==null&&Ya(t,i,l,!0),i.childLanes=d,null}function kc(t,i){return i=Oc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function T_(t,i,a){return ea(i,t.child,null,a),t=kc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function Xw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ve){if(l.mode==="hidden")return t=kc(i,l),i.lanes=536870912,Tl(null,t);if(cf(i),(t=nt)?(t=M0(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw zi(i);return i.lanes=536870912,null}return kc(i,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(cf(i),d)if(i.flags&256)i.flags&=-257,i=T_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Ya(t,i,a,!1),d=(a&t.childLanes)!==0,Nt||d){if(l=Ze,l!==null&&(v=Fo(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Qs(t,v),gn(l,t,v),kf;qc(),i=T_(t,i,a)}else t=f.treeContext,nt=Fn(v.nextSibling),Ft=i,Ve=!0,Ui=null,qn=!1,t!==null&&uy(i,t),i=kc(i,l),i.flags|=4096;return i}return t=Jr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Dc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Df(t,i,a,l,d){return $s(i),a=df(t,i,a,l,void 0,d),l=ff(),t!==null&&!Nt?(mf(t,i,d),ii(t,i,d)):(Ve&&l&&Qd(i),i.flags|=1,Qt(t,i,a,d),i.child)}function w_(t,i,a,l,d,f){return $s(i),i.updateQueue=null,a=Ry(i,l,a,d),Sy(t),l=ff(),t!==null&&!Nt?(mf(t,i,f),ii(t,i,f)):(Ve&&l&&Qd(i),i.flags|=1,Qt(t,i,a,f),i.child)}function A_(t,i,a,l,d){if($s(i),i.stateNode===null){var f=Fa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Gt(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},rf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Gt(v):Fa,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Cf.enqueueReplaceState(f,f.state,null),_l(i,l,f,d),yl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,I=na(a,T);f.props=I;var F=f.context,$=a.contextType;v=Fa,typeof $=="object"&&$!==null&&(v=Gt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||F!==v)&&h_(i,f,l,v),qi=!1;var Q=i.memoizedState;f.state=Q,_l(i,l,f,d),yl(),F=i.memoizedState,T||Q!==F||qi?(typeof ee=="function"&&(Nf(i,a,ee,l),F=i.memoizedState),(I=qi||c_(i,a,I,l,Q,F,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,sf(t,i),v=i.memoizedProps,$=na(a,v),f.props=$,ee=i.pendingProps,Q=f.context,F=a.contextType,I=Fa,typeof F=="object"&&F!==null&&(I=Gt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ee||Q!==I)&&h_(i,f,l,I),qi=!1,Q=i.memoizedState,f.state=Q,_l(i,l,f,d),yl();var Y=i.memoizedState;v!==ee||Q!==Y||qi||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof T=="function"&&(Nf(i,a,T,l),Y=i.memoizedState),($=qi||c_(i,a,$,l,Q,Y,I)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),f.props=l,f.state=Y,f.context=I,l=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Dc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ea(i,t.child,null,d),i.child=ea(i,null,a,d)):Qt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ii(t,i,d),t}function S_(t,i,a,l){return Ys(),i.flags|=256,Qt(t,i,a,l),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:py()}}function Mf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function R_(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ve){if(d?Gi(i):Qi(),(t=nt)?(t=M0(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw zi(i);return ym(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Qi(),d=i.mode,T=Oc({mode:"hidden",children:T},d),l=Ks(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=jf(a),l.childLanes=Mf(t,v,a),i.memoizedState=Of,Tl(null,l)):(Gi(i),Vf(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)i.flags&256?(Gi(i),i.flags&=-257,i=Pf(t,i,a)):i.memoizedState!==null?(Qi(),i.child=t.child,i.flags|=128,i=null):(Qi(),T=l.fallback,d=i.mode,l=Oc({mode:"visible",children:l.children},d),T=Ks(T,d,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ea(i,t.child,null,a),l=i.child,l.memoizedState=jf(a),l.childLanes=Mf(t,v,a),i.memoizedState=Of,i=Tl(null,l));else if(Gi(i),ym(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,hl({value:l,source:null,stack:null}),i=Pf(t,i,a)}else if(Nt||Ya(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Ze,v!==null&&(l=Fo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Qs(t,l),gn(v,t,l),kf;gm(T)||qc(),i=Pf(t,i,a)}else gm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=Fn(T.nextSibling),Ft=i,Ve=!0,Ui=null,qn=!1,t!==null&&uy(i,t),i=Vf(i,l.children),i.flags|=4096);return i}return d?(Qi(),T=l.fallback,d=i.mode,I=t.child,F=I.sibling,l=Jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?T=Jr(F,T):(T=Ks(T,d,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Tl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=jf(a):(d=T.cachePool,d!==null?(I=St._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=py(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=Mf(t,v,a),i.memoizedState=Of,Tl(t.child,l)):(Gi(i),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Vf(t,i){return i=Oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Oc(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function Pf(t,i,a){return ea(i,t.child,null,a),t=Vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function N_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Wd(t.return,i,a)}function Lf(t,i,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function C_(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=_t.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,ae(_t,v),Qt(t,i,l,a),l=Ve?cl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,a,i);else if(t.tag===19)N_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&xc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Lf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&xc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Lf(i,!0,a,null,f,l);break;case"together":Lf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ii(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ya(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Jr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Uf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function $w(t,i,a){switch(i.tag){case 3:jt(i,i.stateNode.containerInfo),Bi(i,St,t.memoizedState.cache),Ys();break;case 27:case 5:Ns(i);break;case 4:jt(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,cf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?R_(t,i,a):(Gi(i),t=ii(t,i,a),t!==null?t.sibling:null);Gi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ya(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return C_(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return i.lanes=0,x_(t,i,a,i.pendingProps);case 24:Bi(i,St,t.memoizedState.cache)}return ii(t,i,a)}function I_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Uf(t,a)&&(i.flags&128)===0)return Nt=!1,$w(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Ve&&(i.flags&1048576)!==0&&ly(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Js(i.elementType),i.type=t,typeof t=="function")Hd(t)?(l=na(t,l),i.tag=1,i=A_(null,i,t,l,a)):(i.tag=0,i=Df(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===oe){i.tag=11,i=__(null,i,t,l,a);break e}else if(d===N){i.tag=14,i=v_(null,i,t,l,a);break e}}throw i=et(t)||t,Error(s(306,i,""))}}return i;case 0:return Df(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=na(l,i.pendingProps),A_(t,i,l,d,a);case 3:e:{if(jt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,sf(t,i),_l(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Bi(i,St,l),l!==f.cache&&Jd(i,[St],a,!0),yl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=S_(t,i,l,a);break e}else if(l!==d){d=Un(Error(s(424)),i),hl(d),i=S_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Fn(t.firstChild),Ft=i,Ve=!0,Ui=null,qn=!0,a=xy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ys(),l===d){i=ii(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return Dc(t,i),t===null?(a=B0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ve||(a=i.type,t=i.pendingProps,l=Xc(Re.current).createElement(a),l[Tt]=i,l[Lt]=t,Kt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=B0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ns(i),t===null&&Ve&&(l=i.stateNode=L0(i.type,i.pendingProps,Re.current),Ft=i,qn=!0,d=nt,es(i.type)?(_m=d,nt=Fn(l.firstChild)):nt=d),Qt(t,i,i.pendingProps.children,a),Dc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ve&&((d=l=nt)&&(l=SA(l,i.type,i.pendingProps,qn),l!==null?(i.stateNode=l,Ft=i,nt=Fn(l.firstChild),qn=!1,d=!0):d=!1),d||zi(i)),Ns(i),d=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,fm(d,f)?l=null:v!==null&&fm(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=df(t,i,Bw,null,null,a),Ll._currentValue=d),Dc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Ve&&((t=a=nt)&&(a=RA(a,i.pendingProps,qn),a!==null?(i.stateNode=a,Ft=i,nt=null,t=!0):t=!1),t||zi(i)),null;case 13:return R_(t,i,a);case 4:return jt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ea(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return __(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Bi(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,$s(i),d=Gt(d),l=l(d),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return v_(t,i,i.type,i.pendingProps,a);case 15:return b_(t,i,i.type,i.pendingProps,a);case 19:return C_(t,i,a);case 31:return Xw(t,i,a);case 22:return x_(t,i,a,i.pendingProps);case 24:return $s(i),l=Gt(St),t===null?(d=tf(),d===null&&(d=Ze,f=Zd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},rf(i),Bi(i,St,d)):((t.lanes&a)!==0&&(sf(t,i),_l(i,null,null,a),yl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Bi(i,St,l)):(l=f.cache,Bi(i,St,l),l!==d.cache&&Jd(i,[St],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function si(t){t.flags|=4}function zf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(r0())t.flags|=8192;else throw Zs=yc,nf}else t.flags&=-16777217}function k_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q0(i))if(r0())t.flags|=8192;else throw Zs=yc,nf}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?zu():536870912,t.lanes|=i,ao|=i)}function wl(t,i){if(!Ve)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ww(t,i,a){var l=i.pendingProps;switch(Kd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ti(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ka(i)?si(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xd())),rt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(si(i),f!==null?(rt(i),k_(i,f)):(rt(i),zf(i,d,null,l,a))):f?f!==t.memoizedState?(si(i),rt(i),k_(i,f)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&si(i),rt(i),zf(i,d,t,l,a)),null;case 27:if(Aa(i),a=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ce.current,Ka(i)?cy(i):(t=L0(d,l,a),i.stateNode=t,si(i))}return rt(i),null;case 5:if(Aa(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(f=ce.current,Ka(i))cy(i);else{var v=Xc(Re.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Tt]=i,f[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(Kt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&si(i)}}return rt(i),zf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Ka(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Ft,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||R0(t.nodeValue,a)),t||zi(i,!0)}else t=Xc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ka(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Xd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ka(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),d=!1}else d=Xd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),jc(i,i.updateQueue),rt(i),null);case 4:return st(),t===null&&lm(i.stateNode.containerInfo),rt(i),null;case 10:return ti(i.type),rt(i),null;case 19:if(te(_t),l=i.memoizedState,l===null)return rt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)wl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=xc(t),f!==null){for(i.flags|=128,wl(l,!1),t=f.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sy(a,t),a=a.sibling;return ae(_t,_t.current&1|2),Ve&&Zr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>Uc&&(i.flags|=128,d=!0,wl(l,!1),i.lanes=4194304)}else{if(!d)if(t=xc(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ve)return rt(i),null}else 2*sn()-l.renderingStartTime>Uc&&a!==536870912&&(i.flags|=128,d=!0,wl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=_t.current,ae(_t,d?a&1|2:a&1),Ve&&Zr(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Sn(i),uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&jc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ti(St),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Jw(t,i){switch(Kd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ti(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Aa(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(_t),null;case 4:return st(),null;case 10:return ti(i.type),null;case 22:case 23:return Sn(i),uf(),t!==null&&te(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ti(St),null;case 25:return null;default:return null}}function D_(t,i){switch(Kd(i),i.tag){case 3:ti(St),st();break;case 26:case 27:case 5:Aa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:te(_t);break;case 10:ti(i.type);break;case 22:case 23:Sn(i),uf(),t!==null&&te(Ws);break;case 24:ti(St)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(T){Ye(i,i.return,T)}}function Ki(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=i;var I=a,F=T;try{F()}catch($){Ye(d,I,$)}}}l=l.next}while(l!==f)}}catch($){Ye(i,i.return,$)}}function O_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ty(i,a)}catch(l){Ye(t,t.return,l)}}}function j_(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Ye(t,i,d)}}function jr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ye(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ye(t,i,d)}else a.current=null}function M_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ye(t,t.return,d)}}function Bf(t,i,a){try{var l=t.stateNode;bA(l,t.type,a,i),l[Lt]=i}catch(d){Ye(t,t.return,d)}}function V_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=er));else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Hf(t,i,a),t=t.sibling;t!==null;)Hf(t,i,a),t=t.sibling}function Mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mc(t,i,a),t=t.sibling;t!==null;)Mc(t,i,a),t=t.sibling}function P_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Kt(i,l,a),i[Tt]=t,i[Lt]=a}catch(f){Ye(t,t.return,f)}}var ai=!1,Ct=!1,Ff=!1,L_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Zw(t,i){if(t=t.containerInfo,hm=nh,t=$g(t),Vd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,F=0,$=0,ee=t,Q=null;t:for(;;){for(var Y;ee!==a||d!==0&&ee.nodeType!==3||(T=v+d),ee!==f||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)Q=ee,ee=Y;for(;;){if(ee===t)break t;if(Q===a&&++F===d&&(T=v),Q===f&&++$===l&&(I=v),(Y=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=Y}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:t,selectionRange:a},nh=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=na(a.type,d);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)pm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function U_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:li(t,a),l&4&&Al(5,a);break;case 1:if(li(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ye(a,a.return,v)}else{var d=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(a,a.return,v)}}l&64&&O_(a),l&512&&Sl(a,a.return);break;case 3:if(li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ty(t,i)}catch(v){Ye(a,a.return,v)}}break;case 27:i===null&&l&4&&P_(a);case 26:case 5:li(t,a),i===null&&l&4&&M_(a),l&512&&Sl(a,a.return);break;case 12:li(t,a);break;case 31:li(t,a),l&4&&q_(t,a);break;case 13:li(t,a),l&4&&H_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lA.bind(null,a),NA(t,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){i=i!==null&&i.memoizedState!==null||Ct,d=ai;var f=Ct;ai=l,(Ct=i)&&!f?ui(t,a,(a.subtreeFlags&8772)!==0):li(t,a),ai=d,Ct=f}break;case 30:break;default:li(t,a)}}function z_(t){var i=t.alternate;i!==null&&(t.alternate=null,z_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ia(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,dn=!1;function oi(t,i,a){for(a=a.child;a!==null;)B_(t,i,a),a=a.sibling}function B_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ct||jr(a,i),oi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||jr(a,i);var l=ot,d=dn;es(a.type)&&(ot=a.stateNode,dn=!1),oi(t,i,a),Ml(a.stateNode),ot=l,dn=d;break;case 5:Ct||jr(a,i);case 6:if(l=ot,d=dn,ot=null,oi(t,i,a),ot=l,dn=d,ot!==null)if(dn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Ye(a,i,f)}else try{ot.removeChild(a.stateNode)}catch(f){Ye(a,i,f)}break;case 18:ot!==null&&(dn?(t=ot,O0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),po(t)):O0(ot,a.stateNode));break;case 4:l=ot,d=dn,ot=a.stateNode.containerInfo,dn=!0,oi(t,i,a),ot=l,dn=d;break;case 0:case 11:case 14:case 15:Ki(2,a,i),Ct||Ki(4,a,i),oi(t,i,a);break;case 1:Ct||(jr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,i,l)),oi(t,i,a);break;case 21:oi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,oi(t,i,a),Ct=l;break;default:oi(t,i,a)}}function q_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(a){Ye(i,i.return,a)}}}function H_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(a){Ye(i,i.return,a)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new L_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new L_),i;default:throw Error(s(435,t.tag))}}function Vc(t,i){var a=eA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=uA.bind(null,t,l);l.then(d,d)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(es(T.type)){ot=T.stateNode,dn=!1;break e}break;case 5:ot=T.stateNode,dn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));B_(f,v,d),ot=null,dn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)F_(i,t),i=i.sibling}var ar=null;function F_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),mn(t),l&4&&(Ki(3,t,t.return),Al(3,t),Ki(5,t,t.return));break;case 1:fn(i,t),mn(t),l&512&&(Ct||a===null||jr(a,a.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ar;if(fn(i,t),mn(t),l&512&&(Ct||a===null||jr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[br]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Kt(f,l,a),f[Tt]=t,wt(f),l=f;break e;case"link":var v=F0("link","href",d).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=F0("meta","content",d).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Tt]=t,wt(f),l=f}t.stateNode=l}else G0(d,t.type,t.stateNode);else t.stateNode=H0(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G0(d,t.type,t.stateNode):H0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),mn(t),l&512&&(Ct||a===null||jr(a,a.return)),a!==null&&l&4&&Bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),mn(t),l&512&&(Ct||a===null||jr(a,a.return)),t.flags&32){d=t.stateNode;try{hn(d,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Bf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Ff=!0);break;case 6:if(fn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Jc=null,d=ar,ar=$c(i.containerInfo),fn(i,t),ar=d,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(he){Ye(t,t.return,he)}Ff&&(Ff=!1,G_(t));break;case 4:l=ar,ar=$c(t.stateNode.containerInfo),fn(i,t),mn(t),ar=l;break;case 12:fn(i,t),mn(t);break;case 31:fn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 13:fn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=ai,$=Ct;if(ai=F||d,Ct=$||I,fn(i,t),Ct=$,ai=F,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||ai||Ct||ra(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,Q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(he){Ye(I,I.return,he)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(he){Ye(I,I.return,he)}}}else if(i.tag===18){if(a===null){I=i;try{var Y=I.stateNode;d?j0(Y,!0):j0(I.stateNode,!1)}catch(he){Ye(I,I.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vc(t,a))));break;case 19:fn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(V_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=qf(t);Mc(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var T=qf(t);Mc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,F=qf(t);Hf(t,F,I);break;default:throw Error(s(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function G_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;G_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)U_(t,i.alternate,i),i=i.sibling}function ra(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),ra(i);break;case 1:jr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&j_(i,i.return,a),ra(i);break;case 27:Ml(i.stateNode);case 26:case 5:jr(i,i.return),ra(i);break;case 22:i.memoizedState===null&&ra(i);break;case 30:ra(i);break;default:ra(i)}t=t.sibling}}function ui(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:ui(d,f,a),Al(4,f);break;case 1:if(ui(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Ye(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Ey(I[d],T)}catch(F){Ye(l,l.return,F)}}a&&v&64&&O_(f),Sl(f,f.return);break;case 27:P_(f);case 26:case 5:ui(d,f,a),a&&l===null&&v&4&&M_(f),Sl(f,f.return);break;case 12:ui(d,f,a);break;case 31:ui(d,f,a),a&&v&4&&q_(d,f);break;case 13:ui(d,f,a),a&&v&4&&H_(d,f);break;case 22:f.memoizedState===null&&ui(d,f,a),Sl(f,f.return);break;case 30:break;default:ui(d,f,a)}i=i.sibling}}function Gf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function Qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function or(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Q_(t,i,a,l),i=i.sibling}function Q_(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:or(t,i,a,l),d&2048&&Al(9,i);break;case 1:or(t,i,a,l);break;case 3:or(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(d&2048){or(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(i,i.return,I)}}else or(t,i,a,l);break;case 31:or(t,i,a,l);break;case 13:or(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?or(t,i,a,l):Rl(t,i):f._visibility&2?or(t,i,a,l):(f._visibility|=2,ro(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Gf(v,i);break;case 24:or(t,i,a,l),d&2048&&Qf(i.alternate,i);break;default:or(t,i,a,l)}}function ro(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,T=a,I=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:ro(f,v,T,I,d),Al(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ro(f,v,T,I,d):Rl(f,v):($._visibility|=2,ro(f,v,T,I,d)),d&&F&2048&&Gf(v.alternate,v);break;case 24:ro(f,v,T,I,d),d&&F&2048&&Qf(v.alternate,v);break;default:ro(f,v,T,I,d)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Rl(a,l),d&2048&&Gf(l.alternate,l);break;case 24:Rl(a,l),d&2048&&Qf(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Nl=8192;function io(t,i,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)K_(t,i,a),t=t.sibling}function K_(t,i,a){switch(t.tag){case 26:io(t,i,a),t.flags&Nl&&t.memoizedState!==null&&zA(a,ar,t.memoizedState,t.memoizedProps);break;case 5:io(t,i,a);break;case 3:case 4:var l=ar;ar=$c(t.stateNode.containerInfo),io(t,i,a),ar=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,io(t,i,a),Nl=l):io(t,i,a));break;default:io(t,i,a)}}function Y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,$_(l,t)}Y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)X_(t),t=t.sibling}function X_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pc(t)):Cl(t);break;default:Cl(t)}}function Pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,$_(l,t)}Y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),Pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(i));break;default:Pc(i)}t=t.sibling}}function $_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var d=l.sibling,f=l.return;if(z_(l),l===a){zt=null;break e}if(d!==null){d.return=f,zt=d;break e}zt=f}}}var tA={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(St).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ce=null,ke=0,Ke=0,Rn=null,Yi=!1,so=!1,Kf=!1,ci=0,dt=0,Xi=0,ia=0,Yf=0,Nn=0,ao=0,Il=null,pn=null,Xf=!1,Lc=0,W_=0,Uc=1/0,zc=null,$i=null,Vt=0,Wi=null,oo=null,hi=0,$f=0,Wf=null,J_=null,kl=0,Jf=null;function Cn(){return(He&2)!==0&&ke!==0?ke&-ke:W.T!==null?im():Bu()}function Z_(){if(Nn===0)if((ke&536870912)===0||Ve){var t=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),Nn=t}else Nn=536870912;return t=An.current,t!==null&&(t.flags|=32),Nn}function gn(t,i,a){(t===Ze&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(lo(t,0),Ji(t,ke,Nn,!1)),Ds(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(ia|=a),dt===4&&Ji(t,ke,Nn,!1)),Mr(t))}function e0(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),d=l?sA(t,i):em(t,i,!0),f=l;do{if(d===0){so&&!l&&Ji(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!rA(a)){d=em(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;d=Il;var I=T.current.memoizedState.isDehydrated;if(I&&(lo(T,v).flags|=256),v=em(T,v,!1),v!==2){if(Kf&&!I){T.errorRecoveryDisabledLanes|=f,ia|=f,d=4;break e}f=pn,pn=d,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){lo(t,0),Ji(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ji(l,i,Nn,!Yi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Lc+300-sn(),10<d)){if(Ji(l,i,Nn,!Yi),yr(l,0,!0)!==0)break e;hi=i,l.timeoutHandle=k0(t0.bind(null,l,a,pn,zc,Xf,i,Nn,ia,ao,Yi,f,"Throttled",-0,0),d);break e}t0(l,a,pn,zc,Xf,i,Nn,ia,ao,Yi,f,null,-0,0)}}break}while(!0);Mr(t)}function t0(t,i,a,l,d,f,v,T,I,F,$,ee,Q,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},K_(i,f,ee);var he=(f&62914560)===f?Lc-sn():(f&4194048)===f?W_-sn():0;if(he=BA(ee,he),he!==null){hi=f,t.cancelPendingCommit=he(u0.bind(null,t,i,f,a,l,d,v,T,I,$,ee,null,Q,Y)),Ji(t,f,v,!F);return}}u0(t,i,f,a,l,d,v,T,I)}function rA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Tn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(t,i,a,l){i&=~Yf,i&=~ia,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-gt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Os(t,a,i)}function Bc(){return(He&6)===0?(Dl(0),!1):!0}function Zf(){if(Ce!==null){if(Ke===0)var t=Ce.return;else t=Ce,ei=Xs=null,pf(t),Ja=null,ml=0,t=Ce;for(;t!==null;)D_(t.alternate,t),t=t.return;Ce=null}}function lo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hi=0,Zf(),Ze=t,Ce=a=Jr(t.current,null),ke=i,Ke=0,Rn=null,Yi=!1,so=Wn(t,i),Kf=!1,ao=Nn=Yf=ia=Xi=dt=0,pn=Il=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-gt(l),f=1<<d;i|=t[d],l&=~f}return ci=i,lc(),a}function n0(t,i){Se=null,W.H=El,i===Wa||i===gc?(i=_y(),Ke=3):i===nf?(i=_y(),Ke=4):Ke=i===kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ce===null&&(dt=1,Ic(t,Un(i,t.current)))}function r0(){var t=An.current;return t===null?!0:(ke&4194048)===ke?Hn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Hn:!1}function i0(){var t=W.H;return W.H=El,t===null?El:t}function s0(){var t=W.A;return W.A=tA,t}function qc(){dt=4,Yi||(ke&4194048)!==ke&&An.current!==null||(so=!0),(Xi&134217727)===0&&(ia&134217727)===0||Ze===null||Ji(Ze,ke,Nn,!1)}function em(t,i,a){var l=He;He|=2;var d=i0(),f=s0();(Ze!==t||ke!==i)&&(zc=null,lo(t,i)),i=!1;var v=dt;e:do try{if(Ke!==0&&Ce!==null){var T=Ce,I=Rn;switch(Ke){case 8:Zf(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var F=Ke;if(Ke=0,Rn=null,uo(t,T,I,F),a&&so){v=0;break e}break;default:F=Ke,Ke=0,Rn=null,uo(t,T,I,F)}}iA(),v=dt;break}catch($){n0(t,$)}while(!0);return i&&t.shellSuspendCounter++,ei=Xs=null,He=l,W.H=d,W.A=f,Ce===null&&(Ze=null,ke=0,lc()),v}function iA(){for(;Ce!==null;)a0(Ce)}function sA(t,i){var a=He;He|=2;var l=i0(),d=s0();Ze!==t||ke!==i?(zc=null,Uc=sn()+500,lo(t,i)):so=Wn(t,i);e:do try{if(Ke!==0&&Ce!==null){i=Ce;var f=Rn;t:switch(Ke){case 1:Ke=0,Rn=null,uo(t,i,f,1);break;case 2:case 9:if(gy(f)){Ke=0,Rn=null,o0(i);break}i=function(){Ke!==2&&Ke!==9||Ze!==t||(Ke=7),Mr(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:gy(f)?(Ke=0,Rn=null,o0(i)):(Ke=0,Rn=null,uo(t,i,f,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var T=Ce;if(v?Q0(v):T.stateNode.complete){Ke=0,Rn=null;var I=T.sibling;if(I!==null)Ce=I;else{var F=T.return;F!==null?(Ce=F,Hc(F)):Ce=null}break t}}Ke=0,Rn=null,uo(t,i,f,5);break;case 6:Ke=0,Rn=null,uo(t,i,f,6);break;case 8:Zf(),dt=6;break e;default:throw Error(s(462))}}aA();break}catch($){n0(t,$)}while(!0);return ei=Xs=null,W.H=l,W.A=d,He=a,Ce!==null?0:(Ze=null,ke=0,lc(),dt)}function aA(){for(;Ce!==null&&!Cd();)a0(Ce)}function a0(t){var i=I_(t.alternate,t,ci);t.memoizedProps=t.pendingProps,i===null?Hc(t):Ce=i}function o0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=w_(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=w_(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:pf(i);default:D_(a,i),i=Ce=sy(i,ci),i=I_(a,i,ci)}t.memoizedProps=t.pendingProps,i===null?Hc(t):Ce=i}function uo(t,i,a,l){ei=Xs=null,pf(i),Ja=null,ml=0;var d=i.return;try{if(Yw(t,d,i,a,ke)){dt=1,Ic(t,Un(a,t.current)),Ce=null;return}}catch(f){if(d!==null)throw Ce=d,f;dt=1,Ic(t,Un(a,t.current)),Ce=null;return}i.flags&32768?(Ve||l===1?t=!0:so||(ke&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),l0(i,t)):Hc(i)}function Hc(t){var i=t;do{if((i.flags&32768)!==0){l0(i,Yi);return}t=i.return;var a=Ww(i.alternate,i,ci);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);dt===0&&(dt=5)}function l0(t,i){do{var a=Jw(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);dt=6,Ce=null}function u0(t,i,a,l,d,f,v,T,I){t.cancelPendingCommit=null;do Fc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Bd,Dd(t,a,f,v,T,I),t===Ze&&(Ce=Ze=null,ke=0),oo=i,Wi=t,hi=a,$f=f,Wf=d,J_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cA(Ni,function(){return m0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=se.p,se.p=2,v=He,He|=4;try{Zw(t,i,a)}finally{He=v,se.p=d,W.T=l}}Vt=1,c0(),h0(),d0()}}function c0(){if(Vt===1){Vt=0;var t=Wi,i=oo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var d=He;He|=4;try{F_(i,t);var f=dm,v=$g(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Xg(T.ownerDocument.documentElement,T)){if(I!==null&&Vd(T)){var F=I.start,$=I.end;if($===void 0&&($=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min($,T.value.length);else{var ee=T.ownerDocument||document,Q=ee&&ee.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),he=T.textContent.length,ge=Math.min(I.start,he),Je=I.end===void 0?ge:Math.min(I.end,he);!Y.extend&&ge>Je&&(v=Je,Je=ge,ge=v);var z=Yg(T,ge),M=Yg(T,Je);if(z&&M&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var H=ee.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),ge>Je?(Y.addRange(H),Y.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Y.addRange(H))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nh=!!hm,dm=hm=null}finally{He=d,se.p=l,W.T=a}}t.current=i,Vt=2}}function h0(){if(Vt===2){Vt=0;var t=Wi,i=oo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var d=He;He|=4;try{U_(t,i.alternate,i)}finally{He=d,se.p=l,W.T=a}}Vt=3}}function d0(){if(Vt===4||Vt===3){Vt=0,ju();var t=Wi,i=oo,a=hi,l=J_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,oo=Wi=null,f0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&($i=null),Yr(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,d=se.p,se.p=2,W.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{W.T=i,se.p=d}}(hi&3)!==0&&Fc(),Mr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Jf?kl++:(kl=0,Jf=t):kl=0,Dl(0)}}function f0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function Fc(){return c0(),h0(),d0(),m0()}function m0(){if(Vt!==5)return!1;var t=Wi,i=$f;$f=0;var a=Yr(hi),l=W.T,d=se.p;try{se.p=32>a?32:a,W.T=null,a=Wf,Wf=null;var f=Wi,v=hi;if(Vt=0,oo=Wi=null,hi=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,X_(f.current),Q_(f,f.current,v,a),He=T,Dl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{se.p=d,W.T=l,f0(t,i)}}function p0(t,i,a){i=Un(a,i),i=If(t.stateNode,i,2),t=Fi(t,i,2),t!==null&&(Ds(t,2),Mr(t))}function Ye(t,i,a){if(t.tag===3)p0(t,t,a);else for(;i!==null;){if(i.tag===3){p0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=Un(a,t),a=g_(2),l=Fi(i,a,2),l!==null&&(y_(a,l,i,t),Ds(l,2),Mr(l));break}}i=i.return}}function tm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nA;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Kf=!0,d.add(a),t=oA.bind(null,t,i,a),i.then(t,t))}function oA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(ke&a)===a&&(dt===4||dt===3&&(ke&62914560)===ke&&300>sn()-Lc?(He&2)===0&&lo(t,0):Yf|=a,ao===ke&&(ao=0)),Mr(t)}function g0(t,i){i===0&&(i=zu()),t=Qs(t,i),t!==null&&(Ds(t,i),Mr(t))}function lA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),g0(t,a)}function uA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),g0(t,a)}function cA(t,i){return Mt(t,i)}var Gc=null,co=null,nm=!1,Qc=!1,rm=!1,Zi=0;function Mr(t){t!==co&&t.next===null&&(co===null?Gc=co=t:co=co.next=t),Qc=!0,nm||(nm=!0,dA())}function Dl(t,i){if(!rm&&Qc){rm=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=d&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,b0(l,f))}else f=ke,f=yr(l,l===Ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Wn(l,f)||(a=!0,b0(l,f));l=l.next}while(a);rm=!1}}function hA(){y0()}function y0(){Qc=nm=!1;var t=0;Zi!==0&&EA()&&(t=Zi);for(var i=sn(),a=null,l=Gc;l!==null;){var d=l.next,f=_0(l,i);f===0?(l.next=null,a===null?Gc=d:a.next=d,d===null&&(co=a)):(a=l,(t!==0||(f&3)!==0)&&(Qc=!0)),l=d}Vt!==0&&Vt!==5||Dl(t),Zi!==0&&(Zi=0)}function _0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-gt(f),T=1<<v,I=d[v];I===-1?((T&a)===0||(T&l)!==0)&&(d[v]=kd(T,i)):I<=i&&(t.expiredLanes|=T),f&=~T}if(i=Ze,a=ke,a=yr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ri(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ri(l),Yr(a)){case 2:case 8:a=qo;break;case 32:a=Ni;break;case 268435456:a=Mu;break;default:a=Ni}return l=v0.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ri(l),t.callbackPriority=2,t.callbackNode=null,2}function v0(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fc()&&t.callbackNode!==a)return null;var l=ke;return l=yr(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e0(t,l,i),_0(t,sn()),t.callbackNode!=null&&t.callbackNode===a?v0.bind(null,t):null)}function b0(t,i){if(Fc())return null;e0(t,i,!0)}function dA(){wA(function(){(He&6)!==0?Mt(Bo,hA):y0()})}function im(){if(Zi===0){var t=Xa;t===0&&(t=pr,pr<<=1,(pr&261888)===0&&(pr=256)),Zi=t}return Zi}function x0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function E0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function fA(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=x0((d[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?x0(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var T=new Nr("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zi!==0){var I=v?E0(d,v):new FormData(d);wf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=v?E0(d,v):new FormData(d),wf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var sm=0;sm<zd.length;sm++){var am=zd[sm],mA=am.toLowerCase(),pA=am[0].toUpperCase()+am.slice(1);sr(mA,"on"+pA)}sr(Zg,"onAnimationEnd"),sr(ey,"onAnimationIteration"),sr(ty,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(kw,"onTransitionRun"),sr(Dw,"onTransitionStart"),sr(Ow,"onTransitionCancel"),sr(ny,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function T0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch($){oc($)}d.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,F=T.currentTarget,T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch($){oc($)}d.currentTarget=null,f=I}}}}function Ie(t,i){var a=i[Ca];a===void 0&&(a=i[Ca]=new Set);var l=t+"__bubble";a.has(l)||(w0(i,t,2,!1),a.add(l))}function om(t,i,a){var l=0;i&&(l|=4),w0(a,t,l,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function lm(t){if(!t[Kc]){t[Kc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(gA.has(a)||om(a,!1,t),om(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,om("selectionchange",!1,i))}}function w0(t,i,a,l){switch(Z0(i)){case 2:var d=FA;break;case 8:d=GA;break;default:d=Tm}a=d.bind(null,i,a,t),d=void 0,!Ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function um(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=xr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}T=T.parentNode}}l=l.return}ji(function(){var F=f,$=Mn(a),ee=[];e:{var Q=ry.get(t);if(Q!==void 0){var Y=Nr,he=t;switch(t){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":Y=ic;break;case"focusin":he="focus",Y=qs;break;case"focusout":he="blur",Y=qs;break;case"beforeblur":case"afterblur":Y=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case Zg:case ey:case ty:Y=Wu;break;case ny:Y=w;break;case"scroll":case"scrollend":Y=rl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wr;break;case"toggle":case"beforetoggle":Y=Ae}var ge=(i&4)!==0,Je=!ge&&(t==="scroll"||t==="scrollend"),z=ge?Q!==null?Q+"Capture":null:Q;ge=[];for(var M=F,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=tr(M,z),J!=null&&ge.push(jl(M,J,H))),Je)break;M=M.return}0<ge.length&&(Q=new Y(Q,he,null,a,$),ee.push({event:Q,listeners:ge}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",Q&&a!==el&&(he=a.relatedTarget||a.fromElement)&&(xr(he)||he[vr]))break e;if((Y||Q)&&(Q=$.window===$?$:(Q=$.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=F,he=he?xr(he):null,he!==null&&(Je=u(he),ge=he.tag,he!==Je||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(Y=null,he=F),Y!==he)){if(ge=il,J="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Wr,J="onPointerLeave",z="onPointerEnter",M="pointer"),Je=Y==null?Q:xn(Y),H=he==null?Q:xn(he),Q=new ge(J,M+"leave",Y,a,$),Q.target=Je,Q.relatedTarget=H,J=null,xr($)===F&&(ge=new ge(z,M+"enter",he,a,$),ge.target=H,ge.relatedTarget=Je,J=ge),Je=J,Y&&he)t:{for(ge=yA,z=Y,M=he,H=0,J=z;J;J=ge(J))H++;J=0;for(var fe=M;fe;fe=ge(fe))J++;for(;0<H-J;)z=ge(z),H--;for(;0<J-H;)M=ge(M),J--;for(;H--;){if(z===M||M!==null&&z===M.alternate){ge=z;break t}z=ge(z),M=ge(M)}ge=null}else ge=null;Y!==null&&A0(ee,Q,Y,ge,!1),he!==null&&Je!==null&&A0(ee,Je,he,ge,!0)}}e:{if(Q=F?xn(F):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var ze=qg;else if(zg(Q))if(Hg)ze=Nw;else{ze=Sw;var de=Aw}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&Oa(F.elementType)&&(ze=qg):ze=Rw;if(ze&&(ze=ze(t,F))){Bg(ee,ze,a,$);break e}de&&de(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&Wo(Q,"number",Q.value)}switch(de=F?xn(F):window,t){case"focusin":(zg(de)||de.contentEditable==="true")&&(Ba=de,Pd=F,ul=null);break;case"focusout":ul=Pd=Ba=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,Wg(ee,a,$);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":Wg(ee,a,$)}var Ne;if(qe)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else za?Hs(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(kr&&a.locale!=="ko"&&(za||De!=="onCompositionStart"?De==="onCompositionEnd"&&za&&(Ne=nl()):(Rr=$,tl="value"in Rr?Rr.value:Rr.textContent,za=!0)),de=Yc(F,De),0<de.length&&(De=new Ir(De,t,null,a,$),ee.push({event:De,listeners:de}),Ne?De.data=Ne:(Ne=Ua(a),Ne!==null&&(De.data=Ne)))),(Ne=Pn?xw(t,a):Ew(t,a))&&(De=Yc(F,"onBeforeInput"),0<De.length&&(de=new Ir("onBeforeInput","beforeinput",null,a,$),ee.push({event:de,listeners:De}),de.data=Ne)),fA(ee,t,F,a,$)}T0(ee,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=tr(t,a),d!=null&&l.unshift(jl(t,d,f)),d=tr(t,i),d!=null&&l.push(jl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function yA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A0(t,i,a,l,d){for(var f=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,d?(F=tr(a,f),F!=null&&v.unshift(jl(a,F,I))):d||(F=tr(a,f),F!=null&&v.push(jl(a,F,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function S0(t){return(typeof t=="string"?t:""+t).replace(_A,`
`).replace(vA,"")}function R0(t,i){return i=S0(i),S0(t)===i}function We(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Zo(t,l,f);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",d.name,d,null),We(t,i,"formEncType",d.formEncType,d,null),We(t,i,"formMethod",d.formMethod,d,null),We(t,i,"formTarget",d.formTarget,d,null)):(We(t,i,"encType",d.encType,d,null),We(t,i,"method",d.method,d,null),We(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=er);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ka(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ka(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,ka(t,a,l))}}function cm(t,i,a,l,d,f){switch(a){case"style":Zo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Lt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ka(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,f,v,a,null)}}d&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=f=v=d=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":d=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":F=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}Gu(t,f,T,I,F,v,d,!1);return;case"select":Ie("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,i,d,T,a,null)}i=f,a=v,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,i,v,T,a,null)}ki(t,l,d,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ie(Ol[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,F,l,a,null)}return;default:if(Oa(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&cm(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,i,T,l,a,null))}function bA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,T=null,I=null,F=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Y)||We(t,i,Y,null,l,ee)}}for(var Q in l){var Y=l[Q];if(ee=a[Q],l.hasOwnProperty(Q)&&(Y!=null||ee!=null))switch(Q){case"type":f=Y;break;case"name":d=Y;break;case"checked":F=Y;break;case"defaultChecked":$=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&We(t,i,Q,Y,l,ee)}}Da(t,v,T,I,F,$,f,d);return;case"select":Y=v=T=Q=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(f)||We(t,i,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":Q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==I&&We(t,i,d,f,l,I)}i=T,a=v,l=Y,Q!=null?Ii(t,!!a,Q,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":Q=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&We(t,i,v,d,l,f)}Qu(t,Q,Y);return;case"option":for(var he in a)if(Q=a[he],a.hasOwnProperty(he)&&Q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,i,he,null,l,Q)}for(I in l)if(Q=l[I],Y=a[I],l.hasOwnProperty(I)&&Q!==Y&&(Q!=null||Y!=null))switch(I){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:We(t,i,I,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)Q=a[ge],a.hasOwnProperty(ge)&&Q!=null&&!l.hasOwnProperty(ge)&&We(t,i,ge,null,l,Q);for(F in l)if(Q=l[F],Y=a[F],l.hasOwnProperty(F)&&Q!==Y&&(Q!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(t,i,F,Q,l,Y)}return;default:if(Oa(i)){for(var Je in a)Q=a[Je],a.hasOwnProperty(Je)&&Q!==void 0&&!l.hasOwnProperty(Je)&&cm(t,i,Je,void 0,l,Q);for($ in l)Q=l[$],Y=a[$],!l.hasOwnProperty($)||Q===Y||Q===void 0&&Y===void 0||cm(t,i,$,Q,l,Y);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&We(t,i,z,null,l,Q);for(ee in l)Q=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||Q===Y||Q==null&&Y==null||We(t,i,ee,Q,l,Y)}function N0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,T=d.duration;if(f&&T&&N0(v)){for(v=0,T=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],F=I.startTime;if(F>T)break;var $=I.transferSize,ee=I.initiatorType;$&&N0(ee)&&(I=I.responseEnd,v+=$*(I<T?1:(T-F)/(I-F)))}if(--l,i+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hm=null,dm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function C0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function fm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mm=null;function EA(){var t=window.event;return t&&t.type==="popstate"?t===mm?!1:(mm=t,!0):(mm=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(t){return D0.resolve(null).then(t).catch(AA)}:k0;function AA(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function O0(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),po(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[br]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Ml(t.ownerDocument.body);a=d}while(a);po(i)}function j0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function pm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pm(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SA(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[br])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function RA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function M0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function gm(t){return t.data==="$?"||t.data==="$~"}function ym(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var _m=null;function V0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function P0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function L0(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ia(t)}var Gn=new Map,U0=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=se.d;se.d={f:CA,r:IA,D:kA,C:DA,L:OA,m:jA,X:VA,S:MA,M:PA};function CA(){var t=di.f(),i=Bc();return t||i}function IA(t){var i=jn(t);i!==null&&i.tag===5&&i.type==="form"?n_(i):di.r(t)}var ho=typeof document>"u"?null:document;function z0(t,i,a){var l=ho;if(l&&typeof i=="string"&&i){var d=cn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),U0.has(d)||(U0.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function kA(t){di.D(t),z0("dns-prefetch",t,null)}function DA(t,i){di.C(t,i),z0("preconnect",t,i)}function OA(t,i,a){di.L(t,i,a);var l=ho;if(l&&t&&i){var d='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+cn(a.imageSizes)+'"]')):d+='[href="'+cn(t)+'"]';var f=d;switch(i){case"style":f=fo(t);break;case"script":f=mo(t)}Gn.has(f)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Vl(f))||i==="script"&&l.querySelector(Pl(f))||(i=l.createElement("link"),Kt(i,"link",t),wt(i),l.head.appendChild(i)))}}function jA(t,i){di.m(t,i);var a=ho;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mo(t)}if(!Gn.has(f)&&(t=E({rel:"modulepreload",href:t},i),Gn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function MA(t,i,a){di.S(t,i,a);var l=ho;if(l&&t){var d=Er(l).hoistableStyles,f=fo(t);i=i||"default";var v=d.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Vl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(f))&&vm(t,a);var I=v=l.createElement("link");wt(I),Kt(I,"link",t),I._p=new Promise(function(F,$){I.onload=F,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(f,v)}}}function VA(t,i){di.X(t,i);var a=ho;if(a&&t){var l=Er(a).hoistableScripts,d=mo(t),f=l.get(d);f||(f=a.querySelector(Pl(d)),f||(t=E({src:t,async:!0},i),(i=Gn.get(d))&&bm(t,i),f=a.createElement("script"),wt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function PA(t,i){di.M(t,i);var a=ho;if(a&&t){var l=Er(a).hoistableScripts,d=mo(t),f=l.get(d);f||(f=a.querySelector(Pl(d)),f||(t=E({src:t,async:!0,type:"module"},i),(i=Gn.get(d))&&bm(t,i),f=a.createElement("script"),wt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function B0(t,i,a,l){var d=(d=Re.current)?$c(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=Er(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var f=Er(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Vl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),f||LA(d,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=Er(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+cn(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function q0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function LA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),wt(i),t.head.appendChild(i))}function mo(t){return'[src="'+cn(t)+'"]'}function Pl(t){return"script[async]"+t}function H0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",d),Wc(l,a.precedence,t),i.instance=l;case"stylesheet":d=fo(a.href);var f=t.querySelector(Vl(d));if(f)return i.state.loading|=4,i.instance=f,wt(f),f;l=q0(a),(d=Gn.get(d))&&vm(l,d),f=(t.ownerDocument||t).createElement("link"),wt(f);var v=f;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Kt(f,"link",l),i.state.loading|=4,Wc(f,a.precedence,t),i.instance=f;case"script":return f=mo(a.src),(d=t.querySelector(Pl(f)))?(i.instance=d,wt(d),d):(l=a,(d=Gn.get(f))&&(l=E({},a),bm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),wt(d),Kt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wc(l,a.precedence,t));return i.instance}function Wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function vm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Jc=null;function F0(t,i,a){if(Jc===null){var l=new Map,d=Jc=new Map;d.set(a,l)}else d=Jc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[br]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function G0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function UA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=fo(l.href),f=i.querySelector(Vl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,wt(f);return}f=i.ownerDocument||i,l=q0(l),(d=Gn.get(d))&&vm(l,d),f=f.createElement("link"),wt(f);var v=f;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Kt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var xm=0;function BA(t,i){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&xm===0&&(xm=62500*xA());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,i.forEach(qA,t),eh=null,Zc.call(t))}function qA(t,i){if(!(i.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=Zc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function HA(t,i,a,l,d,f,v,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function K0(t,i,a,l,d,f,v,T,I,F,$,ee){return t=new HA(t,i,a,v,I,F,$,ee,T),i=1,f===!0&&(i|=24),f=wn(3,null,null,i),t.current=f,f.stateNode=t,i=Zd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},rf(f),t}function Y0(t){return t?(t=Fa,t):Fa}function X0(t,i,a,l,d,f){d=Y0(d),l.context===null?l.context=d:l.pendingContext=d,l=Hi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Fi(t,l,i),a!==null&&(gn(a,t,i),gl(a,t,i))}function $0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Em(t,i){$0(t,i),(t=t.alternate)&&$0(t,i)}function W0(t){if(t.tag===13||t.tag===31){var i=Qs(t,67108864);i!==null&&gn(i,t,67108864),Em(t,67108864)}}function J0(t){if(t.tag===13||t.tag===31){var i=Cn();i=js(i);var a=Qs(t,i);a!==null&&gn(a,t,i),Em(t,i)}}var nh=!0;function FA(t,i,a,l){var d=W.T;W.T=null;var f=se.p;try{se.p=2,Tm(t,i,a,l)}finally{se.p=f,W.T=d}}function GA(t,i,a,l){var d=W.T;W.T=null;var f=se.p;try{se.p=8,Tm(t,i,a,l)}finally{se.p=f,W.T=d}}function Tm(t,i,a,l){if(nh){var d=wm(l);if(d===null)um(t,i,l,rh,a),ev(t,l);else if(KA(d,t,i,a,l))l.stopPropagation();else if(ev(t,l),i&4&&-1<QA.indexOf(t)){for(;d!==null;){var f=jn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=gr(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-gt(v);T.entanglements[1]|=I,v&=~I}Mr(f),(He&6)===0&&(Uc=sn()+500,Dl(0))}}break;case 31:case 13:T=Qs(f,2),T!==null&&gn(T,f,2),Bc(),Em(f,2)}if(f=wm(l),f===null&&um(t,i,l,rh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else um(t,i,l,null,a)}}function wm(t){return t=Mn(t),Am(t)}var rh=null;function Am(t){if(rh=null,t=xr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function Z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Is()){case Bo:return 2;case qo:return 8;case Ni:case Id:return 32;case Mu:return 268435456;default:return 32}default:return 32}}var Sm=!1,ts=null,ns=null,rs=null,Ul=new Map,zl=new Map,is=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,i){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=jn(i),i!==null&&W0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function KA(t,i,a,l,d){switch(i){case"focusin":return ts=Bl(ts,t,i,a,l,d),!0;case"dragenter":return ns=Bl(ns,t,i,a,l,d),!0;case"mouseover":return rs=Bl(rs,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Ul.set(f,Bl(Ul.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,zl.set(f,Bl(zl.get(f)||null,t,i,a,l,d)),!0}return!1}function tv(t){var i=xr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){J0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){J0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=wm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return i=jn(a),i!==null&&W0(i),t.blockedOn=a,!1;i.shift()}return!0}function nv(t,i,a){ih(t)&&a.delete(i)}function YA(){Sm=!1,ts!==null&&ih(ts)&&(ts=null),ns!==null&&ih(ns)&&(ns=null),rs!==null&&ih(rs)&&(rs=null),Ul.forEach(nv),zl.forEach(nv)}function sh(t,i){t.blockedOn===i&&(t.blockedOn=null,Sm||(Sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YA)))}var ah=null;function rv(t){ah!==t&&(ah=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Am(l||a)===null)continue;break}var f=jn(a);f!==null&&(t.splice(i,3),i-=3,wf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function po(t){function i(I){return sh(I,t)}ts!==null&&sh(ts,t),ns!==null&&sh(ns,t),rs!==null&&sh(rs,t),Ul.forEach(i),zl.forEach(i);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Lt]||null;if(typeof f=="function")v||rv(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Lt]||null)T=v.formAction;else if(Am(d)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),rv(a)}}}function iv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Rm(t){this._internalRoot=t}oh.prototype.render=Rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();X0(a,l,t,i,null,null)},oh.prototype.unmount=Rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;X0(t.current,2,null,t,null,null),Bc(),i[vr]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,t),a===0&&tv(t)}};var sv=e.version;if(sv!=="19.2.3")throw Error(s(527,sv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{$n=lh.inject(XA),qt=lh}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=d_,f=f_,v=m_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=K0(t,1,!1,null,null,a,l,null,d,f,v,iv),t[vr]=i.current,lm(t),new Rm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=d_,v=f_,T=m_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=K0(t,1,!0,i,a??null,l,d,I,f,v,T,iv),i.context=Y0(null),a=i.current,l=Cn(),l=js(l),d=Hi(l),d.callback=null,Fi(a,d,l),a=l,i.current.lanes=a,Ds(i,a),Mr(i),t[vr]=i.current,lm(t),new oh(i)},Hl.version="19.2.3",Hl}var pv;function o1(){if(pv)return Im.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=a1(),Im.exports}var l1=o1();var gv="popstate";function u1(r={}){function e(o,u){let{pathname:c="/",search:m="",hash:g=""}=va(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$m("",{pathname:c,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:au(u))}function s(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return h1(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c1(){return Math.random().toString(36).substring(2,10)}function yv(r,e){return{usr:r.state,key:r.key,idx:e}}function $m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:n,key:e&&e.key||s||c1()}}function au({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function va(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function h1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",g=null,p=b();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function b(){return(c.state||{idx:null}).idx}function E(){m="POP";let j=b(),G=j==null?null:j-p;p=j,g&&g({action:m,location:L.location,delta:G})}function A(j,G){m="PUSH";let X=$m(L.location,j,G);n&&n(X,j),p=b()+1;let re=yv(X,p),oe=L.createHref(X);try{c.pushState(re,"",oe)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(oe)}u&&g&&g({action:m,location:L.location,delta:1})}function k(j,G){m="REPLACE";let X=$m(L.location,j,G);n&&n(X,j),p=b();let re=yv(X,p),oe=L.createHref(X);c.replaceState(re,"",oe),u&&g&&g({action:m,location:L.location,delta:0})}function B(j){return d1(j)}let L={get action(){return m},get location(){return r(o,c)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(gv,E),g=j,()=>{o.removeEventListener(gv,E),g=null}},createHref(j){return e(o,j)},createURL:B,encodeLocation(j){let G=B(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:k,go(j){return c.go(j)}};return L}function d1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:au(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ox(r,e,n="/"){return f1(r,e,n,!1)}function f1(r,e,n,s){let o=typeof e=="string"?va(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let c=lx(r);m1(c);let m=null;for(let g=0;m==null&&g<c.length;++g){let p=A1(u);m=T1(c[g],p,s)}return m}function lx(r,e=[],n=[],s="",o=!1){let u=(c,m,g=o,p)=>{let b={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;ut(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let E=pi([s,b.relativePath]),A=n.concat(b);c.children&&c.children.length>0&&(ut(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),lx(c.children,e,A,E,g)),!(c.path==null&&!c.index)&&e.push({path:E,score:x1(E,c.index),routesMeta:A})};return r.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let g of ux(c.path))u(c,m,!0,g)}),e}function ux(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=ux(s.join("/")),m=[];return m.push(...c.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...c),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function m1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:E1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var p1=/^:[\w-]+$/,g1=3,y1=2,_1=1,v1=10,b1=-2,_v=r=>r==="*";function x1(r,e){let n=r.split("/"),s=n.length;return n.some(_v)&&(s+=b1),e&&(s+=y1),n.filter(o=>!_v(o)).reduce((o,u)=>o+(p1.test(u)?g1:u===""?_1:v1),s)}function E1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function T1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",c=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),A=g.route;if(!E&&p&&n&&!s[s.length-1].route.index&&(E=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:pi([u,E.pathname]),pathnameBase:I1(pi([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=pi([u,E.pathnameBase]))}return c}function Dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=w1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:b,isOptional:E},A)=>{if(b==="*"){let B=m[A]||"";c=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=m[A];return E&&!k?p[b]=void 0:p[b]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:r}}function w1(r,e=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function A1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R1=r=>S1.test(r);function N1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?va(r):r,u;if(n)if(R1(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=vv(n.substring(1),"/"):u=vv(n,e)}else u=e;return{pathname:u,search:k1(s),hash:D1(o)}}function vv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cx(r){let e=C1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hx(r,e,n,s=!1){let o;typeof r=="string"?o=va(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let E=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}m=E>=0?e[E]:"/"}let g=N1(o,m),p=c&&c!=="/"&&c.endsWith("/"),b=(u||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var pi=r=>r.join("/").replace(/\/\/+/g,"/"),I1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,D1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function O1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function j1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dx=["POST","PUT","PATCH","DELETE"];new Set(dx);var M1=["GET",...dx];new Set(M1);var ko=V.createContext(null);ko.displayName="DataRouter";var Zh=V.createContext(null);Zh.displayName="DataRouterState";V.createContext(!1);var fx=V.createContext({isTransitioning:!1});fx.displayName="ViewTransition";var V1=V.createContext(new Map);V1.displayName="Fetchers";var P1=V.createContext(null);P1.displayName="Await";var dr=V.createContext(null);dr.displayName="Navigation";var _u=V.createContext(null);_u.displayName="Location";var fr=V.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Rp=V.createContext(null);Rp.displayName="RouteError";function L1(r,{relative:e}={}){ut(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(dr),{hash:o,pathname:u,search:c}=bu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pi([n,u])),s.createHref({pathname:m,search:c,hash:o})}function vu(){return V.useContext(_u)!=null}function wi(){return ut(vu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(_u).location}var mx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function px(r){V.useContext(dr).static||V.useLayoutEffect(r)}function bn(){let{isDataRoute:r}=V.useContext(fr);return r?eS():U1()}function U1(){ut(vu(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(ko),{basename:e,navigator:n}=V.useContext(dr),{matches:s}=V.useContext(fr),{pathname:o}=wi(),u=JSON.stringify(cx(s)),c=V.useRef(!1);return px(()=>{c.current=!0}),V.useCallback((g,p={})=>{if(Yn(c.current,mx),!c.current)return;if(typeof g=="number"){n.go(g);return}let b=hx(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:pi([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,u,o,r])}var z1=V.createContext(null);function B1(r){let e=V.useContext(fr).outlet;return V.useMemo(()=>e&&V.createElement(z1.Provider,{value:r},e),[e,r])}function q1(){let{matches:r}=V.useContext(fr),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:n}=V.useContext(fr),{pathname:s}=wi(),o=JSON.stringify(cx(n));return V.useMemo(()=>hx(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function H1(r,e){return gx(r,e)}function gx(r,e,n,s,o){ut(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(dr),{matches:c}=V.useContext(fr),m=c[c.length-1],g=m?m.params:{},p=m?m.pathname:"/",b=m?m.pathnameBase:"/",E=m&&m.route;{let X=E&&E.path||"";yx(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=wi(),k;if(e){let X=typeof e=="string"?va(e):e;ut(b==="/"||X.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${X.pathname}" was given in the \`location\` prop.`),k=X}else k=A;let B=k.pathname||"/",L=B;if(b!=="/"){let X=b.replace(/^\//,"").split("/");L="/"+B.replace(/^\//,"").split("/").slice(X.length).join("/")}let j=ox(r,{pathname:L});Yn(E||j!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Yn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=Y1(j&&j.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:pi([b,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:pi([b,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,n,s,o);return e&&G?V.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},G):G}function F1(){let r=Z1(),e=O1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,c)}var G1=V.createElement(F1,null),Q1=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?V.createElement(fr.Provider,{value:this.props.routeContext},V.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K1({routeContext:r,match:e,children:n}){let s=V.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(fr.Provider,{value:r},n)}function Y1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,c=n?.errors;if(c!=null){let b=u.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);ut(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,g=-1;if(n)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:A,errors:k}=n,B=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!k||k[E.route.id]===void 0);if(E.route.lazy||B){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(b,E)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:j1(n.matches),errorInfo:E})}:void 0;return u.reduceRight((b,E,A)=>{let k,B=!1,L=null,j=null;n&&(k=c&&E.route.id?c[E.route.id]:void 0,L=E.route.errorElement||G1,m&&(g<0&&A===0?(yx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,j=null):g===A&&(B=!0,j=E.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,A+1)),X=()=>{let re;return k?re=L:B?re=j:E.route.Component?re=V.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=b,V.createElement(K1,{match:E,routeContext:{outlet:b,matches:G,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?V.createElement(Q1,{location:n.location,revalidation:n.revalidation,component:L,error:k,children:X(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:p}):X()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X1(r){let e=V.useContext(ko);return ut(e,Np(r)),e}function $1(r){let e=V.useContext(Zh);return ut(e,Np(r)),e}function W1(r){let e=V.useContext(fr);return ut(e,Np(r)),e}function Cp(r){let e=W1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function J1(){return Cp("useRouteId")}function Z1(){let r=V.useContext(Rp),e=$1("useRouteError"),n=Cp("useRouteError");return r!==void 0?r:e.errors?.[n]}function eS(){let{router:r}=X1("useNavigate"),e=Cp("useNavigate"),n=V.useRef(!1);return px(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{Yn(n.current,mx),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var bv={};function yx(r,e,n){!e&&!bv[r]&&(bv[r]=!0,Yn(!1,n))}V.memo(tS);function tS({routes:r,future:e,state:n,unstable_onError:s}){return gx(r,void 0,n,s,e)}function nS(r){return B1(r.context)}function en(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){ut(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=va(n));let{pathname:p="/",search:b="",hash:E="",state:A=null,key:k="default"}=n,B=V.useMemo(()=>{let L=_i(p,m);return L==null?null:{location:{pathname:L,search:b,hash:E,state:A,key:k},navigationType:s}},[m,p,b,E,A,k,s]);return Yn(B!=null,`<Router basename="${m}"> is not able to match the URL "${p}${b}${E}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:V.createElement(dr.Provider,{value:g},V.createElement(_u.Provider,{children:e,value:B}))}function iS({children:r,location:e}){return H1(Wm(r),e)}function Wm(r,e=[]){let n=[];return V.Children.forEach(r,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){n.push.apply(n,Wm(s.props.children,u));return}ut(s.type===en,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Wm(s.props.children,u)),n.push(c)}),n}var bh="get",xh="application/x-www-form-urlencoded";function ed(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function sS(r){return ed(r)&&r.tagName.toLowerCase()==="button"}function aS(r){return ed(r)&&r.tagName.toLowerCase()==="form"}function oS(r){return ed(r)&&r.tagName.toLowerCase()==="input"}function lS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uS(r,e){return r.button===0&&(!e||e==="_self")&&!lS(r)}var uh=null;function cS(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var hS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!hS.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):r}function dS(r,e){let n,s,o,u,c;if(aS(r)){let m=r.getAttribute("action");s=m?_i(m,e):null,n=r.getAttribute("method")||bh,o=Mm(r.getAttribute("enctype"))||xh,u=new FormData(r)}else if(sS(r)||oS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?_i(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||bh,o=Mm(r.getAttribute("formenctype"))||Mm(m.getAttribute("enctype"))||xh,u=new FormData(m,r),!cS()){let{name:p,type:b,value:E}=r;if(b==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,E)}}else{if(ed(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,s=null,o=xh,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fS(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&_i(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await mS(u,n);return c.links?c.links():[]}return[]}));return bS(s.flat(1).filter(pS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(r,e,n,s,o,u){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>c(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(c(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function yS(r,e,{includeHydrateFallback:n}={}){return _S(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _S(r){return[...new Set(r)]}function vS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function bS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(vS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function _x(){let r=V.useContext(ko);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xS(){let r=V.useContext(Zh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=V.createContext(void 0);kp.displayName="FrameworkContext";function vx(){let r=V.useContext(kp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function ES(r,e){let n=V.useContext(kp),[s,o]=V.useState(!1),[u,c]=V.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:E}=e,A=V.useRef(null);V.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=G=>{G.forEach(X=>{c(X.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[r]),V.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let k=()=>{o(!0)},B=()=>{o(!1),c(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Fl(m,k),onBlur:Fl(g,B),onMouseEnter:Fl(p,k),onMouseLeave:Fl(b,B),onTouchStart:Fl(E,k)}]:[!1,A,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function TS({page:r,...e}){let{router:n}=_x(),s=V.useMemo(()=>ox(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?V.createElement(AS,{page:r,matches:s,...e}):null}function wS(r){let{manifest:e,routeModules:n}=vx(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return gS(r,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[r,e,n]),s}function AS({page:r,matches:e,...n}){let s=wi(),{manifest:o,routeModules:u}=vx(),{basename:c}=_x(),{loaderData:m,matches:g}=xS(),p=V.useMemo(()=>xv(r,e,g,o,s,"data"),[r,e,g,o,s]),b=V.useMemo(()=>xv(r,e,g,o,s,"assets"),[r,e,g,o,s]),E=V.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,L=!1;if(e.forEach(G=>{let X=o.routes[G.route.id];!X||!X.hasLoader||(!p.some(re=>re.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||X.hasClientLoader?L=!0:B.add(G.route.id))}),B.size===0)return[];let j=fS(r,c,"data");return L&&B.size>0&&j.searchParams.set("_routes",e.filter(G=>B.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[c,m,s,o,p,e,r,u]),A=V.useMemo(()=>yS(b,o),[b,o]),k=wS(b);return V.createElement(V.Fragment,null,E.map(B=>V.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),A.map(B=>V.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),k.map(({key:B,link:L})=>V.createElement("link",{key:B,nonce:n.nonce,...L})))}function SS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bx&&(window.__reactRouterVersion="7.10.1")}catch{}function RS({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=V.useRef();o.current==null&&(o.current=u1({window:s,v5Compat:!0}));let u=o.current,[c,m]=V.useState({action:u.action,location:u.location}),g=V.useCallback(p=>{n===!1?m(p):V.startTransition(()=>m(p))},[n]);return V.useLayoutEffect(()=>u.listen(g),[u,g]),V.createElement(rS,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n===!0})}var xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:g,to:p,preventScrollReset:b,viewTransition:E,...A},k){let{basename:B,unstable_useTransitions:L}=V.useContext(dr),j=typeof p=="string"&&xx.test(p),G,X=!1;if(typeof p=="string"&&j&&(G=p,bx))try{let O=new URL(window.location.href),D=p.startsWith("//")?new URL(O.protocol+p):new URL(p),U=_i(D.pathname,B);D.origin===O.origin&&U!=null?p=U+D.search+D.hash:X=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=L1(p,{relative:o}),[oe,ve,be]=ES(s,A),N=kS(p,{replace:c,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:E,unstable_useTransitions:L});function S(O){e&&e(O),O.defaultPrevented||N(O)}let R=V.createElement("a",{...A,...be,href:G||re,onClick:X||u?e:S,ref:SS(k,ve),target:g,"data-discover":!j&&n==="render"?"true":void 0});return oe&&!j?V.createElement(V.Fragment,null,R,V.createElement(TS,{page:re})):R});un.displayName="Link";var NS=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:g,...p},b){let E=bu(c,{relative:p.relative}),A=wi(),k=V.useContext(Zh),{navigator:B,basename:L}=V.useContext(dr),j=k!=null&&VS(E)&&m===!0,G=B.encodeLocation?B.encodeLocation(E).pathname:E.pathname,X=A.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,G=G.toLowerCase()),re&&L&&(re=_i(re,L)||re);const oe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ve=X===G||!o&&X.startsWith(G)&&X.charAt(oe)==="/",be=re!=null&&(re===G||!o&&re.startsWith(G)&&re.charAt(G.length)==="/"),N={isActive:ve,isPending:be,isTransitioning:j},S=ve?e:void 0,R;typeof s=="function"?R=s(N):R=[s,ve?"active":null,be?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return V.createElement(un,{...p,"aria-current":S,className:R,ref:b,style:O,to:c,viewTransition:m},typeof g=="function"?g(N):g)});NS.displayName="NavLink";var CS=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=bh,action:m,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:E,...A},k)=>{let{unstable_useTransitions:B}=V.useContext(dr),L=jS(),j=MS(m,{relative:p}),G=c.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&xx.test(m),re=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let ve=oe.nativeEvent.submitter,be=ve?.getAttribute("formmethod")||c,N=()=>L(ve||oe.currentTarget,{fetcherKey:e,method:be,navigate:n,replace:o,state:u,relative:p,preventScrollReset:b,viewTransition:E});B&&n!==!1?V.startTransition(()=>N()):N()};return V.createElement("form",{ref:k,method:G,action:j,onSubmit:s?g:re,...A,"data-discover":!X&&r==="render"?"true":void 0})});CS.displayName="Form";function IS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ex(r){let e=V.useContext(ko);return ut(e,IS(r)),e}function kS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_useTransitions:m}={}){let g=bn(),p=wi(),b=bu(r,{relative:u});return V.useCallback(E=>{if(uS(E,e)){E.preventDefault();let A=n!==void 0?n:au(p)===au(b),k=()=>g(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:c});m?V.startTransition(()=>k()):k()}},[p,g,b,n,s,e,r,o,u,c,m])}var DS=0,OS=()=>`__${String(++DS)}__`;function jS(){let{router:r}=Ex("useSubmit"),{basename:e}=V.useContext(dr),n=J1(),s=r.fetch,o=r.navigate;return V.useCallback(async(u,c={})=>{let{action:m,method:g,encType:p,formData:b,body:E}=dS(u,e);if(c.navigate===!1){let A=c.fetcherKey||OS();await s(A,n,c.action||m,{preventScrollReset:c.preventScrollReset,formData:b,body:E,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||m,{preventScrollReset:c.preventScrollReset,formData:b,body:E,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function MS(r,{relative:e}={}){let{basename:n}=V.useContext(dr),s=V.useContext(fr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},c=wi();if(r==null){u.search=c.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(E=>E).forEach(E=>m.append("index",E));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pi([n,u.pathname])),au(u)}function VS(r,{relative:e}={}){let n=V.useContext(fx);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ex("useViewTransitionState"),o=bu(r,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dh(o.pathname,c)!=null||Dh(o.pathname,u)!=null}function PS({message:r,type:e="success",onClose:n,duration:s=3e3}){const[o,u]=V.useState(!1);return V.useEffect(()=>{const c=setTimeout(()=>u(!0),10),m=setTimeout(()=>{u(!1),setTimeout(n,300)},s);return()=>{clearTimeout(c),clearTimeout(m)}},[s,n]),y.jsxs("div",{className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[100] px-6 py-4 rounded-2xl shadow-xl flex items-center gap-3 min-w-[300px] max-w-md
        transition-all duration-300 ease-out transform
        ${o?"translate-y-0 opacity-100":"-translate-y-8 opacity-0"}
        bg-surface-light dark:bg-surface-dark border border-primary/20
      `,children:[y.jsx("div",{className:`
        flex items-center justify-center w-10 h-10 rounded-full shrink-0
        ${e==="success"?"bg-primary/10 text-primary":"bg-blue-100 text-blue-600"}
      `,children:y.jsx("span",{className:"material-symbols-outlined",children:e==="success"?"check_circle":"info"})}),y.jsx("div",{className:"flex-1",children:y.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:r})}),y.jsx("button",{onClick:()=>{u(!1),setTimeout(n,300)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}const Tx=V.createContext();function LS({children:r}){const[e,n]=V.useState(null),s=V.useCallback((u,c="success",m=3e3)=>{n({message:u,type:c,duration:m})},[]),o=V.useCallback(()=>{n(null)},[]);return y.jsxs(Tx.Provider,{value:{showToast:s,hideToast:o},children:[r,e&&y.jsx(PS,{message:e.message,type:e.type,duration:e.duration,onClose:o})]})}function Dp(){const r=V.useContext(Tx);if(!r)throw new Error("useToast must be used within a ToastProvider");return r}const wx=V.createContext();function US({children:r}){const{showToast:e}=Dp(),[n,s]=V.useState(()=>{const j=localStorage.getItem("cart");return j?JSON.parse(j):[]}),o=V.useRef(0);V.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(n));const j=n.reduce((G,X)=>G+X.quantity,0);j===5&&o.current<5&&o.current!==0?e("Elegiste 5 productos!! Tu envio ahora es GRATIS!!","success",4e3):j===5&&o.current,o.current=j},[n,e]);const u=j=>{s(G=>{let X;return G.find(oe=>oe.id===j.id)?X=G.map(oe=>oe.id===j.id?{...oe,quantity:oe.quantity+1}:oe):X=[...G,{...j,quantity:1}],X})},c=j=>{s(G=>G.filter(X=>X.id!==j))},m=(j,G)=>{s(X=>X.map(oe=>{if(oe.id===j){const ve=Math.max(1,oe.quantity+G);return{...oe,quantity:ve}}return oe}))},g=()=>s([]),[p,b]=V.useState(0),[E,A]=V.useState(null),k=n.reduce((j,G)=>j+G.price*G.quantity,0),B=0,L=k+B+p;return y.jsx(wx.Provider,{value:{cartItems:n,addToCart:u,removeFromCart:c,updateQuantity:m,clearCart:g,subtotal:k,tax:B,shippingCost:p,setShippingCost:b,selectedAddress:E,setSelectedAddress:A,total:L},children:r})}function ba(){return V.useContext(wx)}function Ax(){const e=wi().pathname,n=s=>e.startsWith(s);return y.jsx("nav",{className:"fixed bottom-0 left-0 w-full border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-background-dark pb-6 pt-2 px-6 shrink-0 z-50 shadow-lg-up",children:y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs(un,{to:"/",className:`flex flex-col items-center gap-1 transition-colors group ${n("/")&&e==="/"?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/")&&e==="/"&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/")&&e==="/"?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"home"})]}),y.jsxs(un,{to:"/catalog",className:`flex flex-col items-center gap-1 transition-colors group ${n("/catalog")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/catalog")&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/catalog")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"search"})]}),y.jsxs(un,{to:"/favorites",className:`flex flex-col items-center gap-1 transition-colors group ${n("/favorites")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/favorites")&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/favorites")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"favorite"})]}),y.jsxs(un,{to:"/profile",className:`flex flex-col items-center gap-1 transition-colors group ${n("/profile")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/profile")&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/profile")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"person"})]})]})})}const zS=()=>{};var Ev={};const Sx=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},BS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],c=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],c=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,m=c?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,b=u>>2,E=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,k=p&63;g||(k=64,c||(A=64)),s.push(n[b],n[E],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||E==null)throw new qS;const A=u<<2|m>>4;if(s.push(A),p!==64){const k=m<<4&240|p>>2;if(s.push(k),E!==64){const B=p<<6&192|E;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HS=function(r){const e=Sx(r);return Rx.encodeByteArray(e,!0)},Oh=function(r){return HS(r).replace(/\./g,"")},Nx=function(r){try{return Rx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GS=()=>FS().__FIREBASE_DEFAULTS__,QS=()=>{if(typeof process>"u"||typeof Ev>"u")return;const r=Ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Nx(r[1]);return e&&JSON.parse(e)},td=()=>{try{return zS()||GS()||QS()||KS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cx=r=>td()?.emulatorHosts?.[r],Ix=r=>{const e=Cx(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kx=()=>td()?.config,Dx=r=>td()?.[`_${r}`];class YS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ws(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(r){return(await fetch(r,{credentials:"include"})).ok}function Ox(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Oh(JSON.stringify(n)),Oh(JSON.stringify(c)),""].join(".")}const Zl={};function XS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function $S(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Tv=!1;function jp(r,e){if(typeof window>"u"||typeof document>"u"||!ws(window.location.host)||Zl[r]===e||Zl[r]||Tv)return;Zl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=XS().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Tv=!0,c()},A}function b(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=$S(s),k=n("text"),B=document.getElementById(k)||document.createElement("span"),L=n("learnmore"),j=document.getElementById(L)||document.createElement("a"),G=n("preprendIcon"),X=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),b(j,L);const oe=p();g(X,G),re.append(X,B,j,oe),document.body.appendChild(re)}u?(B.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function JS(){const r=td()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rR(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aR="FirebaseError";class Kr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aR,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?oR(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Kr(o,m,s)}}function oR(r,e){return r.replace(lR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ha(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],c=e[o];if(wv(u)&&wv(c)){if(!ha(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}function Eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function cR(r,e){const n=new hR(r,e);return n.subscribe.bind(n)}class hR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Vm(){}function lt(r){return r&&r._delegate?r._delegate:r}class ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class fR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(r){return r===aa?void 0:r}function pR(r){return r.instantiationMode==="EAGER"}class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const yR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},_R=Oe.INFO,vR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},bR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const xR=(r,e)=>e.some(n=>r instanceof n);let Av,Sv;function ER(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TR(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jx=new WeakMap,Jm=new WeakMap,Mx=new WeakMap,Pm=new WeakMap,Vp=new WeakMap;function wR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(fs(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jx.set(n,r)}).catch(()=>{}),Vp.set(e,r),e}function AR(r){if(Jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Jm.set(r,e)}let Zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Mx.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SR(r){Zm=r(Zm)}function RR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Lm(this),e,...n);return Mx.set(s,e.sort?e.sort():[e]),fs(s)}:TR().includes(r)?function(...e){return r.apply(Lm(this),e),fs(jx.get(this))}:function(...e){return fs(r.apply(Lm(this),e))}}function NR(r){return typeof r=="function"?RR(r):(r instanceof IDBTransaction&&AR(r),xR(r,ER())?new Proxy(r,Zm):r)}function fs(r){if(r instanceof IDBRequest)return wR(r);if(Pm.has(r))return Pm.get(r);const e=NR(r);return e!==r&&(Pm.set(r,e),Vp.set(e,r)),e}const Lm=r=>Vp.get(r);function CR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),m=fs(c);return s&&c.addEventListener("upgradeneeded",g=>{s(fs(c.result),g.oldVersion,g.newVersion,fs(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const IR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],Um=new Map;function Rv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IR.includes(n)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Um.set(e,u),u}SR(r=>({...r,get:(e,n,s)=>Rv(e,n)||r.get(e,n,s),has:(e,n)=>!!Rv(e,n)||r.has(e,n)}));class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OR(r){return r.getComponent()?.type==="VERSION"}const ep="@firebase/app",Nv="0.14.6";const vi=new Mp("@firebase/app"),jR="@firebase/app-compat",MR="@firebase/analytics-compat",VR="@firebase/analytics",PR="@firebase/app-check-compat",LR="@firebase/app-check",UR="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",QR="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",XR="@firebase/messaging-compat",$R="@firebase/performance",WR="@firebase/performance-compat",JR="@firebase/remote-config",ZR="@firebase/remote-config-compat",eN="@firebase/storage",tN="@firebase/storage-compat",nN="@firebase/firestore",rN="@firebase/ai",iN="@firebase/firestore-compat",sN="firebase",aN="12.6.0";const tp="[DEFAULT]",oN={[ep]:"fire-core",[jR]:"fire-core-compat",[VR]:"fire-analytics",[MR]:"fire-analytics-compat",[LR]:"fire-app-check",[PR]:"fire-app-check-compat",[UR]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[QR]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[XR]:"fire-fcm-compat",[$R]:"fire-perf",[WR]:"fire-perf-compat",[JR]:"fire-rc",[ZR]:"fire-rc-compat",[eN]:"fire-gcs",[tN]:"fire-gcs-compat",[nN]:"fire-fst",[iN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[sN]:"fire-js-all"};const jh=new Map,lN=new Map,np=new Map;function Cv(r,e){try{r.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function da(r){const e=r.name;if(np.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,r);for(const n of jh.values())Cv(n,r);for(const n of lN.values())Cv(n,r);return!0}function nd(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new xu("app","Firebase",uN);class cN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const xa=aN;function Vx(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:tp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=kx()),!n)throw ms.create("no-options");const u=jh.get(o);if(u){if(ha(n,u.options)&&ha(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const c=new gR(o);for(const g of np.values())c.addComponent(g);const m=new cN(n,s,c);return jh.set(o,m),m}function Pp(r=tp){const e=jh.get(r);if(!e&&r===tp&&kx())return Vx();if(!e)throw ms.create("no-app",{appName:r});return e}function Ur(r,e,n){let s=oN[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(c.join(" "));return}da(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hN="firebase-heartbeat-database",dN=1,ou="firebase-heartbeat-store";let zm=null;function Px(){return zm||(zm=CR(hN,dN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(r=>{throw ms.create("idb-open",{originalErrorMessage:r.message})})),zm}async function fN(r){try{const n=(await Px()).transaction(ou),s=await n.objectStore(ou).get(Lx(r));return await n.done,s}catch(e){if(e instanceof Kr)vi.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function Iv(r,e){try{const s=(await Px()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,Lx(r)),await s.done}catch(n){if(n instanceof Kr)vi.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});vi.warn(s.message)}}}function Lx(r){return`${r.name}!${r.options.appId}`}const mN=1024,pN=30;class gN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _N(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pN){const o=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kv(),{heartbeatsToSend:n,unsentEntries:s}=yN(this._heartbeatsCache.heartbeats),o=Oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function kv(){return new Date().toISOString().substring(0,10)}function yN(r,e=mN){const n=[];let s=r.slice();for(const o of r){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Dv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Dv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Dv(r){return Oh(JSON.stringify({version:2,heartbeats:r})).length}function vN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function bN(r){da(new ys("platform-logger",e=>new DR(e),"PRIVATE")),da(new ys("heartbeat",e=>new gN(e),"PRIVATE")),Ur(ep,Nv,r),Ur(ep,Nv,"esm2020"),Ur("fire-js","")}bN("");var xN="firebase",EN="12.7.0";Ur(xN,EN,"app");function Ux(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=Ux,zx=new xu("auth","Firebase",Ux());const Mh=new Mp("@firebase/auth");function wN(r,...e){Mh.logLevel<=Oe.WARN&&Mh.warn(`Auth (${xa}): ${r}`,...e)}function Eh(r,...e){Mh.logLevel<=Oe.ERROR&&Mh.error(`Auth (${xa}): ${r}`,...e)}function cr(r,...e){throw Lp(r,...e)}function zr(r,...e){return Lp(r,...e)}function Bx(r,e,n){const s={...TN(),[e]:n};return new xu("auth","Firebase",s).create(e,{appName:r.name})}function gi(r){return Bx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return zx.create(r,...e)}function ye(r,e,...n){if(!r)throw Lp(e,...n)}function fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Eh(e),new Error(e)}function bi(r,e){r||fi(e)}function rp(){return typeof self<"u"&&self.location?.href||""}function AN(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||eR()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=WS()||tR()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Up(r,e){bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IN=new Tu(3e4,6e4);function Ai(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Si(r,e,n,s,o={}){return Hx(r,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Eu({key:r.config.apiKey,...c}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return ZS()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&ws(r.emulatorConfig.host)&&(p.credentials="include"),qx.fetch()(await Fx(r,r.config.apiHost,n,m),p)})}async function Hx(r,e,n){r._canInitEmulator=!1;const s={...NN,...e};try{const o=new DN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ch(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",c);if(g==="USER_DISABLED")throw ch(r,"user-disabled",c);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bx(r,b,p);cr(r,b)}}catch(o){if(o instanceof Kr)throw o;cr(r,"network-request-failed",{message:String(o)})}}async function wu(r,e,n,s,o={}){const u=await Si(r,e,n,s,o);return"mfaPendingCredential"in u&&cr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Fx(r,e,n,s){const o=`${e}${n}?${s}`,u=r,c=u.config.emulator?Up(r.config,o):`${r.config.apiScheme}://${o}`;return CN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function kN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zr(this.auth,"network-request-failed")),IN.get())})}}function ch(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zr(r,e,s);return o.customData._tokenResponse=n,o}function jv(r){return r!==void 0&&r.enterprise!==void 0}class ON{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jN(r,e){return Si(r,"GET","/v2/recaptchaConfig",Ai(r,e))}async function MN(r,e){return Si(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return Si(r,"POST","/v1/accounts:lookup",e)}function eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VN(r,e=!1){const n=lt(r),s=await n.getIdToken(e),o=zp(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(Bm(o.auth_time)),issuedAtTime:eu(Bm(o.iat)),expirationTime:eu(Bm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bm(r){return Number(r)*1e3}function zp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nx(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Mv(r){const e=zp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Kr&&PN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function PN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class LN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ph(r){const e=r.auth,n=await r.getIdToken(),s=await lu(r,Vh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Gx(o.providerUserInfo):[],c=zN(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!c?.length,p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,b)}async function UN(r){const e=lt(r);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Gx(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BN(r,e){const n=await Hx(r,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await Fx(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&ws(r.emulatorConfig.host)&&(g.credentials="include"),qx.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qN(r,e){return Si(r,"POST","/v2/accounts:revokeToken",Ai(r,e))}class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await BN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new xo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return fi("not implemented")}}function as(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new LN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VN(this,e)}reload(){return UN(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await lu(this,MN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:k,providerData:B,stsTokenManager:L}=n;ye(E&&L,e,"internal-error");const j=xo.fromJSON(this.name,L);ye(typeof E=="string",e,"internal-error"),as(s,e.name),as(o,e.name),ye(typeof A=="boolean",e,"internal-error"),ye(typeof k=="boolean",e,"internal-error"),as(u,e.name),as(c,e.name),as(m,e.name),as(g,e.name),as(p,e.name),as(b,e.name);const G=new lr({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:p,lastLoginAt:b});return B&&Array.isArray(B)&&(G.providerData=B.map(X=>({...X}))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new xo;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Gx(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new xo;m.updateFromIdToken(s);const g=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const Vv=new Map;function mi(r){bi(r instanceof Function,"Expected a class definition");let e=Vv.get(r);return e?(bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Vv.set(r,e),e)}class Qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qx.type="NONE";const Pv=Qx;function Th(r,e,n){return`firebase:${r}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(mi(Pv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||mi(Pv);const c=Th(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const b=await p._get(c);if(b){let E;if(typeof b=="string"){const A=await Vh(e,{idToken:b}).catch(()=>{});if(!A)break;E=await lr._fromGetAccountInfoResponse(e,A,b)}else E=lr._fromJSON(e,b);p!==u&&(m=E),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Eo(u,e,s):(u=g[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Eo(u,e,s))}}function Lv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($x(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jx(e))return"Blackberry";if(Zx(e))return"Webos";if(Yx(e))return"Safari";if((e.includes("chrome/")||Xx(e))&&!e.includes("edge/"))return"Chrome";if(Wx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Kx(r=rn()){return/firefox\//i.test(r)}function Yx(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xx(r=rn()){return/crios\//i.test(r)}function $x(r=rn()){return/iemobile/i.test(r)}function Wx(r=rn()){return/android/i.test(r)}function Jx(r=rn()){return/blackberry/i.test(r)}function Zx(r=rn()){return/webos/i.test(r)}function Bp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HN(r=rn()){return Bp(r)&&!!window.navigator?.standalone}function FN(){return nR()&&document.documentMode===10}function eE(r=rn()){return Bp(r)||Wx(r)||Zx(r)||Jx(r)||/windows phone/i.test(r)||$x(r)}function tE(r,e=[]){let n;switch(r){case"Browser":n=Lv(rn());break;case"Worker":n=`${Lv(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${s}`}class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,m)=>{try{const g=e(u);c(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QN(r,e={}){return Si(r,"GET","/v2/passwordPolicy",Ai(r,e))}const KN=6;class YN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class XN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(gi(this));const n=e?lt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QN(this),n=new YN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{c=!0,g()}}else{const g=e.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ea(r){return lt(r)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(r){rd=r}function nE(r){return rd.loadJS(r)}function WN(){return rd.recaptchaEnterpriseScript}function JN(){return rd.gapiScript}function ZN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eC{constructor(){this.enterprise=new tC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nC="recaptcha-enterprise",rE="NO_RECAPTCHA";class rC{constructor(e){this.type=nC,this.auth=Ea(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{jN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new ON(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,c,m){const g=window.grecaptcha;jv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(rE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eC().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&jv(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=WN();g.length!==0&&(g+=m),nE(g).then(()=>{o(m,u,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function zv(r,e,n,s=!1,o=!1){const u=new rC(r);let c;if(o)c=rE;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function sp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await zv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zv(r,e,n,n==="getOobCode");return s(r,c)}else return Promise.reject(u)})}function iC(r,e){const n=nd(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,e??{}))return o;cr(o,"already-initialized")}return n.initialize({options:e})}function sC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function aC(r,e,n){const s=Ea(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=iE(e),{host:c,port:m}=oC(e),g=m===null?"":`:${m}`,p={url:`${u}//${c}${g}/`},b=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(ha(p,s.config.emulator)&&ha(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ws(c)?(Op(`${u}//${c}${g}`),jp("Auth",!0)):lC()}function iE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function oC(r){const e=iE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:Bv(c)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function uC(r,e){return Si(r,"POST","/v1/accounts:signUp",e)}async function cC(r,e){return wu(r,"POST","/v1/accounts:signInWithPassword",Ai(r,e))}async function hC(r,e){return Si(r,"POST","/v1/accounts:sendOobCode",Ai(r,e))}async function dC(r,e){return hC(r,e)}async function fC(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",Ai(r,e))}async function mC(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",Ai(r,e))}class uu extends qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,n,"signInWithPassword",cC);case"emailLink":return fC(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,s,"signUpPassword",uC);case"emailLink":return mC(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(r,e){return wu(r,"POST","/v1/accounts:signInWithIdp",Ai(r,e))}const pC="http://localhost";class fa extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new fa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}function gC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yC(r){const e=Kl(Yl(r)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(r)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||r}class Hp{constructor(e){const n=Kl(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,u=gC(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yC(e);try{return new Hp(n)}catch{return null}}}class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hp.parseLink(n);return ye(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class os extends Au{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";class ls extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";class us extends Au{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends Au{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";async function _C(r,e){return wu(r,"POST","/v1/accounts:signUp",Ai(r,e))}class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),c=qv(s);return new ma({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=qv(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Lh extends Kr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function aE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(r,u,e,s):u})}async function vC(r,e,n=!1){const s=await lu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ma._forOperation(r,"link",s)}async function bC(r,e,n=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(gi(s));const o="reauthenticate";try{const u=await lu(r,aE(s,o,e,r),n);ye(u.idToken,s,"internal-error");const c=zp(u.idToken);ye(c,s,"internal-error");const{sub:m}=c;return ye(r.uid===m,s,"user-mismatch"),ma._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&cr(s,"user-mismatch"),u}}async function oE(r,e,n=!1){if(In(r.app))return Promise.reject(gi(r));const s="signIn",o=await aE(r,s,e),u=await ma._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function xC(r,e){return oE(Ea(r),e)}async function lE(r){const e=Ea(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EC(r,e,n){if(In(r.app))return Promise.reject(gi(r));const s=Ea(r),c=await sp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_C).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&lE(r),g}),m=await ma._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function TC(r,e,n){return In(r.app)?Promise.reject(gi(r)):xC(lt(r),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lE(r),s})}async function wC(r,e){const n=lt(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await dC(n.auth,o);u!==r.email&&await r.reload()}function AC(r,e,n,s){return lt(r).onIdTokenChanged(e,n,s)}function SC(r,e,n){return lt(r).beforeAuthStateChanged(e,n)}function RC(r,e,n,s){return lt(r).onAuthStateChanged(e,n,s)}function NC(r){return lt(r).signOut()}const Uh="__sak";class uE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,IC=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);FN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const kC=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hE.type="SESSION";const dE=hE;function DC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new id(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async p=>p(n.origin,u)),g=await DC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];function Fp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class OC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,g)=>{const p=Fp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Br(){return window}function jC(r){Br().location.href=r}function fE(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function MC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function PC(){return fE()?self:null}const mE="firebaseLocalStorageDb",LC=1,zh="firebaseLocalStorage",pE="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function UC(){const r=indexedDB.deleteDatabase(mE);return new Su(r).toPromise()}function ap(){const r=indexedDB.open(mE,LC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:pE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await UC(),e(await ap()))})})}async function Hv(r,e,n){const s=sd(r,!0).put({[pE]:e,value:n});return new Su(s).toPromise()}async function zC(r,e){const n=sd(r,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function Fv(r,e){const n=sd(r,!0).delete(e);return new Su(n).toPromise()}const BC=800,qC=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(PC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await Hv(e,Uh,"1"),await Fv(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sd(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const HC=gE;new Tu(3e4,6e4);function FC(r,e){return e?mi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Gp extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GC(r){return oE(r.auth,new Gp(r),r.bypassAuthState)}function QC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),bC(n,new Gp(r),r.bypassAuthState)}async function KC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),vC(n,new Gp(r),r.bypassAuthState)}class yE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:cr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YC=new Tu(2e3,1e4);class bo extends yE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YC.get())};e()}}bo.currentPopupAction=null;const XC="pendingRedirect",wh=new Map;class $C extends yE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(r,e){const n=e2(e),s=ZC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JC(r,e){wh.set(r._key(),e)}function ZC(r){return mi(r._redirectPersistence)}function e2(r){return Th(XC,r.config.apiKey,r.name)}async function t2(r,e,n=!1){if(In(r.app))return Promise.reject(gi(r));const s=Ea(r),o=FC(s,e),c=await new $C(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const n2=600*1e3;class r2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_E(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _E({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function i2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(r);default:return!1}}async function s2(r,e={}){return Si(r,"GET","/v1/projects",e)}const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o2=/^https?/;async function l2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await s2(r);for(const n of e)try{if(u2(n))return}catch{}cr(r,"unauthorized-domain")}function u2(r){const e=rp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!o2.test(n))return!1;if(a2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const c2=new Tu(3e4,6e4);function Qv(){const r=Br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function h2(r){return new Promise((e,n)=>{function s(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),n(zr(r,"network-request-failed"))},timeout:c2.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)s();else{const o=ZN("iframefcb");return Br()[o]=()=>{gapi.load?s():n(zr(r,"network-request-failed"))},nE(`${JN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function d2(r){return Ah=Ah||h2(r),Ah}const f2=new Tu(5e3,15e3),m2="__/auth/iframe",p2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _2(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Up(e,p2):`https://${r.config.authDomain}/${m2}`,s={apiKey:e.apiKey,appName:r.name,v:xa},o=y2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function v2(r){const e=await d2(r),n=Br().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:_2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=zr(r,"network-request-failed"),m=Br().setTimeout(()=>{u(c)},f2.get());function g(){Br().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(c)})}))}const b2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x2=500,E2=600,T2="_blank",w2="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(r,e,n,s=x2,o=E2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...b2,width:s.toString(),height:o.toString(),top:u,left:c},p=rn().toLowerCase();n&&(m=Xx(p)?T2:n),Kx(p)&&(e=e||w2,g.scrollbars="yes");const b=Object.entries(g).reduce((A,[k,B])=>`${A}${k}=${B},`,"");if(HN(p)&&m!=="_self")return S2(e||"",m),new Kv(null);const E=window.open(e||"",m,b);ye(E,r,"popup-blocked");try{E.focus()}catch{}return new Kv(E)}function S2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const R2="__/auth/handler",N2="emulator/auth/handler",C2=encodeURIComponent("fac");async function Yv(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xa,eventId:o};if(e instanceof sE){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",uR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))c[b]=E}if(e instanceof Au){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(c.scopes=b.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await r._getAppCheckToken(),p=g?`#${C2}=${encodeURIComponent(g)}`:"";return`${I2(r)}?${Eu(m).slice(1)}${p}`}function I2({config:r}){return r.emulator?Up(r,N2):`https://${r.authDomain}/${R2}`}const qm="webStorageSupport";class k2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=t2,this._overrideRedirectResult=JC}async _openPopup(e,n,s,o){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Yv(e,n,s,rp(),o);return A2(e,u,Fp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Yv(e,n,s,rp(),o);return jC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await v2(e),s=new r2(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},o=>{const u=o?.[0]?.[qm];u!==void 0&&n(!!u),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eE()||Yx()||Bp()}}const D2=k2;var Xv="@firebase/auth",$v="1.12.0";class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(r){da(new ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;ye(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(r)},p=new XN(s,o,u,g);return sC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),da(new ys("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(s=>new O2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Xv,$v,j2(r)),Ur(Xv,$v,"esm2020")}const V2=300,P2=Dx("authIdTokenMaxAge")||V2;let Wv=null;const L2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>P2)return;const o=n?.token;Wv!==o&&(Wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function U2(r=Pp()){const e=nd(r,"auth");if(e.isInitialized())return e.getImmediate();const n=iC(r,{popupRedirectResolver:D2,persistence:[HC,kC,dE]}),s=Dx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=L2(u.toString());SC(n,c,()=>c(n.currentUser)),AC(n,m=>c(m))}}const o=Cx("auth");return o&&aC(n,`http://${o}`),n}function z2(){return document.getElementsByTagName("head")?.[0]??document}$N({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=zr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,vE;(function(){var r;function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(O,D,U){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return S.prototype[D].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let U=N.g[3],C;C=S+(U^R&(D^U))+O[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(D^S&(R^D))+O[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(R^U&(S^R))+O[2]+606105819&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(S^D&(U^S))+O[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(U^R&(D^U))+O[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(D^S&(R^D))+O[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(R^U&(S^R))+O[6]+2821735955&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(S^D&(U^S))+O[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(U^R&(D^U))+O[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(D^S&(R^D))+O[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(R^U&(S^R))+O[10]+4294925233&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(S^D&(U^S))+O[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(U^R&(D^U))+O[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(D^S&(R^D))+O[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(R^U&(S^R))+O[14]+2792965006&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(S^D&(U^S))+O[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^U&(R^D))+O[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(S^R))+O[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(U^S))+O[11]+643717713&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(D^U))+O[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^U&(R^D))+O[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(S^R))+O[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(U^S))+O[15]+3634488961&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(D^U))+O[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^U&(R^D))+O[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(S^R))+O[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(U^S))+O[3]+4107603335&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(D^U))+O[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^U&(R^D))+O[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(S^R))+O[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(U^S))+O[7]+1735328473&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(D^U))+O[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^U)+O[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^D)+O[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^R)+O[11]+1839030562&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^S)+O[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^U)+O[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^D)+O[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^R)+O[7]+4139469664&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^S)+O[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^U)+O[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^D)+O[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^R)+O[3]+3572445317&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^S)+O[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^U)+O[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^D)+O[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^R)+O[15]+530742520&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^S)+O[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~U))+O[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~D))+O[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~R))+O[14]+2878612391&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~S))+O[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~U))+O[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~D))+O[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~R))+O[10]+4293915773&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~S))+O[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~U))+O[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~D))+O[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~R))+O[6]+2734768916&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~S))+O[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~U))+O[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~D))+O[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~R))+O[2]+718787259&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,O),D=0;break}}else for(;U<S;)if(O[D++]=N[U++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)N[S++]=this.g[R]>>>O&255;return N};function u(N,S){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function c(N,S){this.h=S;const R=[];let O=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;O&&U==S||(R[D]=U,O=!1)}this.g=R}var m={};function g(N){return-128<=N&&N<128?u(N,function(S){return new c([S|0],S<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return j(p(-N));const S=[];let R=1;for(let O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new c(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return j(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(S,8));let O=E;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+D),S);D<8?(D=p(Math.pow(S,D)),O=O.j(D).add(p(C))):(O=O.j(R),O=O.add(p(C)))}return O}var E=g(0),A=g(1),k=g(16777216);r=c.prototype,r.m=function(){if(L(this))return-j(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);N+=(O>=0?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(L(this))return"-"+j(this).toString(N);const S=p(Math.pow(N,6));var R=this;let O="";for(;;){const D=oe(R,S).g;R=G(R,D.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,B(R))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function L(N){return N.h==-1}r.l=function(N){return N=G(this,N),L(N)?-1:B(N)?0:1};function j(N){const S=N.g.length,R=[];for(let O=0;O<S;O++)R[O]=~N.g[O];return new c(R,~N.h).add(A)}r.abs=function(){return L(this)?j(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let O=0;for(let D=0;D<=S;D++){let U=O+(this.i(D)&65535)+(N.i(D)&65535),C=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=C>>>16,U&=65535,C&=65535,R[D]=C<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function G(N,S){return N.add(j(S))}r.j=function(N){if(B(this)||B(N))return E;if(L(this))return L(N)?j(this).j(j(N)):j(j(this).j(N));if(L(N))return j(this.j(j(N)));if(this.l(k)<0&&N.l(k)<0)return p(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const U=this.i(O)>>>16,C=this.i(O)&65535,et=N.i(D)>>>16,Ot=N.i(D)&65535;R[2*O+2*D]+=C*Ot,X(R,2*O+2*D),R[2*O+2*D+1]+=U*Ot,X(R,2*O+2*D+1),R[2*O+2*D+1]+=C*et,X(R,2*O+2*D+1),R[2*O+2*D+2]+=U*et,X(R,2*O+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new c(R,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function re(N,S){this.g=N,this.h=S}function oe(N,S){if(B(S))throw Error("division by zero");if(B(N))return new re(E,E);if(L(N))return S=oe(j(N),S),new re(j(S.g),j(S.h));if(L(S))return S=oe(N,j(S)),new re(j(S.g),S.h);if(N.g.length>30){if(L(N)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=S;O.l(N)<=0;)R=ve(R),O=ve(O);var D=be(R,1),U=be(O,1);for(O=be(O,2),R=be(R,2);!B(O);){var C=U.add(O);C.l(N)<=0&&(D=D.add(R),U=C),O=be(O,1),R=be(R,1)}return S=G(N,D.j(S)),new re(D,S)}for(D=E;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(R),C=U.j(S);L(C)||C.l(N)>0;)R-=O,U=p(R),C=U.j(S);B(U)&&(U=A),D=D.add(U),N=G(N,C)}return new re(D,N)}r.B=function(N){return oe(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new c(R,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new c(R,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new c(R,this.h^N.h)};function ve(N){const S=N.g.length+1,R=[];for(let O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new c(R,N.h)}function be(N,S){const R=S>>5;S%=32;const O=N.g.length-R,D=[];for(let U=0;U<O;U++)D[U]=S>0?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new c(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,vE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=b,ps=c}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,Xl,xE,Sh,op,EE,TE,wE;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function o(h,_){if(_)e:{var x=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in x))break e;x=x[q]}h=h[h.length-1],w=x[h],_=_(w),_!=w&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var x=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&x.push([w,_[w]]);return x}});var u=u||{},c=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,x){return h.call.apply(h.bind,arguments)}function p(h,_,x){return p=g,p.apply(null,arguments)}function b(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var w=x.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(w,q,K){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return _.prototype[q].apply(w,ie)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function k(h){const _=h.length;if(_>0){const x=Array(_);for(let w=0;w<_;w++)x[w]=h[w];return x}return[]}function B(h,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=h.length||0;const K=q.length||0;h.length=x+K;for(let ie=0;ie<K;ie++)h[x+ie]=q[ie]}else h.push(q)}}class L{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(h){c.setTimeout(()=>{throw h},0)}function G(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class X{constructor(){this.h=this.g=null}add(_,x){const w=re.get();w.set(_,x),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new L(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,be=!1,N=new X,S=()=>{const h=Promise.resolve(void 0);ve=()=>{h.then(R)}};function R(){for(var h;h=G();){try{h.h.call(h.g)}catch(x){j(x)}var _=re;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}be=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};c.addEventListener("test",x,_),c.removeEventListener("test",x,_)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function et(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(et,D),et.prototype.init=function(h,_){const x=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),W=0;function se(h,_,x,w,q){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!w,this.ha=q,this.key=++W,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ue(h,_,x){for(const w in h)_.call(x,h[w],w,h)}function Ge(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function P(h){const _={};for(const x in h)_[x]=h[x];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,_){let x,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(x in w)h[x]=w[x];for(let K=0;K<te.length;K++)x=te[K],Object.prototype.hasOwnProperty.call(w,x)&&(h[x]=w[x])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,_,x,w,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ie=Re(h,_,w,q);return ie>-1?(_=h[ie],x||(_.fa=!1)):(_=new se(_,this.src,K,!!w,q),_.fa=x,h.push(_)),_};function xe(h,_){const x=_.type;if(x in h.g){var w=h.g[x],q=Array.prototype.indexOf.call(w,_,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(pe(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Re(h,_,x,w){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==_&&K.capture==!!x&&K.ha==w)return q}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),jt={};function st(h,_,x,w,q){if(Array.isArray(_)){for(let K=0;K<_.length;K++)st(h,_[K],x,w,q);return null}return x=zo(x),h&&h[Ot]?h.J(_,x,m(w)?!!w.capture:!1,q):Ns(h,_,x,!1,w,q)}function Ns(h,_,x,w,q,K){if(!_)throw Error("Invalid event type");const ie=m(q)?!!q.capture:!!q;let Ae=Cs(h);if(Ae||(h[Pe]=Ae=new ce(h)),x=Ae.add(_,x,w,ie,K),x.proxy)return x;if(w=Aa(),x.proxy=w,w.src=h,w.listener=x,h.addEventListener)U||(q=ie),q===void 0&&(q=!1),h.addEventListener(_.toString(),w,q);else if(h.attachEvent)h.attachEvent(mr(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Aa(){function h(x){return _.call(h.src,h.listener,x)}const _=Lo;return h}function Sa(h,_,x,w,q){if(Array.isArray(_))for(var K=0;K<_.length;K++)Sa(h,_[K],x,w,q);else w=m(w)?!!w.capture:!!w,x=zo(x),h&&h[Ot]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],x=Re(_,x,w,q),x>-1&&(pe(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=Cs(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Re(_,x,w,q)),(x=h>-1?_[h]:null)&&Ra(x))}function Ra(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ot])xe(_.i,h);else{var x=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(x,w,h.capture):_.detachEvent?_.detachEvent(mr(x),w):_.addListener&&_.removeListener&&_.removeListener(w),(x=Cs(_))?(xe(x,h),x.h==0&&(x.src=null,_[Pe]=null)):pe(h)}}}function mr(h){return h in jt?jt[h]:jt[h]="on"+h}function Lo(h,_){if(h.da)h=!0;else{_=new et(_,this);const x=h.listener,w=h.ha||h.src;h.fa&&Ra(h),h=x.call(w,_)}return h}function Cs(h){return h=h[Pe],h instanceof ce?h:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(h){return typeof h=="function"?h:(h[Uo]||(h[Uo]=function(_){return h.handleEvent(_)}),h[Uo])}function xt(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}E(xt,O),xt.prototype[Ot]=!0,xt.prototype.removeEventListener=function(h,_,x,w){Sa(this,h,_,x,w)};function Mt(h,_){var x,w=h.G;if(w)for(x=[];w;w=w.G)x.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var q=_;_=new D(w,h),ae(_,q)}q=!0;let K,ie;if(x)for(ie=x.length-1;ie>=0;ie--)K=_.g=x[ie],q=Ri(K,w,!0,_)&&q;if(K=_.g=h,q=Ri(K,w,!0,_)&&q,q=Ri(K,w,!1,_)&&q,x)for(ie=0;ie<x.length;ie++)K=_.g=x[ie],q=Ri(K,w,!1,_)&&q}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let w=0;w<x.length;w++)pe(x[w]);delete h.g[_],h.h--}}this.G=null},xt.prototype.J=function(h,_,x,w){return this.i.add(String(h),_,!1,x,w)},xt.prototype.K=function(h,_,x,w){return this.i.add(String(h),_,!0,x,w)};function Ri(h,_,x,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let K=0;K<_.length;++K){const ie=_[K];if(ie&&!ie.da&&ie.capture==x){const Ae=ie.listener,yt=ie.ha||ie.src;ie.fa&&xe(h.i,ie),q=Ae.call(yt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Cd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function ju(h){h.g=Cd(()=>{h.g=null,h.i&&(h.i=!1,ju(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class sn extends O{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(h){O.call(this),this.h=h,this.g={}}E(Is,O);var Bo=[];function qo(h){Ue(h.g,function(_,x){this.g.hasOwnProperty(x)&&Ra(_)},h),h.g={}}Is.prototype.N=function(){Is.Z.N.call(this),qo(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=c.JSON.stringify,Id=c.JSON.parse,Mu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Vu(){}function Pu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}E(qt,D);function On(){D.call(this,"c")}E(On,D);var gt={},Lu=null;function Na(){return Lu=Lu||new xt}gt.Ia="serverreachability";function Uu(h){D.call(this,gt.Ia,h)}E(Uu,D);function pr(h){const _=Na();Mt(_,new Uu(_))}gt.STAT_EVENT="statevent";function ks(h,_){D.call(this,gt.STAT_EVENT,h),this.stat=_}E(ks,D);function Et(h){const _=Na();Mt(_,new ks(_,h))}gt.Ja="timingevent";function gr(h,_){D.call(this,gt.Ja,h),this.size=_}E(gr,D);function yr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function kd(h,_,x,w,q,K){h.info(function(){if(h.g)if(K){var ie="",Ae=K.split("&");for(let qe=0;qe<Ae.length;qe++){var yt=Ae[qe].split("=");if(yt.length>1){const at=yt[0];yt=yt[1];const Pn=at.split("_");ie=Pn.length>=2&&Pn[1]=="type"?ie+(at+"="+yt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+x+`
`+ie})}function zu(h,_,x,w,q,K,ie){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+x+`
`+K+" "+ie})}function _r(h,_,x,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Dd(h,x)+(w?" "+w:"")})}function Ds(h,_){h.info(function(){return"TIMEOUT: "+_})}Wn.prototype.info=function(){};function Dd(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var x=K[h];if(!(x.length<2)){var w=x[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Ni(K)}catch{return _}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function js(){}E(js,Vu),js.prototype.g=function(){return new XMLHttpRequest},Fo=new js;function Yr(h){return encodeURIComponent(String(h))}function Bu(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function Jn(h,_,x,w){this.j=h,this.i=_,this.l=x,this.S=w||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function vr(h,_,x){h.M=1,h.A=Ms(At(_)),h.u=x,h.R=!0,Ca(h,null)}function Ca(h,_){h.F=Date.now(),br(h),h.B=At(h.A);var x=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Oa(x.i,"t",w),h.C=0,x=h.j.L,h.h=new Zn,h.g=nc(h.j,x?_:null,!h.u),h.P>0&&(h.O=new sn(p(h.Y,h,h.g),h.P)),_=h.V,x=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Bo[0]=q.toString()),q=Bo);for(let K=0;K<q.length;K++){const ie=st(x,q[K],w||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),pr(),kd(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const _=this.O;_&&nr(h)==3?_.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)e:{const Ae=nr(this.g),yt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ae!=4||yt==7||(yt==8||qe<=0?pr(3):pr(2)),xr(this);var _=this.g.ca();this.X=_;var x=Od(this);if(this.o=_==200,zu(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var K=w;break t}}K=null}if(h=K)_r(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,h);else{this.o=!1,this.m=3,Et(12),xn(this),jn(this);break e}}if(this.R){h=!0;let at;for(;!this.K&&this.C<x.length;)if(at=Hu(this,x),at==Lt){Ae==4&&(this.m=4,Et(14),h=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),_r(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else _r(this.i,this.l,at,null),Er(this,at);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||x.length!=0||this.h.h||(this.m=1,Et(16),h=!1),this.o=this.o&&h,!h)_r(this.i,this.l,x,"[Invalid Chunked Response]"),xn(this),jn(this);else if(x.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),sl(ie),ie.P=!0,Et(11))}}else _r(this.i,this.l,x,null),Er(this,x);Ae==4&&xn(this),this.o&&!this.K&&(Ae==4?Ju(this.j,this):(this.o=!1,br(this)))}else $r(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),xn(this),jn(this)}}}catch{}};function Od(h){if(!qu(h))return h.g.la();const _=Ht(h.g);if(_==="")return"";let x="";const w=_.length,q=nr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xn(h),jn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,x+=h.h.i.decode(_[K],{stream:!(q&&K==w-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function qu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Hu(h,_){var x=h.C,w=_.indexOf(`
`,x);return w==-1?Lt:(x=Number(_.substring(x,w)),isNaN(x)?Tt:(w+=1,w+x>_.length?Lt:(_=_.slice(w,w+x),h.C=w+x,_)))}Jn.prototype.cancel=function(){this.K=!0,xn(this)};function br(h){h.T=Date.now()+h.H,Ia(h,h.H)}function Ia(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=yr(p(h.aa,h),_)}function xr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(pr(),Et(17)),xn(this),this.m=2,jn(this)):Ia(this,this.T-h)};function jn(h){h.j.I==0||h.K||Ju(h.j,h)}function xn(h){xr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,qo(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Er(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||wr(x.h,h))){if(!h.L&&wr(x.h,h)&&x.I==3){try{var w=x.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)La(x),Vi(x);else break e;qs(x),Et(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=yr(p(x.Va,x),6e3));Tr(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ir(x,11)}else if((h.L||x.g==h)&&La(x),!C(_))for(q=x.Ba.g.parse(_),_=0;_<q.length;_++){let qe=q[_];const at=qe[0];if(!(at<=x.K))if(x.K=at,qe=qe[1],x.I==2)if(qe[0]=="c"){x.M=qe[1],x.ba=qe[2];const Pn=qe[3];Pn!=null&&(x.ka=Pn,x.j.info("VER="+x.ka));const kr=qe[4];kr!=null&&(x.za=kr,x.j.info("SVER="+x.za));const rr=qe[5];rr!=null&&typeof rr=="number"&&rr>0&&(w=1.5*rr,x.O=w,x.j.info("backChannelRequestTimeoutMs_="+w)),w=x;const ir=h.g;if(ir){const Hs=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var K=w.h;K.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ko(K,K.h),K.h=null))}if(w.G){const Ua=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(w.wa=Ua,Qe(w.J,w.G,Ua))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),w=x;var ie=h;if(w.na=tc(w,w.L?w.ba:null,w.W),ie.L){Yo(w.h,ie);var Ae=ie,yt=w.O;yt&&(Ae.H=yt),Ae.D&&(xr(Ae),br(Ae)),w.g=ie}else $u(w);x.i.length>0&&Cr(x)}else qe[0]!="stop"&&qe[0]!="close"||Ir(x,7);else x.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ir(x,7):rl(x):qe[0]!="noop"&&x.l&&x.l.qa(qe),x.A=0)}}pr(4)}catch{}}var wt=class{constructor(h,_){this.g=h,this.map=_}};function Go(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Tr(h){return h.h?1:h.g?h.g.size:0}function wr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ko(h,_){h.g?h.g.add(_):h.h=_}function Yo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return k(h.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const w=h[x].indexOf("=");let q,K=null;w>=0?(q=h[x].substring(0,w),K=h[x].substring(w+1)):q=h[x],_(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof En?(this.l=h.l,Ut(this,h.j),this.o=h.o,this.g=h.g,Ci(this,h.u),this.h=h.h,$o(this,Yu(h.i)),this.m=h.m):h&&(_=String(h).match(Fu))?(this.l=!1,Ut(this,_[1]||"",!0),this.o=Ar(_[2]||""),this.g=Ar(_[3]||"",!0),Ci(this,_[4]),this.h=Ar(_[5]||"",!0),$o(this,_[6]||"",!0),this.m=Ar(_[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}En.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Vs(_,Da,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Vs(_,Da,!0),"@"),h.push(Yr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Vs(x,x.charAt(0)=="/"?Wo:Gu,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Vs(x,Qu)),h.join("")},En.prototype.resolve=function(h){const _=At(this);let x=!!h.j;x?Ut(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var w=h.h;if(x)Ci(_,h.u);else if(x=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ie=0;ie<q.length;){const Ae=q[ie++];Ae=="."?w&&ie==q.length&&K.push(""):Ae==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ie==q.length&&K.push("")):(K.push(Ae),w=!0)}w=K.join("/")}else w=q}return x?_.h=w:x=h.i.toString()!=="",x?$o(_,Yu(h.i)):x=!!h.m,x&&(_.m=h.m),_};function At(h){return new En(h)}function Ut(h,_,x){h.j=x?Ar(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ci(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function $o(h,_,x){_ instanceof ki?(h.i=_,ja(h.i,h.l)):(x||(_=Vs(_,Ii)),h.i=new ki(_,h.l))}function Qe(h,_,x){h.i.set(_,x)}function Ms(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ar(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vs(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,cn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Da=/[#\/\?@]/g,Gu=/[#\?:]/g,Wo=/[#\?]/g,Ii=/[#\?@]/g,Qu=/#/g;function ki(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&ka(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}r=ki.prototype,r.add=function(h,_){hn(this),this.i=null,h=Di(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Ku(h,_){hn(h),_=Di(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Jo(h,_){return hn(h),_=Di(h,_),h.g.has(_)}r.forEach=function(h,_){hn(this),this.g.forEach(function(x,w){x.forEach(function(q){h.call(_,q,w,this)},this)},this)};function Zo(h,_){hn(h);let x=[];if(typeof _=="string")Jo(h,_)&&(x=x.concat(h.g.get(Di(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}r.set=function(h,_){return hn(this),this.i=null,h=Di(this,h),Jo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=Zo(this,h),h.length>0?String(h[0]):_):_};function Oa(h,_,x){Ku(h,_),x.length>0&&(h.i=null,h.g.set(Di(h,_),k(x)),h.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var x=_[w];const q=Yr(x);x=Zo(this,x);for(let K=0;K<x.length;K++){let ie=q;x[K]!==""&&(ie+="="+Yr(x[K])),h.push(ie)}}return this.i=h.join("&")};function Yu(h){const _=new ki;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Di(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ja(h,_){_&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(x,w){const q=w.toLowerCase();w!=q&&(Ku(this,w),Oa(this,q,x))},h)),h.j=_}function er(h,_){const x=new Wn;if(c.Image){const w=new Image;w.onload=b(Mn,x,"TestLoadImage: loaded",!0,_,w),w.onerror=b(Mn,x,"TestLoadImage: error",!1,_,w),w.onabort=b(Mn,x,"TestLoadImage: abort",!1,_,w),w.ontimeout=b(Mn,x,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function el(h,_){const x=new Wn,w=new AbortController,q=setTimeout(()=>{w.abort(),Mn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Mn(x,"TestPingServer: ok",!0,_):Mn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Mn(x,"TestPingServer: error",!1,_)})}function Mn(h,_,x,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(x)}catch{}}function Oi(){this.g=new Mu}function Sr(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Sr,Vu),Sr.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(h,_){xt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ps,xt),r=Ps.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,tr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ji(this):tr(this),this.readyState==3&&Ma(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,ji(this))},r.Na=function(h){this.g&&(this.response=h,ji(this))},r.ga=function(){this.g&&ji(this)};function ji(h){h.readyState=4,h.l=null,h.j=null,h.B=null,tr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let _="";return Ue(h,function(x,w){_+=w,_+=":",_+=x,_+=`\r
`}),_}function Ls(h,_,x){e:{for(w in x){var w=!1;break e}w=!0}w||(x=Vn(x),typeof h=="string"?x!=null&&Yr(x):Qe(h,_,x))}function Xe(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Xe,xt);var Rr=/^https?$/i,tl=["POST","PUT"];r=Xe.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,x,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){Us(this,K);return}if(h=x||"",x=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)x.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())x.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(tl,_,void 0)>=0)||w||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of x)this.g.setRequestHeader(K,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Us(this,K)}};function Us(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,nl(h),Xr(h)}function nl(h){h.A||(h.A=!0,Mt(h,"complete"),Mt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Mt(this,"complete"),Mt(this,"abort"),Xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},r.Xa=function(){zs(this)};function zs(h){if(h.h&&typeof u<"u"){if(h.v&&nr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Mt(h,"readystatechange"),nr(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var w;if(w=K===0){let ie=String(h.D).match(Fu)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),w=!Rr.test(ie?ie.toLowerCase():"")}x=w}if(x)Mt(h,"complete"),Mt(h,"success");else{h.o=6;try{var q=nr(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",nl(h)}}finally{Xr(h)}}}}function Xr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||Mt(h,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Id(_)}};function Ht(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $r(h){const _={};h=(h.g&&nr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(C(h[w]))continue;var x=Bu(h[w]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=_[q]||[];_[q]=K,K.push(x)}Ge(_,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Mi(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nr("baseRetryDelayMs",5e3,h),this.Za=Nr("retryDelaySeedMs",1e4,h),this.Ta=Nr("forwardChannelMaxRetries",2,h),this.va=Nr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(h&&h.concurrentRequestLimit),this.Ba=new Oi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Mi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,x,w){Et(0),this.W=h,this.H=_||{},x&&w!==void 0&&(this.H.OSID=x,this.H.OAID=w),this.F=this.X,this.J=tc(this,null,this.W),Cr(this)};function rl(h){if(Va(h),h.I==3){var _=h.V++,x=At(h.J);if(Qe(x,"SID",h.M),Qe(x,"RID",_),Qe(x,"TYPE","terminate"),Bs(h,x),_=new Jn(h,h.j,_),_.M=2,_.A=Ms(At(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=_.A,x=!0),x||(_.g=nc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),br(_)}ec(h)}function Vi(h){h.g&&(sl(h),h.g.cancel(),h.g=null)}function Va(h){Vi(h),h.v&&(c.clearTimeout(h.v),h.v=null),La(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Cr(h){if(!Qo(h.h)&&!h.m){h.m=!0;var _=h.Ea;ve||S(),be||(ve(),be=!0),N.add(_,h),h.D=0}}function Pa(h,_){return Tr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=yr(p(h.Ea,h,_),Zu(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Jn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var w=this.i[x];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Xu(this,q,_),x=At(this.J),Qe(x,"RID",h),Qe(x,"CVER",22),this.G&&Qe(x,"X-HTTP-Session-Id",this.G),Bs(this,x),K&&(this.R?_="headers="+Yr(Vn(K))+"&"+_:this.u&&Ls(x,this.u,K)),Ko(this.h,q),this.Ra&&Qe(x,"TYPE","init"),this.S?(Qe(x,"$req",_),Qe(x,"SID","null"),q.U=!0,vr(q,x,null)):vr(q,x,_),this.I=2}}else this.I==3&&(h?il(this,h):this.i.length==0||Qo(this.h)||il(this))};function il(h,_){var x;_?x=_.l:x=h.V++;const w=At(h.J);Qe(w,"SID",h.M),Qe(w,"RID",x),Qe(w,"AID",h.K),Bs(h,w),h.u&&h.o&&Ls(w,h.u,h.o),x=new Jn(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Xu(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ko(h.h,x),vr(x,w,_)}function Bs(h,_){h.H&&Ue(h.H,function(x,w){Qe(_,w,x)}),h.l&&Ue({},function(x,w){Qe(_,w,x)})}function Xu(h,_,x){x=Math.min(h.i.length,x);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ae=-1;for(;;){const yt=["count="+x];Ae==-1?x>0?(Ae=q[0].g,yt.push("ofs="+Ae)):Ae=0:yt.push("ofs="+Ae);let qe=!0;for(let at=0;at<x;at++){var K=q[at].g;const Pn=q[at].map;if(K-=Ae,K<0)Ae=Math.max(0,q[at].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var ie=Pn instanceof Map?Pn:Object.entries(Pn);for(const[kr,rr]of ie){let ir=rr;m(rr)&&(ir=Ni(rr)),yt.push(K+kr+"="+encodeURIComponent(ir))}}catch(kr){throw yt.push(K+"type="+encodeURIComponent("_badmap")),kr}}catch{w&&w(Pn)}}if(qe){ie=yt.join("&");break e}}ie=void 0}return h=h.i.splice(0,x),_.G=h,ie}function $u(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ve||S(),be||(ve(),be=!0),N.add(_,h),h.A=0}}function qs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=yr(p(h.Da,h),Zu(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=yr(p(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Vi(this),Wu(this))};function sl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Wu(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=At(h.na);Qe(_,"RID","rpc"),Qe(_,"SID",h.M),Qe(_,"AID",h.K),Qe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(_,"TO",h.ia),Qe(_,"TYPE","xmlhttp"),Bs(h,_),h.u&&h.o&&Ls(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Ms(At(_)),x.u=null,x.R=!0,Ca(x,h)}r.Va=function(){this.C!=null&&(this.C=null,Vi(this),qs(this),Et(19))};function La(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ju(h,_){var x=null;if(h.g==_){La(h),sl(h),h.g=null;var w=2}else if(wr(h.h,_))x=_.G,Yo(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;w=Na(),Mt(w,new gr(w,x)),Cr(h)}else $u(h);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&Pa(h,_)||w==2&&qs(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),q){case 1:Ir(h,5);break;case 4:Ir(h,10);break;case 3:Ir(h,6);break;default:Ir(h,2)}}}function Zu(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Ir(h,_){if(h.j.info("Error code "+_),_==2){var x=p(h.bb,h),w=h.Ua;const q=!w;w=new En(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ut(w,"https"),Ms(w),q?er(w.toString(),x):el(w.toString(),x)}else Et(2);h.I=0,h.l&&h.l.pa(_),ec(h),Va(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ec(h){if(h.I=0,h.ja=[],h.l){const _=Xo(h.h);(_.length!=0||h.i.length!=0)&&(B(h.ja,_),B(h.ja,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.oa()}}function tc(h,_,x){var w=x instanceof En?At(x):new En(x);if(w.g!="")_&&(w.g=_+"."+w.g),Ci(w,w.u);else{var q=c.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const K=new En(null);w&&Ut(K,w),_&&(K.g=_),q&&Ci(K,q),x&&(K.h=x),w=K}return x=h.G,_=h.wa,x&&_&&Qe(w,x,_),Qe(w,"VER",h.ka),Bs(h,w),w}function nc(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Xe(new Sr({ab:x})):new Xe(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pi(){}Pi.prototype.g=function(h,_){return new an(h,_)};function an(h,_){xt.call(this),this.g=new Mi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!C(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Wr(this)}E(an,xt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){rl(this.g)},an.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Ni(h),h=x);_.i.push(new wt(_.Ya++,h)),_.I==3&&Cr(_)},an.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,an.Z.N.call(this)};function ic(h){qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(ic,qt);function sc(){On.call(this),this.status=1}E(sc,On);function Wr(h){this.g=h}E(Wr,rc),Wr.prototype.ra=function(){Mt(this.g,"a")},Wr.prototype.qa=function(h){Mt(this.g,new ic(h))},Wr.prototype.pa=function(h){Mt(this.g,new sc)},Wr.prototype.oa=function(){Mt(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,wE=function(){return new Pi},TE=function(){return Na()},EE=gt,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Sh=Os,Ho.COMPLETE="complete",xE=Ho,Pu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Xl=Pu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,bE=Xe}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore",eb="4.9.3";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Oo="12.7.0";const pa=new Mp("@firebase/firestore");function go(){return pa.logLevel}function ue(r,...e){if(pa.logLevel<=Oe.DEBUG){const n=e.map(Qp);pa.debug(`Firestore (${Oo}): ${r}`,...n)}}function xi(r,...e){if(pa.logLevel<=Oe.ERROR){const n=e.map(Qp);pa.error(`Firestore (${Oo}): ${r}`,...n)}}function Ao(r,...e){if(pa.logLevel<=Oe.WARN){const n=e.map(Qp);pa.warn(`Firestore (${Oo}): ${r}`,...n)}}function Qp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AE(r,s,n)}function AE(r,e,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xi(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||AE(e,o,s)}function we(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class SE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class H2{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new SE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class F2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new F2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=K2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function lp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Hm(o)===Hm(u)?je(o,u):Hm(o)?1:-1}return je(r.length,e.length)}const Y2=55296,X2=57343;function Hm(r){const e=r.charCodeAt(0);return e>=Y2&&e<=X2}function So(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const nb="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),o=Vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):lp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class tt extends Vr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nb}static keyField(){return new Xt([nb])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function RE(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function W2(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function rb(r){if(!me.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ib(r){if(me.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function NE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ad(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function vn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ru(r,e){if(!NE(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const c=r[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const sb=-62135596800,ab=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ab);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sb)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ab}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function J2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new _s(o,me.empty(),e)}function Z2(r){return new _s(r.readTime,r.key,cu)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(Ee.min(),me.empty(),cu)}static max(){return new _s(Ee.max(),me.empty(),cu)}}function eI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==tI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(g=>s(g)))})),c=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((b=>{c[p]=b,++m,m===u&&s(c)}),(b=>o(b)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function rI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;const Yp=-1;function ld(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function iI(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const CE="";function sI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=ob(e)),e=aI(r.get(n),e);return ob(e)}function aI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case CE:n+="";break;default:n+=u}}return n}function ob(r){return r+CE+""}function lb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ub(this.data.getIterator())}getIteratorFrom(e){return new ub(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class ub{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kE("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const oI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=oI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bs(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const DE="server_timestamp",OE="__type__",jE="__previous_value__",ME="__local_write_time__";function Xp(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===DE}function ud(r){const e=r.mapValue.fields[jE];return Xp(e)?ud(e):e}function hu(r){const e=vs(r.mapValue.fields[ME].timestampValue);return new it(e.seconds,e.nanos)}class lI{constructor(e,n,s,o,u,c,m,g,p,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b}}const qh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}const VE="__type__",uI="__max__",fh={mapValue:{}},PE="__vector__",Hh="value";function xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xp(r)?4:hI(r)?9007199254740991:cI(r)?10:11:_e(28295,{value:r})}function Qr(r,e){if(r===e)return!0;const n=xs(r);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=vs(o.timestampValue),m=vs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=bt(o.doubleValue),m=bt(u.doubleValue);return c===m?Bh(c)===Bh(m):isNaN(c)&&isNaN(m)}return!1})(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lb(c)!==lb(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!Qr(c[g],m[g])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function fu(r,e){return(r.values||[]).find((n=>Qr(n,e)))!==void 0}function Ro(r,e){if(r===e)return 0;const n=xs(r),s=xs(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=bt(u.integerValue||u.doubleValue),g=bt(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return cb(r.timestampValue,e.timestampValue);case 4:return cb(hu(r),hu(e));case 5:return lp(r.stringValue,e.stringValue);case 6:return(function(u,c){const m=bs(u),g=bs(c);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=je(m[p],g[p]);if(b!==0)return b}return je(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=je(bt(u.latitude),bt(c.latitude));return m!==0?m:je(bt(u.longitude),bt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return hb(r.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},g=c.fields||{},p=m[Hh]?.arrayValue,b=g[Hh]?.arrayValue,E=je(p?.values?.length||0,b?.values?.length||0);return E!==0?E:hb(p,b)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===fh.mapValue&&c===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(c===fh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=c.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const A=lp(g[E],b[E]);if(A!==0)return A;const k=Ro(m[g[E]],p[b[E]]);if(k!==0)return k}return je(g.length,b.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function cb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=vs(r),s=vs(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function hb(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function No(r){return up(r)}function up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return bs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=up(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${up(n.fields[c])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function Rh(r){switch(xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return bs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return As(s.fields,((u,c)=>{o+=u.length+Rh(c)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function db(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cp(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function fb(r){return!!r&&"nullValue"in r}function mb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function cI(r){return(r?.mapValue?.fields||{})[VE]?.stringValue===PE}function tu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=tu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(r.arrayValue.values[n]);return e}return{...r}}function hI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uI}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=tu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(tu(this.value))}}function LE(r){const e=[];return As(r.fields,((n,s)=>{const o=new Xt([n]);if(Nh(s)){const u=LE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new kn(e)}class nn{constructor(e,n,s,o,u,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ee.min(),Ee.min(),Ee.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ee.min(),Ee.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ee.min(),Ee.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function pb(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(c.referenceValue),n.key):s=Ro(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function gb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Qr(r.position[n],e.position[n]))return!1;return!0}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class UE{}class kt extends UE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mI(e,n,s):n==="array-contains"?new yI(e,s):n==="in"?new _I(e,s):n==="not-in"?new vI(e,s):n==="array-contains-any"?new bI(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pI(e,s):new gI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends UE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hr(e,n)}matches(e){return zE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(r){return r.op==="and"}function BE(r){return fI(r)&&zE(r)}function fI(r){for(const e of r.filters)if(e instanceof hr)return!1;return!0}function hp(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+No(r.value);if(BE(r))return r.filters.map((e=>hp(e))).join(",");{const e=r.filters.map((n=>hp(n))).join(",");return`${r.op}(${e})`}}function qE(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Qr(s.value,o.value)})(r,e):r instanceof hr?(function(s,o){return o instanceof hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&qE(c,o.filters[m])),!0):!1})(r,e):void _e(19439)}function HE(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof hr?(function(n){return n.op.toString()+" {"+n.getFilters().map(HE).join(" ,")+"}"})(r):"Filter"}class mI extends kt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class pI extends kt{constructor(e,n){super(e,"in",n),this.keys=FE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gI extends kt{constructor(e,n){super(e,"not-in",n),this.keys=FE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function FE(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class yI extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&fu(n.arrayValue,this.value)}}class _I extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class vI extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class bI extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>fu(this.value.arrayValue,s)))}}class xI{constructor(e,n=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function yb(r,e=null,n=[],s=[],o=null,u=null,c=null){return new xI(r,e,n,s,o,u,c)}function Wp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>hp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>No(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>No(s))).join(",")),e.Te=n}return e.Te}function Jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!dI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gb(r.startAt,e.startAt)&&gb(r.endAt,e.endAt)}function dp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Vo{constructor(e,n=null,s=[],o=[],u=null,c="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EI(r,e,n,s,o,u,c,m){return new Vo(r,e,n,s,o,u,c,m)}function cd(r){return new Vo(r)}function _b(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GE(r){return r.collectionGroup!==null}function nu(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Pt(Xt.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new mu(Xt.keyField(),s))}return e.Ie}function qr(r){const e=we(r);return e.Ee||(e.Ee=TI(e,nu(r))),e.Ee}function TI(r,e){if(r.limitType==="F")return yb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mu(o.field,u)}));const n=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return yb(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function fp(r,e){const n=r.filters.concat([e]);return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mp(r,e,n){return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hd(r,e){return Jp(qr(r),qr(e))&&r.limitType===e.limitType}function QE(r){return`${Wp(qr(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>HE(o))).join(", ")}]`),ld(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(qr(r))}; limitType=${r.limitType})`}function dd(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,g){const p=pb(c,m,g);return c.inclusive?p<=0:p<0})(s.startAt,nu(s),o)||s.endAt&&!(function(c,m,g){const p=pb(c,m,g);return c.inclusive?p>=0:p>0})(s.endAt,nu(s),o))})(r,e)}function wI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KE(r){return(e,n)=>{let s=!1;for(const o of nu(r)){const u=AI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,c,m){const g=c.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ro(g,p):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const SI=new ct(me.comparator);function Ei(){return SI}const YE=new ct(me.comparator);function $l(...r){let e=YE;for(const n of r)e=e.insert(n.key,n);return e}function XE(r){let e=YE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return ru()}function $E(){return ru()}function ru(){return new Ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const RI=new ct(me.comparator),NI=new Pt(me.comparator);function Me(...r){let e=NI;for(const n of r)e=e.add(n);return e}const CI=new Pt(je);function II(){return CI}function Zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function WE(r){return{integerValue:""+r}}function kI(r,e){return iI(e)?WE(e):Zp(r,e)}class fd{constructor(){this._=void 0}}function DI(r,e,n){return r instanceof pu?(function(o,u){const c={fields:{[OE]:{stringValue:DE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xp(u)&&(u=ud(u)),u&&(c.fields[jE]=u),{mapValue:c}})(n,e):r instanceof gu?ZE(r,e):r instanceof yu?eT(r,e):(function(o,u){const c=JE(o,u),m=vb(c)+vb(o.Ae);return cp(c)&&cp(o.Ae)?WE(m):Zp(o.serializer,m)})(r,e)}function OI(r,e,n){return r instanceof gu?ZE(r,e):r instanceof yu?eT(r,e):n}function JE(r,e){return r instanceof Gh?(function(s){return cp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class pu extends fd{}class gu extends fd{constructor(e){super(),this.elements=e}}function ZE(r,e){const n=tT(e);for(const s of r.elements)n.some((o=>Qr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends fd{constructor(e){super(),this.elements=e}}function eT(r,e){let n=tT(e);for(const s of r.elements)n=n.filter((o=>!Qr(o,s)));return{arrayValue:{values:n}}}class Gh extends fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vb(r){return bt(r.integerValue||r.doubleValue)}function tT(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class jI{constructor(e,n){this.field=e,this.transform=n}}function MI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof gu&&o instanceof gu||s instanceof yu&&o instanceof yu?So(s.elements,o.elements,Qr):s instanceof Gh&&o instanceof Gh?Qr(s.Ae,o.Ae):s instanceof pu&&o instanceof pu})(r.transform,e.transform)}class VI{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class md{}function nT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eg(r.key,Kn.none()):new Nu(r.key,r.data,Kn.none());{const n=r.data,s=_n.empty();let o=new Pt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Ss(r.key,s,new kn(o.toArray()),Kn.none())}}function PI(r,e,n){r instanceof Nu?(function(o,u,c){const m=o.value.clone(),g=xb(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,c){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=xb(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(rT(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function iu(r,e,n,s){return r instanceof Nu?(function(u,c,m,g){if(!Ch(u.precondition,c))return m;const p=u.value.clone(),b=Eb(u.fieldTransforms,g,c);return p.setAll(b),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(u,c,m,g){if(!Ch(u.precondition,c))return m;const p=Eb(u.fieldTransforms,g,c),b=c.data;return b.setAll(rT(u)),b.setAll(p),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(u,c,m){return Ch(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(r,e,n)}function LI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=JE(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function bb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,c)=>MI(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends md{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends md{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function xb(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,OI(c,m,n[o]))}return s}function Eb(r,e,n){const s=new Map;for(const o of r){const u=o.transform,c=n.data.field(o.field);s.set(o.field,DI(u,c,e))}return s}class eg extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UI extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$E();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const g=nT(c,m);g!==null&&s.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>bb(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>bb(n,s)))}}class tg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return RI})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new tg(e,n,s,o)}}class BI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Le;function HI(r){switch(r){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function iT(r){if(r===void 0)return xi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function FI(){return new TextEncoder}const GI=new ps([4294967295,4294967295],0);function Tb(r){const e=FI().encode(r),n=new vE;return n.update(e),new Uint8Array(n.digest())}function wb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(GI)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tb(e),[s,o]=wb(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new ng(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=Tb(e),[s,o]=wb(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pd(Ee.min(),o,new ct(je),Ei(),Me())}}class Cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,Me(),Me(),Me())}}class Ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class sT{constructor(e,n){this.targetId=e,this.Ce=n}}class aT{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Ab{constructor(){this.ve=0,this.Fe=Sb(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new Cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Sb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.Je=mh(),this.He=mh(),this.Ye=new ct(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(dp(u))if(s===0){const c=new me(u.path);this.et(n,c,nn.newNoDocument(c,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),g=m?this.ct(m,e,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=bs(s).toUint8Array()}catch(g){if(g instanceof kE)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ng(c,o,u)}catch(g){return Ao(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&dp(m.target)){const g=new me(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,nn.newNoDocument(g,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Me();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new pd(e,n,this.Ye,this.je,s);return this.je=Ei(),this.Je=mh(),this.He=mh(),this.Ye=new ct(je),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ab,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ab),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new ct(me.comparator)}function Sb(){return new ct(me.comparator)}const KI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class $I{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(r,e){return r.useProto3Json||ld(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WI(r,e){return Qh(r,e.toTimestamp())}function Hr(r){return Fe(!!r,49232),Ee.fromTimestamp((function(n){const s=vs(n);return new it(s.seconds,s.nanos)})(r))}function rg(r,e){return gp(r,e).canonicalString()}function gp(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function lT(r){const e=tt.fromString(r);return Fe(fT(e),10190,{key:e.toString()}),e}function yp(r,e){return rg(r.databaseId,e.path)}function Fm(r,e){const n=lT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(cT(n))}function uT(r,e){return rg(r.databaseId,e)}function JI(r){const e=lT(r);return e.length===4?tt.emptyPath():cT(e)}function _p(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Rb(r,e,n){return{name:yp(r,e),fields:n.value.mapValue.fields}}function ZI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,b){return p.useProto3Json?(Fe(b===void 0||typeof b=="string",58123),Wt.fromBase64String(b||"")):(Fe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Wt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(p){const b=p.code===void 0?Z.UNKNOWN:iT(p.code);return new le(b,p.message||"")})(c);n=new aT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fm(r,s.document.name),u=Hr(s.document.updateTime),c=s.document.createTime?Hr(s.document.createTime):Ee.min(),m=new _n({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,c,m),p=s.targetIds||[],b=s.removedTargetIds||[];n=new Ih(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fm(r,s.document),u=s.readTime?Hr(s.readTime):Ee.min(),c=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ih([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fm(r,s.document),u=s.removedTargetIds||[];n=new Ih([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new qI(o,u),m=s.targetId;n=new sT(m,c)}}return n}function ek(r,e){let n;if(e instanceof Nu)n={update:Rb(r,e.key,e.value)};else if(e instanceof eg)n={delete:yp(r,e.key)};else if(e instanceof Ss)n={update:Rb(r,e.key,e.data),updateMask:uk(e.fieldMask)};else{if(!(e instanceof UI))return _e(16599,{Vt:e.type});n={verify:yp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof pu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:WI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function tk(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let c=o.updateTime?Hr(o.updateTime):Hr(u);return c.isEqual(Ee.min())&&(c=Hr(u)),new VI(c,o.transformResults||[])})(n,e)))):[]}function nk(r,e){return{documents:[uT(r,e.path)]}}function rk(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uT(r,o);const u=(function(p){if(p.length!==0)return dT(hr.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(p){if(p.length!==0)return p.map((b=>(function(A){return{field:_o(A.field),direction:ak(A.dir)}})(b)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=pp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function ik(r){let e=JI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(E){const A=hT(E);return A instanceof hr&&BE(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(B){return new mu(vo(B.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let A;return A=typeof E=="object"?E.value:E,ld(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,k=E.values||[];return new Fh(k,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const A=!E.before,k=E.values||[];return new Fh(k,A)})(n.endAt)),EI(e,o,c,u,m,"F",g,p)}function sk(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(n.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return hr.create(n.compositeFilter.filters.map((s=>hT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function ak(r){return KI[r]}function ok(r){return YI[r]}function lk(r){return XI[r]}function _o(r){return{fieldPath:r.canonicalString()}}function vo(r){return Xt.fromServerFormat(r.fieldPath)}function dT(r){return r instanceof kt?(function(n){if(n.op==="=="){if(mb(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(fb(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mb(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(fb(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:ok(n.op),value:n.value}}})(r):r instanceof hr?(function(n){const s=n.getFilters().map((o=>dT(o)));return s.length===1?s[0]:{compositeFilter:{op:lk(n.op),filters:s}}})(r):_e(54877,{filter:r})}function uk(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ds{constructor(e,n,s,o,u=Ee.min(),c=Ee.min(),m=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ck{constructor(e){this.yt=e}}function hk(r){const e=ik({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mp(e,e.limit,"L"):e}class dk{constructor(){this.Cn=new fk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(_s.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class fk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}const Nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(mT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}const Cb="LruGarbageCollector",mk=1048576;function Ib([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class pk{constructor(e){this.Ir=e,this.buffer=new Pt(Ib),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ib(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Cb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?ue(Cb,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class yk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(od.ce);const s=new pk(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Nb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,m,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,m=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),go()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function _k(r,e){return new yk(r,e)}class vk{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xk{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&iu(s.mutation,o,kn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=$l();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let u=Ei();const c=ru(),m=(function(){return ru()})();return n.forEach(((g,p)=>{const b=s.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof Ss)?u=u.insert(p.key,p):b!==void 0?(c.set(p.key,b.mutation.getFieldMask()),iu(b.mutation,p,b.mutation.getFieldMask(),it.now())):c.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,b)=>c.set(p,b))),n.forEach(((p,b)=>m.set(p,new bk(b,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ct(((c,m)=>c-m)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let b=s.get(g)||kn.empty();b=m.applyToLocalView(p,b),s.set(g,b);const E=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,E=$E();b.forEach((A=>{if(!u.has(A)){const k=nT(n.get(A),s.get(A));k!==null&&E.set(A,k),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(oa());let m=cu,g=u;return c.next((p=>ne.forEach(p,((b,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{g=g.insert(b,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Me()))).next((b=>({batchId:m,changes:XE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=$l();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(E,A){return new Vo(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((b=>{b.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((g,p)=>{const b=p.getKey();c.get(b)===null&&(c=c.insert(b,nn.newInvalidDocument(b)))}));let m=$l();return c.forEach(((g,p)=>{const b=u.get(g);b!==void 0&&iu(b.mutation,p,kn.empty(),it.now()),dd(n,p)&&(m=m.insert(g,p))})),m}))}}class Ek{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:hk(o.bundledQuery),readTime:Hr(o.readTime)}})(n)),ne.resolve()}}class Tk{constructor(){this.overlays=new ct(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,c=new me(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((p,b)=>p-b));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let b=u.get(p.largestBatchId);b===null&&(b=oa(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=oa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>m.set(p,b))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new BI(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class wk{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class ig{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zI(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Yp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(je);return n.forEach((o=>{const u=new Bt(o,0),c=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const c=new Bt(new me(u),0);let m=new Pt(je);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),c),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sk{constructor(e){this.ri=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ei();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ei();const c=n.path,m=new me(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||eI(Z2(b),s)<=0||(o.has(b.key)||dd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Rk(this)}getSize(e){return ne.resolve(this.size)}}class Rk extends vk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Nk{constructor(e){this.persistence=e,this.si=new Ta((n=>Wp(n)),Jp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class pT{constructor(e,n){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new wk,this.referenceDelegate=e(this),this.Pi=new Nk(this),this.indexManager=new dk,this.remoteDocumentCache=(function(o){return new Sk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ck(n),this.Ii=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Ak(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new Ck(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Ck extends nI{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.pi=new Ta((s=>sI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=_k(this,n)}static mi(e,n){return new Kh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,u.removeEntry(c,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,n.fromCache,s,o)}}class Ik{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rR()?8:rI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Ik;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(go()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(go()<=Oe.DEBUG&&ue("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(go()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ne.resolve())}ys(e,n){if(_b(n))return ne.resolve(null);let s=qr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mp(n,null,"F"),s=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Me(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,c,g.readTime)?this.ys(e,mp(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return _b(n)||o.isEqual(Ee.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ne.resolve(null):(go()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(e,c,n,J2(o,cu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(KE(e));return n.forEach(((o,u)=>{dd(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return go()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,_s.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const og="LocalStore",Dk=3e8;class Ok{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(je),this.xs=new Ta((u=>Wp(u)),Jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jk(r,e,n,s){return new Ok(r,e,n,s)}async function gT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let g=Me();for(const p of o){c.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of u){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function Mk(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,b){const E=p.batch,A=E.keys();let k=ne.resolve();return A.forEach((B=>{k=k.next((()=>b.getEntry(g,B))).next((L=>{const j=p.docVersions.get(B);Fe(j!==null,48541),L.version.compareTo(j)<0&&(E.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),b.addEntry(L)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Me();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function yT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Vk(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,E)=>{const A=o.get(E);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,E))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(Wt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,s)),o=o.insert(E,k),(function(L,j,G){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Dk?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(A,k,b)&&m.push(n.Pi.updateTargetData(u,k))}));let g=Ei(),p=Me();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(Pk(u,c,e.documentUpdates).next((b=>{g=b.ks,p=b.qs}))),!s.isEqual(Ee.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ne.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function Pk(r,e,n){let s=Me(),o=Me();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let c=Ei();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(m,g)):ue(og,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function Lk(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Uk(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new ds(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function vp(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Mo(c))throw c;ue(og,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function kb(r,e,n){const s=we(r);let o=Ee.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,b){const E=we(g),A=E.xs.get(b);return A!==void 0?ne.resolve(E.Ms.get(A)):E.Pi.getTargetData(p,b)})(s,c,qr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ee.min(),n?u:Me()))).next((m=>(zk(s,wI(e),m),{documents:m,Qs:u})))))}function zk(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Db{constructor(){this.activeTargetIds=II()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bk{constructor(){this.Mo=new Db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Db,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qk{Oo(e){}shutdown(){}}const Ob="ConnectivityMonitor";class jb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Ob,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ph=null;function bp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}const Gm="RestConnection",Hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=bp(),m=this.zo(e,n.toUriEncodedString());ue(Gm,`Sending RPC '${e}' ${c}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),b=ws(p);return this.Jo(e,m,g,s,b).then((E=>(ue(Gm,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Ao(Gm,`RPC '${e}' ${c} failed with error: `,E,"url: ",m,"request:",s),E}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=Hk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Gk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class Qk extends Fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=bp();return new Promise(((m,g)=>{const p=new bE;p.setWithCredentials(!0),p.listenOnce(xE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Sh.NO_ERROR:const E=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),m(E);break;case Sh.TIMEOUT:ue(Zt,`RPC '${e}' ${c} timed out`),g(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const A=p.getStatus();if(ue(Zt,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const L=(function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN})(B.status);g(new le(L,B.message))}else g(new le(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(o);ue(Zt,`RPC '${e}' ${c} sending request:`,o),p.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=bp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=wE(),m=TE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const b=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${b}`,g);const E=c.createWebChannel(b,g);this.I_(E);let A=!1,k=!1;const B=new Gk({Yo:j=>{k?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,j),E.send(j))},Zo:()=>E.close()}),L=(j,G,X)=>{j.listen(G,(re=>{try{X(re)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return L(E,Xl.EventType.OPEN,(()=>{k||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),L(E,Xl.EventType.CLOSE,(()=>{k||(k=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(E))})),L(E,Xl.EventType.ERROR,(j=>{k||(k=!0,Ao(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),B.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),L(E,Xl.EventType.MESSAGE,(j=>{if(!k){const G=j.data[0];Fe(!!G,16349);const X=G,re=X?.error||X[0]?.error;if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const oe=re.status;let ve=(function(S){const R=It[S];if(R!==void 0)return iT(R)})(oe),be=re.message;ve===void 0&&(ve=Z.INTERNAL,be="Unknown error status: "+oe+" with message "+re.message),k=!0,B.a_(new le(ve,be)),E.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,G),B.u_(G)}})),L(m,EE.STAT_EVENT,(j=>{j.stat===op.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===op.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qm(){return typeof document<"u"?document:null}function gd(r){return new $I(r,!0)}class _T{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Mb="PersistentStream";class vT{constructor(e,n,s,o,u,c,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _T(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Mb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(Mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kk extends vT{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?Hr(c.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=_p(this.serializer),n.addTarget=(function(u,c){let m;const g=c.target;if(m=dp(g)?{documents:nk(u,g)}:{query:rk(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=oT(u,c.resumeToken);const p=pp(u,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Qh(u,c.snapshotVersion.toTimestamp());const p=pp(u,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=sk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=_p(this.serializer),n.removeTarget=e,this.q_(n)}}class Yk extends vT{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tk(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=_p(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ek(this.serializer,s)))};this.q_(n)}}class Xk{}class $k extends Xk{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,gp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,gp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class Jk{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{wa(this)&&(ue(ga,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await Iu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await yd(p)})(this))}))})),this.Ra=new Wk(s,o)}}async function yd(r){if(wa(r))for(const e of r.da)await e(!0)}async function Iu(r){for(const e of r.da)await e(!1)}function bT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hg(n)?cg(n):Po(n).O_()&&ug(n,e))}function lg(r,e){const n=we(r),s=Po(n);n.Ia.delete(e),s.O_()&&xT(n,e),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function ug(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(r).Y_(e)}function xT(r,e){r.Va.Ue(e),Po(r).Z_(e)}function cg(r){r.Va=new QI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Ra.ua()}function hg(r){return wa(r)&&!Po(r).x_()&&r.Ia.size>0}function wa(r){return we(r).Ea.size===0}function ET(r){r.Va=void 0}async function Zk(r){r.Ra.set("Online")}async function eD(r){r.Ia.forEach(((e,n)=>{ug(r,e)}))}async function tD(r,e){ET(r),hg(r)?(r.Ra.ha(e),cg(r)):r.Ra.set("Unknown")}async function nD(r,e,n){if(r.Ra.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(r,s)}else if(e instanceof Ih?r.Va.Ze(e):e instanceof sT?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await yT(r.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(p);b&&u.Ia.set(p,b.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Wt.EMPTY_BYTE_STRING,b.snapshotVersion)),xT(u,g);const E=new ds(b.target,g,p,b.sequenceNumber);ug(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(ga,"Failed to raise snapshot:",s),await Yh(r,s)}}async function Yh(r,e,n){if(!Mo(e))throw e;r.Ea.add(1),await Iu(r),r.Ra.set("Offline"),n||(n=()=>yT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ga,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await yd(r)}))}function TT(r,e){return e().catch((n=>Yh(r,n,e)))}async function _d(r){const e=we(r),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yp;for(;rD(e);)try{const o=await Lk(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,iD(e,o)}catch(o){await Yh(e,o)}wT(e)&&AT(e)}function rD(r){return wa(r)&&r.Ta.length<10}function iD(r,e){r.Ta.push(e);const n=Es(r);n.O_()&&n.X_&&n.ea(e.mutations)}function wT(r){return wa(r)&&!Es(r).x_()&&r.Ta.length>0}function AT(r){Es(r).start()}async function sD(r){Es(r).ra()}async function aD(r){const e=Es(r);for(const n of r.Ta)e.ea(n.mutations)}async function oD(r,e,n){const s=r.Ta.shift(),o=tg.from(s,e,n);await TT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await _d(r)}async function lD(r,e){e&&Es(r).X_&&await(async function(s,o){if((function(c){return HI(c)&&c!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await TT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _d(s)}})(r,e),wT(r)&&AT(r)}async function Vb(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue(ga,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await Iu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yd(n)}async function uD(r,e){const n=we(r);e?(n.Ea.delete(2),await yd(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Po(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new Kk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Zk.bind(null,r),t_:eD.bind(null,r),r_:tD.bind(null,r),H_:nD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),hg(r)?cg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ET(r))}))),r.ma}function Es(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new Yk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:sD.bind(null,r),r_:lD.bind(null,r),ta:aD.bind(null,r),na:oD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _d(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class dg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,m=new dg(e,n,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(xi("AsyncQueue",`${e}: ${r}`),Mo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Pb{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Io{constructor(e,n,s,o,u,c,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Io(e,n,wo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class cD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hD{constructor(){this.queries=Lb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=Lb(),u.forEach(((c,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function Lb(){return new Ta((r=>QE(r)),hd)}async function mg(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new cD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=fg(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&gg(n)}async function pg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&gg(n)}function fD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function gg(r){r.Ca.forEach((e=>{e.next()}))}var xp,Ub;(Ub=xp||(xp={})).Ma="default",Ub.Cache="cache";class yg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}class ST{constructor(e){this.key=e}}class RT{constructor(e){this.key=e}}class mD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=KE(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Pb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,E)=>{const A=o.get(b),k=dd(this.query,E)?E:null,B=!!A&&this.mutatedKeys.has(A.key),L=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let j=!1;A&&k?A.data.isEqual(k.data)?B!==L&&(s.track({type:3,doc:k}),j=!0):this.su(A,k)||(s.track({type:2,doc:k}),j=!0,(g&&this.eu(k,g)>0||p&&this.eu(k,p)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),j=!0):A&&!k&&(s.track({type:1,doc:A}),j=!0,(g||p)&&(m=!0)),j&&(k?(c=c.add(k),u=L?u.add(b):u.delete(b)):(c=c.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,E)=>(function(k,B){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:j})}};return L(k)-L(B)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,c.length!==0||p?{snapshot:new Io(this.query,e.tu,u,c,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new RT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ST(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class pD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gD{constructor(e){this.key=e,this.hu=!1}}class yD{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ta((m=>QE(m)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new ct(me.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _D(r,e,n=!0){const s=OT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await NT(s,e,n,!0),o}async function vD(r,e){const n=OT(r);await NT(n,e,!0,!1)}async function NT(r,e,n,s){const o=await Uk(r.localStore,qr(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bD(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&bT(r.remoteStore,o),m}async function bD(r,e,n,s,o){r.pu=(E,A,k)=>(async function(L,j,G,X){let re=j.view.ru(G);re.Cs&&(re=await kb(L.localStore,j.query,!1).then((({documents:N})=>j.view.ru(N,re))));const oe=X&&X.targetChanges.get(j.targetId),ve=X&&X.targetMismatches.get(j.targetId)!=null,be=j.view.applyChanges(re,L.isPrimaryClient,oe,ve);return Bb(L,j.targetId,be.au),be.snapshot})(r,E,A,k);const u=await kb(r.localStore,e,!0),c=new mD(e,u.Qs),m=c.ru(u.documents),g=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=c.applyChanges(m,r.isPrimaryClient,g);Bb(r,n,p.au);const b=new pD(e,n,c);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function xD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!hd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&lg(s.remoteStore,o.targetId),Ep(s,o.targetId)})).catch(jo)):(Ep(s,o.targetId),await vp(s.localStore,o.targetId,!0))}async function ED(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lg(n.remoteStore,s.targetId))}async function TD(r,e,n){const s=ID(r);try{const o=await(function(c,m){const g=we(c),p=it.now(),b=m.reduce(((k,B)=>k.add(B.key)),Me());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=Ei(),L=Me();return g.Ns.getEntries(k,b).next((j=>{B=j,B.forEach(((G,X)=>{X.isValidDocument()||(L=L.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,B))).next((j=>{E=j;const G=[];for(const X of m){const re=LI(X,E.get(X.key).overlayedDocument);re!=null&&G.push(new Ss(X.key,re,LE(re.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,p,G,m)})).next((j=>{A=j;const G=j.applyToLocalDocumentSet(E,L);return g.documentOverlayCache.saveOverlays(k,j.batchId,G)}))})).then((()=>({batchId:A.batchId,changes:XE(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let p=c.Vu[c.currentUser.toKey()];p||(p=new ct(je)),p=p.insert(m,g),c.Vu[c.currentUser.toKey()]=p})(s,o.batchId,n),await ku(s,o.changes),await _d(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function CT(r,e){const n=we(r);try{const s=await Vk(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Fe(c.hu,14607):o.removedDocuments.size>0&&(Fe(c.hu,42227),c.hu=!1))})),await ku(n,s,e)}catch(s){await jo(s)}}function zb(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=we(c);g.onlineState=m;let p=!1;g.queries.forEach(((b,E)=>{for(const A of E.Sa)A.va(m)&&(p=!0)})),p&&gg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new ct(me.comparator);c=c.insert(u,nn.newNoDocument(u,Ee.min()));const m=Me().add(u),g=new pd(Ee.min(),new Map,new ct(je),c,m);await CT(s,g),s.du=s.du.remove(u),s.Au.delete(e),vg(s)}else await vp(s.localStore,e,!1).then((()=>Ep(s,e,n))).catch(jo)}async function AD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await Mk(n.localStore,e);kT(n,s,null),IT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ku(n,o)}catch(o){await jo(o)}}async function SD(r,e,n){const s=we(r);try{const o=await(function(c,m){const g=we(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next((E=>(Fe(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(s.localStore,e);kT(s,e,n),IT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ku(s,o)}catch(o){await jo(o)}}function IT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function kT(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||DT(r,s)}))}function DT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(lg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),vg(r))}function Bb(r,e,n){for(const s of n)s instanceof ST?(r.Ru.addReference(s.key,e),RD(r,s)):s instanceof RT?(ue(_g,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||DT(r,s.key)):_e(19791,{wu:s})}function RD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(_g,"New document in limbo: "+n),r.Eu.add(s),vg(r))}function vg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new gD(n)),r.du=r.du.insert(n,s),bT(r.remoteStore,new ds(qr(cd(n.path)),s,"TargetPurposeLimboResolution",od.ce))}}async function ku(r,e,n){const s=we(r),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{c.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const b=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=ag.As(g.targetId,p);u.push(b)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(g,p){const b=we(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(p,(A=>ne.forEach(A.Es,(k=>b.persistence.referenceDelegate.addReference(E,A.targetId,k))).next((()=>ne.forEach(A.ds,(k=>b.persistence.referenceDelegate.removeReference(E,A.targetId,k)))))))))}catch(E){if(!Mo(E))throw E;ue(og,"Failed to update sequence numbers: "+E)}for(const E of p){const A=E.targetId;if(!E.fromCache){const k=b.Ms.get(A),B=k.snapshotVersion,L=k.withLastLimboFreeSnapshotVersion(B);b.Ms=b.Ms.insert(A,L)}}})(s.localStore,u))}async function ND(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue(_g,"User change. New user:",e.toKey());const s=await gT(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(Z.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(n,s.Ls)}}function CD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function OT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wD.bind(null,e),e.Pu.H_=dD.bind(null,e.eventManager),e.Pu.yu=fD.bind(null,e.eventManager),e}function ID(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SD.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jk(this.persistence,new kk,e.initialUser,this.serializer)}Cu(e){return new pT(sg.mi,this.serializer)}Du(e){return new Bk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class kD extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new pT((s=>Kh.mi(s,n)),this.serializer)}}class Tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hD})()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),s=(function(u){return new Qk(u)})(e.databaseInfo);return(function(u,c,m,g){return new $k(u,c,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,m){return new Jk(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>zb(this.syncEngine,n,0)),(function(){return jb.v()?new jb:new qk})())}createSyncEngine(e,n){return(function(o,u,c,m,g,p,b){const E=new yD(o,u,c,m,g,p);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ue(ga,"RemoteStore shutting down."),s.Ea.add(5),await Iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};class bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ts="FirestoreClient";class DD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ue(Ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(Ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await gT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function qb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OD(r);ue(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Vb(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Vb(e.remoteStore,o))),r._onlineComponents=e}async function OD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ts,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Km(r,new Xh)}}else ue(Ts,"Using default OfflineComponentProvider"),await Km(r,new kD(void 0));return r._offlineComponents}async function jT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ts,"Using user provided OnlineComponentProvider"),await qb(r,r._uninitializedComponentsProvider._online)):(ue(Ts,"Using default OnlineComponentProvider"),await qb(r,new Tp))),r._onlineComponents}function jD(r){return jT(r).then((e=>e.syncEngine))}async function $h(r){const e=await jT(r),n=e.eventManager;return n.onListen=_D.bind(null,e.syncEngine),n.onUnlisten=xD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),n}function MD(r,e,n={}){const s=new yi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,p){const b=new bg({next:A=>{b.Nu(),c.enqueueAndForget((()=>pg(u,E)));const k=A.docs.has(m);!k&&A.fromCache?p.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&g&&g.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),E=new yg(cd(m.path),b,{includeMetadataChanges:!0,qa:!0});return mg(u,E)})(await $h(r),r.asyncQueue,e,n,s))),s.promise}function VD(r,e,n={}){const s=new yi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,p){const b=new bg({next:A=>{b.Nu(),c.enqueueAndForget((()=>pg(u,E))),A.fromCache&&g.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),E=new yg(m,b,{includeMetadataChanges:!0,qa:!0});return mg(u,E)})(await $h(r),r.asyncQueue,e,n,s))),s.promise}function MT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Hb=new Map;const VT="firestore.googleapis.com",Fb=!0;class Gb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=Fb}else this.host=e.host,this.ssl=e.ssl??Fb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mk)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new B2;switch(s.type){case"firstParty":return new G2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Hb.get(n);s&&(ue("ComponentProvider","Removing Datastore"),Hb.delete(n),s.terminate())})(this),Promise.resolve()}}function PD(r,e,n,s={}){r=vn(r,vd);const o=ws(e),u=r._getSettings(),c={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Op(`https://${m}`),jp("Firestore",!0)),u.host!==VT&&u.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ha(g,c)&&(r._setSettings(g),s.mockUserToken)){let p,b;if(typeof s.mockUserToken=="string")p=s.mockUserToken,b=tn.MOCK_USER;else{p=Ox(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(E)}r._authCredentials=new q2(new SE(p,b))}}class Rs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ru(n,ft._jsonSchema))return new ft(e,s||null,new me(tt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Dt("string",ft._jsonSchemaVersion),referencePath:Dt("string")};class gs extends Rs{constructor(e,n,s){super(e,n,cd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new me(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function ya(r,e,...n){if(r=lt(r),RE("collection","path",e),r instanceof vd){const s=tt.fromString(e,...n);return ib(s),new gs(r,null,s)}{if(!(r instanceof ft||r instanceof gs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return ib(s),new gs(r.firestore,null,s)}}function ur(r,e,...n){if(r=lt(r),arguments.length===1&&(e=Kp.newId()),RE("doc","path",e),r instanceof vd){const s=tt.fromString(e,...n);return rb(s),new ft(r,null,new me(s))}{if(!(r instanceof ft||r instanceof gs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return rb(s),new ft(r.firestore,r instanceof gs?r.converter:null,new me(s))}}const Qb="AsyncQueue";class Kb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _T(this,"async_queue_retry"),this._c=()=>{const s=Qm();s&&ue(Qb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;ue(Qb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",Yb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=dg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Yb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Xb(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ti extends vd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Kb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kb(e),this._firestoreClient=void 0,await e}}}function LD(r,e){const n=typeof r=="object"?r:Pp(),s=typeof r=="string"?r:qh,o=nd(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ix("firestore");u&&PD(o,...u)}return o}function bd(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UD(r),r._firestoreClient}function UD(r){const e=r._freezeSettings(),n=(function(o,u,c,m){return new lI(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,MT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new DD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Wt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Dt("string",Qn._jsonSchemaVersion),bytes:Dt("string")};class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ed{constructor(e){this._methodName=e}}class Fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Dt("string",Fr._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gr(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:Dt("string",Gr._jsonSchemaVersion),vectorValues:Dt("object")};const zD=/^__.*__$/;class BD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class PT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class xg{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LT(this.Ac)&&zD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gd(e)}Cc(e,n,s,o=!1){return new xg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(r){const e=r._freezeSettings(),n=gd(r._databaseId);return new qD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function UT(r,e,n,s,o,u={}){const c=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Tg("Data must be an object, but it was:",c,s);const m=zT(s,c);let g,p;if(u.merge)g=new kn(c.fieldMask),p=c.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const A=wp(e,E,n);if(!c.contains(A))throw new le(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);qT(b,A)||b.push(A)}g=new kn(b),p=c.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=c.fieldTransforms;return new BD(new _n(m),g,p)}class wd extends Ed{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}class Eg extends Ed{_toFieldTransform(e){return new jI(e.path,new pu)}isEqual(e){return e instanceof Eg}}function HD(r,e,n,s){const o=r.Cc(1,e,n);Tg("Data must be an object, but it was:",o,s);const u=[],c=_n.empty();As(s,((g,p)=>{const b=wg(e,g,n);p=lt(p);const E=o.yc(b);if(p instanceof wd)u.push(b);else{const A=Du(p,E);A!=null&&(u.push(b),c.set(b,A))}}));const m=new kn(u);return new PT(c,m,o.fieldTransforms)}function FD(r,e,n,s,o,u){const c=r.Cc(1,e,n),m=[wp(e,s,n)],g=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(wp(e,u[A])),g.push(u[A+1]);const p=[],b=_n.empty();for(let A=m.length-1;A>=0;--A)if(!qT(p,m[A])){const k=m[A];let B=g[A];B=lt(B);const L=c.yc(k);if(B instanceof wd)p.push(k);else{const j=Du(B,L);j!=null&&(p.push(k),b.set(k,j))}}const E=new kn(p);return new PT(b,E,c.fieldTransforms)}function GD(r,e,n,s=!1){return Du(n,r.Cc(s?4:3,e))}function Du(r,e){if(BT(r=lt(r)))return Tg("Unsupported field value:",e,r),zT(r,e);if(r instanceof Ed)return(function(s,o){if(!LT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let g=Du(m,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:oT(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gr)return(function(c,m){return{mapValue:{fields:{[VE]:{stringValue:PE},[Hh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Zp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ad(s)}`)})(r,e)}function zT(r,e){const n={};return IE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,((s,o)=>{const u=Du(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function BT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Fr||r instanceof Qn||r instanceof ft||r instanceof Ed||r instanceof Gr)}function Tg(r,e,n){if(!BT(n)||!NE(n)){const s=ad(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function wp(r,e,n){if((e=lt(e))instanceof xd)return e._internalPath;if(typeof e=="string")return wg(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const QD=new RegExp("[~\\*/\\[\\]]");function wg(r,e,n){if(e.search(QD)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wh(r,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${s}`),c&&(g+=` in document ${o}`),g+=")"),new le(Z.INVALID_ARGUMENT,m+r+g)}function qT(r,e){return r.some((n=>n.isEqual(e)))}class HT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ad("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KD extends HT{data(){return super.data()}}function Ad(r,e){return typeof e=="string"?wg(r,e):e instanceof xd?e._internalPath:e._delegate._internalPath}function FT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class GT extends Ag{}function Sd(r,e,...n){let s=[];e instanceof Ag&&s.push(e),s=s.concat(n),(function(u){const c=u.filter((g=>g instanceof Sg)).length,m=u.filter((g=>g instanceof Rd)).length;if(c>1||c>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Rd extends GT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rd(e,n,s)}_apply(e){const n=this._parse(e);return KT(e._query,n),new Rs(e.firestore,e.converter,fp(e._query,n))}_parse(e){const n=Td(e.firestore);return(function(u,c,m,g,p,b,E){let A;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Wb(E,b);const B=[];for(const L of E)B.push($b(g,u,L));A={arrayValue:{values:B}}}else A=$b(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Wb(E,b),A=GD(m,c,E,b==="in"||b==="not-in");return kt.create(p,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QT(r,e,n){const s=e,o=Ad("where",r);return Rd._create(o,s,n)}class Sg extends Ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const g of m)KT(c,g),c=fp(c,g)})(e._query,n),new Rs(e.firestore,e.converter,fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends GT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(u,c)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function YD(r,e="asc"){const n=e,s=Ad("orderBy",r);return Rg._create(s,n)}function $b(r,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return db(r,new me(s))}if(n instanceof ft)return db(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(n)}.`)}function Wb(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KT(r,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XD{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Hh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Gr(n)}convertGeoPoint(e){return new Fr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ud(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(fT(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function YT(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends HT{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ad("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Dt("string",la._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class kh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),b=c.indexOf(m.doc.key)),{type:$D(m.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $D(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function WD(r){r=vn(r,ft);const e=vn(r.firestore,Ti);return MD(bd(e),r._key).then((n=>WT(e,r,n)))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Dt("string",ua._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ng extends XD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function Cg(r){r=vn(r,Rs);const e=vn(r.firestore,Ti),n=bd(e),s=new Ng(e);return FT(r._query),VD(n,r._query).then((o=>new ua(e,s,r,o)))}function Jh(r,e,n){r=vn(r,ft);const s=vn(r.firestore,Ti),o=YT(r.converter,e,n);return Nd(s,[UT(Td(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Kn.none())])}function Jb(r,e,n,...s){r=vn(r,ft);const o=vn(r.firestore,Ti),u=Td(o);let c;return c=typeof(e=lt(e))=="string"||e instanceof xd?FD(u,"updateDoc",r._key,e,n,s):HD(u,"updateDoc",r._key,e),Nd(o,[c.toMutation(r._key,Kn.exists(!0))])}function XT(r){return Nd(vn(r.firestore,Ti),[new eg(r._key,Kn.none())])}function $T(r,e){const n=vn(r.firestore,Ti),s=ur(r),o=YT(r.converter,e);return Nd(n,[UT(Td(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then((()=>s))}function Ig(r,...e){r=lt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Xb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Xb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,c,m;if(r instanceof ft)c=vn(r.firestore,Ti),m=cd(r._key.path),u={next:g=>{e[s]&&e[s](WT(c,r,g))},error:e[s+1],complete:e[s+2]};else{const g=vn(r,Rs);c=vn(g.firestore,Ti),m=g._query;const p=new Ng(c);u={next:b=>{e[s]&&e[s](new ua(c,p,g,b))},error:e[s+1],complete:e[s+2]},FT(r._query)}return(function(p,b,E,A){const k=new bg(A),B=new yg(b,k,E);return p.asyncQueue.enqueueAndForget((async()=>mg(await $h(p),B))),()=>{k.Nu(),p.asyncQueue.enqueueAndForget((async()=>pg(await $h(p),B)))}})(bd(c),m,o,u)}function Nd(r,e){return(function(s,o){const u=new yi;return s.asyncQueue.enqueueAndForget((async()=>TD(await jD(s),o,u))),u.promise})(bd(r),e)}function WT(r,e,n){const s=n.docs.get(e._key),o=new Ng(r);return new la(r,o,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function JD(){return new Eg("serverTimestamp")}(function(e,n=!0){(function(o){Oo=o})(xa),da(new ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Ti(new H2(s.getProvider("auth-internal")),new Q2(c,s.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(p.options.projectId,b)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ur(Zv,eb,e),Ur(Zv,eb,"esm2020")})();const JT="firebasestorage.googleapis.com",ZT="storageBucket",ZD=120*1e3,e4=600*1e3;class pt extends Kr{constructor(e,n,s=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Ym(r){return"storage/"+r}function kg(){const r="An unknown error occurred, please check the error payload for server response.";return new pt(mt.UNKNOWN,r)}function t4(r){return new pt(mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function n4(r){return new pt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function r4(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(mt.UNAUTHENTICATED,r)}function i4(){return new pt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s4(r){return new pt(mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function a4(){return new pt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o4(){return new pt(mt.CANCELED,"User canceled the upload/download.")}function l4(r){return new pt(mt.INVALID_URL,"Invalid URL '"+r+"'.")}function u4(r){return new pt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function c4(){return new pt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZT+"' property when initializing the app?")}function h4(){return new pt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d4(){return new pt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function f4(r){return new pt(mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ap(r){return new pt(mt.INVALID_ARGUMENT,r)}function ew(){return new pt(mt.APP_DELETED,"The Firebase app was deleted.")}function m4(r){return new pt(mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function su(r,e){return new pt(mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Gl(r){throw new pt(mt.INTERNAL_ERROR,"Internal error: "+r)}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(s.path==="")return s;throw u4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),g={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const b="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",k=new RegExp(`^https?://${E}/${b}/b/${o}/o${A}`,"i"),B={bucket:1,path:3},L=n===JT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",G=new RegExp(`^https?://${L}/${o}/${j}`,"i"),re=[{regex:m,indices:g,postModify:u},{regex:k,indices:B,postModify:p},{regex:G,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<re.length;oe++){const ve=re[oe],be=ve.regex.exec(e);if(be){const N=be[ve.indices.bucket];let S=be[ve.indices.path];S||(S=""),s=new Dn(N,S),ve.postModify(s);break}}if(s==null)throw l4(e);return s}}class p4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function g4(r,e,n){let s=1,o=null,u=null,c=!1,m=0;function g(){return m===2}let p=!1;function b(...j){p||(p=!0,e.apply(null,j))}function E(j){o=setTimeout(()=>{o=null,r(k,g())},j)}function A(){u&&clearTimeout(u)}function k(j,...G){if(p){A();return}if(j){A(),b.call(null,j,...G);return}if(g()||c){A(),b.call(null,j,...G);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,E(re)}let B=!1;function L(j){B||(B=!0,A(),!p&&(o!==null?(j||(m=2),clearTimeout(o),E(0)):j||(m=1)))}return E(0),u=setTimeout(()=>{c=!0,L(!0)},n),L}function y4(r){r(!1)}function _4(r){return r!==void 0}function v4(r){return typeof r=="object"&&!Array.isArray(r)}function Dg(r){return typeof r=="string"||r instanceof String}function Zb(r){return Og()&&r instanceof Blob}function Og(){return typeof Blob<"u"}function ex(r,e,n,s){if(s<e)throw Ap(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Ap(`Invalid value for '${r}'. Expected ${n} or less.`)}function jg(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function tw(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ca;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ca||(ca={}));function b4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class x4{constructor(e,n,s,o,u,c,m,g,p,b,E,A=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=b,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,L)=>{this.resolve_=B,this.reject_=L,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new gh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===ca.NO_ERROR,g=u.getStatus();if(!m||b4(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===ca.ABORT;s(!1,new gh(!1,null,b));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new gh(p,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());_4(g)?u(g):u()}catch(g){c(g)}else if(m!==null){const g=kg();g.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,g)):c(g)}else if(o.canceled){const g=this.appDelete_?ew():o4();c(g)}else{const g=a4();c(g)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=g4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&y4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function E4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function T4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function A4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function S4(r,e,n,s,o,u,c=!0,m=!1){const g=tw(r.urlParams),p=r.url+g,b=Object.assign({},r.headers);return w4(b,e),E4(b,n),T4(b,u),A4(b,s),new x4(p,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c,m)}function R4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function N4(...r){const e=R4();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Og())return new Blob(r);throw new pt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function C4(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function I4(r){if(typeof atob>"u")throw f4("base-64");return atob(r)}const Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,n){this.data=e,this.contentType=n||null}}function k4(r,e){switch(r){case Lr.RAW:return new Xm(nw(e));case Lr.BASE64:case Lr.BASE64URL:return new Xm(rw(r,e));case Lr.DATA_URL:return new Xm(O4(e),j4(e))}throw kg()}function nw(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=r.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function D4(r){let e;try{e=decodeURIComponent(r)}catch{throw su(Lr.DATA_URL,"Malformed data URL.")}return nw(e)}function rw(r,e){switch(r){case Lr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw su(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Lr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw su(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=I4(e)}catch(o){throw o.message.includes("polyfill")?o:su(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class iw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw su(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=M4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function O4(r){const e=new iw(r);return e.base64?rw(Lr.BASE64,e.rest):D4(e.rest)}function j4(r){return new iw(r).contentType}function M4(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class hs{constructor(e,n){let s=0,o="";Zb(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Zb(this.data_)){const s=this.data_,o=C4(s,e,n);return o===null?null:new hs(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new hs(s,!0)}}static getBlob(...e){if(Og()){const n=e.map(s=>s instanceof hs?s.data_:s);return new hs(N4.apply(null,n))}else{const n=e.map(c=>Dg(c)?k4(Lr.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new hs(o,!0)}}uploadData(){return this.data_}}function sw(r){let e;try{e=JSON.parse(r)}catch{return null}return v4(e)?e:null}function V4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function P4(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function aw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function L4(r,e){return e}class ln{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||L4}}let yh=null;function U4(r){return!Dg(r)||r.length<2?r:aw(r)}function ow(){if(yh)return yh;const r=[];r.push(new ln("bucket")),r.push(new ln("generation")),r.push(new ln("metageneration")),r.push(new ln("name","fullPath",!0));function e(u,c){return U4(c)}const n=new ln("name");n.xform=e,r.push(n);function s(u,c){return c!==void 0?Number(c):c}const o=new ln("size");return o.xform=s,r.push(o),r.push(new ln("timeCreated")),r.push(new ln("updated")),r.push(new ln("md5Hash",null,!0)),r.push(new ln("cacheControl",null,!0)),r.push(new ln("contentDisposition",null,!0)),r.push(new ln("contentEncoding",null,!0)),r.push(new ln("contentLanguage",null,!0)),r.push(new ln("contentType",null,!0)),r.push(new ln("metadata","customMetadata",!0)),yh=r,yh}function z4(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Dn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function B4(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];s[c.local]=c.xform(s,e[c.server])}return z4(s,r),s}function lw(r,e,n){const s=sw(e);return s===null?null:B4(r,s,n)}function q4(r,e,n,s){const o=sw(e);if(o===null||!Dg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(p=>{const b=r.bucket,E=r.fullPath,A="/b/"+c(b)+"/o/"+c(E),k=jg(A,n,s),B=tw({alt:"media",token:p});return k+B})[0]}function H4(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class uw{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cw(r){if(!r)throw kg()}function F4(r,e){function n(s,o){const u=lw(r,o,e);return cw(u!==null),u}return n}function G4(r,e){function n(s,o){const u=lw(r,o,e);return cw(u!==null),q4(u,o,r.host,r._protocol)}return n}function hw(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=i4():o=r4():n.getStatus()===402?o=n4(r.bucket):n.getStatus()===403?o=s4(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Q4(r){const e=hw(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=t4(r.path)),u.serverResponse=o.serverResponse,u}return n}function K4(r,e,n){const s=e.fullServerUrl(),o=jg(s,r.host,r._protocol),u="GET",c=r.maxOperationRetryTime,m=new uw(o,u,G4(r,n),c);return m.errorHandler=Q4(e),m}function Y4(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function X4(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=Y4(null,e)),s}function $4(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let re="";for(let oe=0;oe<2;oe++)re=re+Math.random().toString().slice(2);return re}const g=m();c["Content-Type"]="multipart/related; boundary="+g;const p=X4(e,s,o),b=H4(p,n),E="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,A=`\r
--`+g+"--",k=hs.getBlob(E,s,A);if(k===null)throw h4();const B={name:p.fullPath},L=jg(u,r.host,r._protocol),j="POST",G=r.maxUploadRetryTime,X=new uw(L,j,F4(r,n),G);return X.urlParams=B,X.headers=c,X.body=k.uploadData(),X.errorHandler=hw(e),X}class W4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Gl("cannot .send() more than once");if(ws(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class J4 extends W4{initXhr(){this.xhr_.responseType="text"}}function dw(){return new J4}class _a{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _a(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aw(this._location.path)}get storage(){return this._service}get parent(){const e=V4(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new _a(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw m4(e)}}function Z4(r,e,n){r._throwIfRoot("uploadBytes");const s=$4(r.storage,r._location,ow(),new hs(e,!0),n);return r.storage.makeRequestWithTokens(s,dw).then(o=>({metadata:o,ref:r}))}function eO(r){r._throwIfRoot("getDownloadURL");const e=K4(r.storage,r._location,ow());return r.storage.makeRequestWithTokens(e,dw).then(n=>{if(n===null)throw d4();return n})}function tO(r,e){const n=P4(r._location.path,e),s=new Dn(r._location.bucket,n);return new _a(r.storage,s)}function nO(r){return/^[A-Za-z]+:\/\//.test(r)}function rO(r,e){return new _a(r,e)}function fw(r,e){if(r instanceof Mg){const n=r;if(n._bucket==null)throw c4();const s=new _a(n,n._bucket);return e!=null?fw(s,e):s}else return e!==void 0?tO(r,e):r}function iO(r,e){if(e&&nO(e)){if(r instanceof Mg)return rO(r,e);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}else return fw(r,e)}function tx(r,e){const n=e?.[ZT];return n==null?null:Dn.makeFromBucketSpec(n,r)}function sO(r,e,n,s={}){r.host=`${e}:${n}`;const o=ws(e);o&&(Op(`https://${r.host}/b`),jp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:Ox(u,r.app.options.projectId))}class Mg{constructor(e,n,s,o,u,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=JT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZD,this._maxUploadRetryTime=e4,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=tx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=tx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ex("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ex("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _a(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new p4(ew());{const c=S4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const nx="@firebase/storage",rx="0.14.0";const mw="storage";function aO(r,e,n){return r=lt(r),Z4(r,e,n)}function oO(r){return r=lt(r),eO(r)}function lO(r,e){return r=lt(r),iO(r,e)}function uO(r=Pp(),e){r=lt(r);const s=nd(r,mw).getImmediate({identifier:e}),o=Ix("storage");return o&&cO(s,...o),s}function cO(r,e,n,s={}){sO(r,e,n,s)}function hO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Mg(n,s,o,e,xa)}function dO(){da(new ys(mw,hO,"PUBLIC").setMultipleInstances(!0)),Ur(nx,rx,""),Ur(nx,rx,"esm2020")}dO();const fO={apiKey:"AIzaSyDLV_7VhVreewagteqfNtx4-I9AkSYMRwk",authDomain:"auraverde-db.firebaseapp.com",projectId:"auraverde-db",storageBucket:"auraverde-db.firebasestorage.app",messagingSenderId:"1045483358918",appId:"1:1045483358918:web:1a82ec3c166abc5641a5c7"},Vg=Vx(fO),_h=U2(Vg),$t=LD(Vg),mO=uO(Vg),pw=V.createContext();function Xn(){return V.useContext(pw)}function pO({children:r}){const[e,n]=V.useState(null),[s,o]=V.useState(null),[u,c]=V.useState(null),[m,g]=V.useState(!0);async function p(B,L,j){const G=await EC(_h,B,L),X=G.user;try{await wC(X)}catch(re){console.error("Error sending verification email:",re)}return await Jh(ur($t,"users",X.uid),{email:X.email,displayName:j||"",role:"customer",favorites:[],createdAt:new Date().toISOString()}),G}function b(B,L){return TC(_h,B,L)}function E(){return NC(_h)}async function A(B){if(!e)return;const L=ur($t,"users",e.uid),j=u?.favorites||[];let G;j.includes(B)?G=j.filter(X=>X!==B):G=[...j,B];try{await Jh(L,{favorites:G},{merge:!0})}catch(X){console.error("Error toggling favorite:",X)}}V.useEffect(()=>{const B=RC(_h,async L=>{if(n(L),g(!0),L){const j=ur($t,"users",L.uid),G=Ig(j,X=>{if(X.exists()){const re=X.data();o(re.role),c(re)}else o("customer"),c(null);g(!1)},X=>{console.error("Error fetching user data:",X),g(!1)});return()=>G()}else o(null),c(null),g(!1)});return()=>B()},[]);const k={currentUser:e,userRole:s,userData:u,toggleFavorite:A,signin:b,login:b,signup:p,logout:E};return y.jsx(pw.Provider,{value:k,children:!m&&r})}const gO=({className:r})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:y.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.645-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),yO=({className:r})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:[y.jsx("path",{d:"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"}),y.jsx("path",{d:"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"})]});function gw({className:r=""}){return y.jsxs("div",{className:`flex items-center gap-4 ${r}`,children:[y.jsx("a",{href:"https://www.instagram.com/auraverdesuculentas/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full",title:"Instagram",children:y.jsx(gO,{className:"w-8 h-8"})}),y.jsx("a",{href:"mailto:auraverdesuculentas@gmail.com",className:"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full",title:"Email",children:y.jsx(yO,{className:"w-8 h-8"})})]})}const yw=V.createContext();function _O({children:r}){const[e,n]=V.useState(()=>{if(typeof window<"u"){const o=localStorage.getItem("theme");return o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});V.useEffect(()=>{const o=window.document.documentElement;e==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const s=()=>{n(o=>o==="dark"?"light":"dark")};return y.jsx(yw.Provider,{value:{theme:e,toggleTheme:s},children:r})}const vO=()=>V.useContext(yw);function _w({className:r=""}){const{theme:e,toggleTheme:n}=vO();return y.jsx("button",{onClick:n,className:`p-2 rounded-full transition-colors active:scale-95 ${e==="dark"?"bg-slate-800 text-yellow-400 hover:bg-slate-700":"bg-orange-100 text-orange-500 hover:bg-orange-200"} ${r}`,"aria-label":"Toggle Theme",children:y.jsx("span",{className:"material-symbols-outlined text-xl align-middle",children:e==="dark"?"dark_mode":"light_mode"})})}function bO(){const r=wi(),e=bn(),{currentUser:n,userRole:s,logout:o}=Xn(),u=[{icon:"home",label:"Inicio",path:"/"},{icon:"search",label:"Buscar",path:"/catalog"},{icon:"shopping_cart",label:"Carrito",path:"/cart"},{icon:"person",label:"Perfil",path:"/profile"}],c=m=>m==="/"?r.pathname==="/":r.pathname.startsWith(m);return y.jsxs("div",{className:"flex min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display transition-colors duration-300",children:[y.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-gray-200 dark:border-gray-800 bg-surface-light dark:bg-background-dark p-6 sticky top-0 h-screen",children:[y.jsxs("div",{className:"flex flex-col items-center -mt-2 mb-10 px-2 w-full",children:[y.jsx(un,{to:"/",className:"w-40 h-40 flex items-center justify-center mb-2 transition-transform duration-300 hover:scale-105 active:scale-95 active:rotate-3 cursor-pointer",children:y.jsx("img",{src:"/auraverde/logolocal.svg",alt:"AuraVerde Logo",className:"w-full h-full object-contain animate-float"})}),y.jsx("h1",{className:"font-varela text-3xl text-primary font-bold tracking-wide -mt-6 text-center w-full leading-none",children:"AURA VERDE"})]}),y.jsx("nav",{className:"flex flex-col gap-2 flex-1",children:u.map(m=>y.jsxs("button",{onClick:()=>e(m.path),className:`flex items-center gap-3 p-3 rounded-xl transition-all duration-200 group text-left
                ${c(m.path)?"bg-primary text-white shadow-md shadow-emerald-200 dark:shadow-emerald-900/20":"text-text-secondary dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-text-main dark:hover:text-white"}`,children:[y.jsx("span",{className:`material-symbols-outlined transition-transform duration-300 group-hover:scale-110 ${c(m.path)?"font-bold":""}`,children:m.icon}),y.jsx("span",{className:"font-medium text-sm",children:m.label})]},m.label))}),y.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-200 dark:border-gray-800 flex flex-col gap-2",children:[n?y.jsxs(y.Fragment,{children:[s==="admin"&&y.jsxs("button",{onClick:()=>e("/admin"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),y.jsx("span",{className:"font-medium text-sm",children:"Panel Admin"})]}),y.jsxs("button",{onClick:o,className:"flex items-center gap-3 p-3 rounded-xl w-full text-text-secondary dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"}),y.jsx("span",{className:"font-medium text-sm",children:"Cerrar Sesin"})]})]}):y.jsxs("button",{onClick:()=>e("/login"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-primary hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"login"}),y.jsx("span",{className:"font-medium text-sm",children:"Iniciar Sesin"})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center justify-center gap-6 w-full",children:[y.jsx(_w,{}),y.jsx(gw,{})]})]})]}),y.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto md:p-8 pb-24 md:pb-8",children:y.jsx("div",{className:"h-full w-full",children:y.jsx(nS,{})})}),y.jsx("div",{className:"md:hidden",children:y.jsx(Ax,{})})]})}function Pg(){const[r,e]=V.useState([]),[n,s]=V.useState(!0),[o,u]=V.useState(null);return V.useEffect(()=>{async function c(){try{const m=Sd(ya($t,"products"),YD("createdAt","desc")),p=(await Cg(m)).docs.map(b=>({id:b.id,...b.data(),firestoreId:b.id}));e(p)}catch(m){console.error("Error fetching products:",m),u(m)}finally{s(!1)}}c()},[]),{products:r,loading:n,error:o}}function xO(r){const[e,n]=V.useState(null),[s,o]=V.useState(!0),[u,c]=V.useState(null);return V.useEffect(()=>{if(!r)return;async function m(){try{const g=parseInt(r),p=isNaN(g)?r:g,b=Sd(ya($t,"products"),QT("id","==",p)),E=await Cg(b);if(E.empty){const A=ur($t,"products",r),k=await WD(A);k.exists()?n({id:k.id,...k.data()}):c("Producto no encontrado")}else{const A=E.docs[0];n({id:A.data().id,...A.data(),firestoreId:A.id})}}catch(g){console.error("Error fetching product:",g),c(g)}finally{o(!1)}}m()},[r]),{product:e,loading:s,error:u}}function Lg({id:r,name:e,type:n,price:s,image:o,isNew:u,onAddToCart:c}){const{toggleFavorite:m,userData:g}=Xn(),p=g?.favorites?.includes(r);return y.jsxs("div",{className:"group flex flex-col gap-3",children:[y.jsxs("div",{className:"relative w-full aspect-[3/4] rounded-2xl overflow-hidden bg-slate-100 dark:bg-surface-dark",children:[y.jsx(un,{to:`/product/${r}`,children:y.jsx("img",{alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",src:o})}),u&&y.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-primary text-slate-900 text-[10px] font-bold uppercase tracking-wider rounded-md",children:"Nuevo"}),y.jsxs("button",{onClick:b=>{b.preventDefault(),m(r)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-white/50 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center transition-all hover:bg-white dark:hover:bg-surface-dark group/fav",children:[y.jsx("span",{className:`material-symbols-outlined text-[20px] transition-colors ${p?"text-red-500 fill-current":"text-white group-hover/fav:text-red-500"}`,children:"favorite"}),y.jsx("style",{children:`
               .material-symbols-outlined { font-variation-settings: 'FILL' ${p?1:0}, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
             `})]}),y.jsx("button",{onClick:b=>{b.preventDefault(),m&&m(r)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-black/20 hover:bg-white/90 dark:hover:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center transition-all text-white hover:text-red-500",title:p?"Quitar de favoritos":"Aadir a favoritos",children:y.jsx("span",{className:`material-symbols-outlined text-[20px] ${p?"text-red-500":""}`,style:{fontVariationSettings:`'FILL' ${p?1:0}`},children:"favorite"})}),y.jsx("button",{onClick:b=>{b.preventDefault(),c&&c()},className:"absolute bottom-3 right-3 z-10 h-10 w-10 rounded-full bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center text-slate-900 dark:text-white shadow-lg active:scale-90 transition-all hover:bg-primary hover:text-slate-900 cursor-pointer",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"})})]}),y.jsxs("div",{children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-base font-bold leading-tight",children:e}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium mt-1",children:n})]})}),y.jsxs("p",{className:"text-slate-900 dark:text-primary text-sm font-bold mt-2",children:["$",s.toFixed(2)]})]})]})}function Ou({title:r="Catlogo",showSearch:e=!0,onSearch:n,searchValue:s}){const{cartItems:o}=ba(),{currentUser:u,logout:c,userRole:m}=Xn(),g=o.reduce((p,b)=>p+b.quantity,0);return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-background-light dark:bg-background-dark z-10 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(un,{to:"/",className:"md:hidden flex flex-col items-center justify-center gap-0 group",children:[y.jsx("div",{className:"h-28 w-28 flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-active:scale-95 group-active:rotate-3 -mb-3",children:y.jsx("img",{src:"/auraverde/logolocal.svg",alt:"Logo",className:"w-full h-full object-contain"})}),y.jsx("div",{className:"flex items-center leading-none",children:y.jsx("span",{className:"text-xl font-bold tracking-[0.1em] text-primary whitespace-nowrap",children:"AURA VERDE"})})]}),y.jsx("h1",{className:"hidden md:block text-2xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:r})]}),y.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[y.jsx(_w,{}),u?y.jsxs(y.Fragment,{children:[m==="admin"&&y.jsx(un,{to:"/admin",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-emerald-500",title:"Panel Admin",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"admin_panel_settings"})}),y.jsx("button",{onClick:c,className:"flex items-center justify-center p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-slate-500 hover:text-red-500",title:"Cerrar Sesin",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"})})]}):y.jsx(un,{to:"/login",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-primary",title:"Iniciar Sesin",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"login"})}),y.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1 hidden md:block"}),y.jsx(un,{to:"/catalog",className:"hidden md:flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"search"})}),y.jsxs(un,{to:"/cart",className:"relative flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:[y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),g>0&&y.jsx("span",{className:"absolute top-0 right-0 h-5 w-5 flex items-center justify-center rounded-full bg-primary text-[10px] font-bold text-slate-900 border-2 border-background-light dark:border-background-dark",children:g})]})]})]}),e&&y.jsx("div",{className:"px-6 pb-2 shrink-0",children:y.jsxs("div",{className:"relative flex items-center w-full h-12 rounded-xl bg-white dark:bg-surface-dark shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden group focus-within:ring-2 focus-within:ring-primary/50 transition-all",children:[y.jsx("div",{className:"grid place-items-center h-full w-12 text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),y.jsx("input",{className:"peer h-full w-full outline-none text-sm text-slate-700 dark:text-slate-200 pr-2 bg-transparent placeholder-slate-400 font-medium",id:"search",placeholder:"Buscar plantas...",type:"text",value:s,onChange:p=>n&&n(p.target.value)})]})})]})}function EO(){return y.jsx("footer",{className:"bg-white dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 py-12 px-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8",children:[y.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[y.jsx("h2",{className:"text-2xl font-bold font-varela text-primary tracking-wide",children:"AURA VERDE"}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-2 max-w-xs",children:"Llevando la naturaleza a tu hogar con las mejores suculentas."})]}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider",children:"Sguenos"}),y.jsx(gw,{})]}),y.jsxs("div",{className:"text-center md:text-right",children:[y.jsxs("p",{className:"text-xs text-slate-400 dark:text-gray-500",children:[" ",new Date().getFullYear()," Aura Verde."]}),y.jsx("p",{className:"text-xs text-slate-400 dark:text-gray-500 mt-1",children:"Todos los derechos reservados."})]})]})})}function TO(){const r=bn(),{addToCart:e}=ba(),{showToast:n}=Dp(),{products:s}=Pg(),o=s.slice(0,4);return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Ou,{title:"Inicio",showSearch:!1})}),y.jsxs("section",{className:"relative h-[500px] w-full bg-surface-light dark:bg-surface-dark overflow-hidden flex items-center justify-center text-center px-4",children:[y.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10 bg-[url('https://images.unsplash.com/photo-1470058869958-2a77ade41c02?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background-light dark:to-background-dark z-0"}),y.jsxs("div",{className:"relative z-10 max-w-3xl flex flex-col items-center gap-6 animate-fade-in-up",children:[y.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-emerald-100 dark:bg-primary/10 border border-emerald-200 dark:border-primary/20 text-emerald-800 dark:text-primary font-bold text-sm uppercase tracking-wider mb-2",children:"Nueva Coleccin 2026"}),y.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight tracking-tight",children:["Lleva la Naturaleza a ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-400",children:"Casa"})]}),y.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-xl leading-relaxed",children:"Transforma tu espacio con nuestra coleccin curada de suculentas premium. Entregadas frescas desde nuestro vivero hasta tu puerta."}),y.jsx("div",{className:"flex gap-4 mt-4",children:y.jsxs("button",{onClick:()=>r("/catalog"),className:"px-8 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",children:["Comprar Ahora",y.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]})]}),y.jsx("section",{className:"py-16 px-6 bg-white dark:bg-surface-dark/50",children:y.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"local_shipping",title:"Envo Gratis",text:"En rdenes mayor a 5 suculentas",action:()=>r("/catalog")},{icon:"verified",title:"Garanta de Calidad",text:"Plantas sanas o dinero devuelto",action:()=>{n("Escribenos y juntos solucionaremos el inconveniente","info"),setTimeout(()=>{window.location.href="mailto:auraverdesuculentas@gmail.com"},2500)}},{icon:"support_agent",title:"Soporte Experto",text:"Consejos de cuidado 24/7",action:()=>{n("Cuentanos en que podemos ayudarte","info"),setTimeout(()=>{window.open("https://www.instagram.com/auraverdesuculentas/","_blank")},2500)}}].map((u,c)=>y.jsxs("div",{onClick:u.action,className:"flex flex-col items-center text-center p-6 rounded-3xl bg-background-light dark:bg-background-dark border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-shadow cursor-pointer hover:border-primary/30",children:[y.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 text-primary",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:u.icon})}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:u.title}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:u.text})]},c))})}),y.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto w-full",children:[y.jsxs("div",{className:"flex justify-between items-end mb-10",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Plantas Destacadas"}),y.jsx("p",{className:"text-slate-500 mt-2",children:"Ms vendidas elegidas para ti"})]}),y.jsxs("button",{onClick:()=>r("/catalog"),className:"hidden md:flex items-center gap-1 text-primary font-bold hover:gap-2 transition-all",children:["Ver Todas ",y.jsx("span",{className:"material-symbols-outlined",children:"arrow_right_alt"})]})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:o.map(u=>y.jsx(Lg,{...u,onAddToCart:()=>e(u)},u.firestoreId||u.id))}),y.jsx("button",{onClick:()=>r("/catalog"),className:"mt-10 w-full md:hidden py-3 border-2 border-primary/20 text-primary font-bold rounded-xl active:bg-primary/5",children:"Ver Catalogo Completo"})]}),y.jsx("div",{className:"md:hidden pb-20",children:y.jsx(EO,{})})]})}function wO(){const{userData:r,currentUser:e}=Xn(),{products:n}=Pg(),{addToCart:s}=ba(),o=bn(),u=r?.favorites||[],c=n.filter(m=>u.includes(m.firestoreId));return e?y.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Ou,{title:"Favoritos",showSearch:!1})}),y.jsxs("div",{className:"hidden md:block mb-6 pt-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Mis Favoritos"}),y.jsx("p",{className:"text-slate-500 text-lg",children:"Tu coleccin de sueos verdes"})]}),c.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 text-center opacity-60",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"favorite_border"}),y.jsx("p",{className:"text-lg font-medium",children:"An no tienes favoritos"}),y.jsx("p",{className:"text-sm",children:"Explora el catlogo y dale amor a las plantas."})]}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6 px-6 md:px-0 pb-24",children:c.map(m=>y.jsx(Lg,{...m,id:m.firestoreId,onAddToCart:()=>s(m)},m.firestoreId))})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"lock"}),y.jsx("h2",{className:"text-xl font-bold mb-2",children:"Inicia sesin"}),y.jsx("p",{className:"text-gray-500 mb-4",children:"Necesitas una cuenta para guardar tus plantas favoritas."}),y.jsx("button",{onClick:()=>o("/login"),className:"bg-primary text-white px-6 py-2 rounded-xl font-bold",children:"Ir al Login"})]})}function AO({label:r,active:e,onClick:n}){return e?y.jsx("button",{onClick:n,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-primary text-slate-900 font-bold shadow-sm shadow-primary/20",children:r}):y.jsx("button",{onClick:n,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 text-slate-600 dark:text-slate-300 font-semibold whitespace-nowrap",children:r})}const ix=[{id:1,name:"Echeveria Lola",type:"Suculenta pequea",price:12,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA0eZ15aq4T37Ryj4bDgj81ZEUyIYsh_RKRe_i8s-gujmUO-i27DiYWUuBzPiPJ_YWIS2p_w47QKZMKDQWOHo6CRndOci24Fq8e8I8K-sMCpajjkdksObyDBwAwTd51gu_8U6d9MPdleEc-8Hnb1zzYYCFR_l_Ypk_iSruncVz3mVHzQopMI-9CTT8lKOVIlGLTyDkJF-HpDQXMvf6jWJpWFFQWuC4q3TuYCE1oQ49Fy4VkatuhBcPfA-InsniE7TV93a8vHXmlmM7L",isNew:!1},{id:2,name:"Dracaena Marg.",type:"rbol de interior",price:45,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD57UKN04xBtoohXvHEHpARBywa8wc9eKFvD7XDp4cKqtu9QbUHhMHlIAQTqq_YH7bNSJZY_0dW3eOTEeI9MC9bd_WXnHPghUkvnYzkep7OhHBL-V9YT8ONnxMMkepRc2VuSeXjffy01QOpFPIiYTvJQwC61ojAnDKXHvEixwbL_OCVDtP5FGpHB9huUjYwZVBarcehQQXtsDxIj-0kpDwgAjMXOMgDtuAfllSqSFCXo5viLkIt76k5EhbsAZ_oBuXDEOk1HeJbKmDY",isNew:!1},{id:3,name:"Bonsai Ficus",type:"rbol miniatura",price:30,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBuQ1GGR9x_WTdo-L0S5BynKVM9VNi2KLnWCv4u1BHbfC0ie4CsUb1AH_2sDOTV1EIOAyydQTq86WSJXuVqYbuIctNrkOoDPfqY4-2WVg-VcVGxkgXgLhCeSe8AOSMdCpdWYBwJDeS9tU9OxFtysrT5GG8kDBiTbp9WeJrIwpzQIw9DsA28HoOQo78lMm95heiSA-aLd_HzAeO8wCyPlJKyYrXEE-tXalpUWPPAj2mSTuWxxzkmW5tkBvw7RQdWDU6lyq_4RCuJpbGA",isNew:!0},{id:4,name:"Areca Palm",type:"Purificadora de aire",price:25,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBAUIOGKnSrRSRBsNH6nVvIGWGAjTC_RjE5eYoFgCX3nVZhG8onMlpG6odQCRlezHvUBrnLoPigEGnahxWvlORm1v5BBRZG7xMRj0yVKYjlMVr8I-5L0EKYnDc-S8bLYQDmSnpA4ZZGvfEYSPrA3gzmhrunA2P1IoiQgF9W1018hn-beC_BOq0-UnIp5TcFSKAZzLb1jm7J7S_uGkx47DlPPxEmEQ4a96EzOfGPzv9UGY6vBVAbtpedg9j5DVnWaiSvg8HLvPT1HE1L",isNew:!1},{id:5,name:"Aloe Vera",type:"Medicinal",price:18,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBfjrTHo8MXN3qD5PVNyclKEE_LCe5L71uyaOi8yGBA9XUtVSfajLxPMY29U6lUbZK2E8MHsrmHvNlI6zqvkMAgT8CdDxbZ8sG8FdQfL3BHz3SANG0_6iu6Mewm5SNjWV3wI0EcDF3lQV7TXY-3EYsAkN5zec0-orJkKfDL-i33XXdodWx5IqvjLkjkdX1T-CdmyNcdm2K12tFpTYIkG2lOp5HVceiwh3_ErHSxtY-Hk9lEuYaAnSbRVQHEa-mBffh9SoTgtA7yjNIK",isNew:!1},{id:6,name:"String of Pearls",type:"Planta colgante",price:22,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAXXU5YobKex3kwVW5GUM5bXC6_ctZHQSoRW_qNQbh3g9p93oaSRMcqMZB6pZX5EE8j9UAuv6ETV_EFs9pdLtMj566Qky3NQnqyuO6nT8tOCXzdomwBB0zrfQSK1sEURbbA0O05Q_GBSd4c9tqROmHIUdsTfcGdWAOC-5V2-ELxwyAolZEMDOWyvJ1cb4irkDMDcGr0v3yA2dWUQXp7Zv7thW4UTCGX3aRXgCBiUVuDNMp26Ts9B5MWJpif5mwp-qBQRiM6JEkw0BWY",isNew:!1}],SO=["Todos","Dracaena","Bonsai","Suculentas","Palmas"];function RO(){const[r,e]=V.useState("Todos"),[n,s]=V.useState(""),{addToCart:o}=ba(),{products:u,loading:c,error:m}=Pg(),g=u.filter(p=>{const b=r==="Todos"||p.type.includes(r)||p.name.includes(r),E=p.name.toLowerCase().includes(n.toLowerCase())||p.type.toLowerCase().includes(n.toLowerCase());return b&&E});return c?y.jsx("div",{className:"flex h-full items-center justify-center text-primary font-bold",children:"Cargando catlogo..."}):m?y.jsx("div",{className:"flex h-full items-center justify-center text-red-500",children:"Error cargando productos."}):y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Ou,{onSearch:s,searchValue:n})}),y.jsxs("div",{className:"hidden md:block mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Descubre"}),y.jsx("p",{className:"text-slate-500 text-lg",children:"Encuentra la planta perfecta para tu espacio"})]}),y.jsx("div",{className:"pl-6 py-4 shrink-0 md:pl-0",children:y.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pr-6 items-center",children:[y.jsx("button",{className:"flex shrink-0 h-10 w-10 items-center justify-center rounded-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md transition-transform hover:scale-105",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"tune"})}),SO.map(p=>y.jsx(AO,{label:p,active:r===p,onClick:()=>e(p)},p))]})}),y.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-24 md:pb-8 hide-scrollbar md:px-0",children:y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:g.map(p=>y.jsx(Lg,{...p,id:p.firestoreId||p.id,onAddToCart:()=>o(p)},p.firestoreId||p.id))})})]})}function NO(){const r=bn(),{id:e}=q1(),{addToCart:n}=ba(),[s,o]=V.useState(1),{product:u,loading:c,error:m}=xO(e);if(c)return y.jsx("div",{className:"flex h-screen items-center justify-center text-primary font-bold",children:"Cargando producto..."});if(m||!u)return y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-900 dark:text-white",children:"Producto no encontrado"}),y.jsx("button",{onClick:()=>r("/catalog"),className:"text-primary font-bold",children:"Volver al Catlogo"})]});const g=()=>{for(let p=0;p<s;p++)n(u);r("/cart")};return y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden pb-24 bg-background-light dark:bg-background-dark",children:[y.jsxs("header",{className:"absolute top-0 left-0 right-0 z-30 flex items-center justify-between p-4 pt-12 md:pt-6 bg-gradient-to-b from-black/40 to-transparent",children:[y.jsx("button",{onClick:()=>r(-1),className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"})}),y.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"favorite"})})]})]}),y.jsx("div",{className:"relative w-full h-[55vh] lg:h-[60vh] shrink-0 bg-gray-200 dark:bg-gray-800",children:y.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url('${u.image}')`}})}),y.jsxs("main",{className:"relative z-10 -mt-6 flex flex-1 flex-col rounded-t-3xl bg-background-light dark:bg-background-dark px-6 pt-8 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",children:[y.jsxs("div",{className:"mb-6 flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:u.name}),y.jsx("p",{className:"text-lg italic text-gray-500 dark:text-gray-400 mt-1",children:u.type})]}),y.jsx("div",{className:"flex flex-col items-end",children:y.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",u.price.toFixed(2)]})})]}),y.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-400 fill-current text-[20px]",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),y.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"4.8"}),y.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(120 reseas)"})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Tamao de Maceta"}),y.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pb-1",children:[y.jsxs("button",{className:"group relative flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-transparent bg-primary px-4 py-3 text-black shadow-sm transition-all active:scale-95",children:[y.jsx("span",{className:"text-sm font-bold",children:"Pequea"}),y.jsx("span",{className:"text-xs font-medium opacity-80",children:'2"'}),y.jsx("div",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-black text-white",children:y.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"check"})})]}),y.jsxs("button",{className:"group flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-surface-light dark:bg-surface-dark px-4 py-3 text-gray-600 dark:text-gray-300 transition-all hover:border-primary/50 active:scale-95",children:[y.jsx("span",{className:"text-sm font-bold",children:"Mediana"}),y.jsx("span",{className:"text-xs font-medium opacity-60",children:'4"'})]}),y.jsxs("button",{className:"group flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-surface-light dark:bg-surface-dark px-4 py-3 text-gray-600 dark:text-gray-300 transition-all hover:border-primary/50 active:scale-95",children:[y.jsx("span",{className:"text-sm font-bold",children:"Grande"}),y.jsx("span",{className:"text-xs font-medium opacity-60",children:'6"'})]})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Descripcin"}),y.jsxs("p",{className:"text-base leading-relaxed text-gray-600 dark:text-gray-300",children:[u.name," es una hermosa planta. Perfecta para agregar un toque de naturaleza a tu hogar u oficina.",y.jsx("span",{className:"font-bold text-primary cursor-pointer ml-1",children:"Leer ms"})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Cuidados"}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-500",children:y.jsx("span",{className:"material-symbols-outlined",children:"wb_sunny"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Luz"}),y.jsx("span",{className:"block text-[10px] text-gray-500",children:"Brillante"})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-500",children:y.jsx("span",{className:"material-symbols-outlined",children:"water_drop"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Agua"}),y.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mnima"})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/30 text-red-500",children:y.jsx("span",{className:"material-symbols-outlined",children:"thermostat"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Temp"}),y.jsx("span",{className:"block text-[10px] text-gray-500",children:"Clida"})]})]})]})]}),y.jsx("div",{className:"h-6"})]}),y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-gray-100 dark:border-gray-800 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-lg pb-safe pt-4 px-6 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[y.jsx("div",{className:"mb-4 flex items-center justify-center pb-6 md:pb-0",children:y.jsxs("div",{className:"flex w-full max-w-md items-center justify-between gap-6",children:[y.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-100 dark:bg-gray-800 p-1",children:[y.jsx("button",{onClick:()=>o(Math.max(1,s-1)),className:"flex h-8 w-8 items-center justify-center rounded-md bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),y.jsx("span",{className:"w-4 text-center text-sm font-bold text-gray-900 dark:text-white",children:s}),y.jsx("button",{onClick:()=>o(s+1),className:"flex h-8 w-8 items-center justify-center rounded-md bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),y.jsxs("button",{onClick:g,className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-primary h-12 px-6 text-black shadow-lg shadow-primary/30 transition-all hover:bg-primary/90 active:scale-95",children:[y.jsx("span",{className:"material-symbols-outlined",children:"shopping_bag"}),y.jsx("span",{className:"text-base font-bold",children:"Agregar al Carrito"}),y.jsxs("span",{className:"ml-1 text-sm font-bold opacity-80",children:["| $",(u.price*s).toFixed(2)]})]})]})}),y.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})}function vw(){const{currentUser:r}=Xn(),[e,n]=V.useState([]),[s,o]=V.useState(!0),[u,c]=V.useState(null);return V.useEffect(()=>{if(!r){n([]),o(!1);return}o(!0);const p=Sd(ya($t,"users",r.uid,"addresses")),b=Ig(p,E=>{const A=E.docs.map(k=>({id:k.id,...k.data()}));n(A),o(!1)},E=>{console.error(E),c(E.message),o(!1)});return()=>b()},[r]),{addresses:e,addAddress:async p=>{if(!r)throw new Error("Debes iniciar sesin");try{await $T(ya($t,"users",r.uid,"addresses"),p)}catch(b){throw console.error(b),b}},deleteAddress:async p=>{if(r)try{await XT(ur($t,"users",r.uid,"addresses",p))}catch(b){throw console.error(b),b}},loading:s,error:u}}const sx={lat:-38.7361644,lon:-62.2874379},sa={LOCAL_TIER_1:1500,LOCAL_TIER_2:3500,LOCAL_TIER_3:5e3,NATIONAL:8500,FREE_THRESHOLD:5};function CO(r,e,n,s){const u=vh(n-r),c=vh(s-e),m=Math.sin(u/2)*Math.sin(u/2)+Math.cos(vh(r))*Math.cos(vh(n))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function vh(r){return r*(Math.PI/180)}async function IO(r){try{const e=encodeURIComponent(r),s=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${e}&format=json&limit=1`,{headers:{"User-Agent":"AuraVerdeApp/1.0"}})).json();return s&&s.length>0?{lat:parseFloat(s[0].lat),lon:parseFloat(s[0].lon)}:null}catch(e){return console.error("Error geocoding address:",e),null}}async function bw(r,e=0){if(e>=sa.FREE_THRESHOLD||!r)return 0;const n=r.toLowerCase();if(!(n.includes("bahia blanca")||n.includes("baha blanca")||n.includes("punta alta")||n.includes("ingeniero white")||n.includes("general cerri")))return sa.NATIONAL;try{const o=await IO(r);if(!o)return console.warn("Could not geocode local address, using standard local price"),sa.LOCAL_TIER_3;const u=CO(sx.lat,sx.lon,o.lat,o.lon);return console.log(`Distance to store: ${u.toFixed(2)} km`),u<=2?sa.LOCAL_TIER_1:u<=4?sa.LOCAL_TIER_2:sa.LOCAL_TIER_3}catch(o){return console.error("Error calculating local distance:",o),sa.LOCAL_TIER_3}}function kO(){const r=bn(),{cartItems:e,removeFromCart:n,updateQuantity:s,subtotal:o,total:u,shippingCost:c,setShippingCost:m,selectedAddress:g,setSelectedAddress:p}=ba();vw();const{currentUser:b,userData:E}=Xn(),[A,k]=V.useState(!1),{showToast:B}=Dp(),L=E?.shippingAddress?.address&&E?.shippingAddress?.city,j=e.reduce((G,X)=>G+X.quantity,0);return V.useEffect(()=>{if(b&&E?.shippingAddress){const G=E.shippingAddress;(async()=>{k(!0);try{const re=`${G.address}, ${G.city}, ${G.zip}`,oe=await bw(re,j);m(oe),p(G)}catch(re){console.error("Error calculating shipping:",re),m(0)}finally{k(!1)}})()}else m(0),p(null)},[b,E,j]),y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden pb-32 bg-background-light dark:bg-background-dark md:pb-0",children:[y.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-surface-light/95 dark:bg-background-dark/95 backdrop-blur-sm p-4 pb-2 border-b border-gray-100 dark:border-gray-800 md:hidden",children:[y.jsx("button",{onClick:()=>r(-1),className:"flex size-10 shrink-0 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark cursor-pointer",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white text-2xl",children:"arrow_back_ios_new"})}),y.jsxs("h2",{className:"text-text-main dark:text-white text-lg font-bold leading-tight flex-1 text-center",children:["Mi Carrito (",j,")"]}),y.jsx("div",{className:"flex w-12 items-center justify-end cursor-pointer"})]}),y.jsxs("div",{className:"hidden md:flex items-center justify-between mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Carrito de Compras"}),y.jsxs("span",{className:"text-lg font-medium text-slate-500",children:[j," items"]})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-8 h-full overflow-hidden",children:[y.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-0 hide-scrollbar",children:y.jsx("div",{className:"flex flex-col gap-4",children:e.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 dark:text-gray-700 mb-4",children:"shopping_cart_off"}),y.jsx("p",{className:"text-lg text-gray-500 font-medium",children:"Tu carrito est vaco"}),y.jsx("button",{onClick:()=>r("/catalog"),className:"mt-4 text-primary font-bold hover:underline",children:"Comenzar a Comprar"})]}):e.map(G=>y.jsxs("div",{className:"relative flex flex-col gap-4 bg-surface-light dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-transparent dark:border-gray-800 md:flex-row md:items-center",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4 flex-1",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[y.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-lg aspect-square w-20 h-20 shrink-0 bg-gray-200",style:{backgroundImage:`url("${G.image}")`}}),y.jsxs("div",{className:"flex flex-col justify-center h-full",children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-bold leading-normal line-clamp-1",children:G.name}),y.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium leading-normal mb-2",children:G.type}),y.jsxs("p",{className:"text-text-main dark:text-primary text-base font-bold leading-normal",children:["$",G.price.toFixed(2)]})]})]}),y.jsx("button",{onClick:()=>n(G.id),className:"text-gray-400 hover:text-red-500 transition-colors md:self-center",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]}),y.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-3 mt-1 md:border-t-0 md:pt-0 md:mt-0 md:justify-end md:gap-6",children:[y.jsx("span",{className:"text-xs text-text-secondary dark:text-gray-500 font-medium md:hidden",children:"Cantidad"}),y.jsxs("div",{className:"flex items-center gap-3 bg-background-light dark:bg-background-dark rounded-full p-1 px-1",children:[y.jsx("button",{onClick:()=>s(G.id,-1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white dark:bg-surface-dark shadow-sm text-text-main dark:text-white hover:bg-gray-5 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:G.quantity<=1,children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),y.jsx("span",{className:"w-8 text-center text-text-main dark:text-white font-bold text-sm",children:G.quantity}),y.jsx("button",{onClick:()=>s(G.id,1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-text-main shadow-sm hover:brightness-110 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]})]})]},G.id))})}),e.length>0&&y.jsx("div",{className:`
            fixed bottom-0 left-0 right-0 bg-surface-light dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 p-4 px-6 pb-8 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] dark:shadow-none z-20 
            md:static md:w-96 md:h-fit md:border md:rounded-2xl md:p-6 md:pb-6 md:shadow-sm
          `,children:y.jsxs("div",{className:"flex flex-col gap-4 max-w-md mx-auto w-full",children:[y.jsxs("div",{className:"flex flex-col gap-4 border-b border-gray-200 dark:border-gray-700 pb-4",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Envo"}),b?y.jsx(y.Fragment,{children:L?y.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-xl border border-primary bg-primary/5",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Direccin de Envo"}),y.jsxs("p",{className:"text-slate-500",children:[E.shippingAddress.address,", ",E.shippingAddress.city,", ",E.shippingAddress.zip]})]}),y.jsx("button",{onClick:()=>r("/profile"),className:"text-primary font-bold text-xs hover:underline",children:"CAMBIAR"})]}):y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"No tienes una direccin de envo guardada."}),y.jsxs("button",{onClick:()=>r("/profile"),className:"flex items-center justify-center gap-2 p-3 rounded-xl border border-dashed border-gray-300 text-slate-500 hover:text-primary hover:border-primary/50 transition-colors text-sm font-medium",children:[y.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_location"}),"AGREGAR"]})]})}):y.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"Inicia sesin para gestionar tu direccin y calcular el envo."})]}),y.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Subtotal"}),y.jsxs("span",{className:"text-text-main dark:text-white text-sm font-bold",children:["$",o.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Envo"}),y.jsx("span",{className:`text-sm font-bold ${c===0?"text-primary":"text-text-main dark:text-white"}`,children:A?"Calculando...":c>0?`$${c}`:g?"Gratis":"Seleccionar direccin"})]}),y.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-main dark:text-white text-lg font-bold",children:"Total"}),y.jsxs("span",{className:"text-2xl font-black text-text-main dark:text-white leading-none",children:["$",u.toFixed(2)]})]})]}),y.jsxs("button",{onClick:()=>{L?r("/checkout"):B("Debe tener una direccion de envio para poder comprar, por favor agreguelo","error")},className:"flex w-full items-center justify-center gap-2 rounded-xl h-14 bg-primary text-text-main text-base font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 mt-2 disabled:opacity-50 disabled:pointer-events-none",disabled:A,children:[y.jsx("span",{children:A?"Calculando...":"Pagar"}),!A&&y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})]})]})})]})]})}function Ug(){const{currentUser:r}=Xn(),[e,n]=V.useState([]),[s,o]=V.useState(!0),[u,c]=V.useState(null),m=async g=>{if(!r)throw new Error("Debes iniciar sesin para comprar");o(!0);try{return(await $T(ya($t,"orders"),{...g,userId:r.uid,userEmail:r.email,createdAt:JD(),status:"Processing",paymentStatus:"pending"})).id}catch(p){throw console.error("Error creating order:",p),c(p.message),p}finally{o(!1)}};return V.useEffect(()=>{if(!r){n([]),o(!1);return}o(!0);const g=Sd(ya($t,"orders"),QT("userId","==",r.uid)),p=Ig(g,b=>{const E=b.docs.map(A=>{const k=A.data();return{id:A.id,...k,dateStr:k.createdAt?.toDate?k.createdAt.toDate().toLocaleDateString():"Reciente"}});E.sort((A,k)=>{const B=A.createdAt?.toMillis?A.createdAt.toMillis():Date.now();return(k.createdAt?.toMillis?k.createdAt.toMillis():Date.now())-B}),n(E),o(!1)},b=>{console.error("Error fetching orders:",b),c("No se pudieron cargar los pedidos"),o(!1)});return()=>p()},[r]),{orders:e,createOrder:m,loading:s,error:u}}function DO(){const r=bn(),{currentUser:e,userData:n,logout:s,userRole:o}=Xn(),{orders:u}=Ug(),c=V.useRef(null),[m,g]=V.useState(""),[p,b]=V.useState(""),[E,A]=V.useState(""),[k,B]=V.useState(!1),[L,j]=V.useState(!1),[G,X]=V.useState(null),[re,oe]=V.useState(!1),ve=async()=>{if(!(!m||!p)){oe(!0);try{const O=`${m}, ${p}, Argentina`,D=await bw(O,0);X(D)}catch(O){console.error("Error calculating cost:",O),alert("No se pudo calcular el costo. Verifica la direccin.")}finally{oe(!1)}}};V.useEffect(()=>{e?n&&n.shippingAddress&&(g(n.shippingAddress.address||""),b(n.shippingAddress.city||""),A(n.shippingAddress.zip||"")):r("/login")},[e,n,r]);const be=async()=>{if(!e)return;const O={address:m,city:p,zip:E};try{const D=ur($t,"users",e.uid);await Jb(D,{shippingAddress:O}),B(!1),alert("Direccin actualizada correctamente")}catch(D){console.error("Error updating address:",D),alert("Error al guardar la direccin")}},N=()=>{c.current.click()},S=async O=>{const D=O.target.files[0];if(D){j(!0);try{const U=lO(mO,`profile_images/${e.uid}`);await aO(U,D);const C=await oO(U),et=ur($t,"users",e.uid);await Jb(et,{photoURL:C})}catch(U){console.error("Error uploading image:",U),alert("Error al subir la imagen")}finally{j(!1)}}},R=async()=>{try{await s(),r("/login")}catch(O){console.error("Failed to log out",O)}};return e?y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden md:overflow-visible bg-background-light dark:bg-background-dark pb-24 md:pb-8",children:[y.jsx("div",{className:"md:hidden sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm border-b border-gray-100 dark:border-white/5",children:y.jsx(Ou,{title:"Perfil",showSearch:!1})}),y.jsxs("div",{className:"w-full max-w-7xl mx-auto md:p-6 md:grid md:grid-cols-12 md:gap-8 items-start",children:[y.jsxs("div",{className:"md:col-span-4 flex flex-col gap-6",children:[y.jsxs("div",{className:"bg-white dark:bg-surface-dark md:rounded-3xl md:p-6 md:shadow-lg md:border border-gray-100 dark:border-white/5",children:[y.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6 px-4",children:[y.jsxs("div",{className:"relative group cursor-pointer",onClick:N,children:[y.jsx("input",{type:"file",ref:c,onChange:S,className:"hidden",accept:"image/*"}),y.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full h-28 w-28 border-4 border-white dark:border-surface-dark shadow-lg bg-emerald-100 flex items-center justify-center text-4xl font-bold text-emerald-700 uppercase overflow-hidden",style:n?.photoURL?{backgroundImage:`url("${n.photoURL}")`}:{},children:L?y.jsx("span",{className:"material-symbols-outlined animate-spin text-3xl",children:"progress_activity"}):!n?.photoURL&&(n?.displayName?.charAt(0)||e.email?.charAt(0)||"U")}),y.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1.5 border-2 border-white dark:border-surface-dark shadow-sm group-hover:bg-emerald-600 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-black text-[18px]",children:"edit"})})]}),y.jsxs("div",{className:"flex flex-col items-center mt-4",children:[y.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-center text-text-main dark:text-white",children:n?.displayName||"Usuario"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm font-medium mt-1",children:e.email}),y.jsx("div",{className:"mt-3 bg-primary/20 px-3 py-1 rounded-full",children:y.jsx("p",{className:"text-black dark:text-primary text-xs font-bold uppercase tracking-wider",children:o==="admin"?"Administrador":"Cliente VIP"})})]})]}),y.jsxs("div",{className:"flex gap-3 px-4 pb-6 md:px-0 md:pb-0",children:[y.jsxs("button",{onClick:()=>r("/orders"),className:"flex flex-1 flex-col gap-1 rounded-2xl bg-gray-50 dark:bg-white/5 md:bg-gray-50 md:dark:bg-white/5 p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all cursor-pointer",children:[y.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:u.length}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Pedidos"})]}),y.jsxs("button",{onClick:()=>r("/favorites"),className:"flex flex-1 flex-col gap-1 rounded-2xl bg-gray-50 dark:bg-white/5 md:bg-gray-50 md:dark:bg-white/5 p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all cursor-pointer",children:[y.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:n?.favorites?.length||0}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Favoritos"})]})]})]}),y.jsxs("div",{className:"hidden md:block",children:[y.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors border border-red-100 dark:border-red-900/20",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),y.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]})]}),y.jsxs("div",{className:"md:col-span-8 flex flex-col gap-6",children:[y.jsxs("div",{className:"px-4 mt-2 mb-2 md:px-0 md:mt-0",children:[y.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Mi Jardn"}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsxs("button",{onClick:()=>r("/orders"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"local_shipping"})}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Mis Pedidos"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver historial"})]}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]}),y.jsx("div",{className:"h-[1px] bg-gray-100 dark:bg-white/5 mx-4"}),y.jsxs("button",{onClick:()=>r("/favorites"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"potted_plant"})}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Favoritos"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver guardados"})]}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]})]})]}),y.jsxs("div",{className:"px-4 mt-6 mb-2 md:px-0 md:mt-0",children:[y.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Direccin de Envo"}),y.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5 p-4",children:k?y.jsxs("div",{className:"flex flex-col gap-3 animate-fade-in-up",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Direccin de Entrega"}),y.jsx("input",{type:"text",value:m,onChange:O=>g(O.target.value),placeholder:"Calle y Nmero (ej. Av. Corrientes 1234)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",value:p,onChange:O=>b(O.target.value),placeholder:"Localidad (ej. Baha Blanca / Punta Alta)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{type:"text",value:E,onChange:O=>A(O.target.value),placeholder:"C.P.",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),y.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-100 dark:border-white/5",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("p",{className:"font-bold text-slate-700 dark:text-gray-300",children:"Costo de Envo Estimado:"}),G!==null?y.jsxs("p",{className:"text-primary font-bold text-lg",children:["$",G]}):y.jsx("p",{className:"text-gray-400 text-xs text-balance",children:"Ingresa tu direccin para calcular"})]}),y.jsx("button",{onClick:ve,disabled:re||!m||!p,className:"text-xs font-bold text-primary border border-primary/30 px-3 py-1.5 rounded-lg hover:bg-primary/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:re?"Calculando...":"Calcular"})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[y.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),y.jsx("button",{onClick:be,className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar Direccin"})]})]}):y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 dark:bg-white/10 shrink-0 size-10 mt-1",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"location_on"})}),y.jsx("div",{children:n?.shippingAddress&&(n.shippingAddress.address||n.shippingAddress.city)?y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold",children:n.shippingAddress.address}),y.jsxs("p",{className:"text-text-muted dark:text-gray-400 text-sm",children:[n.shippingAddress.city,", ",n.shippingAddress.zip]})]}):y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm italic font-medium",children:"NO HAY DIRECCION AGREGADA"})})]}),y.jsx("button",{onClick:()=>B(!0),className:"text-primary font-bold text-sm hover:underline",children:n?.shippingAddress&&(n.shippingAddress.address||n.shippingAddress.city)?"Editar":"Agregar"})]})})]}),y.jsxs("div",{className:"md:hidden px-4 mt-6 mb-8",children:[y.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),y.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]})]})]}),y.jsx("div",{className:"md:hidden",children:y.jsx(Ax,{})})]}):null}function OO(){const r=bn(),{orders:e,loading:n}=Ug();return y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col bg-background-light dark:bg-background-dark",children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800",children:[y.jsx("button",{onClick:()=>r("/profile"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mis Pedidos"})]}),y.jsxs("div",{className:"flex-1 p-4 max-w-3xl mx-auto w-full",children:[n&&y.jsx("div",{className:"mt-10 flex justify-center text-primary",children:y.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl",children:"progress_activity"})}),!n&&e.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-8 text-center bg-white dark:bg-surface-dark rounded-2xl shadow-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-200 dark:text-emerald-900/40 mb-4",children:"local_shipping"}),y.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Sin pedidos an"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Tu historial est vaco. Es hora de llenar el jardn!"}),y.jsx("button",{onClick:()=>r("/catalog"),className:"px-6 py-2 bg-primary text-white rounded-xl font-bold hover:bg-emerald-600 transition-colors",children:"Ir al Catlogo"})]}),y.jsx("div",{className:"flex flex-col gap-4",children:e.map(s=>y.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5 flex gap-4",children:[y.jsx("div",{className:"size-20 bg-gray-100 rounded-xl bg-center bg-cover shrink-0",style:{backgroundImage:`url(${s.items?.[0]?.image||"https://via.placeholder.com/150"})`},children:s.items?.length>1&&y.jsxs("div",{className:"flex items-center justify-center h-full w-full bg-black/40 text-white font-bold rounded-xl backdrop-blur-sm",children:["+",s.items.length-1]})}),y.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white text-xs md:text-sm uppercase tracking-wider text-slate-500",children:["ID: ",s.id.slice(0,8),"..."]}),y.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${s.status==="Delivered"?"bg-green-100 text-green-700":s.status==="Processing"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:s.status})]}),y.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:[s.items?.[0]?.name," ",s.items?.length>1?`y ${s.items.length-1} ms`:""]}),y.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[y.jsx("span",{className:"text-xs text-slate-400",children:s.dateStr}),y.jsxs("span",{className:"font-bold text-primary",children:["$",s.total?.toFixed(2)]})]})]})]},s.id))})]})]})}function jO(){const{addresses:r,addAddress:e,deleteAddress:n,loading:s}=vw(),[o,u]=V.useState(!1),[c,m]=V.useState({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""}),g=bn(),p=E=>{const{name:A,value:k}=E.target;m(B=>({...B,[A]:k}))},b=async E=>{E.preventDefault();try{await e(c),u(!1),m({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""})}catch(A){alert("Error al guardar: "+A.message)}};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Ou,{title:"Mis Direcciones",showSearch:!1})}),y.jsxs("div",{className:"hidden md:flex items-center gap-4 p-6 border-b border-gray-100 dark:border-white/5 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm sticky top-0 z-10",children:[y.jsx("button",{onClick:()=>g("/profile"),className:"flex items-center justify-center size-10 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Mis Direcciones"})]}),y.jsxs("div",{className:"p-4 md:p-8 max-w-2xl mx-auto w-full flex flex-col gap-6",children:[s&&y.jsx("div",{className:"flex justify-center p-8",children:y.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary",children:"progress_activity"})}),!s&&r.map(E=>y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 flex flex-col gap-2 relative group",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:E.alias})]}),y.jsx("button",{onClick:()=>n(E.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2 -mr-2 -mt-2",children:y.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),y.jsxs("div",{className:"pl-8 text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:[y.jsxs("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:[E.firstName," ",E.lastName]}),y.jsx("p",{children:E.address}),y.jsxs("p",{children:[E.city,", ",E.zip]})]})]},E.id)),!s&&r.length===0&&!o&&y.jsxs("div",{className:"text-center py-12 opacity-60",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-2",children:"map"}),y.jsx("p",{children:"No tienes direcciones guardadas."})]}),o?y.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-lg border border-primary/20 animate-fade-in-up",children:[y.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-900 dark:text-white",children:"Nueva Direccin"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("input",{name:"alias",value:c.alias,onChange:p,required:!0,placeholder:"Nombre (ej. Casa, Trabajo)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"firstName",value:c.firstName,onChange:p,required:!0,placeholder:"Nombre",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{name:"lastName",value:c.lastName,onChange:p,required:!0,placeholder:"Apellido",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),y.jsx("input",{name:"address",value:c.address,onChange:p,required:!0,placeholder:"Calle y nmero",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"city",value:c.city,onChange:p,required:!0,placeholder:"Ciudad",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{name:"zip",value:c.zip,onChange:p,required:!0,placeholder:"Cdigo Postal",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[y.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar"})]})]})]}):y.jsxs("button",{onClick:()=>u(!0),className:"w-full py-4 rounded-xl border-2 border-dashed border-gray-300 dark:border-white/10 text-slate-400 font-bold flex items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-white/5 hover:border-primary/50 hover:text-primary transition-all",children:[y.jsx("span",{className:"material-symbols-outlined",children:"add_location_alt"}),"Agregar Nueva Direccin"]})]})]})}var Ql={},ax;function MO(){if(ax)return Ql;ax=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.loadMercadoPago=void 0;const r="https://sdk.mercadopago.com/js/v2",e=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,n="MercadoPago has already been initialized in your window, please remove the duplicate import",s="MercadoPago.js not available",o="Failed to load MercadoPago.js",u=()=>{for(var p=document.querySelectorAll(`script[src^="${r}"`),b=0;b<p.length;b++){var E=p[b];if(e.test(E.src))return E}return null},c=()=>{const p=document.createElement("script");p.src=r;const b=document.head||document.body;if(!b)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return b.appendChild(p),p};let m=null;const g=()=>(m!==null||(m=new Promise((p,b)=>{if(typeof window>"u"){p(null);return}if(window.MercadoPago){console.warn(n),p(window.MercadoPago);return}try{let E=u();E?console.warn(n):E||(E=c()),E.addEventListener("load",()=>{window.MercadoPago?p(window.MercadoPago):b(new Error(s))}),E.addEventListener("error",()=>{b(new Error(o))})}catch(E){b(E);return}})),m);return Ql.loadMercadoPago=g,Ql}var VO=MO(),PO=function(r,e,n,s){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function m(b){try{p(s.next(b))}catch(E){c(E)}}function g(b){try{p(s.throw(b))}catch(E){c(E)}}function p(b){b.done?u(b.value):o(b.value).then(m,g)}p((s=s.apply(r,e||[])).next())})};class Pr{static getInstance(){return PO(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield VO.loadMercadoPago(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}Pr.publicKey=null;Pr.options={};Pr.instanceMercadoPago=void 0;Pr.loadedInstanceMercadoPago=!1;function LO(r,e){return Object.keys(r).length===Object.keys(e).length&&Object.keys(r).every(s=>Object.prototype.hasOwnProperty.call(e,s)&&r[s]===e[s])}const UO=(r,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),s=!LO(Pr.options,n);(r!==Pr.publicKey||s)&&(Pr.publicKey=r,Pr.options=n,Pr.instanceMercadoPago=void 0)};var zO=function(r,e,n,s){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function m(b){try{p(s.next(b))}catch(E){c(E)}}function g(b){try{p(s.throw(b))}catch(E){c(E)}}function p(b){b.done?u(b.value):o(b.value).then(m,g)}p((s=s.apply(r,e||[])).next())})};const BO=()=>zO(void 0,void 0,void 0,function*(){}),qO=()=>{},HO=r=>{console.error(r)};var FO=function(r,e,n,s){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function m(b){try{p(s.next(b))}catch(E){c(E)}}function g(b){try{p(s.throw(b))}catch(E){c(E)}}function p(b){b.done?u(b.value):o(b.value).then(m,g)}p((s=s.apply(r,e||[])).next())})};const GO=({settings:r,name:e,containerId:n,controller:s})=>FO(void 0,void 0,void 0,function*(){const o=yield Pr.getInstance(),u=o?.bricks();window[s]=yield u?.create(e,n,r)}),QO=200,KO=({onReady:r=qO,onError:e=HO,onSubmit:n=BO,customization:s,initialization:o,locale:u,id:c="walletBrick_container"})=>(V.useEffect(()=>{const m={settings:{initialization:o,customization:s,locale:u,callbacks:{onReady:r,onSubmit:n,onError:e}},name:"wallet",containerId:c,controller:"walletBrickController"},g=setTimeout(()=>{GO(m)},QO);return()=>{var p;clearTimeout(g),(p=window.walletBrickController)===null||p===void 0||p.unmount()}},[s,o,r,e,n]),t1.createElement("div",{id:c})),YO="APP_USR-ba40ce42-cf76-493a-89e2-d548df4447d4";function XO({orderId:r,total:e,items:n,shippingCost:s}){const[o,u]=V.useState(null),[c,m]=V.useState(!1);V.useEffect(()=>{UO(YO,{locale:"es-AR"})},[]);const g=async()=>{m(!0);try{const p=n.map(k=>({id:k.id,title:k.name,currency_id:"ARS",picture_url:k.image,description:k.name,category_id:"gardening",quantity:k.quantity,unit_price:Number(k.price)}));s>0&&p.push({id:"shipping",title:"Envo",currency_id:"ARS",description:"Costo de envo",quantity:1,unit_price:Number(s)});const E=await fetch("https://us-central1-auraverde-db.cloudfunctions.net/createPreference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:p,orderId:r})});if(!E.ok)throw new Error("Network response was not ok");const{id:A}=await E.json();u(A)}catch(p){console.error("Error creating preference:",p),alert("Error al inicializar el pago. Intenta nuevamente.")}finally{m(!1)}};return y.jsxs("div",{className:"flex flex-col gap-4",children:[o?y.jsx(KO,{initialization:{preferenceId:o}}):y.jsx("button",{onClick:g,disabled:c,className:"w-full py-4 bg-[#009EE3] hover:bg-[#008ED6] text-white font-bold rounded-xl shadow-lg shadow-blue-400/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:c?y.jsx("span",{className:"size-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:["Pagar con ",y.jsx("span",{className:"font-extrabold",children:"Mercado Pago"})]})}),y.jsxs("p",{className:"text-xs text-center text-gray-400 mt-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px] align-middle mr-1",children:"lock"}),"Pagos procesados de forma segura por Mercado Pago"]})]})}function $O(){const r=bn(),{cartItems:e,total:n,subtotal:s,tax:o,clearCart:u,shippingCost:c}=ba(),{createOrder:m}=Ug(),{currentUser:g,userData:p}=Xn(),[b,E]=V.useState(!1),[A,k]=V.useState(null);V.useEffect(()=>{g&&p&&!p.shippingAddress&&(alert("Para que podamos enviarte tu pedido necesitamos tu direccion"),r("/profile"))},[g,p,r]);const B=async L=>{if(L.preventDefault(),e.length!==0){E(!0);try{await new Promise(X=>setTimeout(X,1500));const j={items:e,subtotal:s,tax:o,total:n,shippingAddress:p.shippingAddress,paymentLast4:"MercadoPago",status:"pending_payment",date:new Date().toLocaleDateString()},G=await m(j);k(G)}catch(j){console.error("Checkout failed",j),alert("Error: "+j.message),E(!1)}}};return e.length,y.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark pb-12",children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800 mb-6",children:[y.jsx("button",{onClick:()=>r("/cart"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Pagar"})]}),y.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx("div",{className:"flex flex-col gap-6",children:y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"local_shipping"}),"Direccin de Envo"]}),y.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5 flex items-start gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-primary mt-0.5",children:"location_on"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-base",children:p?.displayName||"Usuario"}),y.jsx("p",{className:"text-slate-600 dark:text-gray-300 text-sm mt-1",children:p?.shippingAddress?.address}),y.jsxs("p",{className:"text-slate-500 dark:text-gray-400 text-sm",children:[p?.shippingAddress?.city,", ",p?.shippingAddress?.zip]})]})]}),y.jsx("div",{className:"mt-4 flex justify-end",children:y.jsx("button",{onClick:()=>r("/profile"),className:"text-primary text-sm font-bold hover:underline",children:"Editar en Perfil"})})]})}),y.jsx("div",{className:"flex flex-col gap-6",children:y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Resumen del Pedido"}),y.jsx("div",{className:"flex flex-col gap-4 mb-6 max-h-64 overflow-y-auto pr-2 custom-scrollbar",children:e.map(L=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"size-16 bg-gray-100 rounded-lg bg-center bg-cover shrink-0",style:{backgroundImage:`url(${L.image})`}}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:L.name}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:["Cant: ",L.quantity]}),y.jsxs("p",{className:"font-bold text-primary text-sm",children:["$",(L.price*L.quantity).toFixed(2)]})]})]},L.id))}),y.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-4"}),y.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[y.jsx("span",{children:"Subtotal"}),y.jsxs("span",{children:["$",s.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[y.jsx("span",{children:"Envo"}),c===0?y.jsx("span",{className:"text-green-500 font-bold",children:"Gratis"}):y.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["$",c.toFixed(2)]})]}),y.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-2"}),y.jsxs("div",{className:"flex justify-between text-lg font-bold text-slate-900 dark:text-white",children:[y.jsx("span",{children:"Total"}),y.jsxs("span",{children:["$",n.toFixed(2)]})]})]}),y.jsx("div",{className:"mt-6",children:A?y.jsx(XO,{orderId:A,total:n,items:e,shippingCost:c}):y.jsx("button",{onClick:B,type:"submit",disabled:b,className:"w-full py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"Procesando...":"Confirmar Datos y Pagar"})})]})})]})]})}function WO(){const r=bn(),e=`ORD-${Math.floor(Math.random()*1e6)}`;return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background-light dark:bg-background-dark p-6 text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6 animate-bounce",children:y.jsx("span",{className:"material-symbols-outlined text-5xl text-green-600 dark:text-green-400",children:"check_circle"})}),y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"Gracias por su compra!"}),y.jsxs("p",{className:"text-lg text-slate-500 dark:text-gray-400 mb-8 max-w-md",children:["Su orden ",y.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:e})," ha sido confirmada y ser enviada pronto."]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-sm",children:[y.jsx("button",{onClick:()=>r("/catalog"),className:"flex-1 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 transition-all",children:"Continuar Comprando"}),y.jsx("button",{onClick:()=>r("/orders"),className:"flex-1 py-4 bg-white dark:bg-surface-dark border-2 border-slate-200 dark:border-gray-700 text-slate-900 dark:text-white font-bold rounded-2xl hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:"Ver Orden"})]})]})}function JO(){const[r,e]=V.useState(""),[n,s]=V.useState(""),[o,u]=V.useState(""),[c,m]=V.useState(!1),{signin:g}=Xn(),p=bn();async function b(E){E.preventDefault();try{u(""),m(!0),await g(r,n),p("/profile")}catch(A){console.error(A),u("Error al iniciar sesin: Verifique sus credenciales.")}m(!1)}return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:y.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[y.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Bienvenido"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"Ingresa a tu cuenta para continuar"}),o&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:o}),y.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:r,onChange:E=>e(E.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:n,onChange:E=>s(E.target.value),required:!0})]}),y.jsx("button",{type:"submit",disabled:c,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:c?"Iniciando...":"Iniciar Sesin"})]}),y.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["No tienes una cuenta? ",y.jsx(un,{to:"/register",className:"text-primary font-bold hover:underline",children:"Regstrate"})]})]})})}function ZO(){const[r,e]=V.useState(""),[n,s]=V.useState(""),[o,u]=V.useState(""),[c,m]=V.useState(""),[g,p]=V.useState(""),[b,E]=V.useState(!1),{signup:A}=Xn(),k=bn();async function B(L){if(L.preventDefault(),n!==o)return p("Las contraseas no coinciden");try{p(""),E(!0),await A(r,n,c),k("/")}catch(j){console.error(j),p("Error al crear la cuenta. Intente nuevamente.")}E(!1)}return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4",children:y.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[y.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Crear Cuenta"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"nete a Aura Verde hoy"}),g&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:g}),y.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Completo"}),y.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"Juan Prez",value:c,onChange:L=>m(L.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:r,onChange:L=>e(L.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:n,onChange:L=>s(L.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirmar Contrasea"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:o,onChange:L=>u(L.target.value),required:!0})]}),y.jsx("button",{type:"submit",disabled:b,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:b?"Creando cuenta...":"Registrarse"})]}),y.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Ya tienes cuenta? ",y.jsx(un,{to:"/login",className:"text-primary font-bold hover:underline",children:"Inicia Sesin"})]})]})})}function ej(){const[r,e]=V.useState("idle"),[n,s]=V.useState([]);async function o(){e("loading"),s(u=>[...u,"Iniciando migracin..."]);try{let u=0;for(const c of ix)await Jh(ur($t,"products",String(c.id)),{...c,price:Number(c.price),createdAt:new Date().toISOString()}),s(m=>[...m,` Producto migrado: ${c.name}`]),u++;e("success"),s(c=>[...c,` xito! ${u} productos subidos a Firestore.`])}catch(u){console.error(u),e("error"),s(c=>[...c,` Error: ${u.message}`])}}return y.jsxs("div",{className:"min-h-screen p-8 flex flex-col items-center",children:[y.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Migracin de Base de Datos"}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-lg w-full max-w-2xl border border-slate-200 dark:border-slate-800",children:[y.jsxs("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:["Este script leer los ",ix.length," productos del archivo local y los subir a tu base de datos Firestore."]}),y.jsx("button",{onClick:o,disabled:r==="loading"||r==="success",className:`w-full py-3 rounded-xl font-bold text-white transition-all
            ${r==="success"?"bg-green-500":"bg-blue-600 hover:bg-blue-700"}`,children:r==="loading"?"Migrando...":r==="success"?"Migracin Completada!":"Iniciar Migracin"}),y.jsx("div",{className:"mt-6 bg-slate-100 dark:bg-slate-900 p-4 rounded-lg font-mono text-sm h-64 overflow-y-auto",children:n.map((u,c)=>y.jsx("div",{className:"mb-1 text-slate-700 dark:text-slate-300 border-b border-slate-200 dark:border-slate-800 pb-1 last:border-0",children:u},c))})]})]})}function tj(){const{userRole:r,currentUser:e}=Xn();bn();const[n,s]=V.useState([]),[o,u]=V.useState(!0),[c,m]=V.useState(!1),[g,p]=V.useState({name:"",price:"",type:"",image:"",description:"",isNew:!1});V.useEffect(()=>{},[e,r,o]);const b=async()=>{u(!0);try{const j=(await Cg(ya($t,"products"))).docs.map(G=>({id:G.id,...G.data()}));j.sort((G,X)=>parseInt(G.id)-parseInt(X.id)),s(j)}catch(L){console.error("Error fetching products:",L)}finally{u(!1)}};V.useEffect(()=>{b()},[]);const E=async L=>{if(window.confirm("Ests seguro de borrar este producto?"))try{await XT(ur($t,"products",L)),b()}catch(j){console.error("Error deleting:",j),alert("Error al borrar")}},A=()=>{if(n.length===0)return 1;const L=n.map(j=>parseInt(j.id)).filter(j=>!isNaN(j));return L.length===0?1:Math.max(...L)+1},k=async L=>{L.preventDefault(),m(!0);try{const j=A(),G={...g,id:j,price:parseFloat(g.price),createdAt:new Date().toISOString()};await Jh(ur($t,"products",String(j)),G),alert(` Producto creado con ID: ${j}`),p({name:"",price:"",type:"",image:"",description:"",isNew:!1}),b()}catch(j){console.error("Error creating product:",j),alert("Error al crear el producto")}finally{m(!1)}},B=L=>{const j=L.target.type==="checkbox"?L.target.checked:L.target.value;p({...g,[L.target.name]:j})};return!e||r!=="admin"?y.jsxs("div",{className:"p-10 text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Acceso Restringido"}),y.jsx("p",{className:"mb-2",children:"Solo los administradores pueden ver esta pgina."}),y.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg inline-block text-left text-sm font-mono text-black dark:text-white",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Tu UID:"})," ",e?.uid||"No logueado"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Tu Rol actual:"})," ",r||"Ninguno"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",e?.email||"-"]})]}),y.jsxs("div",{className:"mt-6 flex flex-col gap-2 justify-center items-center",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Si cambiaste el rol en Firebase, recarga:"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Recargar Pgina"}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"O prueba cerrar sesin para limpiar cach:"})]})]}):y.jsxs("div",{className:"min-h-screen p-6 md:p-12 bg-gray-50 dark:bg-black",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8 text-slate-900 dark:text-white",children:"Panel de Administracin"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10 h-fit",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})," Nuevo Producto"]}),y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Nombre"}),y.jsx("input",{required:!0,name:"name",value:g.name,onChange:B,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"Ej. Monstera"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Precio ($)"}),y.jsx("input",{required:!0,type:"number",step:"0.01",name:"price",value:g.price,onChange:B,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"0.00"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tipo"}),y.jsx("input",{required:!0,name:"type",value:g.type,onChange:B,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"Ej. Interior"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"URL Imagen"}),y.jsx("input",{required:!0,name:"image",value:g.image,onChange:B,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Descripcin"}),y.jsx("textarea",{name:"description",value:g.description,onChange:B,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",rows:"3",placeholder:"Descripcin del producto..."})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",name:"isNew",checked:g.isNew,onChange:B,id:"isNew",className:"w-5 h-5 accent-primary"}),y.jsx("label",{htmlFor:"isNew",className:"cursor-pointer",children:'Marcar como "Nuevo"'})]}),y.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-black font-bold py-3 rounded-xl hover:bg-emerald-500 transition-colors",children:c?"Guardando...":"Guardar Producto"})]})]}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"})," Inventario (",n.length,")"]}),y.jsx("div",{className:"overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:n.map(L=>y.jsxs("div",{className:"flex items-center gap-4 p-3 mb-2 border rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[y.jsx("img",{src:L.image,alt:L.name,className:"w-12 h-12 object-cover rounded-lg bg-gray-200"}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-bold",children:["#",L.id," - ",L.name]}),y.jsxs("div",{className:"text-sm text-gray-500",children:["$",L.price," | ",L.type]})]}),y.jsx("button",{onClick:()=>E(L.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Borrar",children:y.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]},L.id))})]})]})]})}function nj(){return y.jsx(RS,{children:y.jsx(LS,{children:y.jsx(_O,{children:y.jsx(pO,{children:y.jsx(US,{children:y.jsx(iS,{children:y.jsxs(en,{element:y.jsx(bO,{}),children:[y.jsx(en,{path:"/",element:y.jsx(TO,{})}),y.jsx(en,{path:"/catalog",element:y.jsx(RO,{})}),y.jsx(en,{path:"/product/:id",element:y.jsx(NO,{})}),y.jsx(en,{path:"/cart",element:y.jsx(kO,{})}),y.jsx(en,{path:"/profile",element:y.jsx(DO,{})}),y.jsx(en,{path:"/orders",element:y.jsx(OO,{})}),y.jsx(en,{path:"/addresses",element:y.jsx(jO,{})}),y.jsx(en,{path:"/checkout",element:y.jsx($O,{})}),y.jsx(en,{path:"/success",element:y.jsx(WO,{})}),y.jsx(en,{path:"/login",element:y.jsx(JO,{})}),y.jsx(en,{path:"/register",element:y.jsx(ZO,{})}),y.jsx(en,{path:"/migrate",element:y.jsx(ej,{})}),y.jsx(en,{path:"/favorites",element:y.jsx(wO,{})}),y.jsx(en,{path:"/admin",element:y.jsx(tj,{})})]})})})})})})})}l1.createRoot(document.getElementById("root")).render(y.jsx(V.StrictMode,{children:y.jsx(nj,{})}));
