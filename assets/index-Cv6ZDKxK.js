(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function EA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var am={exports:{}},pu={};var X0;function xA(){if(X0)return pu;X0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var W0;function wA(){return W0||(W0=1,am.exports=xA()),am.exports}var v=wA(),om={exports:{}},Oe={};var Z0;function TA(){if(Z0)return Oe;Z0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function z(j,ee,ae){this.props=j,this.context=ee,this.refs=L,this.updater=ae||R}z.prototype.isReactComponent={},z.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=z.prototype;function Q(j,ee,ae){this.props=j,this.context=ee,this.refs=L,this.updater=ae||R}var H=Q.prototype=new B;H.constructor=Q,O(H,z.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function Z(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function A(j,ee,ae){var he=ae.ref;return{$$typeof:n,type:j,key:ee,ref:he!==void 0?he:null,props:ae}}function P(j,ee){return A(j.type,ee,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function U(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return ee[ae]})}var M=/\/+/g;function pe(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):ee.toString(36)}function ye(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Z,Z):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,ee,ae,he,W){var _e=typeof j;(_e==="undefined"||_e==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(_e){case"bigint":case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case n:case e:we=!0;break;case b:return we=j._init,K(we(j._payload),ee,ae,he,W)}}if(we)return W=W(j),we=he===""?"."+pe(j,0):he,F(W)?(ae="",we!=null&&(ae=we.replace(M,"$&/")+"/"),K(W,ee,ae,"",function(Se){return Se})):W!=null&&(D(W)&&(W=P(W,ae+(W.key==null||j&&j.key===W.key?"":(""+W.key).replace(M,"$&/")+"/")+we)),ee.push(W)),1;we=0;var Te=he===""?".":he+":";if(F(j))for(var Ne=0;Ne<j.length;Ne++)he=j[Ne],_e=Te+pe(he,Ne),we+=K(he,ee,ae,_e,W);else if(Ne=C(j),typeof Ne=="function")for(j=Ne.call(j),Ne=0;!(he=j.next()).done;)he=he.value,_e=Te+pe(he,Ne++),we+=K(he,ee,ae,_e,W);else if(_e==="object"){if(typeof j.then=="function")return K(ye(j),ee,ae,he,W);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function se(j,ee,ae){if(j==null)return j;var he=[],W=0;return K(j,he,"","",function(_e){return ee.call(ae,_e,W++)}),he}function de(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ge={map:se,forEach:function(j,ee,ae){se(j,function(){ee.apply(this,arguments)},ae)},count:function(j){var ee=0;return se(j,function(){ee++}),ee},toArray:function(j){return se(j,function(ee){return ee})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Oe.Activity=_,Oe.Children=ge,Oe.Component=z,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=Q,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return k.H.useMemoCache(j)}},Oe.cache=function(j){return function(){return j.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(j,ee,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=O({},j.props),W=j.key;if(ee!=null)for(_e in ee.key!==void 0&&(W=""+ee.key),ee)!N.call(ee,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ee.ref===void 0||(he[_e]=ee[_e]);var _e=arguments.length-2;if(_e===1)he.children=ae;else if(1<_e){for(var we=Array(_e),Te=0;Te<_e;Te++)we[Te]=arguments[Te+2];he.children=we}return A(j.type,W,he)},Oe.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Oe.createElement=function(j,ee,ae){var he,W={},_e=null;if(ee!=null)for(he in ee.key!==void 0&&(_e=""+ee.key),ee)N.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(W[he]=ee[he]);var we=arguments.length-2;if(we===1)W.children=ae;else if(1<we){for(var Te=Array(we),Ne=0;Ne<we;Ne++)Te[Ne]=arguments[Ne+2];W.children=Te}if(j&&j.defaultProps)for(he in we=j.defaultProps,we)W[he]===void 0&&(W[he]=we[he]);return A(j,_e,W)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:f,render:j}},Oe.isValidElement=D,Oe.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:de}},Oe.memo=function(j,ee){return{$$typeof:m,type:j,compare:ee===void 0?null:ee}},Oe.startTransition=function(j){var ee=k.T,ae={};k.T=ae;try{var he=j(),W=k.S;W!==null&&W(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Z,me)}catch(_e){me(_e)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),k.T=ee}},Oe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Oe.use=function(j){return k.H.use(j)},Oe.useActionState=function(j,ee,ae){return k.H.useActionState(j,ee,ae)},Oe.useCallback=function(j,ee){return k.H.useCallback(j,ee)},Oe.useContext=function(j){return k.H.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j,ee){return k.H.useDeferredValue(j,ee)},Oe.useEffect=function(j,ee){return k.H.useEffect(j,ee)},Oe.useEffectEvent=function(j){return k.H.useEffectEvent(j)},Oe.useId=function(){return k.H.useId()},Oe.useImperativeHandle=function(j,ee,ae){return k.H.useImperativeHandle(j,ee,ae)},Oe.useInsertionEffect=function(j,ee){return k.H.useInsertionEffect(j,ee)},Oe.useLayoutEffect=function(j,ee){return k.H.useLayoutEffect(j,ee)},Oe.useMemo=function(j,ee){return k.H.useMemo(j,ee)},Oe.useOptimistic=function(j,ee){return k.H.useOptimistic(j,ee)},Oe.useReducer=function(j,ee,ae){return k.H.useReducer(j,ee,ae)},Oe.useRef=function(j){return k.H.useRef(j)},Oe.useState=function(j){return k.H.useState(j)},Oe.useSyncExternalStore=function(j,ee,ae){return k.H.useSyncExternalStore(j,ee,ae)},Oe.useTransition=function(){return k.H.useTransition()},Oe.version="19.2.3",Oe}var J0;function hg(){return J0||(J0=1,om.exports=TA()),om.exports}var y=hg();const SA=EA(y);var lm={exports:{}},mu={},um={exports:{}},cm={};var e_;function CA(){return e_||(e_=1,(function(n){function e(K,se){var de=K.length;K.push(se);e:for(;0<de;){var me=de-1>>>1,ge=K[me];if(0<a(ge,se))K[me]=se,K[de]=ge,de=me;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var se=K[0],de=K.pop();if(de!==se){K[0]=de;e:for(var me=0,ge=K.length,j=ge>>>1;me<j;){var ee=2*(me+1)-1,ae=K[ee],he=ee+1,W=K[he];if(0>a(ae,de))he<ge&&0>a(W,ae)?(K[me]=W,K[he]=de,me=he):(K[me]=ae,K[ee]=de,me=ee);else if(he<ge&&0>a(W,de))K[me]=W,K[he]=de,me=he;else break e}}return se}function a(K,se){var de=K.sortIndex-se.sortIndex;return de!==0?de:K.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],b=1,_=null,T=3,C=!1,R=!1,O=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function H(K){for(var se=t(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=K)i(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(m)}}function F(K){if(O=!1,H(K),!R)if(t(p)!==null)R=!0,Z||(Z=!0,U());else{var se=t(m);se!==null&&ye(F,se.startTime-K)}}var Z=!1,k=-1,N=5,A=-1;function P(){return L?!0:!(n.unstable_now()-A<N)}function D(){if(L=!1,Z){var K=n.unstable_now();A=K;var se=!0;try{e:{R=!1,O&&(O=!1,B(k),k=-1),C=!0;var de=T;try{t:{for(H(K),_=t(p);_!==null&&!(_.expirationTime>K&&P());){var me=_.callback;if(typeof me=="function"){_.callback=null,T=_.priorityLevel;var ge=me(_.expirationTime<=K);if(K=n.unstable_now(),typeof ge=="function"){_.callback=ge,H(K),se=!0;break t}_===t(p)&&i(p),H(K)}else i(p);_=t(p)}if(_!==null)se=!0;else{var j=t(m);j!==null&&ye(F,j.startTime-K),se=!1}}break e}finally{_=null,T=de,C=!1}se=void 0}}finally{se?U():Z=!1}}}var U;if(typeof Q=="function")U=function(){Q(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,pe=M.port2;M.port1.onmessage=D,U=function(){pe.postMessage(null)}}else U=function(){z(D,0)};function ye(K,se){k=z(function(){K(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var de=T;T=se;try{return K()}finally{T=de}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=T;T=K;try{return se()}finally{T=de}},n.unstable_scheduleCallback=function(K,se,de){var me=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?me+de:me):de=me,K){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=de+ge,K={id:b++,callback:se,priorityLevel:K,startTime:de,expirationTime:ge,sortIndex:-1},de>me?(K.sortIndex=de,e(m,K),t(p)===null&&K===t(m)&&(O?(B(k),k=-1):O=!0,ye(F,de-me))):(K.sortIndex=ge,e(p,K),R||C||(R=!0,Z||(Z=!0,U()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var se=T;return function(){var de=T;T=se;try{return K.apply(this,arguments)}finally{T=de}}}})(cm)),cm}var t_;function AA(){return t_||(t_=1,um.exports=CA()),um.exports}var dm={exports:{}},gn={};var n_;function RA(){if(n_)return gn;n_=1;var n=hg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,b)},gn.flushSync=function(p){var m=c.T,b=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=b,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,_=f(b,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:C}):b==="script"&&i.d.X(p,{crossOrigin:_,integrity:T,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,_=f(b,m.crossOrigin);i.d.L(p,b,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,b){return c.H.useFormState(p,m,b)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.2.3",gn}var r_;function pw(){if(r_)return dm.exports;r_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=RA(),dm.exports}var i_;function kA(){if(i_)return mu;i_=1;var n=AA(),e=hg(),t=pw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return p(h),r;if(g===u)return p(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var x=!1,S=h.child;S;){if(S===o){x=!0,o=h,u=g;break}if(S===u){x=!0,u=h,o=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===o){x=!0,o=g,u=h;break}if(S===u){x=!0,u=g,o=h;break}S=S.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function b(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=b(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case F:return"Suspense";case Z:return"SuspenseList";case A:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case Q:return r.displayName||"Context";case B:return(r._context.displayName||"Context")+".Consumer";case H:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:pe(r.type)||"Memo";case N:s=r._payload,r=r._init;try{return pe(r(s))}catch{}}return null}var ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},me=[],ge=-1;function j(r){return{current:r}}function ee(r){0>ge||(r.current=me[ge],me[ge]=null,ge--)}function ae(r,s){ge++,me[ge]=r.current,r.current=s}var he=j(null),W=j(null),_e=j(null),we=j(null);function Te(r,s){switch(ae(_e,s),ae(W,r),ae(he,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?b0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=b0(s),r=_0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(he),ae(he,r)}function Ne(){ee(he),ee(W),ee(_e)}function Se(r){r.memoizedState!==null&&ae(we,r);var s=he.current,o=_0(s,r.type);s!==o&&(ae(W,r),ae(he,o))}function ze(r){W.current===r&&(ee(he),ee(W)),we.current===r&&(ee(we),cu._currentValue=de)}var Yt,hn;function fn(r){if(Yt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Yt=s&&s[1]||"",hn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+r+hn}var We=!1;function Dr(r,s){if(!r||We)return"";We=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var J=ne}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ne){J=ne}r.call(ue.prototype)}}else{try{throw Error()}catch(ne){J=ne}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var V=x.split(`
`),X=S.split(`
`);for(h=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(u===V.length||h===X.length)for(u=V.length-1,h=X.length-1;1<=u&&0<=h&&V[u]!==X[h];)h--;for(;1<=u&&0<=h;u--,h--)if(V[u]!==X[h]){if(u!==1||h!==1)do if(u--,h--,0>h||V[u]!==X[h]){var ie=`
`+V[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=h);break}}}finally{We=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?fn(o):""}function Pr(r,s){switch(r.tag){case 26:case 27:case 5:return fn(r.type);case 16:return fn("Lazy");case 13:return r.child!==s&&s!==null?fn("Suspense Fallback"):fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return Dr(r.type,!1);case 11:return Dr(r.type.render,!1);case 1:return Dr(r.type,!0);case 31:return fn("Activity");default:return""}}function ns(r){try{var s="",o=null;do s+=Pr(r,o),o=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pt=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,Vn=n.unstable_cancelCallback,to=n.unstable_shouldYield,mi=n.unstable_requestPaint,Xt=n.unstable_now,jr=n.unstable_getCurrentPriorityLevel,rs=n.unstable_ImmediatePriority,Vr=n.unstable_UserBlockingPriority,yr=n.unstable_NormalPriority,is=n.unstable_LowPriority,aa=n.unstable_IdlePriority,gi=n.log,oa=n.unstable_setDisableYieldValue,pn=null,Dt=null;function tn(r){if(typeof gi=="function"&&oa(r),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(pn,r)}catch{}}var yt=Math.clz32?Math.clz32:bi,vi=Math.log,yi=Math.LN2;function bi(r){return r>>>=0,r===0?32:31-(vi(r)/yi|0)|0}var Un=256,Ur=262144,xt=4194304;function xn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function zn(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?h=xn(u):(x&=S,x!==0?h=xn(x):o||(o=S&~r,o!==0&&(h=xn(o))))):(S=u&~g,S!==0?h=xn(S):x!==0?h=xn(x):o||(o=u&~r,o!==0&&(h=xn(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function mn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function no(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var r=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),r}function Bn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ei(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function xi(r,s,o,u,h,g){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,V=r.expirationTimes,X=r.hiddenUpdates;for(o=x&~o;0<o;){var ie=31-yt(o),ue=1<<ie;S[ie]=0,V[ie]=-1;var J=X[ie];if(J!==null)for(X[ie]=null,ie=0;ie<J.length;ie++){var ne=J[ie];ne!==null&&(ne.lane&=-536870913)}o&=~ue}u!==0&&ke(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(x&~s))}function ke(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-yt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function ml(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-yt(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function gl(r,s){var o=s&-s;return o=(o&42)!==0?1:la(o),(o&(r.suspendedLanes|s))!==0?0:o}function la(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function dc(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:H0(r.type))}function br(r,s){var o=se.p;try{return se.p=r,s()}finally{se.p=o}}var _r=Math.random().toString(36).slice(2),Pt="__reactFiber$"+_r,Wt="__reactProps$"+_r,zr="__reactContainer$"+_r,ro="__reactEvents$"+_r,hf="__reactListeners$"+_r,hc="__reactHandles$"+_r,fc="__reactResources$"+_r,Br="__reactMarker$"+_r;function io(r){delete r[Pt],delete r[Wt],delete r[ro],delete r[hf],delete r[hc]}function qr(r){var s=r[Pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[zr]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=A0(r);r!==null;){if(o=r[Pt])return o;r=A0(r)}return s}r=o,o=r.parentNode}return null}function tr(r){if(r=r[Pt]||r[zr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function qn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Hr(r){var s=r[fc];return s||(s=r[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(r){r[Br]=!0}var vl=new Set,yl={};function Fr(r,s){Gr(r,s),Gr(r+"Capture",s)}function Gr(r,s){for(yl[r]=s,r=0;r<s.length;r++)vl.add(s[r])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},El={};function pc(r){return pt.call(El,r)?!0:pt.call(_l,r)?!1:bl.test(r)?El[r]=!0:(_l[r]=!0,!1)}function so(r,s,o){if(pc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Hn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Vt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ss(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xl(r,s,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,g=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function st(r){if(!r._valueTracker){var s=ss(r)?"checked":"value";r._valueTracker=xl(r,s,""+r[s])}}function ua(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=ss(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Kr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ca=/[\n"\\]/g;function An(r){return r.replace(ca,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ao(r,s,o,u,h,g,x,S){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Zt(s)):r.value!==""+Zt(s)&&(r.value=""+Zt(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?wl(r,x,Zt(s)):o!=null?wl(r,x,Zt(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Zt(S):r.removeAttribute("name")}function mc(r,s,o,u,h,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){st(r);return}o=o!=null?""+Zt(o):"",s=s!=null?""+Zt(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),st(r)}function wl(r,s,o){s==="number"&&Kr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function as(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Zt(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function gc(r,s,o){if(s!=null&&(s=""+Zt(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Zt(o):""}function os(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ye(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Zt(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),st(r)}function Rn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||vc.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Sl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Tl(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Tl(r,g,s[g])}function oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(r){return ls.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Er(){}var Cl=null;function nr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var us=null,$r=null;function da(r){var s=tr(r);if(s&&(r=s.stateNode)){var o=r[Wt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ao(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Wt]||null;if(!h)throw Error(i(90));ao(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&ua(u)}break e;case"textarea":gc(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&as(r,!!o.multiple,s,!1)}}}var uo=!1;function cs(r,s,o){if(uo)return r(s,o);uo=!0;try{var u=r(s);return u}finally{if(uo=!1,(us!==null||$r!==null)&&(dd(),us&&(s=us,r=$r,$r=us=null,da(s),r)))for(s=0;s<r.length;s++)da(r[s])}}function xr(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Wt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(rr)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ha=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{ha=!1}var Qr=null,Al=null,fa=null;function Rl(){if(fa)return fa;var r,s=Al,o=s.length,u,h="value"in Qr?Qr.value:Qr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var x=o-r;for(u=1;u<=x&&s[o-u]===h[g-u];u++);return fa=h.slice(r,1<u?1-u:void 0)}function pa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ti(){return!0}function wr(){return!1}function nn(r){function s(o,u,h,g,x){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ti:wr,this.isPropagationStopped=wr,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),s}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=nn(Si),ds=_({},Si,{view:0,detail:0}),kl=nn(ds),hs,co,Xr,ho=_({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xr&&(Xr&&r.type==="mousemove"?(hs=r.screenX-Xr.screenX,co=r.screenY-Xr.screenY):co=hs=0,Xr=r),hs)},movementY:function(r){return"movementY"in r?r.movementY:co}}),Ll=nn(ho),ma=_({},ho,{dataTransfer:0}),bc=nn(ma),_c=_({},ds,{relatedTarget:0}),ga=nn(_c),Il=_({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=nn(Il),fo=_({},Si,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xc=nn(fo),wc=_({},Si,{data:0}),Wr=nn(wc),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Cc[r])?!!s[r]:!1}function fs(){return Ac}var wn=_({},ds,{key:function(r){if(r.key){var s=Tc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=pa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(r){return r.type==="keypress"?pa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Rc=nn(wn),kc=_({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=nn(kc),d=_({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),E=nn(d),w=_({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=nn(w),$=_({},ho,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=nn($),fe=_({},Si,{newState:0,oldState:0}),Pe=nn(fe),It=[9,13,27,32],nt=rr&&"CompositionEvent"in window,bt=null;rr&&"documentMode"in document&&(bt=document.documentMode);var ir=rr&&"TextEvent"in window&&!bt,Zr=rr&&(!nt||bt&&8<bt&&11>=bt),Tr=" ",Sr=!1;function va(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mo=!1;function GC(r,s){switch(r){case"compositionend":return po(s);case"keypress":return s.which!==32?null:(Sr=!0,Tr);case"textInput":return r=s.data,r===Tr&&Sr?null:r;default:return null}}function KC(r,s){if(mo)return r==="compositionend"||!nt&&va(r,s)?(r=Rl(),fa=Al=Qr=null,mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zr&&s.locale!=="ko"?null:s.data;default:return null}}var $C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$C[r.type]:s==="textarea"}function Iv(r,s,o,u){us?$r?$r.push(u):$r=[u]:us=u,s=yd(s,"onChange"),0<s.length&&(o=new Yr("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Nl=null,Ml=null;function QC(r){f0(r,0)}function Lc(r){var s=qn(r);if(ua(s))return r}function Nv(r,s){if(r==="change")return s}var Mv=!1;if(rr){var ff;if(rr){var pf="oninput"in document;if(!pf){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),pf=typeof Ov.oninput=="function"}ff=pf}else ff=!1;Mv=ff&&(!document.documentMode||9<document.documentMode)}function Dv(){Nl&&(Nl.detachEvent("onpropertychange",Pv),Ml=Nl=null)}function Pv(r){if(r.propertyName==="value"&&Lc(Ml)){var s=[];Iv(s,Ml,r,nr(r)),cs(QC,s)}}function YC(r,s,o){r==="focusin"?(Dv(),Nl=s,Ml=o,Nl.attachEvent("onpropertychange",Pv)):r==="focusout"&&Dv()}function XC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lc(Ml)}function WC(r,s){if(r==="click")return Lc(s)}function ZC(r,s){if(r==="input"||r==="change")return Lc(s)}function JC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:JC;function Ol(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!pt.call(s,h)||!Fn(r[h],s[h]))return!1}return!0}function jv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vv(r,s){var o=jv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jv(o)}}function Uv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Uv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Kr(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Kr(r.document)}return s}function mf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var e1=rr&&"documentMode"in document&&11>=document.documentMode,go=null,gf=null,Dl=null,vf=!1;function Bv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vf||go==null||go!==Kr(u)||(u=go,"selectionStart"in u&&mf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Ol(Dl,u)||(Dl=u,u=yd(gf,"onSelect"),0<u.length&&(s=new Yr("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=go)))}function ya(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var vo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},yf={},qv={};rr&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ba(r){if(yf[r])return yf[r];if(!vo[r])return r;var s=vo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in qv)return yf[r]=s[o];return r}var Hv=ba("animationend"),Fv=ba("animationiteration"),Gv=ba("animationstart"),t1=ba("transitionrun"),n1=ba("transitionstart"),r1=ba("transitioncancel"),Kv=ba("transitionend"),$v=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Cr(r,s){$v.set(r,s),Fr(s,[r])}var Ic=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},sr=[],yo=0,_f=0;function Nc(){for(var r=yo,s=_f=yo=0;s<r;){var o=sr[s];sr[s++]=null;var u=sr[s];sr[s++]=null;var h=sr[s];sr[s++]=null;var g=sr[s];if(sr[s++]=null,u!==null&&h!==null){var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}g!==0&&Qv(o,h,g)}}function Mc(r,s,o,u){sr[yo++]=r,sr[yo++]=s,sr[yo++]=o,sr[yo++]=u,_f|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ef(r,s,o,u){return Mc(r,s,o,u),Oc(r)}function _a(r,s){return Mc(r,null,null,s),Oc(r)}function Qv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-yt(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),g):null}function Oc(r){if(50<ru)throw ru=0,Lp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var bo={};function i1(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(r,s,o,u){return new i1(r,s,o,u)}function xf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,s){var o=r.alternate;return o===null?(o=Gn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Yv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Dc(r,s,o,u,h,g){var x=0;if(u=r,typeof r=="function")xf(r)&&(x=1);else if(typeof r=="string")x=uA(r,o,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case A:return r=Gn(31,o,s,h),r.elementType=A,r.lanes=g,r;case O:return Ea(o.children,h,g,s);case L:x=8,h|=24;break;case z:return r=Gn(12,o,s,h|2),r.elementType=z,r.lanes=g,r;case F:return r=Gn(13,o,s,h),r.elementType=F,r.lanes=g,r;case Z:return r=Gn(19,o,s,h),r.elementType=Z,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:x=10;break e;case B:x=9;break e;case H:x=11;break e;case k:x=14;break e;case N:x=16,u=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Gn(x,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function Ea(r,s,o,u){return r=Gn(7,r,u,s),r.lanes=o,r}function wf(r,s,o){return r=Gn(6,r,null,s),r.lanes=o,r}function Xv(r){var s=Gn(18,null,null,0);return s.stateNode=r,s}function Tf(r,s,o){return s=Gn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Wv=new WeakMap;function ar(r,s){if(typeof r=="object"&&r!==null){var o=Wv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ns(s)},Wv.set(r,s),s)}return{value:r,source:s,stack:ns(s)}}var _o=[],Eo=0,Pc=null,Pl=0,or=[],lr=0,ps=null,Jr=1,ei="";function Ri(r,s){_o[Eo++]=Pl,_o[Eo++]=Pc,Pc=r,Pl=s}function Zv(r,s,o){or[lr++]=Jr,or[lr++]=ei,or[lr++]=ps,ps=r;var u=Jr;r=ei;var h=32-yt(u)-1;u&=~(1<<h),o+=1;var g=32-yt(s)+h;if(30<g){var x=h-h%5;g=(u&(1<<x)-1).toString(32),u>>=x,h-=x,Jr=1<<32-yt(s)+h|o<<h|u,ei=g+r}else Jr=1<<g|o<<h|u,ei=r}function Sf(r){r.return!==null&&(Ri(r,1),Zv(r,1,0))}function Cf(r){for(;r===Pc;)Pc=_o[--Eo],_o[Eo]=null,Pl=_o[--Eo],_o[Eo]=null;for(;r===ps;)ps=or[--lr],or[lr]=null,ei=or[--lr],or[lr]=null,Jr=or[--lr],or[lr]=null}function Jv(r,s){or[lr++]=Jr,or[lr++]=ei,or[lr++]=ps,Jr=s.id,ei=s.overflow,ps=r}var rn=null,mt=null,Xe=!1,ms=null,ur=!1,Af=Error(i(519));function gs(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(ar(s,r)),Af}function ey(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Pt]=r,s[Wt]=u,o){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<su.length;o++)He(su[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),mc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),os(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||v0(s.textContent,o)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=Er),s=!0):s=!1,s||gs(r,!0)}function ty(r){for(rn=r.return;rn;)switch(rn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:rn=rn.return}}function xo(r){if(r!==rn)return!1;if(!Xe)return ty(r),Xe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Gp(r.type,r.memoizedProps)),o=!o),o&&mt&&gs(r),ty(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));mt=C0(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));mt=C0(r)}else s===27?(s=mt,Ls(r.type)?(r=Xp,Xp=null,mt=r):mt=s):mt=rn?dr(r.stateNode.nextSibling):null;return!0}function xa(){mt=rn=null,Xe=!1}function Rf(){var r=ms;return r!==null&&(Nn===null?Nn=r:Nn.push.apply(Nn,r),ms=null),r}function jl(r){ms===null?ms=[r]:ms.push(r)}var kf=j(null),wa=null,ki=null;function vs(r,s,o){ae(kf,s._currentValue),s._currentValue=o}function Li(r){r._currentValue=kf.current,ee(kf)}function Lf(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function If(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var x=h.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=h;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Lf(g.return,o,r),u||(x=null);break e}g=S.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(i(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Lf(x,o,r),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===r){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function wo(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=h.type;Fn(h.pendingProps.value,x.value)||(r!==null?r.push(S):r=[S])}}else if(h===we.current){if(x=h.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}h=h.return}r!==null&&If(s,r,o,u),s.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!Fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ta(r){wa=r,ki=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function sn(r){return ny(wa,r)}function Vc(r,s){return wa===null&&Ta(r),ny(r,s)}function ny(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ki===null){if(r===null)throw Error(i(308));ki=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ki=ki.next=s;return o}var s1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},a1=n.unstable_scheduleCallback,o1=n.unstable_NormalPriority,Ut={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new s1,data:new Map,refCount:0}}function Vl(r){r.refCount--,r.refCount===0&&a1(o1,function(){r.controller.abort()})}var Ul=null,Mf=0,To=0,So=null;function l1(r,s){if(Ul===null){var o=Ul=[];Mf=0,To=Pp(),So={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Mf++,s.then(ry,ry),s}function ry(){if(--Mf===0&&Ul!==null){So!==null&&(So.status="fulfilled");var r=Ul;Ul=null,To=0,So=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function u1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var iy=K.S;K.S=function(r,s){Bb=Xt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&l1(r,s),iy!==null&&iy(r,s)};var Sa=j(null);function Of(){var r=Sa.current;return r!==null?r:ht.pooledCache}function Uc(r,s){s===null?ae(Sa,Sa.current):ae(Sa,s.pool)}function sy(){var r=Of();return r===null?null:{parent:Ut._currentValue,pool:r}}var Co=Error(i(460)),Df=Error(i(474)),zc=Error(i(542)),Bc={then:function(){}};function ay(r){return r=r.status,r==="fulfilled"||r==="rejected"}function oy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Er,Er),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uy(r),r;default:if(typeof s.status=="string")s.then(Er,Er);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uy(r),r}throw Aa=s,Co}}function Ca(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,Co):o}}var Aa=null;function ly(){if(Aa===null)throw Error(i(459));var r=Aa;return Aa=null,r}function uy(r){if(r===Co||r===zc)throw Error(i(483))}var Ao=null,zl=0;function qc(r){var s=zl;return zl+=1,Ao===null&&(Ao=[]),oy(Ao,r,s)}function Bl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Hc(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function cy(r){function s(G,q){if(r){var Y=G.deletions;Y===null?(G.deletions=[q],G.flags|=16):Y.push(q)}}function o(G,q){if(!r)return null;for(;q!==null;)s(G,q),q=q.sibling;return null}function u(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function h(G,q){return G=Ai(G,q),G.index=0,G.sibling=null,G}function g(G,q,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<q?(G.flags|=67108866,q):Y):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function x(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function S(G,q,Y,oe){return q===null||q.tag!==6?(q=wf(Y,G.mode,oe),q.return=G,q):(q=h(q,Y),q.return=G,q)}function V(G,q,Y,oe){var Ce=Y.type;return Ce===O?ie(G,q,Y.props.children,oe,Y.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&Ca(Ce)===q.type)?(q=h(q,Y.props),Bl(q,Y),q.return=G,q):(q=Dc(Y.type,Y.key,Y.props,null,G.mode,oe),Bl(q,Y),q.return=G,q)}function X(G,q,Y,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=Tf(Y,G.mode,oe),q.return=G,q):(q=h(q,Y.children||[]),q.return=G,q)}function ie(G,q,Y,oe,Ce){return q===null||q.tag!==7?(q=Ea(Y,G.mode,oe,Ce),q.return=G,q):(q=h(q,Y),q.return=G,q)}function ue(G,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=wf(""+q,G.mode,Y),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return Y=Dc(q.type,q.key,q.props,null,G.mode,Y),Bl(Y,q),Y.return=G,Y;case R:return q=Tf(q,G.mode,Y),q.return=G,q;case N:return q=Ca(q),ue(G,q,Y)}if(ye(q)||U(q))return q=Ea(q,G.mode,Y,null),q.return=G,q;if(typeof q.then=="function")return ue(G,qc(q),Y);if(q.$$typeof===Q)return ue(G,Vc(G,q),Y);Hc(G,q)}return null}function J(G,q,Y,oe){var Ce=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ce!==null?null:S(G,q,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return Y.key===Ce?V(G,q,Y,oe):null;case R:return Y.key===Ce?X(G,q,Y,oe):null;case N:return Y=Ca(Y),J(G,q,Y,oe)}if(ye(Y)||U(Y))return Ce!==null?null:ie(G,q,Y,oe,null);if(typeof Y.then=="function")return J(G,q,qc(Y),oe);if(Y.$$typeof===Q)return J(G,q,Vc(G,Y),oe);Hc(G,Y)}return null}function ne(G,q,Y,oe,Ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Y)||null,S(q,G,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case C:return G=G.get(oe.key===null?Y:oe.key)||null,V(q,G,oe,Ce);case R:return G=G.get(oe.key===null?Y:oe.key)||null,X(q,G,oe,Ce);case N:return oe=Ca(oe),ne(G,q,Y,oe,Ce)}if(ye(oe)||U(oe))return G=G.get(Y)||null,ie(q,G,oe,Ce,null);if(typeof oe.then=="function")return ne(G,q,Y,qc(oe),Ce);if(oe.$$typeof===Q)return ne(G,q,Y,Vc(q,oe),Ce);Hc(q,oe)}return null}function Ee(G,q,Y,oe){for(var Ce=null,Je=null,xe=q,Ve=q=0,Ke=null;xe!==null&&Ve<Y.length;Ve++){xe.index>Ve?(Ke=xe,xe=null):Ke=xe.sibling;var et=J(G,xe,Y[Ve],oe);if(et===null){xe===null&&(xe=Ke);break}r&&xe&&et.alternate===null&&s(G,xe),q=g(et,q,Ve),Je===null?Ce=et:Je.sibling=et,Je=et,xe=Ke}if(Ve===Y.length)return o(G,xe),Xe&&Ri(G,Ve),Ce;if(xe===null){for(;Ve<Y.length;Ve++)xe=ue(G,Y[Ve],oe),xe!==null&&(q=g(xe,q,Ve),Je===null?Ce=xe:Je.sibling=xe,Je=xe);return Xe&&Ri(G,Ve),Ce}for(xe=u(xe);Ve<Y.length;Ve++)Ke=ne(xe,G,Ve,Y[Ve],oe),Ke!==null&&(r&&Ke.alternate!==null&&xe.delete(Ke.key===null?Ve:Ke.key),q=g(Ke,q,Ve),Je===null?Ce=Ke:Je.sibling=Ke,Je=Ke);return r&&xe.forEach(function(Ds){return s(G,Ds)}),Xe&&Ri(G,Ve),Ce}function Re(G,q,Y,oe){if(Y==null)throw Error(i(151));for(var Ce=null,Je=null,xe=q,Ve=q=0,Ke=null,et=Y.next();xe!==null&&!et.done;Ve++,et=Y.next()){xe.index>Ve?(Ke=xe,xe=null):Ke=xe.sibling;var Ds=J(G,xe,et.value,oe);if(Ds===null){xe===null&&(xe=Ke);break}r&&xe&&Ds.alternate===null&&s(G,xe),q=g(Ds,q,Ve),Je===null?Ce=Ds:Je.sibling=Ds,Je=Ds,xe=Ke}if(et.done)return o(G,xe),Xe&&Ri(G,Ve),Ce;if(xe===null){for(;!et.done;Ve++,et=Y.next())et=ue(G,et.value,oe),et!==null&&(q=g(et,q,Ve),Je===null?Ce=et:Je.sibling=et,Je=et);return Xe&&Ri(G,Ve),Ce}for(xe=u(xe);!et.done;Ve++,et=Y.next())et=ne(xe,G,Ve,et.value,oe),et!==null&&(r&&et.alternate!==null&&xe.delete(et.key===null?Ve:et.key),q=g(et,q,Ve),Je===null?Ce=et:Je.sibling=et,Je=et);return r&&xe.forEach(function(_A){return s(G,_A)}),Xe&&Ri(G,Ve),Ce}function dt(G,q,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:e:{for(var Ce=Y.key;q!==null;){if(q.key===Ce){if(Ce=Y.type,Ce===O){if(q.tag===7){o(G,q.sibling),oe=h(q,Y.props.children),oe.return=G,G=oe;break e}}else if(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&Ca(Ce)===q.type){o(G,q.sibling),oe=h(q,Y.props),Bl(oe,Y),oe.return=G,G=oe;break e}o(G,q);break}else s(G,q);q=q.sibling}Y.type===O?(oe=Ea(Y.props.children,G.mode,oe,Y.key),oe.return=G,G=oe):(oe=Dc(Y.type,Y.key,Y.props,null,G.mode,oe),Bl(oe,Y),oe.return=G,G=oe)}return x(G);case R:e:{for(Ce=Y.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){o(G,q.sibling),oe=h(q,Y.children||[]),oe.return=G,G=oe;break e}else{o(G,q);break}else s(G,q);q=q.sibling}oe=Tf(Y,G.mode,oe),oe.return=G,G=oe}return x(G);case N:return Y=Ca(Y),dt(G,q,Y,oe)}if(ye(Y))return Ee(G,q,Y,oe);if(U(Y)){if(Ce=U(Y),typeof Ce!="function")throw Error(i(150));return Y=Ce.call(Y),Re(G,q,Y,oe)}if(typeof Y.then=="function")return dt(G,q,qc(Y),oe);if(Y.$$typeof===Q)return dt(G,q,Vc(G,Y),oe);Hc(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(o(G,q.sibling),oe=h(q,Y),oe.return=G,G=oe):(o(G,q),oe=wf(Y,G.mode,oe),oe.return=G,G=oe),x(G)):o(G,q)}return function(G,q,Y,oe){try{zl=0;var Ce=dt(G,q,Y,oe);return Ao=null,Ce}catch(xe){if(xe===Co||xe===zc)throw xe;var Je=Gn(29,xe,null,G.mode);return Je.lanes=oe,Je.return=G,Je}}}var Ra=cy(!0),dy=cy(!1),ys=!1;function Pf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _s(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Oc(r),Qv(r,null,o),s}return Mc(r,u,s,o),Oc(r)}function ql(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ml(r,o)}}function Vf(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Uf=!1;function Hl(){if(Uf){var r=So;if(r!==null)throw r}}function Fl(r,s,o,u){Uf=!1;var h=r.updateQueue;ys=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var V=S,X=V.next;V.next=null,x===null?g=X:x.next=X,x=V;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==x&&(S===null?ie.firstBaseUpdate=X:S.next=X,ie.lastBaseUpdate=V))}if(g!==null){var ue=h.baseState;x=0,ie=X=V=null,S=g;do{var J=S.lane&-536870913,ne=J!==S.lane;if(ne?(Ge&J)===J:(u&J)===J){J!==0&&J===To&&(Uf=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=r,Re=S;J=s;var dt=o;switch(Re.tag){case 1:if(Ee=Re.payload,typeof Ee=="function"){ue=Ee.call(dt,ue,J);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Re.payload,J=typeof Ee=="function"?Ee.call(dt,ue,J):Ee,J==null)break e;ue=_({},ue,J);break e;case 2:ys=!0}}J=S.callback,J!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=h.callbacks,ne===null?h.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(X=ie=ne,V=ue):ie=ie.next=ne,x|=J;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;ne=S,S=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);ie===null&&(V=ue),h.baseState=V,h.firstBaseUpdate=X,h.lastBaseUpdate=ie,g===null&&(h.shared.lanes=0),Ss|=x,r.lanes=x,r.memoizedState=ue}}function hy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function fy(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)hy(o[r],s)}var Ro=j(null),Fc=j(0);function py(r,s){r=Ui,ae(Fc,r),ae(Ro,s),Ui=r|s.baseLanes}function zf(){ae(Fc,Ui),ae(Ro,Ro.current)}function Bf(){Ui=Fc.current,ee(Ro),ee(Fc)}var Kn=j(null),cr=null;function Es(r){var s=r.alternate;ae(Nt,Nt.current&1),ae(Kn,r),cr===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(cr=r)}function qf(r){ae(Nt,Nt.current),ae(Kn,r),cr===null&&(cr=r)}function my(r){r.tag===22?(ae(Nt,Nt.current),ae(Kn,r),cr===null&&(cr=r)):xs()}function xs(){ae(Nt,Nt.current),ae(Kn,Kn.current)}function $n(r){ee(Kn),cr===r&&(cr=null),ee(Nt)}var Nt=j(0);function Gc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Qp(o)||Yp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ii=0,je=null,ut=null,zt=null,Kc=!1,ko=!1,ka=!1,$c=0,Gl=0,Lo=null,c1=0;function Ct(){throw Error(i(321))}function Hf(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Fn(r[o],s[o]))return!1;return!0}function Ff(r,s,o,u,h,g){return Ii=g,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?Zy:sp,ka=!1,g=o(u,h),ka=!1,ko&&(g=vy(s,o,u,h)),gy(r),g}function gy(r){K.H=Ql;var s=ut!==null&&ut.next!==null;if(Ii=0,zt=ut=je=null,Kc=!1,Gl=0,Lo=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&jc(r)&&(Bt=!0))}function vy(r,s,o,u){je=r;var h=0;do{if(ko&&(Lo=null),Gl=0,ko=!1,25<=h)throw Error(i(301));if(h+=1,zt=ut=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=Jy,g=s(o,u)}while(ko);return g}function d1(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?Kl(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(je.flags|=1024),s}function Gf(){var r=$c!==0;return $c=0,r}function Kf(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function $f(r){if(Kc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kc=!1}Ii=0,zt=ut=je=null,ko=!1,Gl=$c=0,Lo=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?je.memoizedState=zt=r:zt=zt.next=r,zt}function Mt(){if(ut===null){var r=je.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=zt===null?je.memoizedState:zt.next;if(s!==null)zt=s,ut=r;else{if(r===null)throw je.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},zt===null?je.memoizedState=zt=r:zt=zt.next=r}return zt}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(r){var s=Gl;return Gl+=1,Lo===null&&(Lo=[]),r=oy(Lo,r,s),s=je,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?Zy:sp),r}function Yc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Kl(r);if(r.$$typeof===Q)return sn(r)}throw Error(i(438,String(r)))}function Qf(r){var s=null,o=je.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Qc(),je.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=P;return s.index++,o}function Ni(r,s){return typeof s=="function"?s(r):s}function Xc(r){var s=Mt();return Yf(s,ut,r)}function Yf(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var S=x=null,V=null,X=s,ie=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(Ge&ue)===ue:(Ii&ue)===ue){var J=X.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===To&&(ie=!0);else if((Ii&J)===J){X=X.next,J===To&&(ie=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(S=V=ue,x=g):V=V.next=ue,je.lanes|=J,Ss|=J;ue=X.action,ka&&o(g,ue),g=X.hasEagerState?X.eagerState:o(g,ue)}else J={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(S=V=J,x=g):V=V.next=J,je.lanes|=ue,Ss|=ue;X=X.next}while(X!==null&&X!==s);if(V===null?x=g:V.next=S,!Fn(g,r.memoizedState)&&(Bt=!0,ie&&(o=So,o!==null)))throw o;r.memoizedState=g,r.baseState=x,r.baseQueue=V,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Xf(r){var s=Mt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var x=h=h.next;do g=r(g,x.action),x=x.next;while(x!==h);Fn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function yy(r,s,o){var u=je,h=Mt(),g=Xe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!Fn((ut||h).memoizedState,o);if(x&&(h.memoizedState=o,Bt=!0),h=h.queue,Jf(Ey.bind(null,u,h,r),[r]),h.getSnapshot!==s||x||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},_y.bind(null,u,h,o,s),null),ht===null)throw Error(i(349));g||(Ii&127)!==0||by(u,s,o)}return o}function by(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=je.updateQueue,s===null?(s=Qc(),je.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function _y(r,s,o,u){s.value=o,s.getSnapshot=u,xy(s)&&wy(r)}function Ey(r,s,o){return o(function(){xy(s)&&wy(r)})}function xy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Fn(r,o)}catch{return!0}}function wy(r){var s=_a(r,2);s!==null&&Mn(s,r,2)}function Wf(r){var s=Tn();if(typeof r=="function"){var o=r;if(r=o(),ka){tn(!0);try{o()}finally{tn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},s}function Ty(r,s,o,u){return r.baseState=o,Yf(r,ut,typeof u=="function"?u:Ni)}function h1(r,s,o,u,h){if(Jc(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};K.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Sy(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Sy(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=K.T,x={};K.T=x;try{var S=o(h,u),V=K.S;V!==null&&V(x,S),Cy(r,s,S)}catch(X){Zf(r,s,X)}finally{g!==null&&x.types!==null&&(g.types=x.types),K.T=g}}else try{g=o(h,u),Cy(r,s,g)}catch(X){Zf(r,s,X)}}function Cy(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ay(r,s,u)},function(u){return Zf(r,s,u)}):Ay(r,s,o)}function Ay(r,s,o){s.status="fulfilled",s.value=o,Ry(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Sy(r,o)))}function Zf(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ry(s),s=s.next;while(s!==u)}r.action=null}function Ry(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function ky(r,s){return s}function Ly(r,s){if(Xe){var o=ht.formState;if(o!==null){e:{var u=je;if(Xe){if(mt){t:{for(var h=mt,g=ur;h.nodeType!==8;){if(!g){h=null;break t}if(h=dr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){mt=dr(h.nextSibling),u=h.data==="F!";break e}}gs(u)}u=!1}u&&(s=o[0])}}return o=Tn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:s},o.queue=u,o=Yy.bind(null,je,u),u.dispatch=o,u=Wf(!1),g=ip.bind(null,je,!1,u.queue),u=Tn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=h1.bind(null,je,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function Iy(r){var s=Mt();return Ny(s,ut,r)}function Ny(r,s,o){if(s=Yf(r,s,ky)[0],r=Xc(Ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Kl(s)}catch(x){throw x===Co?zc:x}else u=s;s=Mt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(je.flags|=2048,Io(9,{destroy:void 0},f1.bind(null,h,o),null)),[u,g,r]}function f1(r,s){r.action=s}function My(r){var s=Mt(),o=ut;if(o!==null)return Ny(s,o,r);Mt(),s=s.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Io(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=je.updateQueue,s===null&&(s=Qc(),je.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Oy(){return Mt().memoizedState}function Wc(r,s,o,u){var h=Tn();je.flags|=r,h.memoizedState=Io(1|s,{destroy:void 0},o,u===void 0?null:u)}function Zc(r,s,o,u){var h=Mt();u=u===void 0?null:u;var g=h.memoizedState.inst;ut!==null&&u!==null&&Hf(u,ut.memoizedState.deps)?h.memoizedState=Io(s,g,o,u):(je.flags|=r,h.memoizedState=Io(1|s,g,o,u))}function Dy(r,s){Wc(8390656,8,r,s)}function Jf(r,s){Zc(2048,8,r,s)}function p1(r){je.flags|=4;var s=je.updateQueue;if(s===null)s=Qc(),je.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function Py(r){var s=Mt().memoizedState;return p1({ref:s,nextImpl:r}),function(){if((rt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function jy(r,s){return Zc(4,2,r,s)}function Vy(r,s){return Zc(4,4,r,s)}function Uy(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function zy(r,s,o){o=o!=null?o.concat([r]):null,Zc(4,4,Uy.bind(null,s,r),o)}function ep(){}function By(r,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Hf(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function qy(r,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Hf(s,u[1]))return u[0];if(u=r(),ka){tn(!0);try{r()}finally{tn(!1)}}return o.memoizedState=[u,s],u}function tp(r,s,o){return o===void 0||(Ii&1073741824)!==0&&(Ge&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=Hb(),je.lanes|=r,Ss|=r,o)}function Hy(r,s,o,u){return Fn(o,s)?o:Ro.current!==null?(r=tp(r,o,u),Fn(r,s)||(Bt=!0),r):(Ii&42)===0||(Ii&1073741824)!==0&&(Ge&261930)===0?(Bt=!0,r.memoizedState=o):(r=Hb(),je.lanes|=r,Ss|=r,s)}function Fy(r,s,o,u,h){var g=se.p;se.p=g!==0&&8>g?g:8;var x=K.T,S={};K.T=S,ip(r,!1,s,o);try{var V=h(),X=K.S;if(X!==null&&X(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=u1(V,u);$l(r,s,ie,Xn(r))}else $l(r,s,u,Xn(r))}catch(ue){$l(r,s,{then:function(){},status:"rejected",reason:ue},Xn())}finally{se.p=g,x!==null&&S.types!==null&&(x.types=S.types),K.T=x}}function m1(){}function np(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=Gy(r).queue;Fy(r,h,s,de,o===null?m1:function(){return Ky(r),o(u)})}function Gy(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ky(r){var s=Gy(r);s.next===null&&(s=r.alternate.memoizedState),$l(r,s.next.queue,{},Xn())}function rp(){return sn(cu)}function $y(){return Mt().memoizedState}function Qy(){return Mt().memoizedState}function g1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Xn();r=bs(o);var u=_s(s,r,o);u!==null&&(Mn(u,s,o),ql(u,s,o)),s={cache:Nf()},r.payload=s;return}s=s.return}}function v1(r,s,o){var u=Xn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Jc(r)?Xy(s,o):(o=Ef(r,s,o,u),o!==null&&(Mn(o,r,u),Wy(o,s,u)))}function Yy(r,s,o){var u=Xn();$l(r,s,o,u)}function $l(r,s,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jc(r))Xy(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,S=g(x,o);if(h.hasEagerState=!0,h.eagerState=S,Fn(S,x))return Mc(r,s,h,0),ht===null&&Nc(),!1}catch{}if(o=Ef(r,s,h,u),o!==null)return Mn(o,r,u),Wy(o,s,u),!0}return!1}function ip(r,s,o,u){if(u={lane:2,revertLane:Pp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jc(r)){if(s)throw Error(i(479))}else s=Ef(r,o,u,2),s!==null&&Mn(s,r,2)}function Jc(r){var s=r.alternate;return r===je||s!==null&&s===je}function Xy(r,s){ko=Kc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Wy(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ml(r,o)}}var Ql={readContext:sn,use:Yc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Ql.useEffectEvent=Ct;var Zy={readContext:sn,use:Yc,useCallback:function(r,s){return Tn().memoizedState=[r,s===void 0?null:s],r},useContext:sn,useEffect:Dy,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Wc(4194308,4,Uy.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Wc(4194308,4,r,s)},useInsertionEffect:function(r,s){Wc(4,2,r,s)},useMemo:function(r,s){var o=Tn();s=s===void 0?null:s;var u=r();if(ka){tn(!0);try{r()}finally{tn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Tn();if(o!==void 0){var h=o(s);if(ka){tn(!0);try{o(s)}finally{tn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=v1.bind(null,je,r),[u.memoizedState,r]},useRef:function(r){var s=Tn();return r={current:r},s.memoizedState=r},useState:function(r){r=Wf(r);var s=r.queue,o=Yy.bind(null,je,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ep,useDeferredValue:function(r,s){var o=Tn();return tp(o,r,s)},useTransition:function(){var r=Wf(!1);return r=Fy.bind(null,je,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=je,h=Tn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ht===null)throw Error(i(349));(Ge&127)!==0||by(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,Dy(Ey.bind(null,u,g,r),[r]),u.flags|=2048,Io(9,{destroy:void 0},_y.bind(null,u,g,o,s),null),o},useId:function(){var r=Tn(),s=ht.identifierPrefix;if(Xe){var o=ei,u=Jr;o=(u&~(1<<32-yt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=$c++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=c1++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:rp,useFormState:Ly,useActionState:Ly,useOptimistic:function(r){var s=Tn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ip.bind(null,je,!0,o),o.dispatch=s,[r,s]},useMemoCache:Qf,useCacheRefresh:function(){return Tn().memoizedState=g1.bind(null,je)},useEffectEvent:function(r){var s=Tn(),o={impl:r};return s.memoizedState=o,function(){if((rt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},sp={readContext:sn,use:Yc,useCallback:By,useContext:sn,useEffect:Jf,useImperativeHandle:zy,useInsertionEffect:jy,useLayoutEffect:Vy,useMemo:qy,useReducer:Xc,useRef:Oy,useState:function(){return Xc(Ni)},useDebugValue:ep,useDeferredValue:function(r,s){var o=Mt();return Hy(o,ut.memoizedState,r,s)},useTransition:function(){var r=Xc(Ni)[0],s=Mt().memoizedState;return[typeof r=="boolean"?r:Kl(r),s]},useSyncExternalStore:yy,useId:$y,useHostTransitionStatus:rp,useFormState:Iy,useActionState:Iy,useOptimistic:function(r,s){var o=Mt();return Ty(o,ut,r,s)},useMemoCache:Qf,useCacheRefresh:Qy};sp.useEffectEvent=Py;var Jy={readContext:sn,use:Yc,useCallback:By,useContext:sn,useEffect:Jf,useImperativeHandle:zy,useInsertionEffect:jy,useLayoutEffect:Vy,useMemo:qy,useReducer:Xf,useRef:Oy,useState:function(){return Xf(Ni)},useDebugValue:ep,useDeferredValue:function(r,s){var o=Mt();return ut===null?tp(o,r,s):Hy(o,ut.memoizedState,r,s)},useTransition:function(){var r=Xf(Ni)[0],s=Mt().memoizedState;return[typeof r=="boolean"?r:Kl(r),s]},useSyncExternalStore:yy,useId:$y,useHostTransitionStatus:rp,useFormState:My,useActionState:My,useOptimistic:function(r,s){var o=Mt();return ut!==null?Ty(o,ut,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Qy};Jy.useEffectEvent=Py;function ap(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var op={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Xn(),h=bs(u);h.payload=s,o!=null&&(h.callback=o),s=_s(r,h,u),s!==null&&(Mn(s,r,u),ql(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Xn(),h=bs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=_s(r,h,u),s!==null&&(Mn(s,r,u),ql(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Xn(),u=bs(o);u.tag=2,s!=null&&(u.callback=s),s=_s(r,u,o),s!==null&&(Mn(s,r,o),ql(s,r,o))}};function eb(r,s,o,u,h,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,x):s.prototype&&s.prototype.isPureReactComponent?!Ol(o,u)||!Ol(h,g):!0}function tb(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&op.enqueueReplaceState(s,s.state,null)}function La(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function nb(r){Ic(r)}function rb(r){console.error(r)}function ib(r){Ic(r)}function ed(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function sb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lp(r,s,o){return o=bs(o),o.tag=3,o.payload={element:null},o.callback=function(){ed(r,s)},o}function ab(r){return r=bs(r),r.tag=3,r}function ob(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){sb(s,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){sb(s,o,u),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function y1(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&wo(s,o,h,!0),o=Kn.current,o!==null){switch(o.tag){case 31:case 13:return cr===null?hd():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Bc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Mp(r,u,h)),!1;case 22:return o.flags|=65536,u===Bc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Mp(r,u,h)),!1}throw Error(i(435,o.tag))}return Mp(r,u,h),hd(),!1}if(Xe)return s=Kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Af&&(r=Error(i(422),{cause:u}),jl(ar(r,o)))):(u!==Af&&(s=Error(i(423),{cause:u}),jl(ar(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=ar(u,o),h=lp(r.stateNode,u,h),Vf(r,h),At!==4&&(At=2)),!1;var g=Error(i(520),{cause:u});if(g=ar(g,o),nu===null?nu=[g]:nu.push(g),At!==4&&(At=2),s===null)return!0;u=ar(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=lp(o.stateNode,u,r),Vf(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=ab(h),ob(h,r,o,u),Vf(o,h),!1}o=o.return}while(o!==null);return!1}var up=Error(i(461)),Bt=!1;function an(r,s,o,u){s.child=r===null?dy(s,null,o,u):Ra(s,r.child,o,u)}function lb(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Ta(s),u=Ff(r,s,o,x,g,h),S=Gf(),r!==null&&!Bt?(Kf(r,s,h),Mi(r,s,h)):(Xe&&S&&Sf(s),s.flags|=1,an(r,s,u,h),s.child)}function ub(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!xf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,cb(r,s,g,u,h)):(r=Dc(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!vp(r,h)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(x,u)&&r.ref===s.ref)return Mi(r,s,h)}return s.flags|=1,r=Ai(g,u),r.ref=s.ref,r.return=s,s.child=r}function cb(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(Ol(g,u)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=u=g,vp(r,h))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,Mi(r,s,h)}return cp(r,s,o,u,h)}function db(r,s,o,u){var h=u.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(u=s.child=r.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~g}else u=0,s.child=null;return hb(r,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Uc(s,g!==null?g.cachePool:null),g!==null?py(s,g):zf(),my(s);else return u=s.lanes=536870912,hb(r,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Uc(s,g.cachePool),py(s,g),xs(),s.memoizedState=null):(r!==null&&Uc(s,null),zf(),xs());return an(r,s,h,o),s.child}function Yl(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function hb(r,s,o,u,h){var g=Of();return g=g===null?null:{parent:Ut._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&Uc(s,null),zf(),my(s),r!==null&&wo(r,s,u,!0),s.childLanes=h,null}function td(r,s){return s=rd({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function fb(r,s,o){return Ra(s,r.child,null,o),r=td(s,s.pendingProps),r.flags|=2,$n(s),s.memoizedState=null,r}function b1(r,s,o){var u=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Xe){if(u.mode==="hidden")return r=td(s,u),s.lanes=536870912,Yl(null,r);if(qf(s),(r=mt)?(r=S0(r,ur),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ps!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=Xv(r),o.return=s,s.child=o,rn=s,mt=null)):r=null,r===null)throw gs(s);return s.lanes=536870912,null}return td(s,u)}var g=r.memoizedState;if(g!==null){var x=g.dehydrated;if(qf(s),h)if(s.flags&256)s.flags&=-257,s=fb(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Bt||wo(r,s,o,!1),h=(o&r.childLanes)!==0,Bt||h){if(u=ht,u!==null&&(x=gl(u,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,_a(r,x),Mn(u,r,x),up;hd(),s=fb(r,s,o)}else r=g.treeContext,mt=dr(x.nextSibling),rn=s,Xe=!0,ms=null,ur=!1,r!==null&&Jv(s,r),s=td(s,u),s.flags|=4096;return s}return r=Ai(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function nd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function cp(r,s,o,u,h){return Ta(s),o=Ff(r,s,o,u,void 0,h),u=Gf(),r!==null&&!Bt?(Kf(r,s,h),Mi(r,s,h)):(Xe&&u&&Sf(s),s.flags|=1,an(r,s,o,h),s.child)}function pb(r,s,o,u,h,g){return Ta(s),s.updateQueue=null,o=vy(s,u,o,h),gy(r),u=Gf(),r!==null&&!Bt?(Kf(r,s,g),Mi(r,s,g)):(Xe&&u&&Sf(s),s.flags|=1,an(r,s,o,g),s.child)}function mb(r,s,o,u,h){if(Ta(s),s.stateNode===null){var g=bo,x=o.contextType;typeof x=="object"&&x!==null&&(g=sn(x)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=op,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Pf(s),x=o.contextType,g.context=typeof x=="object"&&x!==null?sn(x):bo,g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(ap(s,o,x,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&op.enqueueReplaceState(g,g.state,null),Fl(s,u,g,h),Hl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,V=La(o,S);g.props=V;var X=g.context,ie=o.contextType;x=bo,typeof ie=="object"&&ie!==null&&(x=sn(ie));var ue=o.getDerivedStateFromProps;ie=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||X!==x)&&tb(s,g,u,x),ys=!1;var J=s.memoizedState;g.state=J,Fl(s,u,g,h),Hl(),X=s.memoizedState,S||J!==X||ys?(typeof ue=="function"&&(ap(s,o,ue,u),X=s.memoizedState),(V=ys||eb(s,o,V,u,J,X,x))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=x,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,jf(r,s),x=s.memoizedProps,ie=La(o,x),g.props=ie,ue=s.pendingProps,J=g.context,X=o.contextType,V=bo,typeof X=="object"&&X!==null&&(V=sn(X)),S=o.getDerivedStateFromProps,(X=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ue||J!==V)&&tb(s,g,u,V),ys=!1,J=s.memoizedState,g.state=J,Fl(s,u,g,h),Hl();var ne=s.memoizedState;x!==ue||J!==ne||ys||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof S=="function"&&(ap(s,o,S,u),ne=s.memoizedState),(ie=ys||eb(s,o,ie,u,J,ne,V)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ne,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ne,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ne),g.props=u,g.state=ne,g.context=V,u=ie):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,nd(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Ra(s,r.child,null,h),s.child=Ra(s,null,o,h)):an(r,s,o,h),s.memoizedState=g.state,r=s.child):r=Mi(r,s,h),r}function gb(r,s,o,u){return xa(),s.flags|=256,an(r,s,o,u),s.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(r){return{baseLanes:r,cachePool:sy()}}function fp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Yn),r}function vb(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),x&&(h=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xe){if(h?Es(s):xs(),(r=mt)?(r=S0(r,ur),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ps!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=Xv(r),o.return=s,s.child=o,rn=s,mt=null)):r=null,r===null)throw gs(s);return Yp(r)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,h?(xs(),h=s.mode,S=rd({mode:"hidden",children:S},h),u=Ea(u,h,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=hp(o),u.childLanes=fp(r,x,o),s.memoizedState=dp,Yl(null,u)):(Es(s),pp(s,S))}var V=r.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(Es(s),s.flags&=-257,s=mp(r,s,o)):s.memoizedState!==null?(xs(),s.child=r.child,s.flags|=128,s=null):(xs(),S=u.fallback,h=s.mode,u=rd({mode:"visible",children:u.children},h),S=Ea(S,h,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,Ra(s,r.child,null,o),u=s.child,u.memoizedState=hp(o),u.childLanes=fp(r,x,o),s.memoizedState=dp,s=Yl(null,u));else if(Es(s),Yp(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var X=x.dgst;x=X,u=Error(i(419)),u.stack="",u.digest=x,jl({value:u,source:null,stack:null}),s=mp(r,s,o)}else if(Bt||wo(r,s,o,!1),x=(o&r.childLanes)!==0,Bt||x){if(x=ht,x!==null&&(u=gl(x,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,_a(r,u),Mn(x,r,u),up;Qp(S)||hd(),s=mp(r,s,o)}else Qp(S)?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,mt=dr(S.nextSibling),rn=s,Xe=!0,ms=null,ur=!1,r!==null&&Jv(s,r),s=pp(s,u.children),s.flags|=4096);return s}return h?(xs(),S=u.fallback,h=s.mode,V=r.child,X=V.sibling,u=Ai(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,X!==null?S=Ai(X,S):(S=Ea(S,h,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Yl(null,u),u=s.child,S=r.child.memoizedState,S===null?S=hp(o):(h=S.cachePool,h!==null?(V=Ut._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=sy(),S={baseLanes:S.baseLanes|o,cachePool:h}),u.memoizedState=S,u.childLanes=fp(r,x,o),s.memoizedState=dp,Yl(r.child,u)):(Es(s),o=r.child,r=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function pp(r,s){return s=rd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function rd(r,s){return r=Gn(22,r,null,s),r.lanes=0,r}function mp(r,s,o){return Ra(s,r.child,null,o),r=pp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function yb(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Lf(r.return,s,o)}function gp(r,s,o,u,h,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:g}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=h,x.treeForkCount=g)}function bb(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;u=u.children;var x=Nt.current,S=(x&2)!==0;if(S?(x=x&1|2,s.flags|=128):x&=1,ae(Nt,x),an(r,s,u,o),u=Xe?Pl:0,!S&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yb(r,o,s);else if(r.tag===19)yb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Gc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),gp(s,!1,h,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Gc(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}gp(s,!0,o,null,g,u);break;case"together":gp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Mi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ss|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(wo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ai(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ai(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function vp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function _1(r,s,o){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),vs(s,Ut,r.memoizedState.cache),xa();break;case 27:case 5:Se(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,qf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Es(s),s.flags|=128,null):(o&s.child.childLanes)!==0?vb(r,s,o):(Es(s),r=Mi(r,s,o),r!==null?r.sibling:null);Es(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(wo(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return bb(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Nt,Nt.current),u)break;return null;case 22:return s.lanes=0,db(r,s,o,s.pendingProps);case 24:vs(s,Ut,r.memoizedState.cache)}return Mi(r,s,o)}function _b(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!vp(r,o)&&(s.flags&128)===0)return Bt=!1,_1(r,s,o);Bt=(r.flags&131072)!==0}else Bt=!1,Xe&&(s.flags&1048576)!==0&&Zv(s,Pl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=Ca(s.elementType),s.type=r,typeof r=="function")xf(r)?(u=La(r,u),s.tag=1,s=mb(null,s,r,u,o)):(s.tag=0,s=cp(null,s,r,u,o));else{if(r!=null){var h=r.$$typeof;if(h===H){s.tag=11,s=lb(null,s,r,u,o);break e}else if(h===k){s.tag=14,s=ub(null,s,r,u,o);break e}}throw s=pe(r)||r,Error(i(306,s,""))}}return s;case 0:return cp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=La(u,s.pendingProps),mb(r,s,u,h,o);case 3:e:{if(Te(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,jf(r,s),Fl(s,u,null,o);var x=s.memoizedState;if(u=x.cache,vs(s,Ut,u),u!==g.cache&&If(s,[Ut],o,!0),Hl(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gb(r,s,u,o);break e}else if(u!==h){h=ar(Error(i(424)),s),jl(h),s=gb(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=dr(r.firstChild),rn=s,Xe=!0,ms=null,ur=!0,o=dy(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xa(),u===h){s=Mi(r,s,o);break e}an(r,s,u,o)}s=s.child}return s;case 26:return nd(r,s),r===null?(o=I0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Xe||(o=s.type,r=s.pendingProps,u=bd(_e.current).createElement(o),u[Pt]=s,u[Wt]=r,on(u,o,r),jt(u),s.stateNode=u):s.memoizedState=I0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Se(s),r===null&&Xe&&(u=s.stateNode=R0(s.type,s.pendingProps,_e.current),rn=s,ur=!0,h=mt,Ls(s.type)?(Xp=h,mt=dr(u.firstChild)):mt=h),an(r,s,s.pendingProps.children,o),nd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xe&&((h=u=mt)&&(u=X1(u,s.type,s.pendingProps,ur),u!==null?(s.stateNode=u,rn=s,mt=dr(u.firstChild),ur=!1,h=!0):h=!1),h||gs(s)),Se(s),h=s.type,g=s.pendingProps,x=r!==null?r.memoizedProps:null,u=g.children,Gp(h,g)?u=null:x!==null&&Gp(h,x)&&(s.flags|=32),s.memoizedState!==null&&(h=Ff(r,s,d1,null,null,o),cu._currentValue=h),nd(r,s),an(r,s,u,o),s.child;case 6:return r===null&&Xe&&((r=o=mt)&&(o=W1(o,s.pendingProps,ur),o!==null?(s.stateNode=o,rn=s,mt=null,r=!0):r=!1),r||gs(s)),null;case 13:return vb(r,s,o);case 4:return Te(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ra(s,null,u,o):an(r,s,u,o),s.child;case 11:return lb(r,s,s.type,s.pendingProps,o);case 7:return an(r,s,s.pendingProps,o),s.child;case 8:return an(r,s,s.pendingProps.children,o),s.child;case 12:return an(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,vs(s,s.type,u.value),an(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Ta(s),h=sn(h),u=u(h),s.flags|=1,an(r,s,u,o),s.child;case 14:return ub(r,s,s.type,s.pendingProps,o);case 15:return cb(r,s,s.type,s.pendingProps,o);case 19:return bb(r,s,o);case 31:return b1(r,s,o);case 22:return db(r,s,o,s.pendingProps);case 24:return Ta(s),u=sn(Ut),r===null?(h=Of(),h===null&&(h=ht,g=Nf(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},Pf(s),vs(s,Ut,h)):((r.lanes&o)!==0&&(jf(r,s),Fl(s,null,null,o),Hl()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),vs(s,Ut,u)):(u=g.cache,vs(s,Ut,u),u!==h.cache&&If(s,[Ut],o,!0))),an(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function yp(r,s,o,u,h){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if($b())r.flags|=8192;else throw Aa=Bc,Df}else r.flags&=-16777217}function Eb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!P0(s))if($b())r.flags|=8192;else throw Aa=Bc,Df}function id(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?_i():536870912,r.lanes|=s,Do|=s)}function Xl(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function E1(r,s,o){var u=s.pendingProps;switch(Cf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Li(Ut),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(xo(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rf())),gt(s),null;case 26:var h=s.type,g=s.memoizedState;return r===null?(Oi(s),g!==null?(gt(s),Eb(s,g)):(gt(s),yp(s,h,null,u,o))):g?g!==r.memoizedState?(Oi(s),gt(s),Eb(s,g)):(gt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Oi(s),gt(s),yp(s,h,r,u,o)),null;case 27:if(ze(s),o=_e.current,h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=he.current,xo(s)?ey(s):(r=R0(h,u,o),s.stateNode=r,Oi(s))}return gt(s),null;case 5:if(ze(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(g=he.current,xo(s))ey(s);else{var x=bd(_e.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(h,{is:u.is}):x.createElement(h)}}g[Pt]=s,g[Wt]=u;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=g;e:switch(on(g,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Oi(s)}}return gt(s),yp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_e.current,xo(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=rn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||v0(r.nodeValue,o)),r||gs(s,!0)}else r=bd(r).createTextNode(u),r[Pt]=s,s.stateNode=r}return gt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(u=xo(s),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Pt]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),r=!1}else o=Rf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?($n(s),s):($n(s),null);if((s.flags&128)!==0)throw Error(i(558))}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=xo(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Pt]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),h=!1}else h=Rf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?($n(s),s):($n(s),null)}return $n(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),id(s,s.updateQueue),gt(s),null);case 4:return Ne(),r===null&&zp(s.stateNode.containerInfo),gt(s),null;case 10:return Li(s.type),gt(s),null;case 19:if(ee(Nt),u=s.memoizedState,u===null)return gt(s),null;if(h=(s.flags&128)!==0,g=u.rendering,g===null)if(h)Xl(u,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Gc(r),g!==null){for(s.flags|=128,Xl(u,!1),r=g.updateQueue,s.updateQueue=r,id(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Yv(o,r),o=o.sibling;return ae(Nt,Nt.current&1|2),Xe&&Ri(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&Xt()>ud&&(s.flags|=128,h=!0,Xl(u,!1),s.lanes=4194304)}else{if(!h)if(r=Gc(g),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,id(s,r),Xl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Xe)return gt(s),null}else 2*Xt()-u.renderingStartTime>ud&&o!==536870912&&(s.flags|=128,h=!0,Xl(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(r=u.last,r!==null?r.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Xt(),r.sibling=null,o=Nt.current,ae(Nt,h?o&1|2:o&1),Xe&&Ri(s,u.treeForkCount),r):(gt(s),null);case 22:case 23:return $n(s),Bf(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&id(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ee(Sa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Li(Ut),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function x1(r,s){switch(Cf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Li(Ut),Ne(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 31:if(s.memoizedState!==null){if($n(s),s.alternate===null)throw Error(i(340));xa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if($n(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));xa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ee(Nt),null;case 4:return Ne(),null;case 10:return Li(s.type),null;case 22:case 23:return $n(s),Bf(),r!==null&&ee(Sa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Li(Ut),null;case 25:return null;default:return null}}function xb(r,s){switch(Cf(s),s.tag){case 3:Li(Ut),Ne();break;case 26:case 27:case 5:ze(s);break;case 4:Ne();break;case 31:s.memoizedState!==null&&$n(s);break;case 13:$n(s);break;case 19:ee(Nt);break;case 10:Li(s.type);break;case 22:case 23:$n(s),Bf(),r!==null&&ee(Sa);break;case 24:Li(Ut)}}function Wl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==h)}}catch(S){ot(s,s.return,S)}}function ws(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,h=s;var V=o,X=S;try{X()}catch(ie){ot(h,V,ie)}}}u=u.next}while(u!==g)}}catch(ie){ot(s,s.return,ie)}}function wb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{fy(s,o)}catch(u){ot(r,r.return,u)}}}function Tb(r,s,o){o.props=La(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,s,u)}}function Zl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){ot(r,s,h)}}function ti(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ot(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(r,s,h)}else o.current=null}function Sb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ot(r,r.return,h)}}function bp(r,s,o){try{var u=r.stateNode;F1(u,r.type,o,s),u[Wt]=s}catch(h){ot(r,r.return,h)}}function Cb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ls(r.type)||r.tag===4}function _p(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ls(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ep(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Er));else if(u!==4&&(u===27&&Ls(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Ep(r,s,o),r=r.sibling;r!==null;)Ep(r,s,o),r=r.sibling}function sd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Ls(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(sd(r,s,o),r=r.sibling;r!==null;)sd(r,s,o),r=r.sibling}function Ab(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);on(s,u,o),s[Pt]=r,s[Wt]=o}catch(g){ot(r,r.return,g)}}var Di=!1,qt=!1,xp=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function w1(r,s){if(r=r.containerInfo,Hp=Cd,r=zv(r),mf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,S=-1,V=-1,X=0,ie=0,ue=r,J=null;t:for(;;){for(var ne;ue!==o||h!==0&&ue.nodeType!==3||(S=x+h),ue!==g||u!==0&&ue.nodeType!==3||(V=x+u),ue.nodeType===3&&(x+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)J=ue,ue=ne;for(;;){if(ue===r)break t;if(J===o&&++X===h&&(S=x),J===g&&++ie===u&&(V=x),(ne=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=ne}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fp={focusedElem:r,selectionRange:o},Cd=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ee=La(o.type,h);r=u.getSnapshotBeforeUpdate(Ee,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){ot(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)$p(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}}function kb(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ji(r,o),u&4&&Wl(5,o);break;case 1:if(ji(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){ot(o,o.return,x)}else{var h=La(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){ot(o,o.return,x)}}u&64&&wb(o),u&512&&Zl(o,o.return);break;case 3:if(ji(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{fy(r,s)}catch(x){ot(o,o.return,x)}}break;case 27:s===null&&u&4&&Ab(o);case 26:case 5:ji(r,o),s===null&&u&4&&Sb(o),u&512&&Zl(o,o.return);break;case 12:ji(r,o);break;case 31:ji(r,o),u&4&&Nb(r,o);break;case 13:ji(r,o),u&4&&Mb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=N1.bind(null,o),Z1(r,o))));break;case 22:if(u=o.memoizedState!==null||Di,!u){s=s!==null&&s.memoizedState!==null||qt,h=Di;var g=qt;Di=u,(qt=s)&&!g?Vi(r,o,(o.subtreeFlags&8772)!==0):ji(r,o),Di=h,qt=g}break;case 30:break;default:ji(r,o)}}function Lb(r){var s=r.alternate;s!==null&&(r.alternate=null,Lb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&io(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,kn=!1;function Pi(r,s,o){for(o=o.child;o!==null;)Ib(r,s,o),o=o.sibling}function Ib(r,s,o){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(pn,o)}catch{}switch(o.tag){case 26:qt||ti(o,s),Pi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qt||ti(o,s);var u=_t,h=kn;Ls(o.type)&&(_t=o.stateNode,kn=!1),Pi(r,s,o),ou(o.stateNode),_t=u,kn=h;break;case 5:qt||ti(o,s);case 6:if(u=_t,h=kn,_t=null,Pi(r,s,o),_t=u,kn=h,_t!==null)if(kn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(g){ot(o,s,g)}else try{_t.removeChild(o.stateNode)}catch(g){ot(o,s,g)}break;case 18:_t!==null&&(kn?(r=_t,w0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ho(r)):w0(_t,o.stateNode));break;case 4:u=_t,h=kn,_t=o.stateNode.containerInfo,kn=!0,Pi(r,s,o),_t=u,kn=h;break;case 0:case 11:case 14:case 15:ws(2,o,s),qt||ws(4,o,s),Pi(r,s,o);break;case 1:qt||(ti(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Tb(o,s,u)),Pi(r,s,o);break;case 21:Pi(r,s,o);break;case 22:qt=(u=qt)||o.memoizedState!==null,Pi(r,s,o),qt=u;break;default:Pi(r,s,o)}}function Nb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ho(r)}catch(o){ot(s,s.return,o)}}}function Mb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ho(r)}catch(o){ot(s,s.return,o)}}function T1(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Rb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Rb),s;default:throw Error(i(435,r.tag))}}function ad(r,s){var o=T1(r);s.forEach(function(u){if(!o.has(u)){o.add(u);var h=M1.bind(null,r,u);u.then(h,h)}})}function Ln(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,x=s,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Ls(S.type)){_t=S.stateNode,kn=!1;break e}break;case 5:_t=S.stateNode,kn=!1;break e;case 3:case 4:_t=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(_t===null)throw Error(i(160));Ib(g,x,h),_t=null,kn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ob(s,r),s=s.sibling}var Ar=null;function Ob(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ln(s,r),In(r),u&4&&(ws(3,r,r.return),Wl(3,r),ws(5,r,r.return));break;case 1:Ln(s,r),In(r),u&512&&(qt||o===null||ti(o,o.return)),u&64&&Di&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Ar;if(Ln(s,r),In(r),u&512&&(qt||o===null||ti(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Br]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),on(g,u,o),g[Pt]=r,jt(g),u=g;break e;case"link":var x=O0("link","href",h).get(u+(o.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(S,1);break t}}g=h.createElement(u),on(g,u,o),h.head.appendChild(g);break;case"meta":if(x=O0("meta","content",h).get(u+(o.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(S,1);break t}}g=h.createElement(u),on(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Pt]=r,jt(g),u=g}r.stateNode=u}else D0(h,r.type,r.stateNode);else r.stateNode=M0(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?D0(h,r.type,r.stateNode):M0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&bp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ln(s,r),In(r),u&512&&(qt||o===null||ti(o,o.return)),o!==null&&u&4&&bp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ln(s,r),In(r),u&512&&(qt||o===null||ti(o,o.return)),r.flags&32){h=r.stateNode;try{Rn(h,"")}catch(Ee){ot(r,r.return,Ee)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,bp(r,h,o!==null?o.memoizedProps:h)),u&1024&&(xp=!0);break;case 6:if(Ln(s,r),In(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ee){ot(r,r.return,Ee)}}break;case 3:if(xd=null,h=Ar,Ar=_d(s.containerInfo),Ln(s,r),Ar=h,In(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ho(s.containerInfo)}catch(Ee){ot(r,r.return,Ee)}xp&&(xp=!1,Db(r));break;case 4:u=Ar,Ar=_d(r.stateNode.containerInfo),Ln(s,r),In(r),Ar=u;break;case 12:Ln(s,r),In(r);break;case 31:Ln(s,r),In(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ad(r,u)));break;case 13:Ln(s,r),In(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ld=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ad(r,u)));break;case 22:h=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,X=Di,ie=qt;if(Di=X||h,qt=ie||V,Ln(s,r),qt=ie,Di=X,In(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||V||Di||qt||Ia(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,h)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=V.stateNode;var ue=V.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){ot(V,V.return,Ee)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(Ee){ot(V,V.return,Ee)}}}else if(s.tag===18){if(o===null){V=s;try{var ne=V.stateNode;h?T0(ne,!0):T0(V.stateNode,!1)}catch(Ee){ot(V,V.return,Ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ad(r,o))));break;case 19:Ln(s,r),In(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ad(r,u)));break;case 30:break;case 21:break;default:Ln(s,r),In(r)}}function In(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Cb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=_p(r);sd(r,g,h);break;case 5:var x=o.stateNode;o.flags&32&&(Rn(x,""),o.flags&=-33);var S=_p(r);sd(r,S,x);break;case 3:case 4:var V=o.stateNode.containerInfo,X=_p(r);Ep(r,X,V);break;default:throw Error(i(161))}}catch(ie){ot(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Db(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Db(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ji(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kb(r,s.alternate,s),s=s.sibling}function Ia(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ws(4,s,s.return),Ia(s);break;case 1:ti(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Tb(s,s.return,o),Ia(s);break;case 27:ou(s.stateNode);case 26:case 5:ti(s,s.return),Ia(s);break;case 22:s.memoizedState===null&&Ia(s);break;case 30:Ia(s);break;default:Ia(s)}r=r.sibling}}function Vi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:Vi(h,g,o),Wl(4,g);break;case 1:if(Vi(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){ot(u,u.return,X)}if(u=g,h=u.updateQueue,h!==null){var S=u.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)hy(V[h],S)}catch(X){ot(u,u.return,X)}}o&&x&64&&wb(g),Zl(g,g.return);break;case 27:Ab(g);case 26:case 5:Vi(h,g,o),o&&u===null&&x&4&&Sb(g),Zl(g,g.return);break;case 12:Vi(h,g,o);break;case 31:Vi(h,g,o),o&&x&4&&Nb(h,g);break;case 13:Vi(h,g,o),o&&x&4&&Mb(h,g);break;case 22:g.memoizedState===null&&Vi(h,g,o),Zl(g,g.return);break;case 30:break;default:Vi(h,g,o)}s=s.sibling}}function wp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vl(o))}function Tp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vl(r))}function Rr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Pb(r,s,o,u),s=s.sibling}function Pb(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(r,s,o,u),h&2048&&Wl(9,s);break;case 1:Rr(r,s,o,u);break;case 3:Rr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vl(r)));break;case 12:if(h&2048){Rr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){ot(s,s.return,V)}}else Rr(r,s,o,u);break;case 31:Rr(r,s,o,u);break;case 13:Rr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?Rr(r,s,o,u):Jl(r,s):g._visibility&2?Rr(r,s,o,u):(g._visibility|=2,No(r,s,o,u,(s.subtreeFlags&10256)!==0||!1)),h&2048&&wp(x,s);break;case 24:Rr(r,s,o,u),h&2048&&Tp(s.alternate,s);break;default:Rr(r,s,o,u)}}function No(r,s,o,u,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,x=s,S=o,V=u,X=x.flags;switch(x.tag){case 0:case 11:case 15:No(g,x,S,V,h),Wl(8,x);break;case 23:break;case 22:var ie=x.stateNode;x.memoizedState!==null?ie._visibility&2?No(g,x,S,V,h):Jl(g,x):(ie._visibility|=2,No(g,x,S,V,h)),h&&X&2048&&wp(x.alternate,x);break;case 24:No(g,x,S,V,h),h&&X&2048&&Tp(x.alternate,x);break;default:No(g,x,S,V,h)}s=s.sibling}}function Jl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Jl(o,u),h&2048&&wp(u.alternate,u);break;case 24:Jl(o,u),h&2048&&Tp(u.alternate,u);break;default:Jl(o,u)}s=s.sibling}}var eu=8192;function Mo(r,s,o){if(r.subtreeFlags&eu)for(r=r.child;r!==null;)jb(r,s,o),r=r.sibling}function jb(r,s,o){switch(r.tag){case 26:Mo(r,s,o),r.flags&eu&&r.memoizedState!==null&&cA(o,Ar,r.memoizedState,r.memoizedProps);break;case 5:Mo(r,s,o);break;case 3:case 4:var u=Ar;Ar=_d(r.stateNode.containerInfo),Mo(r,s,o),Ar=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=eu,eu=16777216,Mo(r,s,o),eu=u):Mo(r,s,o));break;default:Mo(r,s,o)}}function Vb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function tu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,zb(u,r)}Vb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ub(r),r=r.sibling}function Ub(r){switch(r.tag){case 0:case 11:case 15:tu(r),r.flags&2048&&ws(9,r,r.return);break;case 3:tu(r);break;case 12:tu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,od(r)):tu(r);break;default:tu(r)}}function od(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,zb(u,r)}Vb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ws(8,s,s.return),od(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,od(s));break;default:od(s)}r=r.sibling}}function zb(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:ws(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=r;Jt!==null;){u=Jt;var h=u.sibling,g=u.return;if(Lb(u),u===o){Jt=null;break e}if(h!==null){h.return=g,Jt=h;break e}Jt=g}}}var S1={getCacheForType:function(r){var s=sn(Ut),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return sn(Ut).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,qe=null,Ge=0,at=0,Qn=null,Ts=!1,Oo=!1,Sp=!1,Ui=0,At=0,Ss=0,Na=0,Cp=0,Yn=0,Do=0,nu=null,Nn=null,Ap=!1,ld=0,Bb=0,ud=1/0,cd=null,Cs=null,Kt=0,As=null,Po=null,zi=0,Rp=0,kp=null,qb=null,ru=0,Lp=null;function Xn(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:K.T!==null?Pp():dc()}function Hb(){if(Yn===0)if((Ge&536870912)===0||Xe){var r=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Yn=r}else Yn=536870912;return r=Kn.current,r!==null&&(r.flags|=32),Yn}function Mn(r,s,o){(r===ht&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(jo(r,0),Rs(r,Ge,Yn,!1)),Ei(r,o),((rt&2)===0||r!==ht)&&(r===ht&&((rt&2)===0&&(Na|=o),At===4&&Rs(r,Ge,Yn,!1)),ni(r))}function Fb(r,s,o){if((rt&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&r.expiredLanes)===0||mn(r,s),h=u?k1(r,s):Np(r,s,!0),g=u;do{if(h===0){Oo&&!u&&Rs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!A1(o)){h=Np(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var S=r;h=nu;var V=S.current.memoizedState.isDehydrated;if(V&&(jo(S,x).flags|=256),x=Np(S,x,!1),x!==2){if(Sp&&!V){S.errorRecoveryDisabledLanes|=g,Na|=g,h=4;break e}g=Nn,Nn=h,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}h=x}if(g=!1,h!==2)continue}}if(h===1){jo(r,0),Rs(r,s,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Rs(u,s,Yn,!Ts);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=ld+300-Xt(),10<h)){if(Rs(u,s,Yn,!Ts),zn(u,0,!0)!==0)break e;zi=s,u.timeoutHandle=E0(Gb.bind(null,u,o,Nn,cd,Ap,s,Yn,Na,Do,Ts,g,"Throttled",-0,0),h);break e}Gb(u,o,Nn,cd,Ap,s,Yn,Na,Do,Ts,g,null,-0,0)}}break}while(!0);ni(r)}function Gb(r,s,o,u,h,g,x,S,V,X,ie,ue,J,ne){if(r.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Er},jb(s,g,ue);var Ee=(g&62914560)===g?ld-Xt():(g&4194048)===g?Bb-Xt():0;if(Ee=dA(ue,Ee),Ee!==null){zi=g,r.cancelPendingCommit=Ee(Jb.bind(null,r,s,g,o,u,h,x,S,V,ie,ue,null,J,ne)),Rs(r,g,x,!X);return}}Jb(r,s,g,o,u,h,x,S,V)}function A1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Fn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rs(r,s,o,u){s&=~Cp,s&=~Na,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-yt(h),x=1<<g;u[g]=-1,h&=~x}o!==0&&ke(r,o,s)}function dd(){return(rt&6)===0?(iu(0),!1):!0}function Ip(){if(qe!==null){if(at===0)var r=qe.return;else r=qe,ki=wa=null,$f(r),Ao=null,zl=0,r=qe;for(;r!==null;)xb(r.alternate,r),r=r.return;qe=null}}function jo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,$1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),zi=0,Ip(),ht=r,qe=o=Ai(r.current,null),Ge=s,at=0,Qn=null,Ts=!1,Oo=mn(r,s),Sp=!1,Do=Yn=Cp=Na=Ss=At=0,Nn=nu=null,Ap=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-yt(u),g=1<<h;s|=r[h],u&=~g}return Ui=s,Nc(),o}function Kb(r,s){je=null,K.H=Ql,s===Co||s===zc?(s=ly(),at=3):s===Df?(s=ly(),at=4):at=s===up?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,qe===null&&(At=1,ed(r,ar(s,r.current)))}function $b(){var r=Kn.current;return r===null?!0:(Ge&4194048)===Ge?cr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?r===cr:!1}function Qb(){var r=K.H;return K.H=Ql,r===null?Ql:r}function Yb(){var r=K.A;return K.A=S1,r}function hd(){At=4,Ts||(Ge&4194048)!==Ge&&Kn.current!==null||(Oo=!0),(Ss&134217727)===0&&(Na&134217727)===0||ht===null||Rs(ht,Ge,Yn,!1)}function Np(r,s,o){var u=rt;rt|=2;var h=Qb(),g=Yb();(ht!==r||Ge!==s)&&(cd=null,jo(r,s)),s=!1;var x=At;e:do try{if(at!==0&&qe!==null){var S=qe,V=Qn;switch(at){case 8:Ip(),x=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(s=!0);var X=at;if(at=0,Qn=null,Vo(r,S,V,X),o&&Oo){x=0;break e}break;default:X=at,at=0,Qn=null,Vo(r,S,V,X)}}R1(),x=At;break}catch(ie){Kb(r,ie)}while(!0);return s&&r.shellSuspendCounter++,ki=wa=null,rt=u,K.H=h,K.A=g,qe===null&&(ht=null,Ge=0,Nc()),x}function R1(){for(;qe!==null;)Xb(qe)}function k1(r,s){var o=rt;rt|=2;var u=Qb(),h=Yb();ht!==r||Ge!==s?(cd=null,ud=Xt()+500,jo(r,s)):Oo=mn(r,s);e:do try{if(at!==0&&qe!==null){s=qe;var g=Qn;t:switch(at){case 1:at=0,Qn=null,Vo(r,s,g,1);break;case 2:case 9:if(ay(g)){at=0,Qn=null,Wb(s);break}s=function(){at!==2&&at!==9||ht!==r||(at=7),ni(r)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:ay(g)?(at=0,Qn=null,Wb(s)):(at=0,Qn=null,Vo(r,s,g,7));break;case 5:var x=null;switch(qe.tag){case 26:x=qe.memoizedState;case 5:case 27:var S=qe;if(x?P0(x):S.stateNode.complete){at=0,Qn=null;var V=S.sibling;if(V!==null)qe=V;else{var X=S.return;X!==null?(qe=X,fd(X)):qe=null}break t}}at=0,Qn=null,Vo(r,s,g,5);break;case 6:at=0,Qn=null,Vo(r,s,g,6);break;case 8:Ip(),At=6;break e;default:throw Error(i(462))}}L1();break}catch(ie){Kb(r,ie)}while(!0);return ki=wa=null,K.H=u,K.A=h,rt=o,qe!==null?0:(ht=null,Ge=0,Nc(),At)}function L1(){for(;qe!==null&&!to();)Xb(qe)}function Xb(r){var s=_b(r.alternate,r,Ui);r.memoizedProps=r.pendingProps,s===null?fd(r):qe=s}function Wb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=pb(o,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=pb(o,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:$f(s);default:xb(o,s),s=qe=Yv(s,Ui),s=_b(o,s,Ui)}r.memoizedProps=r.pendingProps,s===null?fd(r):qe=s}function Vo(r,s,o,u){ki=wa=null,$f(s),Ao=null,zl=0;var h=s.return;try{if(y1(r,h,s,o,Ge)){At=1,ed(r,ar(o,r.current)),qe=null;return}}catch(g){if(h!==null)throw qe=h,g;At=1,ed(r,ar(o,r.current)),qe=null;return}s.flags&32768?(Xe||u===1?r=!0:Oo||(Ge&536870912)!==0?r=!1:(Ts=r=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zb(s,r)):fd(s)}function fd(r){var s=r;do{if((s.flags&32768)!==0){Zb(s,Ts);return}r=s.return;var o=E1(s.alternate,s,Ui);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=r}while(s!==null);At===0&&(At=5)}function Zb(r,s){do{var o=x1(r.alternate,r);if(o!==null){o.flags&=32767,qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){qe=r;return}qe=r=o}while(r!==null);At=6,qe=null}function Jb(r,s,o,u,h,g,x,S,V){r.cancelPendingCommit=null;do pd();while(Kt!==0);if((rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=_f,xi(r,o,g,x,S,V),r===ht&&(qe=ht=null,Ge=0),Po=s,As=r,zi=o,Rp=g,kp=h,qb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,O1(yr,function(){return i0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,h=se.p,se.p=2,x=rt,rt|=4;try{w1(r,s,o)}finally{rt=x,se.p=h,K.T=u}}Kt=1,e0(),t0(),n0()}}function e0(){if(Kt===1){Kt=0;var r=As,s=Po,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=se.p;se.p=2;var h=rt;rt|=4;try{Ob(s,r);var g=Fp,x=zv(r.containerInfo),S=g.focusedElem,V=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&Uv(S.ownerDocument.documentElement,S)){if(V!==null&&mf(S)){var X=V.start,ie=V.end;if(ie===void 0&&(ie=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ie,S.value.length);else{var ue=S.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var ne=J.getSelection(),Ee=S.textContent.length,Re=Math.min(V.start,Ee),dt=V.end===void 0?Re:Math.min(V.end,Ee);!ne.extend&&Re>dt&&(x=dt,dt=Re,Re=x);var G=Vv(S,Re),q=Vv(S,dt);if(G&&q&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var Y=ue.createRange();Y.setStart(G.node,G.offset),ne.removeAllRanges(),Re>dt?(ne.addRange(Y),ne.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),ne.addRange(Y))}}}}for(ue=[],ne=S;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ue.length;S++){var oe=ue[S];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Cd=!!Hp,Fp=Hp=null}finally{rt=h,se.p=u,K.T=o}}r.current=s,Kt=2}}function t0(){if(Kt===2){Kt=0;var r=As,s=Po,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=se.p;se.p=2;var h=rt;rt|=4;try{kb(r,s.alternate,s)}finally{rt=h,se.p=u,K.T=o}}Kt=3}}function n0(){if(Kt===4||Kt===3){Kt=0,mi();var r=As,s=Po,o=zi,u=qb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,Po=As=null,r0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Cs=null),wi(o),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(pn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,h=se.p,se.p=2,K.T=null;try{for(var g=r.onRecoverableError,x=0;x<u.length;x++){var S=u[x];g(S.value,{componentStack:S.stack})}}finally{K.T=s,se.p=h}}(zi&3)!==0&&pd(),ni(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===Lp?ru++:(ru=0,Lp=r):ru=0,iu(0)}}function r0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Vl(s)))}function pd(){return e0(),t0(),n0(),i0()}function i0(){if(Kt!==5)return!1;var r=As,s=Rp;Rp=0;var o=wi(zi),u=K.T,h=se.p;try{se.p=32>o?32:o,K.T=null,o=kp,kp=null;var g=As,x=zi;if(Kt=0,Po=As=null,zi=0,(rt&6)!==0)throw Error(i(331));var S=rt;if(rt|=4,Ub(g.current),Pb(g,g.current,x,o),rt=S,iu(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(pn,g)}catch{}return!0}finally{se.p=h,K.T=u,r0(r,s)}}function s0(r,s,o){s=ar(o,s),s=lp(r.stateNode,s,2),r=_s(r,s,2),r!==null&&(Ei(r,2),ni(r))}function ot(r,s,o){if(r.tag===3)s0(r,r,o);else for(;s!==null;){if(s.tag===3){s0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cs===null||!Cs.has(u))){r=ar(o,r),o=ab(2),u=_s(s,o,2),u!==null&&(ob(o,u,s,r),Ei(u,2),ni(u));break}}s=s.return}}function Mp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new C1;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Sp=!0,h.add(o),r=I1.bind(null,r,s,o),s.then(r,r))}function I1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(Ge&o)===o&&(At===4||At===3&&(Ge&62914560)===Ge&&300>Xt()-ld?(rt&2)===0&&jo(r,0):Cp|=o,Do===Ge&&(Do=0)),ni(r)}function a0(r,s){s===0&&(s=_i()),r=_a(r,s),r!==null&&(Ei(r,s),ni(r))}function N1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),a0(r,o)}function M1(r,s){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),a0(r,o)}function O1(r,s){return St(r,s)}var md=null,Uo=null,Op=!1,gd=!1,Dp=!1,ks=0;function ni(r){r!==Uo&&r.next===null&&(Uo===null?md=Uo=r:Uo=Uo.next=r),gd=!0,Op||(Op=!0,P1())}function iu(r,s){if(!Dp&&gd){Dp=!0;do for(var o=!1,u=md;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var x=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-yt(42|r)+1)-1,g&=h&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,c0(u,g))}else g=Ge,g=zn(u,u===ht?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||mn(u,g)||(o=!0,c0(u,g));u=u.next}while(o);Dp=!1}}function D1(){o0()}function o0(){gd=Op=!1;var r=0;ks!==0&&K1()&&(r=ks);for(var s=Xt(),o=null,u=md;u!==null;){var h=u.next,g=l0(u,s);g===0?(u.next=null,o===null?md=h:o.next=h,h===null&&(Uo=o)):(o=u,(r!==0||(g&3)!==0)&&(gd=!0)),u=h}Kt!==0&&Kt!==5||iu(r),ks!==0&&(ks=0)}function l0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var x=31-yt(g),S=1<<x,V=h[x];V===-1?((S&o)===0||(S&u)!==0)&&(h[x]=no(S,s)):V<=s&&(r.expiredLanes|=S),g&=~S}if(s=ht,o=Ge,o=zn(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(at===2||at===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Vn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||mn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Vn(u),wi(o)){case 2:case 8:o=Vr;break;case 32:o=yr;break;case 268435456:o=aa;break;default:o=yr}return u=u0.bind(null,r),o=St(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Vn(u),r.callbackPriority=2,r.callbackNode=null,2}function u0(r,s){if(Kt!==0&&Kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(pd()&&r.callbackNode!==o)return null;var u=Ge;return u=zn(r,r===ht?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Fb(r,u,s),l0(r,Xt()),r.callbackNode!=null&&r.callbackNode===o?u0.bind(null,r):null)}function c0(r,s){if(pd())return null;Fb(r,s,!0)}function P1(){Q1(function(){(rt&6)!==0?St(rs,D1):o0()})}function Pp(){if(ks===0){var r=To;r===0&&(r=Un,Un<<=1,(Un&261888)===0&&(Un=256)),ks=r}return ks}function d0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:lo(""+r)}function h0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function j1(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=d0((h[Wt]||null).action),x=u.submitter;x&&(s=(s=x[Wt]||null)?d0(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var S=new Yr("action","action",null,u,h);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ks!==0){var V=x?h0(h,x):new FormData(h);np(o,{pending:!0,data:V,method:h.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=x?h0(h,x):new FormData(h),np(o,{pending:!0,data:V,method:h.method,action:g},g,V))},currentTarget:h}]})}}for(var jp=0;jp<bf.length;jp++){var Vp=bf[jp],V1=Vp.toLowerCase(),U1=Vp[0].toUpperCase()+Vp.slice(1);Cr(V1,"on"+U1)}Cr(Hv,"onAnimationEnd"),Cr(Fv,"onAnimationIteration"),Cr(Gv,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(t1,"onTransitionRun"),Cr(n1,"onTransitionStart"),Cr(r1,"onTransitionCancel"),Cr(Kv,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function f0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var x=u.length-1;0<=x;x--){var S=u[x],V=S.instance,X=S.currentTarget;if(S=S.listener,V!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=X;try{g(h)}catch(ie){Ic(ie)}h.currentTarget=null,g=V}else for(x=0;x<u.length;x++){if(S=u[x],V=S.instance,X=S.currentTarget,S=S.listener,V!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=X;try{g(h)}catch(ie){Ic(ie)}h.currentTarget=null,g=V}}}}function He(r,s){var o=s[ro];o===void 0&&(o=s[ro]=new Set);var u=r+"__bubble";o.has(u)||(p0(s,r,2,!1),o.add(u))}function Up(r,s,o){var u=0;s&&(u|=4),p0(o,r,u,s)}var vd="_reactListening"+Math.random().toString(36).slice(2);function zp(r){if(!r[vd]){r[vd]=!0,vl.forEach(function(o){o!=="selectionchange"&&(z1.has(o)||Up(o,!1,r),Up(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vd]||(s[vd]=!0,Up("selectionchange",!1,s))}}function p0(r,s,o,u){switch(H0(s)){case 2:var h=pA;break;case 8:h=mA;break;default:h=tm}o=h.bind(null,s,o,r),h=void 0,!ha||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Bp(r,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===h)break;if(x===4)for(x=u.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;S!==null;){if(x=qr(S),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){u=g=x;continue e}S=S.parentNode}}u=u.return}cs(function(){var X=g,ie=nr(o),ue=[];e:{var J=$v.get(r);if(J!==void 0){var ne=Yr,Ee=r;switch(r){case"keypress":if(pa(o)===0)break e;case"keydown":case"keyup":ne=Rc;break;case"focusin":Ee="focus",ne=ga;break;case"focusout":Ee="blur",ne=ga;break;case"beforeblur":case"afterblur":ne=ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=E;break;case Hv:case Fv:case Gv:ne=Ec;break;case Kv:ne=I;break;case"scroll":case"scrollend":ne=kl;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ci;break;case"toggle":case"beforetoggle":ne=Pe}var Re=(s&4)!==0,dt=!Re&&(r==="scroll"||r==="scrollend"),G=Re?J!==null?J+"Capture":null:J;Re=[];for(var q=X,Y;q!==null;){var oe=q;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||G===null||(oe=xr(q,G),oe!=null&&Re.push(au(q,oe,Y))),dt)break;q=q.return}0<Re.length&&(J=new ne(J,Ee,null,o,ie),ue.push({event:J,listeners:Re}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",J&&o!==Cl&&(Ee=o.relatedTarget||o.fromElement)&&(qr(Ee)||Ee[zr]))break e;if((ne||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(Ee=o.relatedTarget||o.toElement,ne=X,Ee=Ee?qr(Ee):null,Ee!==null&&(dt=l(Ee),Re=Ee.tag,Ee!==dt||Re!==5&&Re!==27&&Re!==6)&&(Ee=null)):(ne=null,Ee=X),ne!==Ee)){if(Re=Ll,oe="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Ci,oe="onPointerLeave",G="onPointerEnter",q="pointer"),dt=ne==null?J:qn(ne),Y=Ee==null?J:qn(Ee),J=new Re(oe,q+"leave",ne,o,ie),J.target=dt,J.relatedTarget=Y,oe=null,qr(ie)===X&&(Re=new Re(G,q+"enter",Ee,o,ie),Re.target=Y,Re.relatedTarget=dt,oe=Re),dt=oe,ne&&Ee)t:{for(Re=B1,G=ne,q=Ee,Y=0,oe=G;oe;oe=Re(oe))Y++;oe=0;for(var Ce=q;Ce;Ce=Re(Ce))oe++;for(;0<Y-oe;)G=Re(G),Y--;for(;0<oe-Y;)q=Re(q),oe--;for(;Y--;){if(G===q||q!==null&&G===q.alternate){Re=G;break t}G=Re(G),q=Re(q)}Re=null}else Re=null;ne!==null&&m0(ue,J,ne,Re,!1),Ee!==null&&dt!==null&&m0(ue,dt,Ee,Re,!0)}}e:{if(J=X?qn(X):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var Je=Nv;else if(Lv(J))if(Mv)Je=ZC;else{Je=XC;var xe=YC}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&oo(X.elementType)&&(Je=Nv):Je=WC;if(Je&&(Je=Je(r,X))){Iv(ue,Je,o,ie);break e}xe&&xe(r,J,X),r==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&wl(J,"number",J.value)}switch(xe=X?qn(X):window,r){case"focusin":(Lv(xe)||xe.contentEditable==="true")&&(go=xe,gf=X,Dl=null);break;case"focusout":Dl=gf=go=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Bv(ue,o,ie);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Bv(ue,o,ie)}var Ve;if(nt)e:{switch(r){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else mo?va(r,o)&&(Ke="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(Zr&&o.locale!=="ko"&&(mo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&mo&&(Ve=Rl()):(Qr=ie,Al="value"in Qr?Qr.value:Qr.textContent,mo=!0)),xe=yd(X,Ke),0<xe.length&&(Ke=new Wr(Ke,r,null,o,ie),ue.push({event:Ke,listeners:xe}),Ve?Ke.data=Ve:(Ve=po(o),Ve!==null&&(Ke.data=Ve)))),(Ve=ir?GC(r,o):KC(r,o))&&(Ke=yd(X,"onBeforeInput"),0<Ke.length&&(xe=new Wr("onBeforeInput","beforeinput",null,o,ie),ue.push({event:xe,listeners:Ke}),xe.data=Ve)),j1(ue,r,X,o,ie)}f0(ue,s)})}function au(r,s,o){return{instance:r,listener:s,currentTarget:o}}function yd(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=xr(r,o),h!=null&&u.unshift(au(r,h,g)),h=xr(r,s),h!=null&&u.push(au(r,h,g))),r.tag===3)return u;r=r.return}return[]}function B1(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function m0(r,s,o,u,h){for(var g=s._reactName,x=[];o!==null&&o!==u;){var S=o,V=S.alternate,X=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||X===null||(V=X,h?(X=xr(o,g),X!=null&&x.unshift(au(o,X,V))):h||(X=xr(o,g),X!=null&&x.push(au(o,X,V)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function g0(r){return(typeof r=="string"?r:""+r).replace(q1,`
`).replace(H1,"")}function v0(r,s){return s=g0(s),g0(r)===s}function ct(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Rn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Rn(r,""+u);break;case"className":Hn(r,"class",u);break;case"tabIndex":Hn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(r,o,u);break;case"style":Sl(r,u,g);break;case"data":if(s!=="object"){Hn(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(r,s,"name",h.name,h,null),ct(r,s,"formEncType",h.formEncType,h,null),ct(r,s,"formMethod",h.formMethod,h,null),ct(r,s,"formTarget",h.formTarget,h,null)):(ct(r,s,"encType",h.encType,h,null),ct(r,s,"method",h.method,h,null),ct(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=lo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Er);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=lo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":He("beforetoggle",r),He("toggle",r),so(r,"popover",u);break;case"xlinkActuate":Vt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":so(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yc.get(o)||o,so(r,o,u))}}function qp(r,s,o,u,h,g){switch(o){case"style":Sl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Rn(r,u):(typeof u=="number"||typeof u=="bigint")&&Rn(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Wt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):so(r,o,u)}}}function on(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,g,x,o,null)}}h&&ct(r,s,"srcSet",o.srcSet,o,null),u&&ct(r,s,"src",o.src,o,null);return;case"input":He("invalid",r);var S=g=x=h=null,V=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":h=ie;break;case"type":x=ie;break;case"checked":V=ie;break;case"defaultChecked":X=ie;break;case"value":g=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:ct(r,s,u,ie,o,null)}}mc(r,g,S,V,X,x,h,!1);return;case"select":He("invalid",r),u=x=g=null;for(h in o)if(o.hasOwnProperty(h)&&(S=o[h],S!=null))switch(h){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:ct(r,s,h,S,o,null)}s=g,o=x,r.multiple=!!u,s!=null?as(r,!!u,s,!1):o!=null&&as(r,!!u,o,!0);return;case"textarea":He("invalid",r),g=h=u=null;for(x in o)if(o.hasOwnProperty(x)&&(S=o[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":h=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ct(r,s,x,S,o,null)}os(r,u,h,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(r,s,V,u,o,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<su.length;u++)He(su[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,X,u,o,null)}return;default:if(oo(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&qp(r,s,ie,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ct(r,s,S,u,o,null))}function F1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,x=null,S=null,V=null,X=null,ie=null;for(ne in o){var ue=o[ne];if(o.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":V=ue;default:u.hasOwnProperty(ne)||ct(r,s,ne,null,u,ue)}}for(var J in u){var ne=u[J];if(ue=o[J],u.hasOwnProperty(J)&&(ne!=null||ue!=null))switch(J){case"type":g=ne;break;case"name":h=ne;break;case"checked":X=ne;break;case"defaultChecked":ie=ne;break;case"value":x=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ue&&ct(r,s,J,ne,u,ue)}}ao(r,x,S,V,X,ie,g,h);return;case"select":ne=x=S=J=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ne=V;default:u.hasOwnProperty(g)||ct(r,s,g,null,u,V)}for(h in u)if(g=u[h],V=o[h],u.hasOwnProperty(h)&&(g!=null||V!=null))switch(h){case"value":J=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==V&&ct(r,s,h,g,u,V)}s=S,o=x,u=ne,J!=null?as(r,!!o,J,!1):!!u!=!!o&&(s!=null?as(r,!!o,s,!0):as(r,!!o,o?[]:"",!1));return;case"textarea":ne=J=null;for(S in o)if(h=o[S],o.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ct(r,s,S,null,u,h)}for(x in u)if(h=u[x],g=o[x],u.hasOwnProperty(x)&&(h!=null||g!=null))switch(x){case"value":J=h;break;case"defaultValue":ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&ct(r,s,x,h,u,g)}gc(r,J,ne);return;case"option":for(var Ee in o)if(J=o[Ee],o.hasOwnProperty(Ee)&&J!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:ct(r,s,Ee,null,u,J)}for(V in u)if(J=u[V],ne=o[V],u.hasOwnProperty(V)&&J!==ne&&(J!=null||ne!=null))switch(V){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(r,s,V,J,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)J=o[Re],o.hasOwnProperty(Re)&&J!=null&&!u.hasOwnProperty(Re)&&ct(r,s,Re,null,u,J);for(X in u)if(J=u[X],ne=o[X],u.hasOwnProperty(X)&&J!==ne&&(J!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:ct(r,s,X,J,u,ne)}return;default:if(oo(s)){for(var dt in o)J=o[dt],o.hasOwnProperty(dt)&&J!==void 0&&!u.hasOwnProperty(dt)&&qp(r,s,dt,void 0,u,J);for(ie in u)J=u[ie],ne=o[ie],!u.hasOwnProperty(ie)||J===ne||J===void 0&&ne===void 0||qp(r,s,ie,J,u,ne);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!u.hasOwnProperty(G)&&ct(r,s,G,null,u,J);for(ue in u)J=u[ue],ne=o[ue],!u.hasOwnProperty(ue)||J===ne||J==null&&ne==null||ct(r,s,ue,J,u,ne)}function y0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G1(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],g=h.transferSize,x=h.initiatorType,S=h.duration;if(g&&S&&y0(x)){for(x=0,S=h.responseEnd,u+=1;u<o.length;u++){var V=o[u],X=V.startTime;if(X>S)break;var ie=V.transferSize,ue=V.initiatorType;ie&&y0(ue)&&(V=V.responseEnd,x+=ie*(V<S?1:(S-X)/(V-X)))}if(--u,s+=8*(g+x)/(h.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Hp=null,Fp=null;function bd(r){return r.nodeType===9?r:r.ownerDocument}function b0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Gp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kp=null;function K1(){var r=window.event;return r&&r.type==="popstate"?r===Kp?!1:(Kp=r,!0):(Kp=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(r){return x0.resolve(null).then(r).catch(Y1)}:E0;function Y1(r){setTimeout(function(){throw r})}function Ls(r){return r==="head"}function w0(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(h),Ho(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ou(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ou(o);for(var g=o.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[Br]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&ou(r.ownerDocument.body);o=h}while(o);Ho(s)}function T0(r,s){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function $p(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$p(o),io(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function X1(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Br])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=dr(r.nextSibling),r===null)break}return null}function W1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=dr(r.nextSibling),r===null))return null;return r}function S0(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=dr(r.nextSibling),r===null))return null;return r}function Qp(r){return r.data==="$?"||r.data==="$~"}function Yp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Z1(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function dr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Xp=null;function C0(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return dr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function A0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function R0(r,s,o){switch(s=bd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ou(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);io(r)}var hr=new Map,k0=new Set;function _d(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bi=se.d;se.d={f:J1,r:eA,D:tA,C:nA,L:rA,m:iA,X:aA,S:sA,M:oA};function J1(){var r=Bi.f(),s=dd();return r||s}function eA(r){var s=tr(r);s!==null&&s.tag===5&&s.type==="form"?Ky(s):Bi.r(r)}var zo=typeof document>"u"?null:document;function L0(r,s,o){var u=zo;if(u&&typeof s=="string"&&s){var h=An(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),k0.has(h)||(k0.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),on(s,"link",r),jt(s),u.head.appendChild(s)))}}function tA(r){Bi.D(r),L0("dns-prefetch",r,null)}function nA(r,s){Bi.C(r,s),L0("preconnect",r,s)}function rA(r,s,o){Bi.L(r,s,o);var u=zo;if(u&&r&&s){var h='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+An(o.imageSizes)+'"]')):h+='[href="'+An(r)+'"]';var g=h;switch(s){case"style":g=Bo(r);break;case"script":g=qo(r)}hr.has(g)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),hr.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(lu(g))||s==="script"&&u.querySelector(uu(g))||(s=u.createElement("link"),on(s,"link",r),jt(s),u.head.appendChild(s)))}}function iA(r,s){Bi.m(r,s);var o=zo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(r)}if(!hr.has(g)&&(r=_({rel:"modulepreload",href:r},s),hr.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uu(g)))return}u=o.createElement("link"),on(u,"link",r),jt(u),o.head.appendChild(u)}}}function sA(r,s,o){Bi.S(r,s,o);var u=zo;if(u&&r){var h=Hr(u).hoistableStyles,g=Bo(r);s=s||"default";var x=h.get(g);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(lu(g)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=hr.get(g))&&Wp(r,o);var V=x=u.createElement("link");jt(V),on(V,"link",r),V._p=new Promise(function(X,ie){V.onload=X,V.onerror=ie}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ed(x,s,u)}x={type:"stylesheet",instance:x,count:1,state:S},h.set(g,x)}}}function aA(r,s){Bi.X(r,s);var o=zo;if(o&&r){var u=Hr(o).hoistableScripts,h=qo(r),g=u.get(h);g||(g=o.querySelector(uu(h)),g||(r=_({src:r,async:!0},s),(s=hr.get(h))&&Zp(r,s),g=o.createElement("script"),jt(g),on(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function oA(r,s){Bi.M(r,s);var o=zo;if(o&&r){var u=Hr(o).hoistableScripts,h=qo(r),g=u.get(h);g||(g=o.querySelector(uu(h)),g||(r=_({src:r,async:!0,type:"module"},s),(s=hr.get(h))&&Zp(r,s),g=o.createElement("script"),jt(g),on(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function I0(r,s,o,u){var h=(h=_e.current)?_d(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Bo(o.href),o=Hr(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Bo(o.href);var g=Hr(h).hoistableStyles,x=g.get(r);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,x),(g=h.querySelector(lu(r)))&&!g._p&&(x.instance=g,x.state.loading=5),hr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hr.set(r,o),g||lA(h,r,o,x.state))),s&&u===null)throw Error(i(528,""));return x}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qo(o),o=Hr(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Bo(r){return'href="'+An(r)+'"'}function lu(r){return'link[rel="stylesheet"]['+r+"]"}function N0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function lA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),on(s,"link",o),jt(s),r.head.appendChild(s))}function qo(r){return'[src="'+An(r)+'"]'}function uu(r){return"script[async]"+r}function M0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return s.instance=u,jt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),jt(u),on(u,"style",h),Ed(u,o.precedence,r),s.instance=u;case"stylesheet":h=Bo(o.href);var g=r.querySelector(lu(h));if(g)return s.state.loading|=4,s.instance=g,jt(g),g;u=N0(o),(h=hr.get(h))&&Wp(u,h),g=(r.ownerDocument||r).createElement("link"),jt(g);var x=g;return x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),on(g,"link",u),s.state.loading|=4,Ed(g,o.precedence,r),s.instance=g;case"script":return g=qo(o.src),(h=r.querySelector(uu(g)))?(s.instance=h,jt(h),h):(u=o,(h=hr.get(g))&&(u=_({},o),Zp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),jt(h),on(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ed(u,o.precedence,r));return s.instance}function Ed(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===s)g=S;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Wp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Zp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var xd=null;function O0(r,s,o){if(xd===null){var u=new Map,h=xd=new Map;h.set(o,u)}else h=xd,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Br]||g[Pt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=r+x;var S=u.get(x);S?S.push(g):u.set(x,[g])}}return u}function D0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function uA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function P0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function cA(r,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Bo(u.href),g=s.querySelector(lu(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=wd.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,jt(g);return}g=s.ownerDocument||s,u=N0(u),(h=hr.get(h))&&Wp(u,h),g=g.createElement("link"),jt(g);var x=g;x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),on(g,"link",u),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=wd.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Jp=0;function dA(r,s){return r.stylesheets&&r.count===0&&Sd(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Sd(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&Jp===0&&(Jp=62500*G1());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Sd(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Jp?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Td=null;function Sd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Td=new Map,s.forEach(hA,r),Td=null,wd.call(r))}function hA(r,s){if(!(s.state.loading&4)){var o=Td.get(r);if(o)var u=o.get(null);else{o=new Map,Td.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var x=h[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}h=s.instance,x=h.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,h),o.set(x,h),this.count++,u=wd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var cu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function fA(r,s,o,u,h,g,x,S,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function j0(r,s,o,u,h,g,x,S,V,X,ie,ue){return r=new fA(r,s,o,x,V,X,ie,ue,S),s=1,g===!0&&(s|=24),g=Gn(3,null,null,s),r.current=g,g.stateNode=r,s=Nf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Pf(g),r}function V0(r){return r?(r=bo,r):bo}function U0(r,s,o,u,h,g){h=V0(h),u.context===null?u.context=h:u.pendingContext=h,u=bs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=_s(r,u,s),o!==null&&(Mn(o,r,s),ql(o,r,s))}function z0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function em(r,s){z0(r,s),(r=r.alternate)&&z0(r,s)}function B0(r){if(r.tag===13||r.tag===31){var s=_a(r,67108864);s!==null&&Mn(s,r,67108864),em(r,67108864)}}function q0(r){if(r.tag===13||r.tag===31){var s=Xn();s=la(s);var o=_a(r,s);o!==null&&Mn(o,r,s),em(r,s)}}var Cd=!0;function pA(r,s,o,u){var h=K.T;K.T=null;var g=se.p;try{se.p=2,tm(r,s,o,u)}finally{se.p=g,K.T=h}}function mA(r,s,o,u){var h=K.T;K.T=null;var g=se.p;try{se.p=8,tm(r,s,o,u)}finally{se.p=g,K.T=h}}function tm(r,s,o,u){if(Cd){var h=nm(u);if(h===null)Bp(r,s,u,Ad,o),F0(r,u);else if(vA(h,r,s,o,u))u.stopPropagation();else if(F0(r,u),s&4&&-1<gA.indexOf(r)){for(;h!==null;){var g=tr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=xn(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var V=1<<31-yt(x);S.entanglements[1]|=V,x&=~V}ni(g),(rt&6)===0&&(ud=Xt()+500,iu(0))}}break;case 31:case 13:S=_a(g,2),S!==null&&Mn(S,g,2),dd(),em(g,2)}if(g=nm(u),g===null&&Bp(r,s,u,Ad,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Bp(r,s,u,null,o)}}function nm(r){return r=nr(r),rm(r)}var Ad=null;function rm(r){if(Ad=null,r=qr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ad=r,null}function H0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case rs:return 2;case Vr:return 8;case yr:case is:return 32;case aa:return 268435456;default:return 32}default:return 32}}var im=!1,Is=null,Ns=null,Ms=null,du=new Map,hu=new Map,Os=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(r,s){switch(r){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(s.pointerId)}}function fu(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=tr(s),s!==null&&B0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function vA(r,s,o,u,h){switch(s){case"focusin":return Is=fu(Is,r,s,o,u,h),!0;case"dragenter":return Ns=fu(Ns,r,s,o,u,h),!0;case"mouseover":return Ms=fu(Ms,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return du.set(g,fu(du.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,hu.set(g,fu(hu.get(g)||null,r,s,o,u,h)),!0}return!1}function G0(r){var s=qr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,br(r.priority,function(){q0(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,br(r.priority,function(){q0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=nm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Cl=u,o.target.dispatchEvent(u),Cl=null}else return s=tr(o),s!==null&&B0(s),r.blockedOn=o,!1;s.shift()}return!0}function K0(r,s,o){Rd(r)&&o.delete(s)}function yA(){im=!1,Is!==null&&Rd(Is)&&(Is=null),Ns!==null&&Rd(Ns)&&(Ns=null),Ms!==null&&Rd(Ms)&&(Ms=null),du.forEach(K0),hu.forEach(K0)}function kd(r,s){r.blockedOn===s&&(r.blockedOn=null,im||(im=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yA)))}var Ld=null;function $0(r){Ld!==r&&(Ld=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ld===r&&(Ld=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(rm(u||o)===null)continue;break}var g=tr(o);g!==null&&(r.splice(s,3),s-=3,np(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Ho(r){function s(V){return kd(V,r)}Is!==null&&kd(Is,r),Ns!==null&&kd(Ns,r),Ms!==null&&kd(Ms,r),du.forEach(s),hu.forEach(s);for(var o=0;o<Os.length;o++){var u=Os[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Os.length&&(o=Os[0],o.blockedOn===null);)G0(o),o.blockedOn===null&&Os.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],x=h[Wt]||null;if(typeof g=="function")x||$0(o);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(h=g,x=g[Wt]||null)S=x.formAction;else if(rm(h)!==null)continue}else S=x.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),$0(o)}}}function Q0(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function sm(r){this._internalRoot=r}Id.prototype.render=sm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Xn();U0(o,u,r,s,null,null)},Id.prototype.unmount=sm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;U0(r.current,2,null,r,null,null),dd(),s[zr]=null}};function Id(r){this._internalRoot=r}Id.prototype.unstable_scheduleHydration=function(r){if(r){var s=dc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Os.length&&s!==0&&s<Os[o].priority;o++);Os.splice(o,0,r),o===0&&G0(r)}};var Y0=e.version;if(Y0!=="19.2.3")throw Error(i(527,Y0,"19.2.3"));se.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?b(r):null,r=r===null?null:r.stateNode,r};var bA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{pn=Nd.inject(bA),Dt=Nd}catch{}}return mu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=nb,g=rb,x=ib;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=j0(r,1,!1,null,null,o,u,null,h,g,x,Q0),r[zr]=s.current,zp(r),new sm(s)},mu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=nb,x=rb,S=ib,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=j0(r,1,!0,s,o??null,u,h,V,g,x,S,Q0),s.context=V0(null),o=s.current,u=Xn(),u=la(u),h=bs(u),h.callback=null,_s(o,h,u),o=u,s.current.lanes=o,Ei(s,o),ni(s),r[zr]=s.current,zp(r),new Id(s)},mu.version="19.2.3",mu}var s_;function LA(){if(s_)return lm.exports;s_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lm.exports=kA(),lm.exports}var IA=LA();var a_="popstate";function NA(n={}){function e(a,l){let{pathname:c="/",search:f="",hash:p=""}=Ya(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Mm("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:Pu(l))}function i(a,l){gr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return OA(e,t,i,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function o_(n,e){return{usr:n.state,key:n.key,idx:e}}function Mm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:t,key:e&&e.key||i||MA()}}function Pu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ya(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function OA(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",p=null,m=b();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function b(){return(c.state||{idx:null}).idx}function _(){f="POP";let L=b(),z=L==null?null:L-m;m=L,p&&p({action:f,location:O.location,delta:z})}function T(L,z){f="PUSH";let B=Mm(O.location,L,z);t&&t(B,L),m=b()+1;let Q=o_(B,m),H=O.createHref(B);try{c.pushState(Q,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(H)}l&&p&&p({action:f,location:O.location,delta:1})}function C(L,z){f="REPLACE";let B=Mm(O.location,L,z);t&&t(B,L),m=b();let Q=o_(B,m),H=O.createHref(B);c.replaceState(Q,"",H),l&&p&&p({action:f,location:O.location,delta:0})}function R(L){return DA(L)}let O={get action(){return f},get location(){return n(a,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(a_,_),p=L,()=>{a.removeEventListener(a_,_),p=null}},createHref(L){return e(a,L)},createURL:R,encodeLocation(L){let z=R(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:C,go(L){return c.go(L)}};return O}function DA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Pu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function mw(n,e,t="/"){return PA(n,e,t,!1)}function PA(n,e,t,i){let a=typeof e=="string"?Ya(e):e,l=$i(a.pathname||"/",t);if(l==null)return null;let c=gw(n);jA(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=QA(l);f=KA(c[p],m,i)}return f}function gw(n,e=[],t=[],i="",a=!1){let l=(c,f,p=a,m)=>{let b={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&p)return;wt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let _=Fi([i,b.relativePath]),T=t.concat(b);c.children&&c.children.length>0&&(wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),gw(c.children,e,T,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:FA(_,c.index),routesMeta:T})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let p of vw(c.path))l(c,f,!0,p)}),e}function vw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=vw(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function jA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var VA=/^:[\w-]+$/,UA=3,zA=2,BA=1,qA=10,HA=-2,l_=n=>n==="*";function FA(n,e){let t=n.split("/"),i=t.length;return t.some(l_)&&(i+=HA),e&&(i+=zA),t.filter(a=>!l_(a)).reduce((a,l)=>a+(VA.test(l)?UA:l===""?BA:qA),i)}function GA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function KA(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,b=l==="/"?e:e.slice(l.length)||"/",_=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),T=p.route;if(!_&&m&&t&&!i[i.length-1].route.index&&(_=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Fi([l,_.pathname]),pathnameBase:JA(Fi([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Fi([l,_.pathnameBase]))}return c}function ih(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=$A(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:b,isOptional:_},T)=>{if(b==="*"){let R=f[T]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const C=f[T];return _&&!C?m[b]=void 0:m[b]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function $A(n,e=!1,t=!0){gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function QA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var YA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XA=n=>YA.test(n);function WA(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Ya(n):n,l;if(t)if(XA(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),gr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=u_(t.substring(1),"/"):l=u_(t,e)}else l=e;return{pathname:l,search:eR(i),hash:tR(a)}}function u_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function hm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yw(n){let e=ZA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function bw(n,e,t,i=!1){let a;typeof n=="string"?a=Ya(n):(a={...n},wt(!a.pathname||!a.pathname.includes("?"),hm("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),hm("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),hm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}f=_>=0?e[_]:"/"}let p=WA(a,f),m=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var Fi=n=>n.join("/").replace(/\/\/+/g,"/"),JA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function nR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function rR(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _w=["POST","PUT","PATCH","DELETE"];new Set(_w);var iR=["GET",..._w];new Set(iR);var al=y.createContext(null);al.displayName="DataRouter";var Dh=y.createContext(null);Dh.displayName="DataRouterState";y.createContext(!1);var Ew=y.createContext({isTransitioning:!1});Ew.displayName="ViewTransition";var sR=y.createContext(new Map);sR.displayName="Fetchers";var aR=y.createContext(null);aR.displayName="Await";var Mr=y.createContext(null);Mr.displayName="Navigation";var Yu=y.createContext(null);Yu.displayName="Location";var Or=y.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var fg=y.createContext(null);fg.displayName="RouteError";function oR(n,{relative:e}={}){wt(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=y.useContext(Mr),{hash:a,pathname:l,search:c}=Wu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Fi([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Xu(){return y.useContext(Yu)!=null}function Ji(){return wt(Xu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Yu).location}var xw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ww(n){y.useContext(Mr).static||y.useLayoutEffect(n)}function jn(){let{isDataRoute:n}=y.useContext(Or);return n?wR():lR()}function lR(){wt(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(al),{basename:e,navigator:t}=y.useContext(Mr),{matches:i}=y.useContext(Or),{pathname:a}=Ji(),l=JSON.stringify(yw(i)),c=y.useRef(!1);return ww(()=>{c.current=!0}),y.useCallback((p,m={})=>{if(gr(c.current,xw),!c.current)return;if(typeof p=="number"){t.go(p);return}let b=bw(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Fi([e,b.pathname])),(m.replace?t.replace:t.push)(b,m.state,m)},[e,t,l,a,n])}var uR=y.createContext(null);function cR(n){let e=y.useContext(Or).outlet;return y.useMemo(()=>e&&y.createElement(uR.Provider,{value:n},e),[e,n])}function dR(){let{matches:n}=y.useContext(Or),e=n[n.length-1];return e?e.params:{}}function Wu(n,{relative:e}={}){let{matches:t}=y.useContext(Or),{pathname:i}=Ji(),a=JSON.stringify(yw(t));return y.useMemo(()=>bw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function hR(n,e){return Tw(n,e)}function Tw(n,e,t,i,a){wt(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=y.useContext(Mr),{matches:c}=y.useContext(Or),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",b=f?f.pathnameBase:"/",_=f&&f.route;{let B=_&&_.path||"";Sw(m,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Ji(),C;if(e){let B=typeof e=="string"?Ya(e):e;wt(b==="/"||B.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${B.pathname}" was given in the \`location\` prop.`),C=B}else C=T;let R=C.pathname||"/",O=R;if(b!=="/"){let B=b.replace(/^\//,"").split("/");O="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let L=mw(n,{pathname:O});gr(_||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),gr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=vR(L&&L.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Fi([b,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?b:Fi([b,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,i,a);return e&&z?y.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function fR(){let n=xR(),e=nR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:a},t):null,c)}var pR=y.createElement(fR,null),mR=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?y.createElement(Or.Provider,{value:this.props.routeContext},y.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gR({routeContext:n,match:e,children:t}){let i=y.useContext(al);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Or.Provider,{value:n},t)}function vR(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let b=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);wt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let f=!1,p=-1;if(t)for(let b=0;b<l.length;b++){let _=l[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=b),_.route.id){let{loaderData:T,errors:C}=t,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||R){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=t&&i?(b,_)=>{i(b,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:rR(t.matches),errorInfo:_})}:void 0;return l.reduceRight((b,_,T)=>{let C,R=!1,O=null,L=null;t&&(C=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||pR,f&&(p<0&&T===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):p===T&&(R=!0,L=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),B=()=>{let Q;return C?Q=O:R?Q=L:_.route.Component?Q=y.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=b,y.createElement(gR,{match:_,routeContext:{outlet:b,matches:z,isDataRoute:t!=null},children:Q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?y.createElement(mR,{location:t.location,revalidation:t.revalidation,component:O,error:C,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):B()},null)}function pg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yR(n){let e=y.useContext(al);return wt(e,pg(n)),e}function bR(n){let e=y.useContext(Dh);return wt(e,pg(n)),e}function _R(n){let e=y.useContext(Or);return wt(e,pg(n)),e}function mg(n){let e=_R(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ER(){return mg("useRouteId")}function xR(){let n=y.useContext(fg),e=bR("useRouteError"),t=mg("useRouteError");return n!==void 0?n:e.errors?.[t]}function wR(){let{router:n}=yR("useNavigate"),e=mg("useNavigate"),t=y.useRef(!1);return ww(()=>{t.current=!0}),y.useCallback(async(a,l={})=>{gr(t.current,xw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var c_={};function Sw(n,e,t){!e&&!c_[n]&&(c_[n]=!0,gr(!1,t))}y.memo(TR);function TR({routes:n,future:e,state:t,unstable_onError:i}){return Tw(n,void 0,t,i,e)}function SR(n){return cR(n.context)}function yn(n){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){wt(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=Ya(t));let{pathname:m="/",search:b="",hash:_="",state:T=null,key:C="default"}=t,R=y.useMemo(()=>{let O=$i(m,f);return O==null?null:{location:{pathname:O,search:b,hash:_,state:T,key:C},navigationType:i}},[f,m,b,_,T,C,i]);return gr(R!=null,`<Router basename="${f}"> is not able to match the URL "${m}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:y.createElement(Mr.Provider,{value:p},y.createElement(Yu.Provider,{children:e,value:R}))}function AR({children:n,location:e}){return hR(Om(n),e)}function Om(n,e=[]){let t=[];return y.Children.forEach(n,(i,a)=>{if(!y.isValidElement(i))return;let l=[...e,a];if(i.type===y.Fragment){t.push.apply(t,Om(i.props.children,l));return}wt(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Om(i.props.children,l)),t.push(c)}),t}var Kd="get",$d="application/x-www-form-urlencoded";function Ph(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function RR(n){return Ph(n)&&n.tagName.toLowerCase()==="button"}function kR(n){return Ph(n)&&n.tagName.toLowerCase()==="form"}function LR(n){return Ph(n)&&n.tagName.toLowerCase()==="input"}function IR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NR(n,e){return n.button===0&&(!e||e==="_self")&&!IR(n)}var Md=null;function MR(){if(Md===null)try{new FormData(document.createElement("form"),0),Md=!1}catch{Md=!0}return Md}var OR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(n){return n!=null&&!OR.has(n)?(gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):n}function DR(n,e){let t,i,a,l,c;if(kR(n)){let f=n.getAttribute("action");i=f?$i(f,e):null,t=n.getAttribute("method")||Kd,a=fm(n.getAttribute("enctype"))||$d,l=new FormData(n)}else if(RR(n)||LR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?$i(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Kd,a=fm(n.getAttribute("formenctype"))||fm(f.getAttribute("enctype"))||$d,l=new FormData(f,n),!MR()){let{name:m,type:b,value:_}=n;if(b==="image"){let T=m?`${m}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else m&&l.append(m,_)}}else{if(Ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kd,i=null,a=$d,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PR(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&$i(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function jR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UR(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await jR(l,t);return c.links?c.links():[]}return[]}));return HR(i.flat(1).filter(VR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function d_(n,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function zR(n,e,{includeHydrateFallback:t}={}){return BR(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function BR(n){return[...new Set(n)]}function qR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function HR(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(qR(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function Cw(){let n=y.useContext(al);return gg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FR(){let n=y.useContext(Dh);return gg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vg=y.createContext(void 0);vg.displayName="FrameworkContext";function Aw(){let n=y.useContext(vg);return gg(n,"You must render this element inside a <HydratedRouter> element"),n}function GR(n,e){let t=y.useContext(vg),[i,a]=y.useState(!1),[l,c]=y.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:_}=e,T=y.useRef(null);y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=z=>{z.forEach(B=>{c(B.isIntersecting)})},L=new IntersectionObserver(O,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[n]),y.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let C=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:gu(f,C),onBlur:gu(p,R),onMouseEnter:gu(m,C),onMouseLeave:gu(b,R),onTouchStart:gu(_,C)}]:[!1,T,{}]}function gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KR({page:n,...e}){let{router:t}=Cw(),i=y.useMemo(()=>mw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?y.createElement(QR,{page:n,matches:i,...e}):null}function $R(n){let{manifest:e,routeModules:t}=Aw(),[i,a]=y.useState([]);return y.useEffect(()=>{let l=!1;return UR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function QR({page:n,matches:e,...t}){let i=Ji(),{manifest:a,routeModules:l}=Aw(),{basename:c}=Cw(),{loaderData:f,matches:p}=FR(),m=y.useMemo(()=>d_(n,e,p,a,i,"data"),[n,e,p,a,i]),b=y.useMemo(()=>d_(n,e,p,a,i,"assets"),[n,e,p,a,i]),_=y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,O=!1;if(e.forEach(z=>{let B=a.routes[z.route.id];!B||!B.hasLoader||(!m.some(Q=>Q.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||B.hasClientLoader?O=!0:R.add(z.route.id))}),R.size===0)return[];let L=PR(n,c,"data");return O&&R.size>0&&L.searchParams.set("_routes",e.filter(z=>R.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[c,f,i,a,m,e,n,l]),T=y.useMemo(()=>zR(b,a),[b,a]),C=$R(b);return y.createElement(y.Fragment,null,_.map(R=>y.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),T.map(R=>y.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),C.map(({key:R,link:O})=>y.createElement("link",{key:R,nonce:t.nonce,...O})))}function YR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rw&&(window.__reactRouterVersion="7.10.1")}catch{}function XR({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=y.useRef();a.current==null&&(a.current=NA({window:i,v5Compat:!0}));let l=a.current,[c,f]=y.useState({action:l.action,location:l.location}),p=y.useCallback(m=>{t===!1?f(m):y.startTransition(()=>f(m))},[t]);return y.useLayoutEffect(()=>l.listen(p),[l,p]),y.createElement(CR,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=y.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:b,viewTransition:_,...T},C){let{basename:R,unstable_useTransitions:O}=y.useContext(Mr),L=typeof m=="string"&&kw.test(m),z,B=!1;if(typeof m=="string"&&L&&(z=m,Rw))try{let P=new URL(window.location.href),D=m.startsWith("//")?new URL(P.protocol+m):new URL(m),U=$i(D.pathname,R);D.origin===P.origin&&U!=null?m=U+D.search+D.hash:B=!0}catch{gr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=oR(m,{relative:a}),[H,F,Z]=GR(i,T),k=ek(m,{replace:c,state:f,target:p,preventScrollReset:b,relative:a,viewTransition:_,unstable_useTransitions:O});function N(P){e&&e(P),P.defaultPrevented||k(P)}let A=y.createElement("a",{...T,...Z,href:z||Q,onClick:B||l?e:N,ref:YR(C,F),target:p,"data-discover":!L&&t==="render"?"true":void 0});return H&&!L?y.createElement(y.Fragment,null,A,y.createElement(KR,{page:Q})):A});Cn.displayName="Link";var WR=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...m},b){let _=Wu(c,{relative:m.relative}),T=Ji(),C=y.useContext(Dh),{navigator:R,basename:O}=y.useContext(Mr),L=C!=null&&sk(_)&&f===!0,z=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,B=T.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(B=B.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&O&&(Q=$i(Q,O)||Q);const H=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let F=B===z||!a&&B.startsWith(z)&&B.charAt(H)==="/",Z=Q!=null&&(Q===z||!a&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),k={isActive:F,isPending:Z,isTransitioning:L},N=F?e:void 0,A;typeof i=="function"?A=i(k):A=[i,F?"active":null,Z?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(k):l;return y.createElement(Cn,{...m,"aria-current":N,className:A,ref:b,style:P,to:c,viewTransition:f},typeof p=="function"?p(k):p)});WR.displayName="NavLink";var ZR=y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Kd,action:f,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:_,...T},C)=>{let{unstable_useTransitions:R}=y.useContext(Mr),O=rk(),L=ik(f,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&kw.test(f),Q=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let F=H.nativeEvent.submitter,Z=F?.getAttribute("formmethod")||c,k=()=>O(F||H.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:a,state:l,relative:m,preventScrollReset:b,viewTransition:_});R&&t!==!1?y.startTransition(()=>k()):k()};return y.createElement("form",{ref:C,method:z,action:L,onSubmit:i?p:Q,...T,"data-discover":!B&&n==="render"?"true":void 0})});ZR.displayName="Form";function JR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(n){let e=y.useContext(al);return wt(e,JR(n)),e}function ek(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let p=jn(),m=Ji(),b=Wu(n,{relative:l});return y.useCallback(_=>{if(NR(_,e)){_.preventDefault();let T=t!==void 0?t:Pu(m)===Pu(b),C=()=>p(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c});f?y.startTransition(()=>C()):C()}},[m,p,b,t,i,e,n,a,l,c,f])}var tk=0,nk=()=>`__${String(++tk)}__`;function rk(){let{router:n}=Lw("useSubmit"),{basename:e}=y.useContext(Mr),t=ER(),i=n.fetch,a=n.navigate;return y.useCallback(async(l,c={})=>{let{action:f,method:p,encType:m,formData:b,body:_}=DR(l,e);if(c.navigate===!1){let T=c.fetcherKey||nk();await i(T,t,c.action||f,{preventScrollReset:c.preventScrollReset,formData:b,body:_,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:b,body:_,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function ik(n,{relative:e}={}){let{basename:t}=y.useContext(Mr),i=y.useContext(Or);wt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Wu(n||".",{relative:e})},c=Ji();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let b=f.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Fi([t,l.pathname])),Pu(l)}function sk(n,{relative:e}={}){let t=y.useContext(Ew);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lw("useViewTransitionState"),a=Wu(n,{relative:e});if(!t.isTransitioning)return!1;let l=$i(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=$i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ih(a.pathname,c)!=null||ih(a.pathname,l)!=null}var ol=pw();function ak({message:n,type:e="success",onClose:t,duration:i=3e3}){const[a,l]=y.useState(!1);return y.useEffect(()=>{const c=setTimeout(()=>l(!0),10),f=setTimeout(()=>{l(!1),setTimeout(t,300)},i);return()=>{clearTimeout(c),clearTimeout(f)}},[i,t]),v.jsxs("div",{className:`
        fixed top-4 left-1/2 -translate-x-1/2 z-[100] px-6 py-4 rounded-2xl shadow-xl flex items-center gap-3 min-w-[300px] max-w-md
        transition-all duration-300 ease-out transform
        ${a?"translate-y-0 opacity-100":"-translate-y-8 opacity-0"}
        bg-surface-light dark:bg-surface-dark border border-primary/20
      `,children:[v.jsx("div",{className:`
        flex items-center justify-center w-10 h-10 rounded-full shrink-0
        ${e==="success"?"bg-primary/10 text-primary":"bg-blue-100 text-blue-600"}
      `,children:v.jsx("span",{className:"material-symbols-outlined",children:e==="success"?"check_circle":"info"})}),v.jsx("div",{className:"flex-1",children:v.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:n})}),v.jsx("button",{onClick:()=>{l(!1),setTimeout(t,300)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}const Iw=y.createContext();function ok({children:n}){const[e,t]=y.useState(null),i=y.useCallback((l,c="success",f=3e3)=>{t({message:l,type:c,duration:f})},[]),a=y.useCallback(()=>{t(null)},[]);return v.jsxs(Iw.Provider,{value:{showToast:i,hideToast:a},children:[n,e&&v.jsx(ak,{message:e.message,type:e.type,duration:e.duration,onClose:a})]})}function yg(){const n=y.useContext(Iw);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}const Nw=y.createContext();function lk({children:n}){const{showToast:e}=yg(),[t,i]=y.useState(()=>{const L=localStorage.getItem("cart");return L?JSON.parse(L):[]}),a=y.useRef(0);y.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t));const L=t.reduce((z,B)=>z+B.quantity,0);L===5&&a.current<5&&a.current!==0?e("Elegiste 5 productos!! Tu envio ahora es GRATIS!!","success",4e3):L===5&&a.current,a.current=L},[t,e]);const l=L=>{i(z=>{let B;return z.find(H=>H.id===L.id)?B=z.map(H=>H.id===L.id?{...H,quantity:H.quantity+1}:H):B=[...z,{...L,quantity:1}],B})},c=L=>{i(z=>z.filter(B=>B.id!==L))},f=(L,z)=>{i(B=>B.map(H=>{if(H.id===L){const F=Math.max(1,H.quantity+z);return{...H,quantity:F}}return H}))},p=()=>i([]),[m,b]=y.useState(0),[_,T]=y.useState(null),C=t.reduce((L,z)=>L+z.price*z.quantity,0),R=0,O=C+R+m;return v.jsx(Nw.Provider,{value:{cartItems:t,addToCart:l,removeFromCart:c,updateQuantity:f,clearCart:p,subtotal:C,tax:R,shippingCost:m,setShippingCost:b,selectedAddress:_,setSelectedAddress:T,total:O},children:n})}function Xa(){return y.useContext(Nw)}function Mw(){const e=Ji().pathname,t=i=>e.startsWith(i);return v.jsx("nav",{className:"fixed bottom-0 left-0 w-full border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-background-dark pb-6 pt-2 px-6 shrink-0 z-50 shadow-lg-up",children:v.jsxs("div",{className:"flex justify-between items-end",children:[v.jsxs(Cn,{to:"/",className:`flex flex-col items-center gap-1 transition-colors group ${t("/")&&e==="/"?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/")&&e==="/"&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/")&&e==="/"?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"home"})]}),v.jsxs(Cn,{to:"/catalog",className:`flex flex-col items-center gap-1 transition-colors group ${t("/catalog")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/catalog")&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/catalog")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"search"})]}),v.jsxs(Cn,{to:"/favorites",className:`flex flex-col items-center gap-1 transition-colors group ${t("/favorites")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/favorites")&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/favorites")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"favorite"})]}),v.jsxs(Cn,{to:"/profile",className:`flex flex-col items-center gap-1 transition-colors group ${t("/profile")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[t("/profile")&&v.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),v.jsx("span",{className:`material-symbols-outlined text-3xl ${t("/profile")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"person"})]})]})})}const uk=()=>{};var h_={};const Ow=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ck=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,b=l>>2,_=(l&3)<<4|f>>4;let T=(f&15)<<2|m>>6,C=m&63;p||(C=64,c||(T=64)),i.push(t[b],t[_],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ow(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ck(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||_==null)throw new dk;const T=l<<2|f>>4;if(i.push(T),m!==64){const C=f<<4&240|m>>2;if(i.push(C),_!==64){const R=m<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hk=function(n){const e=Ow(n);return Dw.encodeByteArray(e,!0)},sh=function(n){return hk(n).replace(/\./g,"")},Pw=function(n){try{return Dw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pk=()=>fk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof h_>"u")return;const n=h_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pw(n[1]);return e&&JSON.parse(e)},jh=()=>{try{return uk()||pk()||mk()||gk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jw=n=>jh()?.emulatorHosts?.[n],Vw=n=>{const e=jw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Uw=()=>jh()?.config,zw=n=>jh()?.[`_${n}`];class vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function na(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bg(n){return(await fetch(n,{credentials:"include"})).ok}function Bw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[sh(JSON.stringify(t)),sh(JSON.stringify(c)),""].join(".")}const Ru={};function yk(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?n.emulator.push(e):n.prod.push(e);return n}function bk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let f_=!1;function _g(n,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Ru[n]===e||Ru[n]||f_)return;Ru[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=yk().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{f_=!0,c()},T}function b(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=bk(i),C=t("text"),R=document.getElementById(C)||document.createElement("span"),O=t("learnmore"),L=document.getElementById(O)||document.createElement("a"),z=t("preprendIcon"),B=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;f(Q),b(L,O);const H=m();p(B,z),Q.append(B,R,L,H),document.body.appendChild(Q)}l?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function Ek(){const n=jh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sk(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ck(){return!Ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ak(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const kk="FirebaseError";class pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=kk,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Lk(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new pi(a,f,i)}}function Lk(n,e){return n.replace(Ik,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Ik=/\{\$([^}]+)}/g;function Nk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ba(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(p_(l)&&p_(c)){if(!Ba(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function p_(n){return n!==null&&typeof n=="object"}function Ju(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function xu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Mk(n,e){const t=new Ok(n,e);return t.subscribe.bind(t)}class Ok{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Dk(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=pm),a.error===void 0&&(a.error=pm),a.complete===void 0&&(a.complete=pm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pm(){}function Et(n){return n&&n._delegate?n._delegate:n}class Ys{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class Pk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new vk;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vk(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jk(n){return n===Da?void 0:n}function Vk(n){return n.instantiationMode==="EAGER"}class Uk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const zk={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},Bk=$e.INFO,qk={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},Hk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=qk[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=Bk,this._logHandler=Hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const Fk=(n,e)=>e.some(t=>n instanceof t);let m_,g_;function Gk(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kk(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qw=new WeakMap,Dm=new WeakMap,Hw=new WeakMap,mm=new WeakMap,xg=new WeakMap;function $k(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Gs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&qw.set(t,n)}).catch(()=>{}),xg.set(e,n),e}function Qk(n){if(Dm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Dm.set(n,e)}let Pm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Yk(n){Pm=n(Pm)}function Xk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(gm(this),e,...t);return Hw.set(i,e.sort?e.sort():[e]),Gs(i)}:Kk().includes(n)?function(...e){return n.apply(gm(this),e),Gs(qw.get(this))}:function(...e){return Gs(n.apply(gm(this),e))}}function Wk(n){return typeof n=="function"?Xk(n):(n instanceof IDBTransaction&&Qk(n),Fk(n,Gk())?new Proxy(n,Pm):n)}function Gs(n){if(n instanceof IDBRequest)return $k(n);if(mm.has(n))return mm.get(n);const e=Wk(n);return e!==n&&(mm.set(n,e),xg.set(e,n)),e}const gm=n=>xg.get(n);function Zk(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Gs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Gs(c.result),p.oldVersion,p.newVersion,Gs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const Jk=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],vm=new Map;function v_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=eL.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Jk.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return vm.set(e,l),l}Yk(n=>({...n,get:(e,t,i)=>v_(e,t)||n.get(e,t,i),has:(e,t)=>!!v_(e,t)||n.has(e,t)}));class tL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function nL(n){return n.getComponent()?.type==="VERSION"}const jm="@firebase/app",y_="0.14.6";const Qi=new Eg("@firebase/app"),rL="@firebase/app-compat",iL="@firebase/analytics-compat",sL="@firebase/analytics",aL="@firebase/app-check-compat",oL="@firebase/app-check",lL="@firebase/auth",uL="@firebase/auth-compat",cL="@firebase/database",dL="@firebase/data-connect",hL="@firebase/database-compat",fL="@firebase/functions",pL="@firebase/functions-compat",mL="@firebase/installations",gL="@firebase/installations-compat",vL="@firebase/messaging",yL="@firebase/messaging-compat",bL="@firebase/performance",_L="@firebase/performance-compat",EL="@firebase/remote-config",xL="@firebase/remote-config-compat",wL="@firebase/storage",TL="@firebase/storage-compat",SL="@firebase/firestore",CL="@firebase/ai",AL="@firebase/firestore-compat",RL="firebase",kL="12.6.0";const Vm="[DEFAULT]",LL={[jm]:"fire-core",[rL]:"fire-core-compat",[sL]:"fire-analytics",[iL]:"fire-analytics-compat",[oL]:"fire-app-check",[aL]:"fire-app-check-compat",[lL]:"fire-auth",[uL]:"fire-auth-compat",[cL]:"fire-rtdb",[dL]:"fire-data-connect",[hL]:"fire-rtdb-compat",[fL]:"fire-fn",[pL]:"fire-fn-compat",[mL]:"fire-iid",[gL]:"fire-iid-compat",[vL]:"fire-fcm",[yL]:"fire-fcm-compat",[bL]:"fire-perf",[_L]:"fire-perf-compat",[EL]:"fire-rc",[xL]:"fire-rc-compat",[wL]:"fire-gcs",[TL]:"fire-gcs-compat",[SL]:"fire-fst",[AL]:"fire-fst-compat",[CL]:"fire-vertex","fire-js":"fire-js",[RL]:"fire-js-all"};const ah=new Map,IL=new Map,Um=new Map;function b_(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qa(n){const e=n.name;if(Um.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,n);for(const t of ah.values())b_(t,n);for(const t of IL.values())b_(t,n);return!0}function Vh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n==null?!1:n.settings!==void 0}const NL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Zu("app","Firebase",NL);class ML{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const Wa=kL;function Fw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Vm,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ks.create("bad-app-name",{appName:String(a)});if(t||(t=Uw()),!t)throw Ks.create("no-options");const l=ah.get(a);if(l){if(Ba(t,l.options)&&Ba(i,l.config))return l;throw Ks.create("duplicate-app",{appName:a})}const c=new Uk(a);for(const p of Um.values())c.addComponent(p);const f=new ML(t,i,c);return ah.set(a,f),f}function wg(n=Vm){const e=ah.get(n);if(!e&&n===Vm&&Uw())return Fw();if(!e)throw Ks.create("no-app",{appName:n});return e}function ai(n,e,t){let i=LL[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}qa(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const OL="firebase-heartbeat-database",DL=1,ju="firebase-heartbeat-store";let ym=null;function Gw(){return ym||(ym=Zk(OL,DL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ks.create("idb-open",{originalErrorMessage:n.message})})),ym}async function PL(n){try{const t=(await Gw()).transaction(ju),i=await t.objectStore(ju).get(Kw(n));return await t.done,i}catch(e){if(e instanceof pi)Qi.warn(e.message);else{const t=Ks.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(t.message)}}}async function __(n,e){try{const i=(await Gw()).transaction(ju,"readwrite");await i.objectStore(ju).put(e,Kw(n)),await i.done}catch(t){if(t instanceof pi)Qi.warn(t.message);else{const i=Ks.create("idb-set",{originalErrorMessage:t?.message});Qi.warn(i.message)}}}function Kw(n){return`${n.name}!${n.options.appId}`}const jL=1024,VL=30;class UL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=E_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>VL){const a=qL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E_(),{heartbeatsToSend:t,unsentEntries:i}=zL(this._heartbeatsCache.heartbeats),a=sh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function E_(){return new Date().toISOString().substring(0,10)}function zL(n,e=jL){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),x_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),x_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class BL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ak()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function x_(n){return sh(JSON.stringify({version:2,heartbeats:n})).length}function qL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function HL(n){qa(new Ys("platform-logger",e=>new tL(e),"PRIVATE")),qa(new Ys("heartbeat",e=>new UL(e),"PRIVATE")),ai(jm,y_,n),ai(jm,y_,"esm2020"),ai("fire-js","")}HL("");var FL="firebase",GL="12.7.0";ai(FL,GL,"app");function $w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KL=$w,Qw=new Zu("auth","Firebase",$w());const oh=new Eg("@firebase/auth");function $L(n,...e){oh.logLevel<=$e.WARN&&oh.warn(`Auth (${Wa}): ${n}`,...e)}function Qd(n,...e){oh.logLevel<=$e.ERROR&&oh.error(`Auth (${Wa}): ${n}`,...e)}function Ir(n,...e){throw Tg(n,...e)}function oi(n,...e){return Tg(n,...e)}function Yw(n,e,t){const i={...KL(),[e]:t};return new Zu("auth","Firebase",i).create(e,{appName:n.name})}function Gi(n){return Yw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Qw.create(n,...e)}function Le(n,e,...t){if(!n)throw Tg(e,...t)}function qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qd(e),new Error(e)}function Yi(n,e){n||qi(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function QL(){return w_()==="http:"||w_()==="https:"}function w_(){return typeof self<"u"&&self.location?.protocol||null}function YL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QL()||wk()||"connection"in navigator)?navigator.onLine:!0}function XL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ec{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yi(t>e,"Short delay should be less than long delay!"),this.isMobile=_k()||Tk()}get(){return YL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sg(n,e){Yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Xw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JL=new ec(3e4,6e4);function es(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ts(n,e,t,i,a={}){return Ww(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Ju({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...l};return xk()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&na(n.emulatorConfig.host)&&(m.credentials="include"),Xw.fetch()(await Zw(n,n.config.apiHost,t,f),m)})}async function Ww(n,e,t){n._canInitEmulator=!1;const i={...WL,...e};try{const a=new tI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Od(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Od(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Od(n,"user-disabled",c);const b=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Yw(n,b,m);Ir(n,b)}}catch(a){if(a instanceof pi)throw a;Ir(n,"network-request-failed",{message:String(a)})}}async function tc(n,e,t,i,a={}){const l=await ts(n,e,t,i,a);return"mfaPendingCredential"in l&&Ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Zw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Sg(n.config,a):`${n.config.apiScheme}://${a}`;return ZL.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function eI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(oi(this.auth,"network-request-failed")),JL.get())})}}function Od(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=oi(n,e,i);return a.customData._tokenResponse=t,a}function T_(n){return n!==void 0&&n.enterprise!==void 0}class nI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rI(n,e){return ts(n,"GET","/v2/recaptchaConfig",es(n,e))}async function iI(n,e){return ts(n,"POST","/v1/accounts:delete",e)}async function lh(n,e){return ts(n,"POST","/v1/accounts:lookup",e)}function ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sI(n,e=!1){const t=Et(n),i=await t.getIdToken(e),a=Cg(i);Le(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ku(bm(a.auth_time)),issuedAtTime:ku(bm(a.iat)),expirationTime:ku(bm(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function bm(n){return Number(n)*1e3}function Cg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Pw(t);return a?JSON.parse(a):(Qd("Failed to decode base64 JWT payload"),null)}catch(a){return Qd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function S_(n){const e=Cg(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pi&&aI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function aI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(n){const e=n.auth,t=await n.getIdToken(),i=await Vu(n,lh(e,{idToken:t}));Le(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Jw(a.providerUserInfo):[],c=uI(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,m=f?p:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Bm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function lI(n){const e=Et(n);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uI(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Jw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cI(n,e){const t=await Ww(n,{},async()=>{const i=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Zw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&na(n.emulatorConfig.host)&&(p.credentials="include"),Xw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dI(n,e){return ts(n,"POST","/v2/accounts:revokeToken",es(n,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=S_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await cI(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Yo;return i&&(Le(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return qi("not implemented")}}function Ps(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class kr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await uh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Vu(this,iI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:C,providerData:R,stsTokenManager:O}=t;Le(_&&O,e,"internal-error");const L=Yo.fromJSON(this.name,O);Le(typeof _=="string",e,"internal-error"),Ps(i,e.name),Ps(a,e.name),Le(typeof T=="boolean",e,"internal-error"),Le(typeof C=="boolean",e,"internal-error"),Ps(l,e.name),Ps(c,e.name),Ps(f,e.name),Ps(p,e.name),Ps(m,e.name),Ps(b,e.name);const z=new kr({uid:_,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:L,createdAt:m,lastLoginAt:b});return R&&Array.isArray(R)&&(z.providerData=R.map(B=>({...B}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const a=new Yo;a.updateFromServerResponse(t);const l=new kr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await uh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Jw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Yo;f.updateFromIdToken(i);const p=new kr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}const C_=new Map;function Hi(n){Yi(n instanceof Function,"Expected a class definition");let e=C_.get(n);return e?(Yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,C_.set(n,e),e)}class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eT.type="NONE";const A_=eT;function Yd(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Yd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lh(this.auth,{idToken:e}).catch(()=>{});return t?kr._fromGetAccountInfoResponse(this.auth,t,e):null}return kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xo(Hi(A_),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Hi(A_);const c=Yd(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const b=await m._get(c);if(b){let _;if(typeof b=="string"){const T=await lh(e,{idToken:b}).catch(()=>{});if(!T)break;_=await kr._fromGetAccountInfoResponse(e,T,b)}else _=kr._fromJSON(e,b);m!==l&&(f=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Xo(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Xo(l,e,i))}}function R_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function tT(n=En()){return/firefox\//i.test(n)}function nT(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(n=En()){return/crios\//i.test(n)}function iT(n=En()){return/iemobile/i.test(n)}function sT(n=En()){return/android/i.test(n)}function aT(n=En()){return/blackberry/i.test(n)}function oT(n=En()){return/webos/i.test(n)}function Ag(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hI(n=En()){return Ag(n)&&!!window.navigator?.standalone}function fI(){return Sk()&&document.documentMode===10}function lT(n=En()){return Ag(n)||sT(n)||oT(n)||aT(n)||/windows phone/i.test(n)||iT(n)}function uT(n,e=[]){let t;switch(n){case"Browser":t=R_(En());break;case"Worker":t=`${R_(En())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${i}`}class pI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function mI(n,e={}){return ts(n,"GET","/v2/passwordPolicy",es(n,e))}const gI=6;class vI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??gI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class yI{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new pI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lh(this,{idToken:e}),i=await kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Gi(this));const t=e?Et(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mI(this),t=new vI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await dI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hi(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$L(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Za(n){return Et(n)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mk(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bI(n){Uh=n}function cT(n){return Uh.loadJS(n)}function _I(){return Uh.recaptchaEnterpriseScript}function EI(){return Uh.gapiScript}function xI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wI{constructor(){this.enterprise=new TI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SI="recaptcha-enterprise",dT="NO_RECAPTCHA";class CI{constructor(e){this.type=SI,this.auth=Za(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{rI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new nI(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;T_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(dT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&T_(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_I();p.length!==0&&(p+=f),cT(p).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function L_(n,e,t,i=!1,a=!1){const l=new CI(n);let c;if(a)c=dT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function qm(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await L_(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await L_(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}function AI(n,e){const t=Vh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ba(l,e??{}))return a;Ir(a,"already-initialized")}return t.initialize({options:e})}function RI(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function kI(n,e,t){const i=Za(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=hT(e),{host:c,port:f}=LI(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},b=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(Ba(m,i.config.emulator)&&Ba(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,na(c)?(bg(`${l}//${c}${p}`),_g("Auth",!0)):II()}function hT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LI(n){const e=hT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:I_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:I_(c)}}}function I_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function II(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function NI(n,e){return ts(n,"POST","/v1/accounts:signUp",e)}async function MI(n,e){return tc(n,"POST","/v1/accounts:signInWithPassword",es(n,e))}async function OI(n,e){return ts(n,"POST","/v1/accounts:sendOobCode",es(n,e))}async function DI(n,e){return OI(n,e)}async function PI(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}async function jI(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}class Uu extends Rg{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Uu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Uu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,t,"signInWithPassword",MI);case"emailLink":return PI(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,i,"signUpPassword",NI);case"emailLink":return jI(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wo(n,e){return tc(n,"POST","/v1/accounts:signInWithIdp",es(n,e))}const VI="http://localhost";class Ha extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Ha(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Wo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:VI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ju(t)}return e}}function UI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zI(n){const e=xu(wu(n)).link,t=e?xu(wu(e)).deep_link_id:null,i=xu(wu(n)).deep_link_id;return(i?xu(wu(i)).link:null)||i||t||e||n}class kg{constructor(e){const t=xu(wu(e)),i=t.apiKey??null,a=t.oobCode??null,l=UI(t.mode??null);Le(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zI(e);try{return new kg(t)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return Uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=kg.parseLink(t);return Le(i,"argument-error"),Uu._fromEmailAndCode(e,i.code,i.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends fT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Us extends nc{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class zs extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ha._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return zs.credential(t,i)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class Bs extends nc{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends nc{constructor(){super("twitter.com")}static credential(e,t){return Ha._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qs.credential(t,i)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function BI(n,e){return tc(n,"POST","/v1/accounts:signUp",es(n,e))}class Fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await kr._fromIdTokenResponse(e,i,a),c=N_(i);return new Fa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=N_(i);return new Fa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function N_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ch extends pi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new ch(e,t,i,a)}}function pT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(n,l,e,i):l})}async function qI(n,e,t=!1){const i=await Vu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fa._forOperation(n,"link",i)}async function HI(n,e,t=!1){const{auth:i}=n;if(Zn(i.app))return Promise.reject(Gi(i));const a="reauthenticate";try{const l=await Vu(n,pT(i,a,e,n),t);Le(l.idToken,i,"internal-error");const c=Cg(l.idToken);Le(c,i,"internal-error");const{sub:f}=c;return Le(n.uid===f,i,"user-mismatch"),Fa._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ir(i,"user-mismatch"),l}}async function mT(n,e,t=!1){if(Zn(n.app))return Promise.reject(Gi(n));const i="signIn",a=await pT(n,i,e),l=await Fa._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function FI(n,e){return mT(Za(n),e)}async function gT(n){const e=Za(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GI(n,e,t){if(Zn(n.app))return Promise.reject(Gi(n));const i=Za(n),c=await qm(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gT(n),p}),f=await Fa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function KI(n,e,t){return Zn(n.app)?Promise.reject(Gi(n)):FI(Et(n),ll.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gT(n),i})}async function $I(n,e){const t=Et(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await DI(t.auth,a);l!==n.email&&await n.reload()}function QI(n,e,t,i){return Et(n).onIdTokenChanged(e,t,i)}function YI(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function XI(n,e,t,i){return Et(n).onAuthStateChanged(e,t,i)}function WI(n){return Et(n).signOut()}const dh="__sak";class vT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZI=1e3,JI=10;class yT extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);fI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,JI):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const eN=yT;class bT extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bT.type="SESSION";const _T=bT;function tN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(t.origin,l)),p=await tN(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function Lg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Lg("",20);a.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function li(){return window}function rN(n){li().location.href=n}function ET(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function aN(){return ET()?self:null}const xT="firebaseLocalStorageDb",oN=1,hh="firebaseLocalStorage",wT="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bh(n,e){return n.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function lN(){const n=indexedDB.deleteDatabase(xT);return new rc(n).toPromise()}function Hm(){const n=indexedDB.open(xT,oN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(hh,{keyPath:wT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(hh)?e(i):(i.close(),await lN(),e(await Hm()))})})}async function M_(n,e,t){const i=Bh(n,!0).put({[wT]:e,value:t});return new rc(i).toPromise()}async function uN(n,e){const t=Bh(n,!1).get(e),i=await new rc(t).toPromise();return i===void 0?null:i.value}function O_(n,e){const t=Bh(n,!0).delete(e);return new rc(t).toPromise()}const cN=800,dN=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(aN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await M_(e,dh,"1"),await O_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>M_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>uN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bh(a,!1).getAll();return new rc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const hN=TT;new ec(3e4,6e4);function fN(n,e){return e?Hi(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ig extends Rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pN(n){return mT(n.auth,new Ig(n),n.bypassAuthState)}function mN(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),HI(t,new Ig(n),n.bypassAuthState)}async function gN(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),qI(t,new Ig(n),n.bypassAuthState)}class ST{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:Ir(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vN=new ec(2e3,1e4);class Qo extends ST{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vN.get())};e()}}Qo.currentPopupAction=null;const yN="pendingRedirect",Xd=new Map;class bN extends ST{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const i=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(n,e){const t=wN(e),i=xN(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function EN(n,e){Xd.set(n._key(),e)}function xN(n){return Hi(n._redirectPersistence)}function wN(n){return Yd(yN,n.config.apiKey,n.name)}async function TN(n,e,t=!1){if(Zn(n.app))return Promise.reject(Gi(n));const i=Za(n),a=fN(i,e),c=await new bN(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const SN=600*1e3;class CN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!CT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SN&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function AN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(n);default:return!1}}async function RN(n,e={}){return ts(n,"GET","/v1/projects",e)}const kN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function IN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RN(n);for(const t of e)try{if(NN(t))return}catch{}Ir(n,"unauthorized-domain")}function NN(n){const e=zm(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!LN.test(t))return!1;if(kN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const MN=new ec(3e4,6e4);function P_(){const n=li().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ON(n){return new Promise((e,t)=>{function i(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),t(oi(n,"network-request-failed"))},timeout:MN.get()})}if(li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(li().gapi?.load)i();else{const a=xI("iframefcb");return li()[a]=()=>{gapi.load?i():t(oi(n,"network-request-failed"))},cT(`${EI()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function DN(n){return Wd=Wd||ON(n),Wd}const PN=new ec(5e3,15e3),jN="__/auth/iframe",VN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sg(e,VN):`https://${n.config.authDomain}/${jN}`,i={apiKey:e.apiKey,appName:n.name,v:Wa},a=zN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ju(i).slice(1)}`}async function qN(n){const e=await DN(n),t=li().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:BN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=oi(n,"network-request-failed"),f=li().setTimeout(()=>{l(c)},PN.get());function p(){li().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}const HN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,GN=600,KN="_blank",$N="http://localhost";class j_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QN(n,e,t,i=FN,a=GN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...HN,width:i.toString(),height:a.toString(),top:l,left:c},m=En().toLowerCase();t&&(f=rT(m)?KN:t),tT(m)&&(e=e||$N,p.scrollbars="yes");const b=Object.entries(p).reduce((T,[C,R])=>`${T}${C}=${R},`,"");if(hI(m)&&f!=="_self")return YN(e||"",f),new j_(null);const _=window.open(e||"",f,b);Le(_,n,"popup-blocked");try{_.focus()}catch{}return new j_(_)}function YN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const XN="__/auth/handler",WN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function V_(n,e,t,i,a,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Wa,eventId:a};if(e instanceof fT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Nk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))c[b]=_}if(e instanceof nc){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const p=await n._getAppCheckToken(),m=p?`#${ZN}=${encodeURIComponent(p)}`:"";return`${JN(n)}?${Ju(f).slice(1)}${m}`}function JN({config:n}){return n.emulator?Sg(n,WN):`https://${n.authDomain}/${XN}`}const _m="webStorageSupport";class eM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=TN,this._overrideRedirectResult=EN}async _openPopup(e,t,i,a){Yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await V_(e,t,i,zm(),a);return QN(e,l,Lg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await V_(e,t,i,zm(),a);return rN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qN(e),i=new CN(e);return t.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_m,{type:_m},a=>{const l=a?.[0]?.[_m];l!==void 0&&t(!!l),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lT()||nT()||Ag()}}const tM=eM;var U_="@firebase/auth",z_="1.12.0";class nM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iM(n){qa(new Ys("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(n)},m=new yI(i,a,l,p);return RI(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qa(new Ys("auth-internal",e=>{const t=Za(e.getProvider("auth").getImmediate());return(i=>new nM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(U_,z_,rM(n)),ai(U_,z_,"esm2020")}const sM=300,aM=zw("authIdTokenMaxAge")||sM;let B_=null;const oM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aM)return;const a=t?.token;B_!==a&&(B_=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lM(n=wg()){const e=Vh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=AI(n,{popupRedirectResolver:tM,persistence:[hN,eN,_T]}),i=zw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=oM(l.toString());YI(t,c,()=>c(t.currentUser)),QI(t,f=>c(f))}}const a=jw("auth");return a&&kI(t,`http://${a}`),t}function uM(){return document.getElementsByTagName("head")?.[0]??document}bI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=oi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",uM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iM("Browser");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,AT;(function(){var n;function e(k,N){function A(){}A.prototype=N.prototype,k.F=N.prototype,k.prototype=new A,k.prototype.constructor=k,k.D=function(P,D,U){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return N.prototype[D].apply(P,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,N,A){A||(A=0);const P=Array(16);if(typeof N=="string")for(var D=0;D<16;++D)P[D]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(D=0;D<16;++D)P[D]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=k.g[0],A=k.g[1],D=k.g[2];let U=k.g[3],M;M=N+(U^A&(D^U))+P[0]+3614090360&4294967295,N=A+(M<<7&4294967295|M>>>25),M=U+(D^N&(A^D))+P[1]+3905402710&4294967295,U=N+(M<<12&4294967295|M>>>20),M=D+(A^U&(N^A))+P[2]+606105819&4294967295,D=U+(M<<17&4294967295|M>>>15),M=A+(N^D&(U^N))+P[3]+3250441966&4294967295,A=D+(M<<22&4294967295|M>>>10),M=N+(U^A&(D^U))+P[4]+4118548399&4294967295,N=A+(M<<7&4294967295|M>>>25),M=U+(D^N&(A^D))+P[5]+1200080426&4294967295,U=N+(M<<12&4294967295|M>>>20),M=D+(A^U&(N^A))+P[6]+2821735955&4294967295,D=U+(M<<17&4294967295|M>>>15),M=A+(N^D&(U^N))+P[7]+4249261313&4294967295,A=D+(M<<22&4294967295|M>>>10),M=N+(U^A&(D^U))+P[8]+1770035416&4294967295,N=A+(M<<7&4294967295|M>>>25),M=U+(D^N&(A^D))+P[9]+2336552879&4294967295,U=N+(M<<12&4294967295|M>>>20),M=D+(A^U&(N^A))+P[10]+4294925233&4294967295,D=U+(M<<17&4294967295|M>>>15),M=A+(N^D&(U^N))+P[11]+2304563134&4294967295,A=D+(M<<22&4294967295|M>>>10),M=N+(U^A&(D^U))+P[12]+1804603682&4294967295,N=A+(M<<7&4294967295|M>>>25),M=U+(D^N&(A^D))+P[13]+4254626195&4294967295,U=N+(M<<12&4294967295|M>>>20),M=D+(A^U&(N^A))+P[14]+2792965006&4294967295,D=U+(M<<17&4294967295|M>>>15),M=A+(N^D&(U^N))+P[15]+1236535329&4294967295,A=D+(M<<22&4294967295|M>>>10),M=N+(D^U&(A^D))+P[1]+4129170786&4294967295,N=A+(M<<5&4294967295|M>>>27),M=U+(A^D&(N^A))+P[6]+3225465664&4294967295,U=N+(M<<9&4294967295|M>>>23),M=D+(N^A&(U^N))+P[11]+643717713&4294967295,D=U+(M<<14&4294967295|M>>>18),M=A+(U^N&(D^U))+P[0]+3921069994&4294967295,A=D+(M<<20&4294967295|M>>>12),M=N+(D^U&(A^D))+P[5]+3593408605&4294967295,N=A+(M<<5&4294967295|M>>>27),M=U+(A^D&(N^A))+P[10]+38016083&4294967295,U=N+(M<<9&4294967295|M>>>23),M=D+(N^A&(U^N))+P[15]+3634488961&4294967295,D=U+(M<<14&4294967295|M>>>18),M=A+(U^N&(D^U))+P[4]+3889429448&4294967295,A=D+(M<<20&4294967295|M>>>12),M=N+(D^U&(A^D))+P[9]+568446438&4294967295,N=A+(M<<5&4294967295|M>>>27),M=U+(A^D&(N^A))+P[14]+3275163606&4294967295,U=N+(M<<9&4294967295|M>>>23),M=D+(N^A&(U^N))+P[3]+4107603335&4294967295,D=U+(M<<14&4294967295|M>>>18),M=A+(U^N&(D^U))+P[8]+1163531501&4294967295,A=D+(M<<20&4294967295|M>>>12),M=N+(D^U&(A^D))+P[13]+2850285829&4294967295,N=A+(M<<5&4294967295|M>>>27),M=U+(A^D&(N^A))+P[2]+4243563512&4294967295,U=N+(M<<9&4294967295|M>>>23),M=D+(N^A&(U^N))+P[7]+1735328473&4294967295,D=U+(M<<14&4294967295|M>>>18),M=A+(U^N&(D^U))+P[12]+2368359562&4294967295,A=D+(M<<20&4294967295|M>>>12),M=N+(A^D^U)+P[5]+4294588738&4294967295,N=A+(M<<4&4294967295|M>>>28),M=U+(N^A^D)+P[8]+2272392833&4294967295,U=N+(M<<11&4294967295|M>>>21),M=D+(U^N^A)+P[11]+1839030562&4294967295,D=U+(M<<16&4294967295|M>>>16),M=A+(D^U^N)+P[14]+4259657740&4294967295,A=D+(M<<23&4294967295|M>>>9),M=N+(A^D^U)+P[1]+2763975236&4294967295,N=A+(M<<4&4294967295|M>>>28),M=U+(N^A^D)+P[4]+1272893353&4294967295,U=N+(M<<11&4294967295|M>>>21),M=D+(U^N^A)+P[7]+4139469664&4294967295,D=U+(M<<16&4294967295|M>>>16),M=A+(D^U^N)+P[10]+3200236656&4294967295,A=D+(M<<23&4294967295|M>>>9),M=N+(A^D^U)+P[13]+681279174&4294967295,N=A+(M<<4&4294967295|M>>>28),M=U+(N^A^D)+P[0]+3936430074&4294967295,U=N+(M<<11&4294967295|M>>>21),M=D+(U^N^A)+P[3]+3572445317&4294967295,D=U+(M<<16&4294967295|M>>>16),M=A+(D^U^N)+P[6]+76029189&4294967295,A=D+(M<<23&4294967295|M>>>9),M=N+(A^D^U)+P[9]+3654602809&4294967295,N=A+(M<<4&4294967295|M>>>28),M=U+(N^A^D)+P[12]+3873151461&4294967295,U=N+(M<<11&4294967295|M>>>21),M=D+(U^N^A)+P[15]+530742520&4294967295,D=U+(M<<16&4294967295|M>>>16),M=A+(D^U^N)+P[2]+3299628645&4294967295,A=D+(M<<23&4294967295|M>>>9),M=N+(D^(A|~U))+P[0]+4096336452&4294967295,N=A+(M<<6&4294967295|M>>>26),M=U+(A^(N|~D))+P[7]+1126891415&4294967295,U=N+(M<<10&4294967295|M>>>22),M=D+(N^(U|~A))+P[14]+2878612391&4294967295,D=U+(M<<15&4294967295|M>>>17),M=A+(U^(D|~N))+P[5]+4237533241&4294967295,A=D+(M<<21&4294967295|M>>>11),M=N+(D^(A|~U))+P[12]+1700485571&4294967295,N=A+(M<<6&4294967295|M>>>26),M=U+(A^(N|~D))+P[3]+2399980690&4294967295,U=N+(M<<10&4294967295|M>>>22),M=D+(N^(U|~A))+P[10]+4293915773&4294967295,D=U+(M<<15&4294967295|M>>>17),M=A+(U^(D|~N))+P[1]+2240044497&4294967295,A=D+(M<<21&4294967295|M>>>11),M=N+(D^(A|~U))+P[8]+1873313359&4294967295,N=A+(M<<6&4294967295|M>>>26),M=U+(A^(N|~D))+P[15]+4264355552&4294967295,U=N+(M<<10&4294967295|M>>>22),M=D+(N^(U|~A))+P[6]+2734768916&4294967295,D=U+(M<<15&4294967295|M>>>17),M=A+(U^(D|~N))+P[13]+1309151649&4294967295,A=D+(M<<21&4294967295|M>>>11),M=N+(D^(A|~U))+P[4]+4149444226&4294967295,N=A+(M<<6&4294967295|M>>>26),M=U+(A^(N|~D))+P[11]+3174756917&4294967295,U=N+(M<<10&4294967295|M>>>22),M=D+(N^(U|~A))+P[2]+718787259&4294967295,D=U+(M<<15&4294967295|M>>>17),M=A+(U^(D|~N))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+U&4294967295}i.prototype.v=function(k,N){N===void 0&&(N=k.length);const A=N-this.blockSize,P=this.C;let D=this.h,U=0;for(;U<N;){if(D==0)for(;U<=A;)a(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<N;)if(P[D++]=k.charCodeAt(U++),D==this.blockSize){a(this,P),D=0;break}}else for(;U<N;)if(P[D++]=k[U++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=N},i.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var A=k.length-8;A<k.length;++A)k[A]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)k[N++]=this.g[A]>>>P&255;return k};function l(k,N){var A=f;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=N(k)}function c(k,N){this.h=N;const A=[];let P=!0;for(let D=k.length-1;D>=0;D--){const U=k[D]|0;P&&U==N||(A[D]=U,P=!1)}this.g=A}var f={};function p(k){return-128<=k&&k<128?l(k,function(N){return new c([N|0],N<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return _;if(k<0)return L(m(-k));const N=[];let A=1;for(let P=0;k>=A;P++)N[P]=k/A|0,A*=4294967296;return new c(N,0)}function b(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return L(b(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=m(Math.pow(N,8));let P=_;for(let U=0;U<k.length;U+=8){var D=Math.min(8,k.length-U);const M=parseInt(k.substring(U,U+D),N);D<8?(D=m(Math.pow(N,D)),P=P.j(D).add(m(M))):(P=P.j(A),P=P.add(m(M)))}return P}var _=p(0),T=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-L(this).m();let k=0,N=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);k+=(P>=0?P:4294967296+P)*N,N*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(O(this))return"-"+L(this).toString(k);const N=m(Math.pow(k,6));var A=this;let P="";for(;;){const D=H(A,N).g;A=z(A,D.j(N));let U=((A.g.length>0?A.g[0]:A.h)>>>0).toString(k);if(A=D,R(A))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function O(k){return k.h==-1}n.l=function(k){return k=z(this,k),O(k)?-1:R(k)?0:1};function L(k){const N=k.g.length,A=[];for(let P=0;P<N;P++)A[P]=~k.g[P];return new c(A,~k.h).add(T)}n.abs=function(){return O(this)?L(this):this},n.add=function(k){const N=Math.max(this.g.length,k.g.length),A=[];let P=0;for(let D=0;D<=N;D++){let U=P+(this.i(D)&65535)+(k.i(D)&65535),M=(U>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=M>>>16,U&=65535,M&=65535,A[D]=M<<16|U}return new c(A,A[A.length-1]&-2147483648?-1:0)};function z(k,N){return k.add(L(N))}n.j=function(k){if(R(this)||R(k))return _;if(O(this))return O(k)?L(this).j(L(k)):L(L(this).j(k));if(O(k))return L(this.j(L(k)));if(this.l(C)<0&&k.l(C)<0)return m(this.m()*k.m());const N=this.g.length+k.g.length,A=[];for(var P=0;P<2*N;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<k.g.length;D++){const U=this.i(P)>>>16,M=this.i(P)&65535,pe=k.i(D)>>>16,ye=k.i(D)&65535;A[2*P+2*D]+=M*ye,B(A,2*P+2*D),A[2*P+2*D+1]+=U*ye,B(A,2*P+2*D+1),A[2*P+2*D+1]+=M*pe,B(A,2*P+2*D+1),A[2*P+2*D+2]+=U*pe,B(A,2*P+2*D+2)}for(k=0;k<N;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=N;k<2*N;k++)A[k]=0;return new c(A,0)};function B(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function Q(k,N){this.g=k,this.h=N}function H(k,N){if(R(N))throw Error("division by zero");if(R(k))return new Q(_,_);if(O(k))return N=H(L(k),N),new Q(L(N.g),L(N.h));if(O(N))return N=H(k,L(N)),new Q(L(N.g),N.h);if(k.g.length>30){if(O(k)||O(N))throw Error("slowDivide_ only works with positive integers.");for(var A=T,P=N;P.l(k)<=0;)A=F(A),P=F(P);var D=Z(A,1),U=Z(P,1);for(P=Z(P,2),A=Z(A,2);!R(P);){var M=U.add(P);M.l(k)<=0&&(D=D.add(A),U=M),P=Z(P,1),A=Z(A,1)}return N=z(k,D.j(N)),new Q(D,N)}for(D=_;k.l(N)>=0;){for(A=Math.max(1,Math.floor(k.m()/N.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=m(A),M=U.j(N);O(M)||M.l(k)>0;)A-=P,U=m(A),M=U.j(N);R(U)&&(U=T),D=D.add(U),k=z(k,M)}return new Q(D,k)}n.B=function(k){return H(this,k).h},n.and=function(k){const N=Math.max(this.g.length,k.g.length),A=[];for(let P=0;P<N;P++)A[P]=this.i(P)&k.i(P);return new c(A,this.h&k.h)},n.or=function(k){const N=Math.max(this.g.length,k.g.length),A=[];for(let P=0;P<N;P++)A[P]=this.i(P)|k.i(P);return new c(A,this.h|k.h)},n.xor=function(k){const N=Math.max(this.g.length,k.g.length),A=[];for(let P=0;P<N;P++)A[P]=this.i(P)^k.i(P);return new c(A,this.h^k.h)};function F(k){const N=k.g.length+1,A=[];for(let P=0;P<N;P++)A[P]=k.i(P)<<1|k.i(P-1)>>>31;return new c(A,k.h)}function Z(k,N){const A=N>>5;N%=32;const P=k.g.length-A,D=[];for(let U=0;U<P;U++)D[U]=N>0?k.i(U+A)>>>N|k.i(U+A+1)<<32-N:k.i(U+A);return new c(D,k.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,AT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=b,$s=c}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RT,Tu,kT,Zd,Fm,LT,IT,NT;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var E=0;E<d.length;++E){var w=d[E];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(d,E){if(E)e:{var w=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var $=d[I];if(!($ in w))break e;w=w[$]}d=d[d.length-1],I=w[d],E=E(I),E!=I&&E!=null&&e(w,d,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(E){var w=[],I;for(I in E)Object.prototype.hasOwnProperty.call(E,I)&&w.push([I,E[I]]);return w}});var l=l||{},c=this||self;function f(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function p(d,E,w){return d.call.apply(d.bind,arguments)}function m(d,E,w){return m=p,m.apply(null,arguments)}function b(d,E){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function _(d,E){function w(){}w.prototype=E.prototype,d.Z=E.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(I,$,te){for(var fe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)fe[Pe-2]=arguments[Pe];return E.prototype[$].apply(I,fe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const E=d.length;if(E>0){const w=Array(E);for(let I=0;I<E;I++)w[I]=d[I];return w}return[]}function R(d,E){for(let I=1;I<arguments.length;I++){const $=arguments[I];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=d.length||0;const te=$.length||0;d.length=w+te;for(let fe=0;fe<te;fe++)d[w+fe]=$[fe]}else d.push($)}}class O{constructor(E,w){this.i=E,this.j=w,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(d){c.setTimeout(()=>{throw d},0)}function z(){var d=k;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class B{constructor(){this.h=this.g=null}add(E,w){const I=Q.get();I.set(E,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Q=new O(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(E,w){this.h=E,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let F,Z=!1,k=new B,N=()=>{const d=Promise.resolve(void 0);F=()=>{d.then(A)}};function A(){for(var d;d=z();){try{d.h.call(d.g)}catch(w){L(w)}var E=Q;E.j(d),E.h<100&&(E.h++,d.next=E.g,E.g=d)}Z=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,E),c.removeEventListener("test",w,E)}catch{}return d})();function M(d){return/^[\s\xa0]*$/.test(d)}function pe(d,E){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,E)}_(pe,D),pe.prototype.init=function(d,E){const w=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget,E||(w=="mouseover"?E=d.fromElement:w=="mouseout"&&(E=d.toElement)),this.relatedTarget=E,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(d,E,w,I,$){this.listener=d,this.proxy=null,this.src=E,this.type=w,this.capture=!!I,this.ha=$,this.key=++K,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d,E,w){for(const I in d)E.call(w,d[I],I,d)}function ge(d,E){for(const w in d)E.call(void 0,d[w],w,d)}function j(d){const E={};for(const w in d)E[w]=d[w];return E}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(d,E){let w,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(w in I)d[w]=I[w];for(let te=0;te<ee.length;te++)w=ee[te],Object.prototype.hasOwnProperty.call(I,w)&&(d[w]=I[w])}}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,E,w,I,$){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const fe=_e(d,E,I,$);return fe>-1?(E=d[fe],w||(E.fa=!1)):(E=new se(E,this.src,te,!!I,$),E.fa=w,d.push(E)),E};function W(d,E){const w=E.type;if(w in d.g){var I=d.g[w],$=Array.prototype.indexOf.call(I,E,void 0),te;(te=$>=0)&&Array.prototype.splice.call(I,$,1),te&&(de(E),d.g[w].length==0&&(delete d.g[w],d.h--))}}function _e(d,E,w,I){for(let $=0;$<d.length;++$){const te=d[$];if(!te.da&&te.listener==E&&te.capture==!!w&&te.ha==I)return $}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Te={};function Ne(d,E,w,I,$){if(Array.isArray(E)){for(let te=0;te<E.length;te++)Ne(d,E[te],w,I,$);return null}return w=ns(w),d&&d[ye]?d.J(E,w,f(I)?!!I.capture:!1,$):Se(d,E,w,!1,I,$)}function Se(d,E,w,I,$,te){if(!E)throw Error("Invalid event type");const fe=f($)?!!$.capture:!!$;let Pe=Dr(d);if(Pe||(d[we]=Pe=new he(d)),w=Pe.add(E,w,I,fe,te),w.proxy)return w;if(I=ze(),w.proxy=I,I.src=d,I.listener=w,d.addEventListener)U||($=fe),$===void 0&&($=!1),d.addEventListener(E.toString(),I,$);else if(d.attachEvent)d.attachEvent(fn(E.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ze(){function d(w){return E.call(d.src,d.listener,w)}const E=We;return d}function Yt(d,E,w,I,$){if(Array.isArray(E))for(var te=0;te<E.length;te++)Yt(d,E[te],w,I,$);else I=f(I)?!!I.capture:!!I,w=ns(w),d&&d[ye]?(d=d.i,te=String(E).toString(),te in d.g&&(E=d.g[te],w=_e(E,w,I,$),w>-1&&(de(E[w]),Array.prototype.splice.call(E,w,1),E.length==0&&(delete d.g[te],d.h--)))):d&&(d=Dr(d))&&(E=d.g[E.toString()],d=-1,E&&(d=_e(E,w,I,$)),(w=d>-1?E[d]:null)&&hn(w))}function hn(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[ye])W(E.i,d);else{var w=d.type,I=d.proxy;E.removeEventListener?E.removeEventListener(w,I,d.capture):E.detachEvent?E.detachEvent(fn(w),I):E.addListener&&E.removeListener&&E.removeListener(I),(w=Dr(E))?(W(w,d),w.h==0&&(w.src=null,E[we]=null)):de(d)}}}function fn(d){return d in Te?Te[d]:Te[d]="on"+d}function We(d,E){if(d.da)d=!0;else{E=new pe(E,this);const w=d.listener,I=d.ha||d.src;d.fa&&hn(d),d=w.call(I,E)}return d}function Dr(d){return d=d[we],d instanceof he?d:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ns(d){return typeof d=="function"?d:(d[Pr]||(d[Pr]=function(E){return d.handleEvent(E)}),d[Pr])}function pt(){P.call(this),this.i=new he(this),this.M=this,this.G=null}_(pt,P),pt.prototype[ye]=!0,pt.prototype.removeEventListener=function(d,E,w,I){Yt(this,d,E,w,I)};function St(d,E){var w,I=d.G;if(I)for(w=[];I;I=I.G)w.push(I);if(d=d.M,I=E.type||E,typeof E=="string")E=new D(E,d);else if(E instanceof D)E.target=E.target||d;else{var $=E;E=new D(I,d),ae(E,$)}$=!0;let te,fe;if(w)for(fe=w.length-1;fe>=0;fe--)te=E.g=w[fe],$=Vn(te,I,!0,E)&&$;if(te=E.g=d,$=Vn(te,I,!0,E)&&$,$=Vn(te,I,!1,E)&&$,w)for(fe=0;fe<w.length;fe++)te=E.g=w[fe],$=Vn(te,I,!1,E)&&$}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var d=this.i;for(const E in d.g){const w=d.g[E];for(let I=0;I<w.length;I++)de(w[I]);delete d.g[E],d.h--}}this.G=null},pt.prototype.J=function(d,E,w,I){return this.i.add(String(d),E,!1,w,I)},pt.prototype.K=function(d,E,w,I){return this.i.add(String(d),E,!0,w,I)};function Vn(d,E,w,I){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();let $=!0;for(let te=0;te<E.length;++te){const fe=E[te];if(fe&&!fe.da&&fe.capture==w){const Pe=fe.listener,It=fe.ha||fe.src;fe.fa&&W(d.i,fe),$=Pe.call(It,I)!==!1&&$}}return $&&!I.defaultPrevented}function to(d,E){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(d,E||0)}function mi(d){d.g=to(()=>{d.g=null,d.i&&(d.i=!1,mi(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class Xt extends P{constructor(E,w){super(),this.m=E,this.l=w,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(d){P.call(this),this.h=d,this.g={}}_(jr,P);var rs=[];function Vr(d){me(d.g,function(E,w){this.g.hasOwnProperty(w)&&hn(E)},d),d.g={}}jr.prototype.N=function(){jr.Z.N.call(this),Vr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=c.JSON.stringify,is=c.JSON.parse,aa=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gi(){}function oa(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){D.call(this,"d")}_(Dt,D);function tn(){D.call(this,"c")}_(tn,D);var yt={},vi=null;function yi(){return vi=vi||new pt}yt.Ia="serverreachability";function bi(d){D.call(this,yt.Ia,d)}_(bi,D);function Un(d){const E=yi();St(E,new bi(E))}yt.STAT_EVENT="statevent";function Ur(d,E){D.call(this,yt.STAT_EVENT,d),this.stat=E}_(Ur,D);function xt(d){const E=yi();St(E,new Ur(E,d))}yt.Ja="timingevent";function xn(d,E){D.call(this,yt.Ja,d),this.size=E}_(xn,D);function zn(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},E)}function mn(){this.g=!0}mn.prototype.ua=function(){this.g=!1};function no(d,E,w,I,$,te){d.info(function(){if(d.g)if(te){var fe="",Pe=te.split("&");for(let nt=0;nt<Pe.length;nt++){var It=Pe[nt].split("=");if(It.length>1){const bt=It[0];It=It[1];const ir=bt.split("_");fe=ir.length>=2&&ir[1]=="type"?fe+(bt+"="+It+"&"):fe+(bt+"=redacted&")}}}else fe=null;else fe=te;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+E+`
`+w+`
`+fe})}function _i(d,E,w,I,$,te,fe){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+E+`
`+w+`
`+te+" "+fe})}function Bn(d,E,w,I){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+xi(d,w)+(I?" "+I:"")})}function Ei(d,E){d.info(function(){return"TIMEOUT: "+E})}mn.prototype.info=function(){};function xi(d,E){if(!d.g)return E;if(!E)return null;try{const te=JSON.parse(E);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var w=te[d];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let fe=1;fe<I.length;fe++)I[fe]=""}}}}return yr(te)}catch{return E}}var ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function la(){}_(la,gi),la.prototype.g=function(){return new XMLHttpRequest},gl=new la;function wi(d){return encodeURIComponent(String(d))}function dc(d){var E=1;d=d.split(":");const w=[];for(;E>0&&d.length;)w.push(d.shift()),E--;return d.length&&w.push(d.join(":")),w}function br(d,E,w,I){this.j=d,this.i=E,this.l=w,this.S=I||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _r}function _r(){this.i=null,this.g="",this.h=!1}var Pt={},Wt={};function zr(d,E,w){d.M=1,d.A=ua(Vt(E)),d.u=w,d.R=!0,ro(d,null)}function ro(d,E){d.F=Date.now(),Br(d),d.B=Vt(d.A);var w=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),oo(w.i,"t",I),d.C=0,w=d.j.L,d.h=new _r,d.g=Cc(d.j,w?E:null,!d.u),d.P>0&&(d.O=new Xt(m(d.Y,d,d.g),d.P)),E=d.V,w=d.g,I=d.ba;var $="readystatechange";Array.isArray($)||($&&(rs[0]=$.toString()),$=rs);for(let te=0;te<$.length;te++){const fe=Ne(w,$[te],I||E.handleEvent,!1,E.h||E);if(!fe)break;E.g[fe.key]=fe}E=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,E)):(d.v="GET",d.g.ea(d.B,d.v,null,E)),Un(),no(d.i,d.v,d.B,d.l,d.S,d.u)}br.prototype.ba=function(d){d=d.target;const E=this.O;E&&wr(d)==3?E.j():this.Y(d)},br.prototype.Y=function(d){try{if(d==this.g)e:{const Pe=wr(this.g),It=this.g.ya(),nt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Pe!=4||It==7||(It==8||nt<=0?Un(3):Un(2)),qr(this);var E=this.g.ca();this.X=E;var w=hf(this);if(this.o=E==200,_i(this.i,this.v,this.B,this.l,this.S,Pe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(I)){var te=I;break t}}te=null}if(d=te)Bn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hr(this,d);else{this.o=!1,this.m=3,xt(12),qn(this),tr(this);break e}}if(this.R){d=!0;let bt;for(;!this.K&&this.C<w.length;)if(bt=fc(this,w),bt==Wt){Pe==4&&(this.m=4,xt(14),d=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Pt){this.m=4,xt(15),Bn(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else Bn(this.i,this.l,bt,null),Hr(this,bt);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,xt(16),d=!1),this.o=this.o&&d,!d)Bn(this.i,this.l,w,"[Invalid Chunked Response]"),qn(this),tr(this);else if(w.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Il(fe),fe.P=!0,xt(11))}}else Bn(this.i,this.l,w,null),Hr(this,w);Pe==4&&qn(this),this.o&&!this.K&&(Pe==4?xc(this.j,this):(this.o=!1,Br(this)))}else Si(this.g),E==400&&w.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),qn(this),tr(this)}}}catch{}};function hf(d){if(!hc(d))return d.g.la();const E=nn(d.g);if(E==="")return"";let w="";const I=E.length,$=wr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return qn(d),tr(d),"";d.h.i=new c.TextDecoder}for(let te=0;te<I;te++)d.h.h=!0,w+=d.h.i.decode(E[te],{stream:!($&&te==I-1)});return E.length=0,d.h.g+=w,d.C=0,d.h.g}function hc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function fc(d,E){var w=d.C,I=E.indexOf(`
`,w);return I==-1?Wt:(w=Number(E.substring(w,I)),isNaN(w)?Pt:(I+=1,I+w>E.length?Wt:(E=E.slice(I,I+w),d.C=I+w,E)))}br.prototype.cancel=function(){this.K=!0,qn(this)};function Br(d){d.T=Date.now()+d.H,io(d,d.H)}function io(d,E){if(d.D!=null)throw Error("WatchDog timer not null");d.D=zn(m(d.aa,d),E)}function qr(d){d.D&&(c.clearTimeout(d.D),d.D=null)}br.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ei(this.i,this.B),this.M!=2&&(Un(),xt(17)),qn(this),this.m=2,tr(this)):io(this,this.T-d)};function tr(d){d.j.I==0||d.K||xc(d.j,d)}function qn(d){qr(d);var E=d.O;E&&typeof E.dispose=="function"&&E.dispose(),d.O=null,Vr(d.V),d.g&&(E=d.g,d.g=null,E.abort(),E.dispose())}function Hr(d,E){try{var w=d.j;if(w.I!=0&&(w.g==d||Gr(w.h,d))){if(!d.L&&Gr(w.h,d)&&w.I==3){try{var I=w.Ba.g.parse(E)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)fo(w),hs(w);else break e;ga(w),xt(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=zn(m(w.Va,w),6e3));Fr(w.h)<=1&&w.ta&&(w.ta=void 0)}else Wr(w,11)}else if((d.L||w.g==d)&&fo(w),!M(E))for($=w.Ba.g.parse(E),E=0;E<$.length;E++){let nt=$[E];const bt=nt[0];if(!(bt<=w.K))if(w.K=bt,nt=nt[1],w.I==2)if(nt[0]=="c"){w.M=nt[1],w.ba=nt[2];const ir=nt[3];ir!=null&&(w.ka=ir,w.j.info("VER="+w.ka));const Zr=nt[4];Zr!=null&&(w.za=Zr,w.j.info("SVER="+w.za));const Tr=nt[5];Tr!=null&&typeof Tr=="number"&&Tr>0&&(I=1.5*Tr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Sr=d.g;if(Sr){const va=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var te=I.h;te.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(bl(te,te.h),te.h=null))}if(I.G){const po=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(I.wa=po,st(I.J,I.G,po))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var fe=d;if(I.na=Sc(I,I.L?I.ba:null,I.W),fe.L){_l(I.h,fe);var Pe=fe,It=I.O;It&&(Pe.H=It),Pe.D&&(qr(Pe),Br(Pe)),I.g=fe}else _c(I);w.i.length>0&&Xr(w)}else nt[0]!="stop"&&nt[0]!="close"||Wr(w,7);else w.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Wr(w,7):kl(w):nt[0]!="noop"&&w.l&&w.l.qa(nt),w.A=0)}}Un(4)}catch{}}var jt=class{constructor(d,E){this.g=d,this.map=E}};function vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Fr(d){return d.h?1:d.g?d.g.size:0}function Gr(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function bl(d,E){d.g?d.g.add(E):d.h=E}function _l(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}vl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function El(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const w of d.g.values())E=E.concat(w.G);return E}return C(d.i)}var pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(d,E){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const I=d[w].indexOf("=");let $,te=null;I>=0?($=d[w].substring(0,I),te=d[w].substring(I+1)):$=d[w],E($,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Hn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;d instanceof Hn?(this.l=d.l,Zt(this,d.j),this.o=d.o,this.g=d.g,ss(this,d.u),this.h=d.h,xl(this,yc(d.i)),this.m=d.m):d&&(E=String(d).match(pc))?(this.l=!1,Zt(this,E[1]||"",!0),this.o=Kr(E[2]||""),this.g=Kr(E[3]||"",!0),ss(this,E[4]),this.h=Kr(E[5]||"",!0),xl(this,E[6]||"",!0),this.m=Kr(E[7]||"")):(this.l=!1,this.i=new os(null,this.l))}Hn.prototype.toString=function(){const d=[];var E=this.j;E&&d.push(ca(E,ao,!0),":");var w=this.g;return(w||E=="file")&&(d.push("//"),(E=this.o)&&d.push(ca(E,ao,!0),"@"),d.push(wi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(ca(w,w.charAt(0)=="/"?wl:mc,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",ca(w,gc)),d.join("")},Hn.prototype.resolve=function(d){const E=Vt(this);let w=!!d.j;w?Zt(E,d.j):w=!!d.o,w?E.o=d.o:w=!!d.g,w?E.g=d.g:w=d.u!=null;var I=d.h;if(w)ss(E,d.u);else if(w=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=E.h.lastIndexOf("/");$!=-1&&(I=E.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const te=[];for(let fe=0;fe<$.length;){const Pe=$[fe++];Pe=="."?I&&fe==$.length&&te.push(""):Pe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),I&&fe==$.length&&te.push("")):(te.push(Pe),I=!0)}I=te.join("/")}else I=$}return w?E.h=I:w=d.i.toString()!=="",w?xl(E,yc(d.i)):w=!!d.m,w&&(E.m=d.m),E};function Vt(d){return new Hn(d)}function Zt(d,E,w){d.j=w?Kr(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function ss(d,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);d.u=E}else d.u=null}function xl(d,E,w){E instanceof os?(d.i=E,lo(d.i,d.l)):(w||(E=ca(E,as)),d.i=new os(E,d.l))}function st(d,E,w){d.i.set(E,w)}function ua(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Kr(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ca(d,E,w){return typeof d=="string"?(d=encodeURI(d).replace(E,An),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function An(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ao=/[#\/\?@]/g,mc=/[#\?:]/g,wl=/[#\?]/g,as=/[#\?@]/g,gc=/#/g;function os(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function Rn(d){d.g||(d.g=new Map,d.h=0,d.i&&so(d.i,function(E,w){d.add(decodeURIComponent(E.replace(/\+/g," ")),w)}))}n=os.prototype,n.add=function(d,E){Rn(this),this.i=null,d=ls(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(E),this.h+=1,this};function vc(d,E){Rn(d),E=ls(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function Tl(d,E){return Rn(d),E=ls(d,E),d.g.has(E)}n.forEach=function(d,E){Rn(this),this.g.forEach(function(w,I){w.forEach(function($){d.call(E,$,I,this)},this)},this)};function Sl(d,E){Rn(d);let w=[];if(typeof E=="string")Tl(d,E)&&(w=w.concat(d.g.get(ls(d,E))));else for(d=Array.from(d.g.values()),E=0;E<d.length;E++)w=w.concat(d[E]);return w}n.set=function(d,E){return Rn(this),this.i=null,d=ls(this,d),Tl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},n.get=function(d,E){return d?(d=Sl(this,d),d.length>0?String(d[0]):E):E};function oo(d,E,w){vc(d,E),w.length>0&&(d.i=null,d.g.set(ls(d,E),C(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(let I=0;I<E.length;I++){var w=E[I];const $=wi(w);w=Sl(this,w);for(let te=0;te<w.length;te++){let fe=$;w[te]!==""&&(fe+="="+wi(w[te])),d.push(fe)}}return this.i=d.join("&")};function yc(d){const E=new os;return E.i=d.i,d.g&&(E.g=new Map(d.g),E.h=d.h),E}function ls(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function lo(d,E){E&&!d.j&&(Rn(d),d.i=null,d.g.forEach(function(w,I){const $=I.toLowerCase();I!=$&&(vc(this,I),oo(this,$,w))},d)),d.j=E}function Er(d,E){const w=new mn;if(c.Image){const I=new Image;I.onload=b(nr,w,"TestLoadImage: loaded",!0,E,I),I.onerror=b(nr,w,"TestLoadImage: error",!1,E,I),I.onabort=b(nr,w,"TestLoadImage: abort",!1,E,I),I.ontimeout=b(nr,w,"TestLoadImage: timeout",!1,E,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else E(!1)}function Cl(d,E){const w=new mn,I=new AbortController,$=setTimeout(()=>{I.abort(),nr(w,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:I.signal}).then(te=>{clearTimeout($),te.ok?nr(w,"TestPingServer: ok",!0,E):nr(w,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),nr(w,"TestPingServer: error",!1,E)})}function nr(d,E,w,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(w)}catch{}}function us(){this.g=new aa}function $r(d){this.i=d.Sb||null,this.h=d.ab||!1}_($r,gi),$r.prototype.g=function(){return new da(this.i,this.h)};function da(d,E){pt.call(this),this.H=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(da,pt),n=da.prototype,n.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=E,this.readyState=1,xr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(E.body=d),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?cs(this):xr(this),this.readyState==3&&uo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,cs(this))},n.Na=function(d){this.g&&(this.response=d,cs(this))},n.ga=function(){this.g&&cs(this)};function cs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,xr(d)}n.setRequestHeader=function(d,E){this.A.append(d,E)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var w=E.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=E.next();return d.join(`\r
`)};function xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function rr(d){let E="";return me(d,function(w,I){E+=I,E+=":",E+=w,E+=`\r
`}),E}function ha(d,E,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=rr(w),typeof d=="string"?w!=null&&wi(w):st(d,E,w))}function lt(d){pt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(lt,pt);var Qr=/^https?$/i,Al=["POST","PUT"];n=lt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,E,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(te){fa(this,te);return}if(d=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)w.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())w.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),$=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Al,E,void 0)>=0)||I||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,fe]of w)this.g.setRequestHeader(te,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){fa(this,te)}};function fa(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.o=5,Rl(d),Ti(d)}function Rl(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,St(this,"complete"),St(this,"abort"),Ti(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},n.Xa=function(){pa(this)};function pa(d){if(d.h&&typeof l<"u"){if(d.v&&wr(d)==4)setTimeout(d.Ca.bind(d),0);else if(St(d,"readystatechange"),wr(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var w;if(!(w=E)){var I;if(I=te===0){let fe=String(d.D).match(pc)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),I=!Qr.test(fe?fe.toLowerCase():"")}w=I}if(w)St(d,"complete"),St(d,"success");else{d.o=6;try{var $=wr(d)>2?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.ca()+"]",Rl(d)}}finally{Ti(d)}}}}function Ti(d,E){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,E||St(d,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function wr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),is(E)}};function nn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(d){const E={};d=(d.g&&wr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(M(d[I]))continue;var w=dc(d[I]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=E[$]||[];E[$]=te,te.push(w)}ge(E,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(d,E,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||E}function ds(d){this.za=0,this.i=[],this.j=new mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,d),this.Za=Yr("retryDelaySeedMs",1e4,d),this.Ta=Yr("forwardChannelMaxRetries",2,d),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(d&&d.concurrentRequestLimit),this.Ba=new us,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ds.prototype,n.ka=8,n.I=1,n.connect=function(d,E,w,I){xt(0),this.W=d,this.H=E||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Sc(this,null,this.W),Xr(this)};function kl(d){if(co(d),d.I==3){var E=d.V++,w=Vt(d.J);if(st(w,"SID",d.M),st(w,"RID",E),st(w,"TYPE","terminate"),ma(d,w),E=new br(d,d.j,E),E.M=2,E.A=ua(Vt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=E.A,w=!0),w||(E.g=Cc(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Br(E)}Tc(d)}function hs(d){d.g&&(Il(d),d.g.cancel(),d.g=null)}function co(d){hs(d),d.v&&(c.clearTimeout(d.v),d.v=null),fo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Xr(d){if(!yl(d.h)&&!d.m){d.m=!0;var E=d.Ea;F||N(),Z||(F(),Z=!0),k.add(E,d),d.D=0}}function ho(d,E){return Fr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=E.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=zn(m(d.Ea,d,E),wc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const $=new br(this,this.j,d);let te=this.o;if(this.U&&(te?(te=j(te),ae(te,this.U)):te=this.U),this.u!==null||this.R||($.J=te,te=null),this.S)e:{for(var E=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(E+=I,E>4096){E=w;break e}if(E===4096||w===this.i.length-1){E=w+1;break e}}E=1e3}else E=1e3;E=bc(this,$,E),w=Vt(this.J),st(w,"RID",d),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),ma(this,w),te&&(this.R?E="headers="+wi(rr(te))+"&"+E:this.u&&ha(w,this.u,te)),bl(this.h,$),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",E),st(w,"SID","null"),$.U=!0,zr($,w,null)):zr($,w,E),this.I=2}}else this.I==3&&(d?Ll(this,d):this.i.length==0||yl(this.h)||Ll(this))};function Ll(d,E){var w;E?w=E.l:w=d.V++;const I=Vt(d.J);st(I,"SID",d.M),st(I,"RID",w),st(I,"AID",d.K),ma(d,I),d.u&&d.o&&ha(I,d.u,d.o),w=new br(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),E&&(d.i=E.G.concat(d.i)),E=bc(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bl(d.h,w),zr(w,I,E)}function ma(d,E){d.H&&me(d.H,function(w,I){st(E,I,w)}),d.l&&me({},function(w,I){st(E,I,w)})}function bc(d,E,w){w=Math.min(d.i.length,w);const I=d.l?m(d.l.Ka,d.l,d):null;e:{var $=d.i;let Pe=-1;for(;;){const It=["count="+w];Pe==-1?w>0?(Pe=$[0].g,It.push("ofs="+Pe)):Pe=0:It.push("ofs="+Pe);let nt=!0;for(let bt=0;bt<w;bt++){var te=$[bt].g;const ir=$[bt].map;if(te-=Pe,te<0)Pe=Math.max(0,$[bt].g-100),nt=!1;else try{te="req"+te+"_"||"";try{var fe=ir instanceof Map?ir:Object.entries(ir);for(const[Zr,Tr]of fe){let Sr=Tr;f(Tr)&&(Sr=yr(Tr)),It.push(te+Zr+"="+encodeURIComponent(Sr))}}catch(Zr){throw It.push(te+"type="+encodeURIComponent("_badmap")),Zr}}catch{I&&I(ir)}}if(nt){fe=It.join("&");break e}}fe=void 0}return d=d.i.splice(0,w),E.G=d,fe}function _c(d){if(!d.g&&!d.v){d.Y=1;var E=d.Da;F||N(),Z||(F(),Z=!0),k.add(E,d),d.A=0}}function ga(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=zn(m(d.Da,d),wc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=zn(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),hs(this),Ec(this))};function Il(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ec(d){d.g=new br(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var E=Vt(d.na);st(E,"RID","rpc"),st(E,"SID",d.M),st(E,"AID",d.K),st(E,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(E,"TO",d.ia),st(E,"TYPE","xmlhttp"),ma(d,E),d.u&&d.o&&ha(E,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=ua(Vt(E)),w.u=null,w.R=!0,ro(w,d)}n.Va=function(){this.C!=null&&(this.C=null,hs(this),ga(this),xt(19))};function fo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function xc(d,E){var w=null;if(d.g==E){fo(d),Il(d),d.g=null;var I=2}else if(Gr(d.h,E))w=E.G,_l(d.h,E),I=1;else return;if(d.I!=0){if(E.o)if(I==1){w=E.u?E.u.length:0,E=Date.now()-E.F;var $=d.D;I=yi(),St(I,new xn(I,w)),Xr(d)}else _c(d);else if($=E.m,$==3||$==0&&E.X>0||!(I==1&&ho(d,E)||I==2&&ga(d)))switch(w&&w.length>0&&(E=d.h,E.i=E.i.concat(w)),$){case 1:Wr(d,5);break;case 4:Wr(d,10);break;case 3:Wr(d,6);break;default:Wr(d,2)}}}function wc(d,E){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*E}function Wr(d,E){if(d.j.info("Error code "+E),E==2){var w=m(d.bb,d),I=d.Ua;const $=!I;I=new Hn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(I,"https"),ua(I),$?Er(I.toString(),w):Cl(I.toString(),w)}else xt(2);d.I=0,d.l&&d.l.pa(E),Tc(d),co(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Tc(d){if(d.I=0,d.ja=[],d.l){const E=El(d.h);(E.length!=0||d.i.length!=0)&&(R(d.ja,E),R(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function Sc(d,E,w){var I=w instanceof Hn?Vt(w):new Hn(w);if(I.g!="")E&&(I.g=E+"."+I.g),ss(I,I.u);else{var $=c.location;I=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;const te=new Hn(null);I&&Zt(te,I),E&&(te.g=E),$&&ss(te,$),w&&(te.h=w),I=te}return w=d.G,E=d.wa,w&&E&&st(I,w,E),st(I,"VER",d.ka),ma(d,I),I}function Cc(d,E,w){if(E&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Aa&&!d.ma?new lt(new $r({ab:w})):new lt(d.ma),E.Fa(d.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}n=Ac.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fs(){}fs.prototype.g=function(d,E){return new wn(d,E)};function wn(d,E){pt.call(this),this.g=new ds(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(d?d["X-WebChannel-Client-Profile"]=E.sa:d={"X-WebChannel-Client-Profile":E.sa}),this.g.U=d,(d=E&&E.Qb)&&!M(d)&&(this.g.u=d),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.G=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new Ci(this)}_(wn,pt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){kl(this.g)},wn.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=yr(d),d=w);E.i.push(new jt(E.Ya++,d)),E.I==3&&Xr(E)},wn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,wn.Z.N.call(this)};function Rc(d){Dt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){e:{for(const w in E){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}_(Rc,Dt);function kc(){tn.call(this),this.status=1}_(kc,tn);function Ci(d){this.g=d}_(Ci,Ac),Ci.prototype.ra=function(){St(this.g,"a")},Ci.prototype.qa=function(d){St(this.g,new Rc(d))},Ci.prototype.pa=function(d){St(this.g,new kc)},Ci.prototype.oa=function(){St(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,NT=function(){return new fs},IT=function(){return yi()},LT=yt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Zd=ke,ml.COMPLETE="complete",kT=ml,oa.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Tu=oa,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,RT=lt}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",F_="4.9.3";class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let ul="12.7.0";const Ga=new Eg("@firebase/firestore");function Fo(){return Ga.logLevel}function be(n,...e){if(Ga.logLevel<=$e.DEBUG){const t=e.map(Ng);Ga.debug(`Firestore (${ul}): ${n}`,...t)}}function Xi(n,...e){if(Ga.logLevel<=$e.ERROR){const t=e.map(Ng);Ga.error(`Firestore (${ul}): ${n}`,...t)}}function el(n,...e){if(Ga.logLevel<=$e.WARN){const t=e.map(Ng);Ga.warn(`Firestore (${ul}): ${n}`,...t)}}function Ng(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ie(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,MT(n,i,t)}function MT(n,e,t){let i=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xi(i),new Error(i)}function it(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||MT(e,a,i)}function De(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class OT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bn.UNAUTHENTICATED)))}shutdown(){}}class dM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ki,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ki)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new OT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class fM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new G_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=gM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function Gm(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return Em(a)===Em(l)?Qe(a,l):Em(a)?1:-1}return Qe(n.length,e.length)}const vM=55296,yM=57343;function Em(n){const e=n.charCodeAt(0);return e>=vM&&e<=yM}function tl(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}const K_="__name__";class ri{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ie(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ri.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const i=ri.isNumericId(e),a=ri.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ri.extractNumericId(e).compare(ri.extractNumericId(t)):Gm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class ft extends ri{construct(e,t,i){return new ft(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ri{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new un([K_])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}function DT(n,e,t){if(!t)throw new ve(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _M(n,e,t,i){if(e===!0&&i===!0)throw new ve(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $_(n){if(!Ae.isDocumentKey(n))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q_(n){if(Ae.isDocumentKey(n))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qh(n);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ic(n,e){if(!PT(n))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ve(le.INVALID_ARGUMENT,t);return!0}const Y_=-62135596800,X_=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*X_);return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Y_)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ic(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Gt("string",vt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new vt(0,0))}static max(){return new Me(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function EM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Xs(a,Ae.empty(),e)}function xM(n){return new Xs(n.readTime,n.key,zu)}class Xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xs(Me.min(),Ae.empty(),zu)}static max(){return new Xs(Me.max(),Ae.empty(),zu)}}function wM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==TM)throw n;be("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,i)=>{t(e)}))}static reject(e){return new ce(((t,i)=>{i(e)}))}static waitFor(e){return new ce(((t,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next((a=>a?ce.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ce(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((b=>{c[m]=b,++f,f===l&&i(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new ce(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function CM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}class Hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const Og=-1;function Fh(n){return n==null}function fh(n){return n===0&&1/n==-1/0}function AM(n){return typeof n=="number"&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jT="";function RM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=W_(e)),e=kM(n.get(t),e);return W_(e)}function kM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case jT:t+="";break;default:t+=l}}return t}function W_(n){return n+jT+""}function Z_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tt{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new ln(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new $t(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new UT("Invalid base64 string: "+l):l}})(e);return new dn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const LM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=LM.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zs(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}const zT="server_timestamp",BT="__type__",qT="__previous_value__",HT="__local_write_time__";function Dg(n){return(n?.mapValue?.fields||{})[BT]?.stringValue===zT}function Gh(n){const e=n.mapValue.fields[qT];return Dg(e)?Gh(e):e}function Bu(n){const e=Ws(n.mapValue.fields[HT].timestampValue);return new vt(e.seconds,e.nanos)}class IM{constructor(e,t,i,a,l,c,f,p,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=b}}const ph="(default)";class qu{constructor(e,t){this.projectId=e,this.database=t||ph}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}const FT="__type__",NM="__max__",jd={mapValue:{}},GT="__vector__",mh="value";function Js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dg(n)?4:OM(n)?9007199254740991:MM(n)?10:11:Ie(28295,{value:n})}function fi(n,e){if(n===e)return!0;const t=Js(n);if(t!==Js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ws(a.timestampValue),f=Ws(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Zs(a.bytesValue).isEqual(Zs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ot(a.doubleValue),f=Ot(l.doubleValue);return c===f?fh(c)===fh(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Z_(c)!==Z_(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!fi(c[p],f[p])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function Hu(n,e){return(n.values||[]).find((t=>fi(t,e)))!==void 0}function nl(n,e){if(n===e)return 0;const t=Js(n),i=Js(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Ot(l.integerValue||l.doubleValue),p=Ot(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return eE(n.timestampValue,e.timestampValue);case 4:return eE(Bu(n),Bu(e));case 5:return Gm(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Zs(l),p=Zs(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const b=Qe(f[m],p[m]);if(b!==0)return b}return Qe(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Qe(Ot(l.latitude),Ot(c.latitude));return f!==0?f:Qe(Ot(l.longitude),Ot(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tE(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},p=c.fields||{},m=f[mh]?.arrayValue,b=p[mh]?.arrayValue,_=Qe(m?.values?.length||0,b?.values?.length||0);return _!==0?_:tE(m,b)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===jd.mapValue&&c===jd.mapValue)return 0;if(l===jd.mapValue)return 1;if(c===jd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let _=0;_<p.length&&_<b.length;++_){const T=Gm(p[_],b[_]);if(T!==0)return T;const C=nl(f[p[_]],m[b[_]]);if(C!==0)return C}return Qe(p.length,b.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function eE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Ws(n),i=Ws(e),a=Qe(t.seconds,i.seconds);return a!==0?a:Qe(t.nanos,i.nanos)}function tE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=nl(t[a],i[a]);if(l)return l}return Qe(t.length,i.length)}function rl(n){return Km(n)}function Km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Ws(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Km(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Km(t.fields[c])}`;return a+"}"})(n.mapValue):Ie(61005,{value:n})}function Jd(n){switch(Js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(n);return e?16+Jd(e):16;case 5:return 2*n.stringValue.length;case 6:return Zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Jd(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ra(i.fields,((l,c)=>{a+=l.length+Jd(c)})),a})(n.mapValue);default:throw Ie(13486,{value:n})}}function nE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $m(n){return!!n&&"integerValue"in n}function Pg(n){return!!n&&"arrayValue"in n}function rE(n){return!!n&&"nullValue"in n}function iE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function MM(n){return(n?.mapValue?.fields||{})[FT]?.stringValue===GT}function Lu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ra(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Lu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return{...n}}function OM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NM}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=un.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=Lu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];eh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ra(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Dn(Lu(this.value))}}function KT(n){const e=[];return ra(n.fields,((t,i)=>{const a=new un([t]);if(eh(i)){const l=KT(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Jn(e)}class _n{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new _n(e,0,Me.min(),Me.min(),Me.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,a){return new _n(e,1,t,Me.min(),i,a,0)}static newNoDocument(e,t){return new _n(e,2,t,Me.min(),Me.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Me.min(),Me.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,t){this.position=e,this.inclusive=t}}function sE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=nl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function aE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fi(n.position[t],e.position[t]))return!1;return!0}class Fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function DM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class $T{}class Ft extends $T{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new jM(e,t,i):t==="array-contains"?new zM(e,i):t==="in"?new BM(e,i):t==="not-in"?new qM(e,i):t==="array-contains-any"?new HM(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new VM(e,i):new UM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Js(this.value)===Js(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends $T{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return QT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(n){return n.op==="and"}function YT(n){return PM(n)&&QT(n)}function PM(n){for(const e of n.filters)if(e instanceof Nr)return!1;return!0}function Qm(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(YT(n))return n.filters.map((e=>Qm(e))).join(",");{const e=n.filters.map((t=>Qm(t))).join(",");return`${n.op}(${e})`}}function XT(n,e){return n instanceof Ft?(function(i,a){return a instanceof Ft&&i.op===a.op&&i.field.isEqual(a.field)&&fi(i.value,a.value)})(n,e):n instanceof Nr?(function(i,a){return a instanceof Nr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&XT(c,a.filters[f])),!0):!1})(n,e):void Ie(19439)}function WT(n){return n instanceof Ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(n):n instanceof Nr?(function(t){return t.op.toString()+" {"+t.getFilters().map(WT).join(" ,")+"}"})(n):"Filter"}class jM extends Ft{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class VM extends Ft{constructor(e,t){super(e,"in",t),this.keys=ZT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UM extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=ZT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ZT(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class zM extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pg(t)&&Hu(t.arrayValue,this.value)}}class BM extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class qM extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hu(this.value.arrayValue,t)}}class HM extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Hu(this.value.arrayValue,i)))}}class FM{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function oE(n,e=null,t=[],i=[],a=null,l=null,c=null){return new FM(n,e,t,i,a,l,c)}function jg(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Qm(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>rl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>rl(i))).join(",")),e.Te=t}return e.Te}function Vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aE(n.startAt,e.startAt)&&aE(n.endAt,e.endAt)}function Ym(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class hl{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GM(n,e,t,i,a,l,c,f){return new hl(n,e,t,i,a,l,c,f)}function Kh(n){return new hl(n)}function lE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JT(n){return n.collectionGroup!==null}function Iu(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new $t(un.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Fu(l,i))})),t.has(un.keyField().canonicalString())||e.Ie.push(new Fu(un.keyField(),i))}return e.Ie}function ui(n){const e=De(n);return e.Ee||(e.Ee=KM(e,Iu(n))),e.Ee}function KM(n,e){if(n.limitType==="F")return oE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Fu(a.field,l)}));const t=n.endAt?new gh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gh(n.startAt.position,n.startAt.inclusive):null;return oE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Xm(n,e){const t=n.filters.concat([e]);return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Wm(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return Vg(ui(n),ui(e))&&n.limitType===e.limitType}function eS(n){return`${jg(ui(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>WT(a))).join(", ")}]`),Fh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>rl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>rl(a))).join(",")),`Target(${i})`})(ui(n))}; limitType=${n.limitType})`}function Qh(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of Iu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,p){const m=sE(c,f,p);return c.inclusive?m<=0:m<0})(i.startAt,Iu(i),a)||i.endAt&&!(function(c,f,p){const m=sE(c,f,p);return c.inclusive?m>=0:m>0})(i.endAt,Iu(i),a))})(n,e)}function $M(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tS(n){return(e,t)=>{let i=!1;for(const a of Iu(n)){const l=QM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function QM(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?nl(p,m):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:n.dir})}}class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}const YM=new Tt(Ae.comparator);function Wi(){return YM}const nS=new Tt(Ae.comparator);function Su(...n){let e=nS;for(const t of n)e=e.insert(t.key,t);return e}function rS(n){let e=nS;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Pa(){return Nu()}function iS(){return Nu()}function Nu(){return new Ja((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XM=new Tt(Ae.comparator),WM=new $t(Ae.comparator);function Ye(...n){let e=WM;for(const t of n)e=e.add(t);return e}const ZM=new $t(Qe);function JM(){return ZM}function Ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function sS(n){return{integerValue:""+n}}function e2(n,e){return AM(e)?sS(e):Ug(n,e)}class Yh{constructor(){this._=void 0}}function t2(n,e,t){return n instanceof Gu?(function(a,l){const c={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Dg(l)&&(l=Gh(l)),l&&(c.fields[qT]=l),{mapValue:c}})(t,e):n instanceof Ku?oS(n,e):n instanceof $u?lS(n,e):(function(a,l){const c=aS(a,l),f=uE(c)+uE(a.Ae);return $m(c)&&$m(a.Ae)?sS(f):Ug(a.serializer,f)})(n,e)}function n2(n,e,t){return n instanceof Ku?oS(n,e):n instanceof $u?lS(n,e):t}function aS(n,e){return n instanceof vh?(function(i){return $m(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Gu extends Yh{}class Ku extends Yh{constructor(e){super(),this.elements=e}}function oS(n,e){const t=uS(e);for(const i of n.elements)t.some((a=>fi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class $u extends Yh{constructor(e){super(),this.elements=e}}function lS(n,e){let t=uS(e);for(const i of n.elements)t=t.filter((a=>!fi(a,i)));return{arrayValue:{values:t}}}class vh extends Yh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uE(n){return Ot(n.integerValue||n.doubleValue)}function uS(n){return Pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class r2{constructor(e,t){this.field=e,this.transform=t}}function i2(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof Ku&&a instanceof Ku||i instanceof $u&&a instanceof $u?tl(i.elements,a.elements,fi):i instanceof vh&&a instanceof vh?fi(i.Ae,a.Ae):i instanceof Gu&&a instanceof Gu})(n.transform,e.transform)}class s2{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xh{}function cS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zg(n.key,mr.none()):new sc(n.key,n.data,mr.none());{const t=n.data,i=Dn.empty();let a=new $t(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ia(n.key,i,new Jn(a.toArray()),mr.none())}}function a2(n,e,t){n instanceof sc?(function(a,l,c){const f=a.value.clone(),p=dE(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof ia?(function(a,l,c){if(!th(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=dE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(dS(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Mu(n,e,t,i){return n instanceof sc?(function(l,c,f,p){if(!th(l.precondition,c))return f;const m=l.value.clone(),b=hE(l.fieldTransforms,p,c);return m.setAll(b),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof ia?(function(l,c,f,p){if(!th(l.precondition,c))return f;const m=hE(l.fieldTransforms,p,c),b=c.data;return b.setAll(dS(l)),b.setAll(m),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(l,c,f){return th(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function o2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=aS(i.transform,a||null);l!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,l))}return t||null}function cE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&tl(i,a,((l,c)=>i2(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sc extends Xh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends Xh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function dE(n,e,t){const i=new Map;it(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,n2(c,f,t[a]))}return i}function hE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,t2(l,c,e))}return i}class zg extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&a2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Mu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Mu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=iS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const p=cS(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((t,i)=>cE(t,i)))&&tl(this.baseMutations,e.baseMutations,((t,i)=>cE(t,i)))}}class Bg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){it(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return XM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Bg(e,t,i,a)}}class c2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class d2{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,Ze;function h2(n){switch(n){case le.OK:return Ie(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function hS(n){if(n===void 0)return Xi("GRPC error has no .code"),le.UNKNOWN;switch(n){case Ht.OK:return le.OK;case Ht.CANCELLED:return le.CANCELLED;case Ht.UNKNOWN:return le.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return le.INTERNAL;case Ht.UNAVAILABLE:return le.UNAVAILABLE;case Ht.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ht.NOT_FOUND:return le.NOT_FOUND;case Ht.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ht.ABORTED:return le.ABORTED;case Ht.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ht.DATA_LOSS:return le.DATA_LOSS;default:return Ie(39323,{code:n})}}(Ze=Ht||(Ht={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function f2(){return new TextEncoder}const p2=new $s([4294967295,4294967295],0);function fE(n){const e=f2().encode(n),t=new AT;return t.update(e),new Uint8Array(t.digest())}function pE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $s([t,i],0),new $s([a,l],0)]}class qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$s.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply($s.fromNumber(i)));return a.compare(p2)===1&&(a=new $s([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=fE(e),[i,a]=pE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new qg(l,a,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=fE(e),[i,a]=pE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Wh(Me.min(),a,new Tt(Qe),Wi(),Ye())}}class ac{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ac(i,t,Ye(),Ye(),Ye())}}class nh{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class fS{constructor(e,t){this.targetId=e,this.Ce=t}}class pS{constructor(e,t,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class mE{constructor(){this.ve=0,this.Fe=gE(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),t=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new ac(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=gE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=Vd(),this.He=Vd(),this.Ye=new Tt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Ym(l))if(i===0){const c=new Ae(l.path);this.et(t,c,_n.newNoDocument(c,Me.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Zs(i).toUint8Array()}catch(p){if(p instanceof UT)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new qg(c,a,l)}catch(p){return el(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Ym(f.target)){const p=new Ae(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,_n.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Ye();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Wh(e,t,this.Ye,this.je,i);return this.je=Wi(),this.Je=Vd(),this.He=Vd(),this.Ye=new Tt(Qe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new mE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $t(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $t(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Vd(){return new Tt(Ae.comparator)}function gE(){return new Tt(Ae.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},v2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class b2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _2(n,e){return yh(n,e.toTimestamp())}function ci(n){return it(!!n,49232),Me.fromTimestamp((function(t){const i=Ws(t);return new vt(i.seconds,i.nanos)})(n))}function Hg(n,e){return Jm(n,e).canonicalString()}function Jm(n,e){const t=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gS(n){const e=ft.fromString(n);return it(ES(e),10190,{key:e.toString()}),e}function eg(n,e){return Hg(n.databaseId,e.path)}function xm(n,e){const t=gS(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(yS(t))}function vS(n,e){return Hg(n.databaseId,e)}function E2(n){const e=gS(n);return e.length===4?ft.emptyPath():yS(e)}function tg(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yS(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vE(n,e,t){return{name:eg(n,e),fields:t.value.mapValue.fields}}function x2(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,b){return m.useProto3Json?(it(b===void 0||typeof b=="string",58123),dn.fromBase64String(b||"")):(it(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),dn.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const b=m.code===void 0?le.UNKNOWN:hS(m.code);return new ve(b,m.message||"")})(c);t=new pS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=xm(n,i.document.name),l=ci(i.document.updateTime),c=i.document.createTime?ci(i.document.createTime):Me.min(),f=new Dn({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(a,l,c,f),m=i.targetIds||[],b=i.removedTargetIds||[];t=new nh(m,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=xm(n,i.document),l=i.readTime?ci(i.readTime):Me.min(),c=_n.newNoDocument(a,l),f=i.removedTargetIds||[];t=new nh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=xm(n,i.document),l=i.removedTargetIds||[];t=new nh([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new d2(a,l),f=i.targetId;t=new fS(f,c)}}return t}function w2(n,e){let t;if(e instanceof sc)t={update:vE(n,e.key,e.value)};else if(e instanceof zg)t={delete:eg(n,e.key)};else if(e instanceof ia)t={update:vE(n,e.key,e.data),updateMask:N2(e.fieldMask)};else{if(!(e instanceof l2))return Ie(16599,{Vt:e.type});t={verify:eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:_2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(n,e.precondition)),t}function T2(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?ci(a.updateTime):ci(l);return c.isEqual(Me.min())&&(c=ci(l)),new s2(c,a.transformResults||[])})(t,e)))):[]}function S2(n,e){return{documents:[vS(n,e.path)]}}function C2(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=vS(n,a);const l=(function(m){if(m.length!==0)return _S(Nr.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((b=>(function(T){return{field:Ko(T.field),direction:k2(T.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Zm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function A2(n){let e=E2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){it(i===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(_){const T=bS(_);return T instanceof Nr&&YT(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((T=>(function(R){return new Fu($o(R.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let T;return T=typeof _=="object"?_.value:_,Fh(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(_){const T=!!_.before,C=_.values||[];return new gh(C,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const T=!_.before,C=_.values||[];return new gh(C,T)})(t.endAt)),GM(e,a,c,l,f,"F",p,m)}function R2(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=$o(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=$o(t.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(t.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ft.create($o(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nr.create(t.compositeFilter.filters.map((i=>bS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function k2(n){return g2[n]}function L2(n){return v2[n]}function I2(n){return y2[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function $o(n){return un.fromServerFormat(n.fieldPath)}function _S(n){return n instanceof Ft?(function(t){if(t.op==="=="){if(iE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(rE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(rE(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:L2(t.op),value:t.value}}})(n):n instanceof Nr?(function(t){const i=t.getFilters().map((a=>_S(a)));return i.length===1?i[0]:{compositeFilter:{op:I2(t.op),filters:i}}})(n):Ie(54877,{filter:n})}function N2(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ES(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Fs{constructor(e,t,i,a,l=Me.min(),c=Me.min(),f=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M2{constructor(e){this.yt=e}}function O2(n){const e=A2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wm(e,e.limit,"L"):e}class D2{constructor(){this.Cn=new P2}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Xs.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class P2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $t(ft.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(ft.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(xS,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const bE="LruGarbageCollector",j2=1048576;function _E([n,e],[t,i]){const a=Qe(n,t);return a===0?Qe(e,i):a}class V2{constructor(e){this.Ir=e,this.buffer=new $t(_E),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();_E(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(bE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?be(bE,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.Vr(3e5)}))}}class z2{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Hh.ce);const i=new V2(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(yE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,f,p,m;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,t)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(m=Date.now(),Fo()<=$e.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function B2(n,e){return new z2(n,e)}class q2{constructor(){this.changes=new Ja((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class H2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class F2{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Mu(i.mutation,a,Jn.empty(),vt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ye()){const a=Pa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Su();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Pa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ye())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,a){let l=Wi();const c=Nu(),f=(function(){return Nu()})();return t.forEach(((p,m)=>{const b=i.get(m.key);a.has(m.key)&&(b===void 0||b.mutation instanceof ia)?l=l.insert(m.key,m):b!==void 0?(c.set(m.key,b.mutation.getFieldMask()),Mu(b.mutation,m,b.mutation.getFieldMask(),vt.now())):c.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,b)=>c.set(m,b))),t.forEach(((m,b)=>f.set(m,new H2(b,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Nu();let a=new Tt(((c,f)=>c-f)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let b=i.get(p)||Jn.empty();b=f.applyToLocalView(m,b),i.set(p,b);const _=(a.get(f.batchId)||Ye()).add(p);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,b=p.value,_=iS();b.forEach((T=>{if(!l.has(T)){const C=cS(t.get(T),i.get(T));C!==null&&_.set(T,C),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ce.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ce.resolve(Pa());let f=zu,p=l;return c.next((m=>ce.forEach(m,((b,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(e,b).next((T=>{p=p.insert(b,T)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Ye()))).next((b=>({batchId:f,changes:rS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((i=>{let a=Su();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,l).next((f=>ce.forEach(f,(p=>{const m=(function(_,T){return new hl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((b=>{b.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,m)=>{const b=m.getKey();c.get(b)===null&&(c=c.insert(b,_n.newInvalidDocument(b)))}));let f=Su();return c.forEach(((p,m)=>{const b=l.get(p);b!==void 0&&Mu(b.mutation,m,Jn.empty(),vt.now()),Qh(t,m)&&(f=f.insert(p,m))})),f}))}}class G2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ci(a.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:O2(a.bundledQuery),readTime:ci(a.readTime)}})(t)),ce.resolve()}}class K2{constructor(){this.overlays=new Tt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Pa();return ce.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const a=Pa(),l=t.length+1,c=new Ae(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Tt(((m,b)=>m-b));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let b=l.get(m.largestBatchId);b===null&&(b=Pa(),l=l.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const f=Pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,b)=>f.set(m,b))),!(f.size()>=a)););return ce.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new c2(t,i));let l=this.qr.get(t);l===void 0&&(l=Ye(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class $2{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}class Fg{constructor(){this.Qr=new $t(en.$r),this.Ur=new $t(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new en(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ae(new ft([])),i=new en(t,e),a=new en(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ft([])),i=new en(t,e),a=new en(t,e+1);let l=Ye();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new en(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}class Q2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $t(en.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new u2(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new en(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new en(t,0),a=new en(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(Qe);return t.forEach((a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),ce.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new en(new Ae(l),0);let f=new $t(Qe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Yr)),!0)}),c),ce.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){it(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ce.forEach(t.mutations,(a=>{const l=new en(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new en(t,0),a=this.Zr.firstAfterOrEqual(i);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Y2{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Wi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Wi();const c=t.path,f=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:b}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||wM(xM(b),i)<=0||(a.has(b.key)||Qh(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ie(9500)}ii(e,t){return ce.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new X2(this)}getSize(e){return ce.resolve(this.size)}}class X2 extends q2{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class W2{constructor(e){this.persistence=e,this.si=new Ja((t=>jg(t)),Vg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}class wS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new $2,this.referenceDelegate=e(this),this.Pi=new W2(this),this.indexManager=new D2,this.remoteDocumentCache=(function(a){return new Y2(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new M2(t),this.Ii=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Q2(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){be("MemoryPersistence","Starting transaction:",e);const a=new Z2(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ce.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Z2 extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(i=>{const a=Ae.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.pi=new Ja((i=>RM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=B2(this,t)}static mi(e,t){return new bh(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ce.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ce.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jd(e.data.value)),t}br(e,t,i){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ye(),a=Ye();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Kg(e,t.fromCache,i,a)}}class J2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ck()?8:CM(En())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new J2;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Fo()<=$e.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Fo()<=$e.DEBUG&&be("QueryEngine","Query:",Go(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Fo()<=$e.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):ce.resolve())}ys(e,t){if(lE(t))return ce.resolve(null);let i=ui(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Wm(t,null,"F"),i=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const m=this.Ds(t,f);return this.Cs(t,m,c,p.readTime)?this.ys(e,Wm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,i,a){return lE(t)||a.isEqual(Me.min())?ce.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?ce.resolve(null):(Fo()<=$e.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(t)),this.vs(e,c,t,EM(a,zu)).next((f=>f)))}))}Ds(e,t){let i=new $t(tS(e));return t.forEach(((a,l)=>{Qh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Fo()<=$e.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ps.getDocumentsMatchingQuery(e,t,Xs.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const $g="LocalStore",tO=3e8;class nO{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Tt(Qe),this.xs=new Ja((l=>jg(l)),Vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function rO(n,e,t,i){return new nO(n,e,t,i)}async function TS(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=Ye();for(const m of a){c.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}for(const m of l){f.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(i,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function iO(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,b){const _=m.batch,T=_.keys();let C=ce.resolve();return T.forEach((R=>{C=C.next((()=>b.getEntry(p,R))).next((O=>{const L=m.docVersions.get(R);it(L!==null,48541),O.version.compareTo(L)<0&&(_.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),b.addEntry(O)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ye();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function SS(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function sO(n,e){const t=De(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((b,_)=>{const T=a.get(_);if(!T)return;f.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,b.addedDocuments,_))));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(dn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):b.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(b.resumeToken,i)),a=a.insert(_,C),(function(O,L,z){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=tO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,C,b)&&f.push(t.Pi.updateTargetData(l,C))}));let p=Wi(),m=Ye();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),f.push(aO(l,c,e.documentUpdates).next((b=>{p=b.ks,m=b.qs}))),!i.isEqual(Me.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(b)}return ce.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function aO(n,e,t){let i=Ye(),a=Ye();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Wi();return t.forEach(((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):be($g,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function oO(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Og),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function lO(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,ce.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new Fs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function ng(n,e,t){const i=De(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!dl(c))throw c;be($g,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function EE(n,e,t){const i=De(n);let a=Me.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,b){const _=De(p),T=_.xs.get(b);return T!==void 0?ce.resolve(_.Ms.get(T)):_.Pi.getTargetData(m,b)})(i,c,ui(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Me.min(),t?l:Ye()))).next((f=>(uO(i,$M(e),f),{documents:f,Qs:l})))))}function uO(n,e,t){let i=n.Os.get(e)||Me.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class xE{constructor(){this.activeTargetIds=JM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cO{constructor(){this.Mo=new xE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dO{Oo(e){}shutdown(){}}const wE="ConnectivityMonitor";class TE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(wE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ud=null;function rg(){return Ud===null?Ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ud++,"0x"+Ud.toString(16)}const wm="RestConnection",hO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===ph?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=rg(),f=this.zo(e,t.toUriEncodedString());be(wm,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:m}=new URL(f),b=na(m);return this.Jo(e,f,p,i,b).then((_=>(be(wm,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw el(wm,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=hO[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class pO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class mO extends fO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=rg();return new Promise(((f,p)=>{const m=new RT;m.setWithCredentials(!0),m.listenOnce(kT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Zd.NO_ERROR:const _=m.getResponseJson();be(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Zd.TIMEOUT:be(vn,`RPC '${e}' ${c} timed out`),p(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const T=m.getStatus();if(be(vn,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C?.error;if(R&&R.status&&R.message){const O=(function(z){const B=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(B)>=0?B:le.UNKNOWN})(R.status);p(new ve(O,R.message))}else p(new ve(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{be(vn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);be(vn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",b,i,15)}))}T_(e,t,i){const a=rg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=NT(),f=IT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const b=l.join("");be(vn,`Creating RPC '${e}' stream ${a}: ${b}`,p);const _=c.createWebChannel(b,p);this.I_(_);let T=!1,C=!1;const R=new pO({Yo:L=>{C?be(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(T||(be(vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),be(vn,`RPC '${e}' stream ${a} sending:`,L),_.send(L))},Zo:()=>_.close()}),O=(L,z,B)=>{L.listen(z,(Q=>{try{B(Q)}catch(H){setTimeout((()=>{throw H}),0)}}))};return O(_,Tu.EventType.OPEN,(()=>{C||(be(vn,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),O(_,Tu.EventType.CLOSE,(()=>{C||(C=!0,be(vn,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(_))})),O(_,Tu.EventType.ERROR,(L=>{C||(C=!0,el(vn,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),R.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),O(_,Tu.EventType.MESSAGE,(L=>{if(!C){const z=L.data[0];it(!!z,16349);const B=z,Q=B?.error||B[0]?.error;if(Q){be(vn,`RPC '${e}' stream ${a} received error:`,Q);const H=Q.status;let F=(function(N){const A=Ht[N];if(A!==void 0)return hS(A)})(H),Z=Q.message;F===void 0&&(F=le.INTERNAL,Z="Unknown error status: "+H+" with message "+Q.message),C=!0,R.a_(new ve(F,Z)),_.close()}else be(vn,`RPC '${e}' stream ${a} received:`,z),R.u_(z)}})),O(f,LT.STAT_EVENT,(L=>{L.stat===Fm.PROXY?be(vn,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===Fm.NOPROXY&&be(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Tm(){return typeof document<"u"?document:null}function Zh(n){return new b2(n,!0)}class CS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const SE="PersistentStream";class AS{constructor(e,t,i,a,l,c,f,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Xi(t.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ve(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(be(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gO extends AS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=x2(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?ci(c.readTime):Me.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=tg(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=Ym(p)?{documents:S2(l,p)}:{query:C2(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=mS(l,c.resumeToken);const m=Zm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=yh(l,c.snapshotVersion.toTimestamp());const m=Zm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=R2(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=tg(this.serializer),t.removeTarget=e,this.q_(t)}}class vO extends AS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=T2(e.writeResults,e.commitTime),i=ci(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=tg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>w2(this.serializer,i)))};this.q_(t)}}class yO{}class bO extends yO{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Jm(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(le.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Jm(t,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(t),this.aa=!1):be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class EO{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{eo(this)&&(be(Ka,"Restarting streams for network reachability change."),await(async function(p){const m=De(p);m.Ea.add(4),await oc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Jh(m)})(this))}))})),this.Ra=new _O(i,a)}}async function Jh(n){if(eo(n))for(const e of n.da)await e(!0)}async function oc(n){for(const e of n.da)await e(!1)}function RS(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wg(t)?Xg(t):fl(t).O_()&&Yg(t,e))}function Qg(n,e){const t=De(n),i=fl(t);t.Ia.delete(e),i.O_()&&kS(t,e),t.Ia.size===0&&(i.O_()?i.L_():eo(t)&&t.Ra.set("Unknown"))}function Yg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(n).Y_(e)}function kS(n,e){n.Va.Ue(e),fl(n).Z_(e)}function Xg(n){n.Va=new m2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.Ra.ua()}function Wg(n){return eo(n)&&!fl(n).x_()&&n.Ia.size>0}function eo(n){return De(n).Ea.size===0}function LS(n){n.Va=void 0}async function xO(n){n.Ra.set("Online")}async function wO(n){n.Ia.forEach(((e,t)=>{Yg(n,e)}))}async function TO(n,e){LS(n),Wg(n)?(n.Ra.ha(e),Xg(n)):n.Ra.set("Unknown")}async function SO(n,e,t){if(n.Ra.set("Online"),e instanceof pS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(i){be(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _h(n,i)}else if(e instanceof nh?n.Va.Ze(e):e instanceof fS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Me.min()))try{const i=await SS(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.Ia.get(m);b&&l.Ia.set(m,b.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,m)=>{const b=l.Ia.get(p);if(!b)return;l.Ia.set(p,b.withResumeToken(dn.EMPTY_BYTE_STRING,b.snapshotVersion)),kS(l,p);const _=new Fs(b.target,p,m,b.sequenceNumber);Yg(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){be(Ka,"Failed to raise snapshot:",i),await _h(n,i)}}async function _h(n,e,t){if(!dl(e))throw e;n.Ea.add(1),await oc(n),n.Ra.set("Offline"),t||(t=()=>SS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{be(Ka,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Jh(n)}))}function IS(n,e){return e().catch((t=>_h(n,t,e)))}async function ef(n){const e=De(n),t=ea(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;CO(e);)try{const a=await oO(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,AO(e,a)}catch(a){await _h(e,a)}NS(e)&&MS(e)}function CO(n){return eo(n)&&n.Ta.length<10}function AO(n,e){n.Ta.push(e);const t=ea(n);t.O_()&&t.X_&&t.ea(e.mutations)}function NS(n){return eo(n)&&!ea(n).x_()&&n.Ta.length>0}function MS(n){ea(n).start()}async function RO(n){ea(n).ra()}async function kO(n){const e=ea(n);for(const t of n.Ta)e.ea(t.mutations)}async function LO(n,e,t){const i=n.Ta.shift(),a=Bg.from(i,e,t);await IS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await ef(n)}async function IO(n,e){e&&ea(n).X_&&await(async function(i,a){if((function(c){return h2(c)&&c!==le.ABORTED})(a.code)){const l=i.Ta.shift();ea(i).B_(),await IS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await ef(i)}})(n,e),NS(n)&&MS(n)}async function CE(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),be(Ka,"RemoteStore received new credentials");const i=eo(t);t.Ea.add(3),await oc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Jh(t)}async function NO(n,e){const t=De(n);e?(t.Ea.delete(2),await Jh(t)):e||(t.Ea.add(2),await oc(t),t.Ra.set("Unknown"))}function fl(n){return n.ma||(n.ma=(function(t,i,a){const l=De(t);return l.sa(),new gO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:xO.bind(null,n),t_:wO.bind(null,n),r_:TO.bind(null,n),H_:SO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Wg(n)?Xg(n):n.Ra.set("Unknown")):(await n.ma.stop(),LS(n))}))),n.ma}function ea(n){return n.fa||(n.fa=(function(t,i,a){const l=De(t);return l.sa(),new vO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:RO.bind(null,n),r_:IO.bind(null,n),ta:kO.bind(null,n),na:LO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ef(n)):(await n.fa.stop(),n.Ta.length>0&&(be(Ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Zg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new Zg(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,e){if(Xi("AsyncQueue",`${e}: ${n}`),dl(n))return new ve(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=Su(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class AE{constructor(){this.ga=new Tt(Ae.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class sl{constructor(e,t,i,a,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new sl(e,t,Zo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class MO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OO{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=De(t),l=a.queries;a.queries=RE(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function RE(){return new Ja((n=>eS(n)),$h)}async function ev(n,e){const t=De(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new MO,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Jg(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&nv(t)}async function tv(n,e){const t=De(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function DO(n,e){const t=De(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&nv(t)}function PO(n,e,t){const i=De(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function nv(n){n.Ca.forEach((e=>{e.next()}))}var ig,kE;(kE=ig||(ig={})).Ma="default",kE.Cache="cache";class rv{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ig.Cache}}class OS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class jO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=tS(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new AE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,_)=>{const T=a.get(b),C=Qh(this.query,_)?_:null,R=!!T&&this.mutatedKeys.has(T.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;T&&C?T.data.isEqual(C.data)?R!==O&&(i.track({type:3,doc:C}),L=!0):this.su(T,C)||(i.track({type:2,doc:C}),L=!0,(p&&this.eu(C,p)>0||m&&this.eu(C,m)<0)&&(f=!0)):!T&&C?(i.track({type:0,doc:C}),L=!0):T&&!C&&(i.track({type:1,doc:T}),L=!0,(p||m)&&(f=!0)),L&&(C?(c=c.add(C),l=O?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,_)=>(function(C,R){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:L})}};return O(C)-O(R)})(b.type,_.type)||this.eu(b.doc,_.doc))),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new DS(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new OS(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ye();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iv="SyncEngine";class VO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UO{constructor(e){this.key=e,this.hu=!1}}class zO{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ja((f=>eS(f)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Ae.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BO(n,e,t=!0){const i=BS(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PS(i,e,t,!0),a}async function qO(n,e){const t=BS(n);await PS(t,e,!0,!1)}async function PS(n,e,t,i){const a=await lO(n.localStore,ui(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await HO(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&RS(n.remoteStore,a),f}async function HO(n,e,t,i,a){n.pu=(_,T,C)=>(async function(O,L,z,B){let Q=L.view.ru(z);Q.Cs&&(Q=await EE(O.localStore,L.query,!1).then((({documents:k})=>L.view.ru(k,Q))));const H=B&&B.targetChanges.get(L.targetId),F=B&&B.targetMismatches.get(L.targetId)!=null,Z=L.view.applyChanges(Q,O.isPrimaryClient,H,F);return IE(O,L.targetId,Z.au),Z.snapshot})(n,_,T,C);const l=await EE(n.localStore,e,!0),c=new jO(e,l.Qs),f=c.ru(l.documents),p=ac.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,p);IE(n,t,m.au);const b=new VO(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function FO(n,e,t){const i=De(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!$h(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ng(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Qg(i.remoteStore,a.targetId),sg(i,a.targetId)})).catch(cl)):(sg(i,a.targetId),await ng(i.localStore,a.targetId,!0))}async function GO(n,e){const t=De(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qg(t.remoteStore,i.targetId))}async function KO(n,e,t){const i=JO(n);try{const a=await(function(c,f){const p=De(c),m=vt.now(),b=f.reduce(((C,R)=>C.add(R.key)),Ye());let _,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let R=Wi(),O=Ye();return p.Ns.getEntries(C,b).next((L=>{R=L,R.forEach(((z,B)=>{B.isValidDocument()||(O=O.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,R))).next((L=>{_=L;const z=[];for(const B of f){const Q=o2(B,_.get(B.key).overlayedDocument);Q!=null&&z.push(new ia(B.key,Q,KT(Q.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,z,f)})).next((L=>{T=L;const z=L.applyToLocalDocumentSet(_,O);return p.documentOverlayCache.saveOverlays(C,L.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:rS(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new Tt(Qe)),m=m.insert(f,p),c.Vu[c.currentUser.toKey()]=m})(i,a.batchId,t),await lc(i,a.changes),await ef(i.remoteStore)}catch(a){const l=Jg(a,"Failed to persist write");t.reject(l)}}async function jS(n,e){const t=De(n);try{const i=await sO(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?it(c.hu,14607):a.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))})),await lc(t,i,e)}catch(i){await cl(i)}}function LE(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const p=De(c);p.onlineState=f;let m=!1;p.queries.forEach(((b,_)=>{for(const T of _.Sa)T.va(f)&&(m=!0)})),m&&nv(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $O(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Tt(Ae.comparator);c=c.insert(l,_n.newNoDocument(l,Me.min()));const f=Ye().add(l),p=new Wh(Me.min(),new Map,new Tt(Qe),c,f);await jS(i,p),i.du=i.du.remove(l),i.Au.delete(e),sv(i)}else await ng(i.localStore,e,!1).then((()=>sg(i,e,t))).catch(cl)}async function QO(n,e){const t=De(n),i=e.batch.batchId;try{const a=await iO(t.localStore,e);US(t,i,null),VS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await lc(t,a)}catch(a){await cl(a)}}async function YO(n,e,t){const i=De(n);try{const a=await(function(c,f){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return p.mutationQueue.lookupMutationBatch(m,f).next((_=>(it(_!==null,37113),b=_.keys(),p.mutationQueue.removeMutationBatch(m,_)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,b,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>p.localDocuments.getDocuments(m,b)))}))})(i.localStore,e);US(i,e,t),VS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await lc(i,a)}catch(a){await cl(a)}}function VS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function US(n,e,t){const i=De(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function sg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||zS(n,i)}))}function zS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Qg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sv(n))}function IE(n,e,t){for(const i of t)i instanceof OS?(n.Ru.addReference(i.key,e),XO(n,i)):i instanceof DS?(be(iv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||zS(n,i.key)):Ie(19791,{wu:i})}function XO(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(be(iv,"New document in limbo: "+t),n.Eu.add(i),sv(n))}function sv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ft.fromString(e)),i=n.fu.next();n.Au.set(i,new UO(t)),n.du=n.du.insert(t,i),RS(n.remoteStore,new Fs(ui(Kh(t.path)),i,"TargetPurposeLimboResolution",Hh.ce))}}async function lc(n,e,t){const i=De(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const b=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){a.push(m);const b=Kg.As(p.targetId,m);l.push(b)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(p,m){const b=De(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ce.forEach(m,(T=>ce.forEach(T.Es,(C=>b.persistence.referenceDelegate.addReference(_,T.targetId,C))).next((()=>ce.forEach(T.ds,(C=>b.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))))))}catch(_){if(!dl(_))throw _;be($g,"Failed to update sequence numbers: "+_)}for(const _ of m){const T=_.targetId;if(!_.fromCache){const C=b.Ms.get(T),R=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(R);b.Ms=b.Ms.insert(T,O)}}})(i.localStore,l))}async function WO(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){be(iv,"User change. New user:",e.toKey());const i=await TS(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ve(le.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lc(t,i.Ls)}}function ZO(n,e){const t=De(n),i=t.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function BS(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$O.bind(null,e),e.Pu.H_=DO.bind(null,e.eventManager),e.Pu.yu=PO.bind(null,e.eventManager),e}function JO(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YO.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rO(this.persistence,new eO,e.initialUser,this.serializer)}Cu(e){return new wS(Gg.mi,this.serializer)}Du(e){return new cO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class eD extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof bh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U2(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new wS((i=>bh.mi(i,t)),this.serializer)}}class ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OO})()}createDatastore(e){const t=Zh(e.databaseInfo.databaseId),i=(function(l){return new mO(l)})(e.databaseInfo);return(function(l,c,f,p){return new bO(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,f){return new EO(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>LE(this.syncEngine,t,0)),(function(){return TE.v()?new TE:new dO})())}createSyncEngine(e,t){return(function(a,l,c,f,p,m,b){const _=new zO(a,l,c,f,p,m);return b&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=De(t);be(Ka,"RemoteStore shutting down."),i.Ea.add(5),await oc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ag.provider={build:()=>new ag};class av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ta="FirestoreClient";class tD{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{be(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(be(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Jg(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Sm(n,e){n.asyncQueue.verifyOperationInProgress(),be(ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await TS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function NE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nD(n);be(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>CE(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>CE(e.remoteStore,a))),n._onlineComponents=e}async function nD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(ta,"Using user provided OfflineComponentProvider");try{await Sm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await Sm(n,new Eh)}}else be(ta,"Using default OfflineComponentProvider"),await Sm(n,new eD(void 0));return n._offlineComponents}async function qS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(ta,"Using user provided OnlineComponentProvider"),await NE(n,n._uninitializedComponentsProvider._online)):(be(ta,"Using default OnlineComponentProvider"),await NE(n,new ag))),n._onlineComponents}function rD(n){return qS(n).then((e=>e.syncEngine))}async function xh(n){const e=await qS(n),t=e.eventManager;return t.onListen=BO.bind(null,e.syncEngine),t.onUnlisten=FO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GO.bind(null,e.syncEngine),t}function iD(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const b=new av({next:T=>{b.Nu(),c.enqueueAndForget((()=>tv(l,_)));const C=T.docs.has(f);!C&&T.fromCache?m.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?m.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),_=new rv(Kh(f.path),b,{includeMetadataChanges:!0,qa:!0});return ev(l,_)})(await xh(n),n.asyncQueue,e,t,i))),i.promise}function sD(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const b=new av({next:T=>{b.Nu(),c.enqueueAndForget((()=>tv(l,_))),T.fromCache&&p.source==="server"?m.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),_=new rv(f,b,{includeMetadataChanges:!0,qa:!0});return ev(l,_)})(await xh(n),n.asyncQueue,e,t,i))),i.promise}function HS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const ME=new Map;const FS="firestore.googleapis.com",OE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=OE}else this.host=e.host,this.ssl=e.ssl??OE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new cM;switch(i.type){case"firstParty":return new pM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=ME.get(t);i&&(be("ComponentProvider","Removing Datastore"),ME.delete(t),i.terminate())})(this),Promise.resolve()}}function aD(n,e,t,i={}){n=Pn(n,tf);const a=na(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(bg(`https://${f}`),_g("Firestore",!0)),l.host!==FS&&l.host!==f&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:i};if(!Ba(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,b;if(typeof i.mockUserToken=="string")m=i.mockUserToken,b=bn.MOCK_USER;else{m=Bw(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new bn(_)}n._authCredentials=new dM(new OT(m,b))}}class sa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Rt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ic(t,Rt._jsonSchema))return new Rt(e,i||null,new Ae(ft.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Gt("string",Rt._jsonSchemaVersion),referencePath:Gt("string")};class Qs extends sa{constructor(e,t,i){super(e,t,Kh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new Ae(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function $a(n,e,...t){if(n=Et(n),DT("collection","path",e),n instanceof tf){const i=ft.fromString(e,...t);return Q_(i),new Qs(n,null,i)}{if(!(n instanceof Rt||n instanceof Qs))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return Q_(i),new Qs(n.firestore,null,i)}}function Lr(n,e,...t){if(n=Et(n),arguments.length===1&&(e=Mg.newId()),DT("doc","path",e),n instanceof tf){const i=ft.fromString(e,...t);return $_(i),new Rt(n,null,new Ae(i))}{if(!(n instanceof Rt||n instanceof Qs))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return $_(i),new Rt(n.firestore,n instanceof Qs?n.converter:null,new Ae(i))}}const PE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CS(this,"async_queue_retry"),this._c=()=>{const i=Tm();i&&be(PE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;be(PE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",VE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Zg.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function VE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function UE(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Zi extends tf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new jE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function oD(n,e){const t=typeof n=="object"?n:wg(),i=typeof n=="string"?n:ph,a=Vh(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Vw("firestore");l&&aD(a,...l)}return a}function nf(n){if(n._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lD(n),n._firestoreClient}function lD(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new IM(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,HS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(dn.fromBase64String(e))}catch(t){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ic(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Gt("string",pr._jsonSchemaVersion),bytes:Gt("string")};class rf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sf{constructor(e){this._methodName=e}}class di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(ic(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Gt("string",di._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class hi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ic(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hi(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Gt("string",hi._jsonSchemaVersion),vectorValues:Gt("object")};const uD=/^__.*__$/;class cD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}class GS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class ov{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ov({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KS(this.Ac)&&uD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zh(e)}Cc(e,t,i,a=!1){return new ov({Ac:e,methodName:t,Dc:i,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(n){const e=n._freezeSettings(),t=Zh(n._databaseId);return new dD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $S(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);uv("Data must be an object, but it was:",c,i);const f=QS(i,c);let p,m;if(l.merge)p=new Jn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const _ of l.mergeFields){const T=og(e,_,t);if(!c.contains(T))throw new ve(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);XS(b,T)||b.push(T)}p=new Jn(b),m=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,m=c.fieldTransforms;return new cD(new Dn(f),p,m)}class of extends sf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}class lv extends sf{_toFieldTransform(e){return new r2(e.path,new Gu)}isEqual(e){return e instanceof lv}}function hD(n,e,t,i){const a=n.Cc(1,e,t);uv("Data must be an object, but it was:",a,i);const l=[],c=Dn.empty();ra(i,((p,m)=>{const b=cv(e,p,t);m=Et(m);const _=a.yc(b);if(m instanceof of)l.push(b);else{const T=uc(m,_);T!=null&&(l.push(b),c.set(b,T))}}));const f=new Jn(l);return new GS(c,f,a.fieldTransforms)}function fD(n,e,t,i,a,l){const c=n.Cc(1,e,t),f=[og(e,i,t)],p=[a];if(l.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(og(e,l[T])),p.push(l[T+1]);const m=[],b=Dn.empty();for(let T=f.length-1;T>=0;--T)if(!XS(m,f[T])){const C=f[T];let R=p[T];R=Et(R);const O=c.yc(C);if(R instanceof of)m.push(C);else{const L=uc(R,O);L!=null&&(m.push(C),b.set(C,L))}}const _=new Jn(m);return new GS(b,_,c.fieldTransforms)}function pD(n,e,t,i=!1){return uc(t,n.Cc(i?4:3,e))}function uc(n,e){if(YS(n=Et(n)))return uv("Unsupported field value:",e,n),QS(n,e);if(n instanceof sf)return(function(i,a){if(!KS(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let p=uc(f,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=Et(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return e2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=vt.fromDate(i);return{timestampValue:yh(a.serializer,l)}}if(i instanceof vt){const l=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pr)return{bytesValue:mS(a.serializer,i._byteString)};if(i instanceof Rt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof hi)return(function(c,f){return{mapValue:{fields:{[FT]:{stringValue:GT},[mh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ug(f.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${qh(i)}`)})(n,e)}function QS(n,e){const t={};return VT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(n,((i,a)=>{const l=uc(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function YS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof di||n instanceof pr||n instanceof Rt||n instanceof sf||n instanceof hi)}function uv(n,e,t){if(!YS(t)||!PT(t)){const i=qh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function og(n,e,t){if((e=Et(e))instanceof rf)return e._internalPath;if(typeof e=="string")return cv(n,e);throw wh("Field path arguments must be of type string or ",n,!1,void 0,t)}const mD=new RegExp("[~\\*/\\[\\]]");function cv(n,e,t){if(e.search(mD)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rf(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new ve(le.INVALID_ARGUMENT,f+n+p)}function XS(n,e){return n.some((t=>t.isEqual(e)))}class WS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gD extends WS{data(){return super.data()}}function lf(n,e){return typeof e=="string"?cv(n,e):e instanceof rf?e._internalPath:e._delegate._internalPath}function ZS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dv{}class JS extends dv{}function uf(n,e,...t){let i=[];e instanceof dv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof hv)).length,f=l.filter((p=>p instanceof cf)).length;if(c>1||c>0&&f>0)throw new ve(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class cf extends JS{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cf(e,t,i)}_apply(e){const t=this._parse(e);return tC(e._query,t),new sa(e.firestore,e.converter,Xm(e._query,t))}_parse(e){const t=af(e.firestore);return(function(l,c,f,p,m,b,_){let T;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ve(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){BE(_,b);const R=[];for(const O of _)R.push(zE(p,l,O));T={arrayValue:{values:R}}}else T=zE(p,l,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||BE(_,b),T=pD(f,c,_,b==="in"||b==="not-in");return Ft.create(m,b,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function eC(n,e,t){const i=e,a=lf("where",n);return cf._create(a,i,t)}class hv extends dv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const p of f)tC(c,p),c=Xm(c,p)})(e._query,t),new sa(e.firestore,e.converter,Xm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fv extends JS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fv(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(l,c)})(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new hl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function vD(n,e="asc"){const t=e,i=lf("orderBy",n);return fv._create(i,t)}function zE(n,e,t){if(typeof(t=Et(t))=="string"){if(t==="")throw new ve(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JT(e)&&t.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ft.fromString(t));if(!Ae.isDocumentKey(i))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nE(n,new Ae(i))}if(t instanceof Rt)return nE(n,t._key);throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(t)}.`)}function BE(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tC(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yD{convertValue(e,t="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ra(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[mh].arrayValue?.values?.map((i=>Ot(i.doubleValue)));return new hi(t)}convertGeoPoint(e){return new di(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Gh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ft.fromString(e);it(ES(i),9688,{name:e});const a=new qu(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(t)||Xi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function nC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends WS{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Gt("string",Va._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class rh extends Va{data(e={}){return super.data(e)}}class Ua{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new rh(this._firestore,this._userDataWriter,i.key,i,new Au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const p=new rh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new rh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,b=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),b=c.indexOf(f.doc.key)),{type:bD(f.type),doc:p,oldIndex:m,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}function _D(n){n=Pn(n,Rt);const e=Pn(n.firestore,Zi);return iD(nf(e),n._key).then((t=>sC(e,n,t)))}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:Gt("string",Ua._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class pv extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function mv(n){n=Pn(n,sa);const e=Pn(n.firestore,Zi),t=nf(e),i=new pv(e);return ZS(n._query),sD(t,n._query).then((a=>new Ua(e,i,n,a)))}function Th(n,e,t){n=Pn(n,Rt);const i=Pn(n.firestore,Zi),a=nC(n.converter,e,t);return df(i,[$S(af(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,mr.none())])}function qE(n,e,t,...i){n=Pn(n,Rt);const a=Pn(n.firestore,Zi),l=af(a);let c;return c=typeof(e=Et(e))=="string"||e instanceof rf?fD(l,"updateDoc",n._key,e,t,i):hD(l,"updateDoc",n._key,e),df(a,[c.toMutation(n._key,mr.exists(!0))])}function rC(n){return df(Pn(n.firestore,Zi),[new zg(n._key,mr.none())])}function iC(n,e){const t=Pn(n.firestore,Zi),i=Lr(n),a=nC(n.converter,e);return df(t,[$S(af(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,mr.exists(!1))]).then((()=>i))}function gv(n,...e){n=Et(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||UE(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(UE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,f;if(n instanceof Rt)c=Pn(n.firestore,Zi),f=Kh(n._key.path),l={next:p=>{e[i]&&e[i](sC(c,n,p))},error:e[i+1],complete:e[i+2]};else{const p=Pn(n,sa);c=Pn(p.firestore,Zi),f=p._query;const m=new pv(c);l={next:b=>{e[i]&&e[i](new Ua(c,m,p,b))},error:e[i+1],complete:e[i+2]},ZS(n._query)}return(function(m,b,_,T){const C=new av(T),R=new rv(b,C,_);return m.asyncQueue.enqueueAndForget((async()=>ev(await xh(m),R))),()=>{C.Nu(),m.asyncQueue.enqueueAndForget((async()=>tv(await xh(m),R)))}})(nf(c),f,a,l)}function df(n,e){return(function(i,a){const l=new Ki;return i.asyncQueue.enqueueAndForget((async()=>KO(await rD(i),a,l))),l.promise})(nf(n),e)}function sC(n,e,t){const i=t.docs.get(e._key),a=new pv(n);return new Va(n,a,e._key,i,new Au(t.hasPendingWrites,t.fromCache),e.converter)}function ED(){return new lv("serverTimestamp")}(function(e,t=!0){(function(a){ul=a})(Wa),qa(new Ys("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Zi(new hM(i.getProvider("auth-internal")),new mM(c,i.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(m.options.projectId,b)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ai(H_,F_,e),ai(H_,F_,"esm2020")})();const aC="firebasestorage.googleapis.com",oC="storageBucket",xD=120*1e3,wD=600*1e3;class Lt extends pi{constructor(e,t,i=0){super(Cm(e),`Firebase Storage: ${t} (${Cm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Cm(n){return"storage/"+n}function vv(){const n="An unknown error occurred, please check the error payload for server response.";return new Lt(kt.UNKNOWN,n)}function TD(n){return new Lt(kt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function SD(n){return new Lt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(kt.UNAUTHENTICATED,n)}function AD(){return new Lt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RD(n){return new Lt(kt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function kD(){return new Lt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LD(){return new Lt(kt.CANCELED,"User canceled the upload/download.")}function ID(n){return new Lt(kt.INVALID_URL,"Invalid URL '"+n+"'.")}function ND(n){return new Lt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function MD(){return new Lt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oC+"' property when initializing the app?")}function OD(){return new Lt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DD(){return new Lt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PD(n){return new Lt(kt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lg(n){return new Lt(kt.INVALID_ARGUMENT,n)}function lC(){return new Lt(kt.APP_DELETED,"The Firebase app was deleted.")}function jD(n){return new Lt(kt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ou(n,e){return new Lt(kt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vu(n){throw new Lt(kt.INTERNAL_ERROR,"Internal error: "+n)}class er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=er.makeFromUrl(e,t)}catch{return new er(e,"")}if(i.path==="")return i;throw ND(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const b="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${_}/${b}/b/${a}/o${T}`,"i"),R={bucket:1,path:3},O=t===aC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",z=new RegExp(`^https?://${O}/${a}/${L}`,"i"),Q=[{regex:f,indices:p,postModify:l},{regex:C,indices:R,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<Q.length;H++){const F=Q[H],Z=F.regex.exec(e);if(Z){const k=Z[F.indices.bucket];let N=Z[F.indices.path];N||(N=""),i=new er(k,N),F.postModify(i);break}}if(i==null)throw ID(e);return i}}class VD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function UD(n,e,t){let i=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function b(...L){m||(m=!0,e.apply(null,L))}function _(L){a=setTimeout(()=>{a=null,n(C,p())},L)}function T(){l&&clearTimeout(l)}function C(L,...z){if(m){T();return}if(L){T(),b.call(null,L,...z);return}if(p()||c){T(),b.call(null,L,...z);return}i<64&&(i*=2);let Q;f===1?(f=2,Q=0):Q=(i+Math.random())*1e3,_(Q)}let R=!1;function O(L){R||(R=!0,T(),!m&&(a!==null?(L||(f=2),clearTimeout(a),_(0)):L||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,O(!0)},t),O}function zD(n){n(!1)}function BD(n){return n!==void 0}function qD(n){return typeof n=="object"&&!Array.isArray(n)}function yv(n){return typeof n=="string"||n instanceof String}function HE(n){return bv()&&n instanceof Blob}function bv(){return typeof Blob<"u"}function FE(n,e,t,i){if(i<e)throw lg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw lg(`Invalid value for '${n}'. Expected ${t} or less.`)}function _v(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function uC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var za;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(za||(za={}));function HD(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class FD{constructor(e,t,i,a,l,c,f,p,m,b,_,T=!0,C=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=b,this.connectionFactory_=_,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,O)=>{this.resolve_=R,this.reject_=O,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new zd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===za.NO_ERROR,p=l.getStatus();if(!f||HD(p,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===za.ABORT;i(!1,new zd(!1,null,b));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new zd(m,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());BD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=vv();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?lC():LD();c(p)}else{const p=kD();c(p)}};this.canceled_?t(!1,new zd(!1,null,!0)):this.backoffId_=UD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function GD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function KD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $D(n,e){e&&(n["X-Firebase-GMPID"]=e)}function QD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function YD(n,e,t,i,a,l,c=!0,f=!1){const p=uC(n.urlParams),m=n.url+p,b=Object.assign({},n.headers);return $D(b,e),GD(b,t),KD(b,l),QD(b,i),new FD(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function XD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WD(...n){const e=XD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(bv())return new Blob(n);throw new Lt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function JD(n){if(typeof atob>"u")throw PD("base-64");return atob(n)}const si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Am{constructor(e,t){this.data=e,this.contentType=t||null}}function eP(n,e){switch(n){case si.RAW:return new Am(cC(e));case si.BASE64:case si.BASE64URL:return new Am(dC(n,e));case si.DATA_URL:return new Am(nP(e),rP(e))}throw vv()}function cC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function tP(n){let e;try{e=decodeURIComponent(n)}catch{throw Ou(si.DATA_URL,"Malformed data URL.")}return cC(e)}function dC(n,e){switch(n){case si.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ou(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case si.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ou(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=JD(e)}catch(a){throw a.message.includes("polyfill")?a:Ou(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class hC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ou(si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=iP(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function nP(n){const e=new hC(n);return e.base64?dC(si.BASE64,e.rest):tP(e.rest)}function rP(n){return new hC(n).contentType}function iP(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Hs{constructor(e,t){let i=0,a="";HE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(HE(this.data_)){const i=this.data_,a=ZD(i,e,t);return a===null?null:new Hs(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Hs(i,!0)}}static getBlob(...e){if(bv()){const t=e.map(i=>i instanceof Hs?i.data_:i);return new Hs(WD.apply(null,t))}else{const t=e.map(c=>yv(c)?eP(si.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Hs(a,!0)}}uploadData(){return this.data_}}function fC(n){let e;try{e=JSON.parse(n)}catch{return null}return qD(e)?e:null}function sP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function aP(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function pC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function oP(n,e){return e}class Sn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||oP}}let Bd=null;function lP(n){return!yv(n)||n.length<2?n:pC(n)}function mC(){if(Bd)return Bd;const n=[];n.push(new Sn("bucket")),n.push(new Sn("generation")),n.push(new Sn("metageneration")),n.push(new Sn("name","fullPath",!0));function e(l,c){return lP(c)}const t=new Sn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Sn("size");return a.xform=i,n.push(a),n.push(new Sn("timeCreated")),n.push(new Sn("updated")),n.push(new Sn("md5Hash",null,!0)),n.push(new Sn("cacheControl",null,!0)),n.push(new Sn("contentDisposition",null,!0)),n.push(new Sn("contentEncoding",null,!0)),n.push(new Sn("contentLanguage",null,!0)),n.push(new Sn("contentType",null,!0)),n.push(new Sn("metadata","customMetadata",!0)),Bd=n,Bd}function uP(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new er(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function cP(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return uP(i,n),i}function gC(n,e,t){const i=fC(e);return i===null?null:cP(n,i,t)}function dP(n,e,t,i){const a=fC(e);if(a===null||!yv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const b=n.bucket,_=n.fullPath,T="/b/"+c(b)+"/o/"+c(_),C=_v(T,t,i),R=uC({alt:"media",token:m});return C+R})[0]}function hP(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class vC{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yC(n){if(!n)throw vv()}function fP(n,e){function t(i,a){const l=gC(n,a,e);return yC(l!==null),l}return t}function pP(n,e){function t(i,a){const l=gC(n,a,e);return yC(l!==null),dP(l,a,n.host,n._protocol)}return t}function bC(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=AD():a=CD():t.getStatus()===402?a=SD(n.bucket):t.getStatus()===403?a=RD(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function mP(n){const e=bC(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=TD(n.path)),l.serverResponse=a.serverResponse,l}return t}function gP(n,e,t){const i=e.fullServerUrl(),a=_v(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new vC(a,l,pP(n,t),c);return f.errorHandler=mP(e),f}function vP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function yP(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=vP(null,e)),i}function bP(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let Q="";for(let H=0;H<2;H++)Q=Q+Math.random().toString().slice(2);return Q}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=yP(e,i,a),b=hP(m,t),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+p+"--",C=Hs.getBlob(_,i,T);if(C===null)throw OD();const R={name:m.fullPath},O=_v(l,n.host,n._protocol),L="POST",z=n.maxUploadRetryTime,B=new vC(O,L,fP(n,t),z);return B.urlParams=R,B.headers=c,B.body=C.uploadData(),B.errorHandler=bC(e),B}class _P{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw vu("cannot .send() more than once");if(na(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EP extends _P{initXhr(){this.xhr_.responseType="text"}}function _C(){return new EP}class Qa{constructor(e,t){this._service=e,t instanceof er?this._location=t:this._location=er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qa(e,t)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pC(this._location.path)}get storage(){return this._service}get parent(){const e=sP(this._location.path);if(e===null)return null;const t=new er(this._location.bucket,e);return new Qa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jD(e)}}function xP(n,e,t){n._throwIfRoot("uploadBytes");const i=bP(n.storage,n._location,mC(),new Hs(e,!0),t);return n.storage.makeRequestWithTokens(i,_C).then(a=>({metadata:a,ref:n}))}function wP(n){n._throwIfRoot("getDownloadURL");const e=gP(n.storage,n._location,mC());return n.storage.makeRequestWithTokens(e,_C).then(t=>{if(t===null)throw DD();return t})}function TP(n,e){const t=aP(n._location.path,e),i=new er(n._location.bucket,t);return new Qa(n.storage,i)}function SP(n){return/^[A-Za-z]+:\/\//.test(n)}function CP(n,e){return new Qa(n,e)}function EC(n,e){if(n instanceof Ev){const t=n;if(t._bucket==null)throw MD();const i=new Qa(t,t._bucket);return e!=null?EC(i,e):i}else return e!==void 0?TP(n,e):n}function AP(n,e){if(e&&SP(e)){if(n instanceof Ev)return CP(n,e);throw lg("To use ref(service, url), the first argument must be a Storage instance.")}else return EC(n,e)}function GE(n,e){const t=e?.[oC];return t==null?null:er.makeFromBucketSpec(t,n)}function RP(n,e,t,i={}){n.host=`${e}:${t}`;const a=na(e);a&&(bg(`https://${n.host}/b`),_g("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:Bw(l,n.app.options.projectId))}class Ev{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=aC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xD,this._maxUploadRetryTime=wD,this._requests=new Set,a!=null?this._bucket=er.makeFromBucketSpec(a,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new VD(lC());{const c=YD(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const KE="@firebase/storage",$E="0.14.0";const xC="storage";function kP(n,e,t){return n=Et(n),xP(n,e,t)}function LP(n){return n=Et(n),wP(n)}function IP(n,e){return n=Et(n),AP(n,e)}function NP(n=wg(),e){n=Et(n);const i=Vh(n,xC).getImmediate({identifier:e}),a=Vw("storage");return a&&MP(i,...a),i}function MP(n,e,t,i={}){RP(n,e,t,i)}function OP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Ev(t,i,a,e,Wa)}function DP(){qa(new Ys(xC,OP,"PUBLIC").setMultipleInstances(!0)),ai(KE,$E,""),ai(KE,$E,"esm2020")}DP();const PP={apiKey:"AIzaSyDLV_7VhVreewagteqfNtx4-I9AkSYMRwk",authDomain:"auraverde-db.firebaseapp.com",projectId:"auraverde-db",storageBucket:"auraverde-db.firebasestorage.app",messagingSenderId:"1045483358918",appId:"1:1045483358918:web:1a82ec3c166abc5641a5c7"},xv=Fw(PP),qd=lM(xv),cn=oD(xv),jP=NP(xv),wC=y.createContext();function vr(){return y.useContext(wC)}function VP({children:n}){const[e,t]=y.useState(null),[i,a]=y.useState(null),[l,c]=y.useState(null),[f,p]=y.useState(!0);async function m(R,O,L){const z=await GI(qd,R,O),B=z.user;try{await $I(B)}catch(Q){console.error("Error sending verification email:",Q)}return await Th(Lr(cn,"users",B.uid),{email:B.email,displayName:L||"",role:"customer",favorites:[],createdAt:new Date().toISOString()}),z}function b(R,O){return KI(qd,R,O)}function _(){return WI(qd)}async function T(R){if(!e)return;const O=Lr(cn,"users",e.uid),L=l?.favorites||[];let z;L.includes(R)?z=L.filter(B=>B!==R):z=[...L,R];try{await Th(O,{favorites:z},{merge:!0})}catch(B){console.error("Error toggling favorite:",B)}}y.useEffect(()=>{const R=XI(qd,async O=>{if(t(O),p(!0),O){const L=Lr(cn,"users",O.uid),z=gv(L,B=>{if(B.exists()){const Q=B.data();a(Q.role),c(Q)}else a("customer"),c(null);p(!1)},B=>{console.error("Error fetching user data:",B),p(!1)});return()=>z()}else a(null),c(null),p(!1)});return()=>R()},[]);const C={currentUser:e,userRole:i,userData:l,toggleFavorite:T,signin:b,login:b,signup:m,logout:_};return v.jsx(wC.Provider,{value:C,children:!f&&n})}const UP=({className:n})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:v.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.645-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),zP=({className:n})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:[v.jsx("path",{d:"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"}),v.jsx("path",{d:"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"})]});function TC({className:n=""}){return v.jsxs("div",{className:`flex items-center gap-4 ${n}`,children:[v.jsx("a",{href:"https://www.instagram.com/auraverdesuculentas/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full",title:"Instagram",children:v.jsx(UP,{className:"w-8 h-8"})}),v.jsx("a",{href:"mailto:auraverdesuculentas@gmail.com",className:"text-text-secondary dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full",title:"Email",children:v.jsx(zP,{className:"w-8 h-8"})})]})}const SC=y.createContext();function BP({children:n}){const[e,t]=y.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});y.useEffect(()=>{const a=window.document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const i=()=>{t(a=>a==="dark"?"light":"dark")};return v.jsx(SC.Provider,{value:{theme:e,toggleTheme:i},children:n})}const qP=()=>y.useContext(SC);function CC({className:n=""}){const{theme:e,toggleTheme:t}=qP();return v.jsx("button",{onClick:t,className:`p-2 rounded-full transition-colors active:scale-95 ${e==="dark"?"bg-slate-800 text-yellow-400 hover:bg-slate-700":"bg-orange-100 text-orange-500 hover:bg-orange-200"} ${n}`,"aria-label":"Toggle Theme",children:v.jsx("span",{className:"material-symbols-outlined text-xl align-middle",children:e==="dark"?"dark_mode":"light_mode"})})}function HP(){const n=Ji(),e=jn(),{currentUser:t,userRole:i,logout:a}=vr(),l=[{icon:"home",label:"Inicio",path:"/"},{icon:"search",label:"Buscar",path:"/catalog"},{icon:"shopping_cart",label:"Carrito",path:"/cart"},{icon:"person",label:"Perfil",path:"/profile"}],c=f=>f==="/"?n.pathname==="/":n.pathname.startsWith(f);return v.jsxs("div",{className:"flex min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display transition-colors duration-300",children:[v.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-gray-200 dark:border-gray-800 bg-surface-light dark:bg-background-dark p-6 sticky top-0 h-screen",children:[v.jsxs("div",{className:"flex flex-col items-center -mt-2 mb-10 px-2 w-full",children:[v.jsx(Cn,{to:"/",className:"w-40 h-40 flex items-center justify-center mb-2 transition-transform duration-300 hover:scale-105 active:scale-95 active:rotate-3 cursor-pointer",children:v.jsx("img",{src:"/auraverde/logolocal.svg",alt:"AuraVerde Logo",className:"w-full h-full object-contain animate-float"})}),v.jsx("h1",{className:"font-varela text-3xl text-primary font-bold tracking-wide -mt-6 text-center w-full leading-none",children:"AURA VERDE"})]}),v.jsx("nav",{className:"flex flex-col gap-2 flex-1",children:l.map(f=>v.jsxs("button",{onClick:()=>e(f.path),className:`flex items-center gap-3 p-3 rounded-xl transition-all duration-200 group text-left
                ${c(f.path)?"bg-primary text-white shadow-md shadow-emerald-200 dark:shadow-emerald-900/20":"text-text-secondary dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-text-main dark:hover:text-white"}`,children:[v.jsx("span",{className:`material-symbols-outlined transition-transform duration-300 group-hover:scale-110 ${c(f.path)?"font-bold":""}`,children:f.icon}),v.jsx("span",{className:"font-medium text-sm",children:f.label})]},f.label))}),v.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-200 dark:border-gray-800 flex flex-col gap-2",children:[t?v.jsxs(v.Fragment,{children:[i==="admin"&&v.jsxs("button",{onClick:()=>e("/admin"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),v.jsx("span",{className:"font-medium text-sm",children:"Panel Admin"})]}),v.jsxs("button",{onClick:a,className:"flex items-center gap-3 p-3 rounded-xl w-full text-text-secondary dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined",children:"logout"}),v.jsx("span",{className:"font-medium text-sm",children:"Cerrar Sesin"})]})]}):v.jsxs("button",{onClick:()=>e("/login"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-primary hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined",children:"login"}),v.jsx("span",{className:"font-medium text-sm",children:"Iniciar Sesin"})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center justify-center gap-6 w-full",children:[v.jsx(CC,{}),v.jsx(TC,{})]})]})]}),v.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto md:p-8 pb-24 md:pb-8",children:v.jsx("div",{className:"h-full w-full",children:v.jsx(SR,{})})}),v.jsx("div",{className:"md:hidden",children:v.jsx(Mw,{})})]})}function wv(){const[n,e]=y.useState([]),[t,i]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function c(){try{const f=uf($a(cn,"products"),vD("createdAt","desc")),m=(await mv(f)).docs.map(b=>({id:b.id,...b.data(),firestoreId:b.id}));e(m)}catch(f){console.error("Error fetching products:",f),l(f)}finally{i(!1)}}c()},[]),{products:n,loading:t,error:a}}function FP(n){const[e,t]=y.useState(null),[i,a]=y.useState(!0),[l,c]=y.useState(null);return y.useEffect(()=>{if(!n)return;async function f(){try{const p=parseInt(n),m=isNaN(p)?n:p,b=uf($a(cn,"products"),eC("id","==",m)),_=await mv(b);if(_.empty){const T=Lr(cn,"products",n),C=await _D(T);C.exists()?t({id:C.id,...C.data()}):c("Producto no encontrado")}else{const T=_.docs[0];t({id:T.data().id,...T.data(),firestoreId:T.id})}}catch(p){console.error("Error fetching product:",p),c(p)}finally{a(!1)}}f()},[n]),{product:e,loading:i,error:l}}function Tv({id:n,name:e,type:t,price:i,image:a,isNew:l,onAddToCart:c}){const{toggleFavorite:f,userData:p}=vr(),m=p?.favorites?.includes(n);return v.jsxs("div",{className:"group flex flex-col gap-3",children:[v.jsxs("div",{className:"relative w-full aspect-[3/4] rounded-2xl overflow-hidden bg-slate-100 dark:bg-surface-dark",children:[v.jsx(Cn,{to:`/product/${n}`,children:v.jsx("img",{alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",src:a})}),l&&v.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-primary text-slate-900 text-[10px] font-bold uppercase tracking-wider rounded-md",children:"Nuevo"}),v.jsxs("button",{onClick:b=>{b.preventDefault(),f(n)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-white/50 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center transition-all hover:bg-white dark:hover:bg-surface-dark group/fav",children:[v.jsx("span",{className:`material-symbols-outlined text-[20px] transition-colors ${m?"text-red-500 fill-current":"text-white group-hover/fav:text-red-500"}`,children:"favorite"}),v.jsx("style",{children:`
               .material-symbols-outlined { font-variation-settings: 'FILL' ${m?1:0}, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
             `})]}),v.jsx("button",{onClick:b=>{b.preventDefault(),f&&f(n)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-black/20 hover:bg-white/90 dark:hover:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center transition-all text-white hover:text-red-500",title:m?"Quitar de favoritos":"Aadir a favoritos",children:v.jsx("span",{className:`material-symbols-outlined text-[20px] ${m?"text-red-500":""}`,style:{fontVariationSettings:`'FILL' ${m?1:0}`},children:"favorite"})}),v.jsx("button",{onClick:b=>{b.preventDefault(),c&&c()},className:"absolute bottom-3 right-3 z-10 h-10 w-10 rounded-full bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center text-slate-900 dark:text-white shadow-lg active:scale-90 transition-all hover:bg-primary hover:text-slate-900 cursor-pointer",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"flex justify-between items-start",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-900 dark:text-white text-base font-bold leading-tight",children:e}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium mt-1",children:t})]})}),v.jsxs("p",{className:"text-slate-900 dark:text-primary text-sm font-bold mt-2",children:["$",i.toFixed(2)]})]})]})}function cc({title:n="Catlogo",showSearch:e=!0,onSearch:t,searchValue:i}){const{cartItems:a}=Xa(),{currentUser:l,logout:c,userRole:f}=vr(),p=a.reduce((m,b)=>m+b.quantity,0);return v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-background-light dark:bg-background-dark z-10 shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs(Cn,{to:"/",className:"md:hidden flex flex-col items-center justify-center gap-0 group",children:[v.jsx("div",{className:"h-28 w-28 flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-active:scale-95 group-active:rotate-3 -mb-3",children:v.jsx("img",{src:"/auraverde/logolocal.svg",alt:"Logo",className:"w-full h-full object-contain"})}),v.jsx("div",{className:"flex items-center leading-none",children:v.jsx("span",{className:"text-xl font-bold tracking-[0.1em] text-primary whitespace-nowrap",children:"AURA VERDE"})})]}),v.jsx("h1",{className:"hidden md:block text-2xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:n})]}),v.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[v.jsx(CC,{}),l?v.jsxs(v.Fragment,{children:[f==="admin"&&v.jsx(Cn,{to:"/admin",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-emerald-500",title:"Panel Admin",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"admin_panel_settings"})}),v.jsx("button",{onClick:c,className:"flex items-center justify-center p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-slate-500 hover:text-red-500",title:"Cerrar Sesin",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"})})]}):v.jsx(Cn,{to:"/login",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-primary",title:"Iniciar Sesin",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"login"})}),v.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1 hidden md:block"}),v.jsx(Cn,{to:"/catalog",className:"hidden md:flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"search"})}),v.jsxs(Cn,{to:"/cart",className:"relative flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:[v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),p>0&&v.jsx("span",{className:"absolute top-0 right-0 h-5 w-5 flex items-center justify-center rounded-full bg-primary text-[10px] font-bold text-slate-900 border-2 border-background-light dark:border-background-dark",children:p})]})]})]}),e&&v.jsx("div",{className:"px-6 pb-2 shrink-0",children:v.jsxs("div",{className:"relative flex items-center w-full h-12 rounded-xl bg-white dark:bg-surface-dark shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden group focus-within:ring-2 focus-within:ring-primary/50 transition-all",children:[v.jsx("div",{className:"grid place-items-center h-full w-12 text-slate-400",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),v.jsx("input",{className:"peer h-full w-full outline-none text-sm text-slate-700 dark:text-slate-200 pr-2 bg-transparent placeholder-slate-400 font-medium",id:"search",placeholder:"Buscar plantas...",type:"text",value:i,onChange:m=>t&&t(m.target.value)})]})})]})}function GP(){return v.jsx("footer",{className:"bg-white dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 py-12 px-6",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8",children:[v.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[v.jsx("h2",{className:"text-2xl font-bold font-varela text-primary tracking-wide",children:"AURA VERDE"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-2 max-w-xs",children:"Llevando la naturaleza a tu hogar con las mejores suculentas."})]}),v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider",children:"Sguenos"}),v.jsx(TC,{})]}),v.jsxs("div",{className:"text-center md:text-right",children:[v.jsxs("p",{className:"text-xs text-slate-400 dark:text-gray-500",children:[" ",new Date().getFullYear()," Aura Verde."]}),v.jsx("p",{className:"text-xs text-slate-400 dark:text-gray-500 mt-1",children:"Todos los derechos reservados."})]})]})})}function KP(){const n=jn(),{addToCart:e}=Xa(),{showToast:t}=yg(),{products:i}=wv(),a=i.slice(0,4);return v.jsxs("div",{className:"flex flex-col min-h-screen",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(cc,{title:"Inicio",showSearch:!1})}),v.jsxs("section",{className:"relative h-[500px] w-full bg-surface-light dark:bg-surface-dark overflow-hidden flex items-center justify-center text-center px-4",children:[v.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10 bg-[url('https://images.unsplash.com/photo-1470058869958-2a77ade41c02?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background-light dark:to-background-dark z-0"}),v.jsxs("div",{className:"relative z-10 max-w-3xl flex flex-col items-center gap-6 animate-fade-in-up",children:[v.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-emerald-100 dark:bg-primary/10 border border-emerald-200 dark:border-primary/20 text-emerald-800 dark:text-primary font-bold text-sm uppercase tracking-wider mb-2",children:"Nueva Coleccin 2026"}),v.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight tracking-tight",children:["Lleva la Naturaleza a ",v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-400",children:"Casa"})]}),v.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-xl leading-relaxed",children:"Transforma tu espacio con nuestra coleccin curada de suculentas premium. Entregadas frescas desde nuestro vivero hasta tu puerta."}),v.jsx("div",{className:"flex gap-4 mt-4",children:v.jsxs("button",{onClick:()=>n("/catalog"),className:"px-8 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",children:["Comprar Ahora",v.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]})]}),v.jsx("section",{className:"py-16 px-6 bg-white dark:bg-surface-dark/50",children:v.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"local_shipping",title:"Envo Gratis",text:"En rdenes mayor a 5 suculentas",action:()=>n("/catalog")},{icon:"verified",title:"Garanta de Calidad",text:"Plantas sanas o dinero devuelto",action:()=>{t("Escribenos y juntos solucionaremos el inconveniente","info"),setTimeout(()=>{window.location.href="mailto:auraverdesuculentas@gmail.com"},2500)}},{icon:"support_agent",title:"Soporte Experto",text:"Consejos de cuidado 24/7",action:()=>{t("Cuentanos en que podemos ayudarte","info"),setTimeout(()=>{window.open("https://www.instagram.com/auraverdesuculentas/","_blank")},2500)}}].map((l,c)=>v.jsxs("div",{onClick:l.action,className:"flex flex-col items-center text-center p-6 rounded-3xl bg-background-light dark:bg-background-dark border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-shadow cursor-pointer hover:border-primary/30",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 text-primary",children:v.jsx("span",{className:"material-symbols-outlined text-3xl",children:l.icon})}),v.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:l.title}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:l.text})]},c))})}),v.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto w-full",children:[v.jsxs("div",{className:"flex justify-between items-end mb-10",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Plantas Destacadas"}),v.jsx("p",{className:"text-slate-500 mt-2",children:"Ms vendidas elegidas para ti"})]}),v.jsxs("button",{onClick:()=>n("/catalog"),className:"hidden md:flex items-center gap-1 text-primary font-bold hover:gap-2 transition-all",children:["Ver Todas ",v.jsx("span",{className:"material-symbols-outlined",children:"arrow_right_alt"})]})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:a.map(l=>v.jsx(Tv,{...l,onAddToCart:()=>e(l)},l.firestoreId||l.id))}),v.jsx("button",{onClick:()=>n("/catalog"),className:"mt-10 w-full md:hidden py-3 border-2 border-primary/20 text-primary font-bold rounded-xl active:bg-primary/5",children:"Ver Catalogo Completo"})]}),v.jsx("div",{className:"md:hidden pb-20",children:v.jsx(GP,{})})]})}function $P(){const{userData:n,currentUser:e}=vr(),{products:t}=wv(),{addToCart:i}=Xa(),a=jn(),l=n?.favorites||[],c=t.filter(f=>l.includes(f.firestoreId));return e?v.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(cc,{title:"Favoritos",showSearch:!1})}),v.jsxs("div",{className:"hidden md:block mb-6 pt-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Mis Favoritos"}),v.jsx("p",{className:"text-slate-500 text-lg",children:"Tu coleccin de sueos verdes"})]}),c.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 text-center opacity-60",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"favorite_border"}),v.jsx("p",{className:"text-lg font-medium",children:"An no tienes favoritos"}),v.jsx("p",{className:"text-sm",children:"Explora el catlogo y dale amor a las plantas."})]}):v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6 px-6 md:px-0 pb-24",children:c.map(f=>v.jsx(Tv,{...f,id:f.firestoreId,onAddToCart:()=>i(f)},f.firestoreId))})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"lock"}),v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Inicia sesin"}),v.jsx("p",{className:"text-gray-500 mb-4",children:"Necesitas una cuenta para guardar tus plantas favoritas."}),v.jsx("button",{onClick:()=>a("/login"),className:"bg-primary text-white px-6 py-2 rounded-xl font-bold",children:"Ir al Login"})]})}function QP({label:n,active:e,onClick:t}){return e?v.jsx("button",{onClick:t,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-primary text-slate-900 font-bold shadow-sm shadow-primary/20",children:n}):v.jsx("button",{onClick:t,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 text-slate-600 dark:text-slate-300 font-semibold whitespace-nowrap",children:n})}const QE=[{id:1,name:"Echeveria Lola",type:"Suculenta pequea",price:12,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA0eZ15aq4T37Ryj4bDgj81ZEUyIYsh_RKRe_i8s-gujmUO-i27DiYWUuBzPiPJ_YWIS2p_w47QKZMKDQWOHo6CRndOci24Fq8e8I8K-sMCpajjkdksObyDBwAwTd51gu_8U6d9MPdleEc-8Hnb1zzYYCFR_l_Ypk_iSruncVz3mVHzQopMI-9CTT8lKOVIlGLTyDkJF-HpDQXMvf6jWJpWFFQWuC4q3TuYCE1oQ49Fy4VkatuhBcPfA-InsniE7TV93a8vHXmlmM7L",isNew:!1},{id:2,name:"Dracaena Marg.",type:"rbol de interior",price:45,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD57UKN04xBtoohXvHEHpARBywa8wc9eKFvD7XDp4cKqtu9QbUHhMHlIAQTqq_YH7bNSJZY_0dW3eOTEeI9MC9bd_WXnHPghUkvnYzkep7OhHBL-V9YT8ONnxMMkepRc2VuSeXjffy01QOpFPIiYTvJQwC61ojAnDKXHvEixwbL_OCVDtP5FGpHB9huUjYwZVBarcehQQXtsDxIj-0kpDwgAjMXOMgDtuAfllSqSFCXo5viLkIt76k5EhbsAZ_oBuXDEOk1HeJbKmDY",isNew:!1},{id:3,name:"Bonsai Ficus",type:"rbol miniatura",price:30,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBuQ1GGR9x_WTdo-L0S5BynKVM9VNi2KLnWCv4u1BHbfC0ie4CsUb1AH_2sDOTV1EIOAyydQTq86WSJXuVqYbuIctNrkOoDPfqY4-2WVg-VcVGxkgXgLhCeSe8AOSMdCpdWYBwJDeS9tU9OxFtysrT5GG8kDBiTbp9WeJrIwpzQIw9DsA28HoOQo78lMm95heiSA-aLd_HzAeO8wCyPlJKyYrXEE-tXalpUWPPAj2mSTuWxxzkmW5tkBvw7RQdWDU6lyq_4RCuJpbGA",isNew:!0},{id:4,name:"Areca Palm",type:"Purificadora de aire",price:25,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBAUIOGKnSrRSRBsNH6nVvIGWGAjTC_RjE5eYoFgCX3nVZhG8onMlpG6odQCRlezHvUBrnLoPigEGnahxWvlORm1v5BBRZG7xMRj0yVKYjlMVr8I-5L0EKYnDc-S8bLYQDmSnpA4ZZGvfEYSPrA3gzmhrunA2P1IoiQgF9W1018hn-beC_BOq0-UnIp5TcFSKAZzLb1jm7J7S_uGkx47DlPPxEmEQ4a96EzOfGPzv9UGY6vBVAbtpedg9j5DVnWaiSvg8HLvPT1HE1L",isNew:!1},{id:5,name:"Aloe Vera",type:"Medicinal",price:18,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBfjrTHo8MXN3qD5PVNyclKEE_LCe5L71uyaOi8yGBA9XUtVSfajLxPMY29U6lUbZK2E8MHsrmHvNlI6zqvkMAgT8CdDxbZ8sG8FdQfL3BHz3SANG0_6iu6Mewm5SNjWV3wI0EcDF3lQV7TXY-3EYsAkN5zec0-orJkKfDL-i33XXdodWx5IqvjLkjkdX1T-CdmyNcdm2K12tFpTYIkG2lOp5HVceiwh3_ErHSxtY-Hk9lEuYaAnSbRVQHEa-mBffh9SoTgtA7yjNIK",isNew:!1},{id:6,name:"String of Pearls",type:"Planta colgante",price:22,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAXXU5YobKex3kwVW5GUM5bXC6_ctZHQSoRW_qNQbh3g9p93oaSRMcqMZB6pZX5EE8j9UAuv6ETV_EFs9pdLtMj566Qky3NQnqyuO6nT8tOCXzdomwBB0zrfQSK1sEURbbA0O05Q_GBSd4c9tqROmHIUdsTfcGdWAOC-5V2-ELxwyAolZEMDOWyvJ1cb4irkDMDcGr0v3yA2dWUQXp7Zv7thW4UTCGX3aRXgCBiUVuDNMp26Ts9B5MWJpif5mwp-qBQRiM6JEkw0BWY",isNew:!1}],YP=["Todos","Dracaena","Bonsai","Suculentas","Palmas"];function XP(){const[n,e]=y.useState("Todos"),[t,i]=y.useState(""),{addToCart:a}=Xa(),{products:l,loading:c,error:f}=wv(),p=l.filter(m=>{const b=n==="Todos"||m.type.includes(n)||m.name.includes(n),_=m.name.toLowerCase().includes(t.toLowerCase())||m.type.toLowerCase().includes(t.toLowerCase());return b&&_});return c?v.jsx("div",{className:"flex h-full items-center justify-center text-primary font-bold",children:"Cargando catlogo..."}):f?v.jsx("div",{className:"flex h-full items-center justify-center text-red-500",children:"Error cargando productos."}):v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(cc,{onSearch:i,searchValue:t})}),v.jsxs("div",{className:"hidden md:block mb-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Descubre"}),v.jsx("p",{className:"text-slate-500 text-lg",children:"Encuentra la planta perfecta para tu espacio"})]}),v.jsx("div",{className:"pl-6 py-4 shrink-0 md:pl-0",children:v.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pr-6 items-center",children:[v.jsx("button",{className:"flex shrink-0 h-10 w-10 items-center justify-center rounded-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md transition-transform hover:scale-105",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"tune"})}),YP.map(m=>v.jsx(QP,{label:m,active:n===m,onClick:()=>e(m)},m))]})}),v.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-24 md:pb-8 hide-scrollbar md:px-0",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:p.map(m=>v.jsx(Tv,{...m,id:m.firestoreId||m.id,onAddToCart:()=>a(m)},m.firestoreId||m.id))})})]})}function WP(){const n=jn(),{id:e}=dR(),{addToCart:t}=Xa(),[i,a]=y.useState(1),{product:l,loading:c,error:f}=FP(e);if(c)return v.jsx("div",{className:"flex h-screen items-center justify-center text-primary font-bold",children:"Cargando producto..."});if(f||!l)return v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-900 dark:text-white",children:"Producto no encontrado"}),v.jsx("button",{onClick:()=>n("/catalog"),className:"text-primary font-bold",children:"Volver al Catlogo"})]});const p=()=>{for(let m=0;m<i;m++)t(l);n("/cart")};return v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden pb-24 bg-background-light dark:bg-background-dark",children:[v.jsxs("header",{className:"absolute top-0 left-0 right-0 z-30 flex items-center justify-between p-4 pt-12 md:pt-6 bg-gradient-to-b from-black/40 to-transparent",children:[v.jsx("button",{onClick:()=>n(-1),className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"})}),v.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"favorite"})})]})]}),v.jsx("div",{className:"relative w-full h-[55vh] lg:h-[60vh] shrink-0 bg-gray-200 dark:bg-gray-800",children:v.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url('${l.image}')`}})}),v.jsxs("main",{className:"relative z-10 -mt-6 flex flex-1 flex-col rounded-t-3xl bg-background-light dark:bg-background-dark px-6 pt-8 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",children:[v.jsxs("div",{className:"mb-6 flex flex-col gap-2",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:l.name}),v.jsx("p",{className:"text-lg italic text-gray-500 dark:text-gray-400 mt-1",children:l.type})]}),v.jsx("div",{className:"flex flex-col items-end",children:v.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",l.price.toFixed(2)]})})]}),v.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[v.jsx("span",{className:"material-symbols-outlined text-yellow-400 fill-current text-[20px]",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),v.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"4.8"}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(120 reseas)"})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Tamao de Maceta"}),v.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pb-1",children:[v.jsxs("button",{className:"group relative flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-transparent bg-primary px-4 py-3 text-black shadow-sm transition-all active:scale-95",children:[v.jsx("span",{className:"text-sm font-bold",children:"Pequea"}),v.jsx("span",{className:"text-xs font-medium opacity-80",children:'2"'}),v.jsx("div",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-black text-white",children:v.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"check"})})]}),v.jsxs("button",{className:"group flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-surface-light dark:bg-surface-dark px-4 py-3 text-gray-600 dark:text-gray-300 transition-all hover:border-primary/50 active:scale-95",children:[v.jsx("span",{className:"text-sm font-bold",children:"Mediana"}),v.jsx("span",{className:"text-xs font-medium opacity-60",children:'4"'})]}),v.jsxs("button",{className:"group flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-surface-light dark:bg-surface-dark px-4 py-3 text-gray-600 dark:text-gray-300 transition-all hover:border-primary/50 active:scale-95",children:[v.jsx("span",{className:"text-sm font-bold",children:"Grande"}),v.jsx("span",{className:"text-xs font-medium opacity-60",children:'6"'})]})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Descripcin"}),v.jsxs("p",{className:"text-base leading-relaxed text-gray-600 dark:text-gray-300",children:[l.name," es una hermosa planta. Perfecta para agregar un toque de naturaleza a tu hogar u oficina.",v.jsx("span",{className:"font-bold text-primary cursor-pointer ml-1",children:"Leer ms"})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Cuidados"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-500",children:v.jsx("span",{className:"material-symbols-outlined",children:"wb_sunny"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Luz"}),v.jsx("span",{className:"block text-[10px] text-gray-500",children:"Brillante"})]})]}),v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-500",children:v.jsx("span",{className:"material-symbols-outlined",children:"water_drop"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Agua"}),v.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mnima"})]})]}),v.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/30 text-red-500",children:v.jsx("span",{className:"material-symbols-outlined",children:"thermostat"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Temp"}),v.jsx("span",{className:"block text-[10px] text-gray-500",children:"Clida"})]})]})]})]}),v.jsx("div",{className:"h-6"})]}),v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-gray-100 dark:border-gray-800 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-lg pb-safe pt-4 px-6 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[v.jsx("div",{className:"mb-4 flex items-center justify-center pb-6 md:pb-0",children:v.jsxs("div",{className:"flex w-full max-w-md items-center justify-between gap-6",children:[v.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-100 dark:bg-gray-800 p-1",children:[v.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"flex h-8 w-8 items-center justify-center rounded-md bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),v.jsx("span",{className:"w-4 text-center text-sm font-bold text-gray-900 dark:text-white",children:i}),v.jsx("button",{onClick:()=>a(i+1),className:"flex h-8 w-8 items-center justify-center rounded-md bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),v.jsxs("button",{onClick:p,className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-primary h-12 px-6 text-black shadow-lg shadow-primary/30 transition-all hover:bg-primary/90 active:scale-95",children:[v.jsx("span",{className:"material-symbols-outlined",children:"shopping_bag"}),v.jsx("span",{className:"text-base font-bold",children:"Agregar al Carrito"}),v.jsxs("span",{className:"ml-1 text-sm font-bold opacity-80",children:["| $",(l.price*i).toFixed(2)]})]})]})}),v.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})}function AC(){const{currentUser:n}=vr(),[e,t]=y.useState([]),[i,a]=y.useState(!0),[l,c]=y.useState(null);return y.useEffect(()=>{if(!n){t([]),a(!1);return}a(!0);const m=uf($a(cn,"users",n.uid,"addresses")),b=gv(m,_=>{const T=_.docs.map(C=>({id:C.id,...C.data()}));t(T),a(!1)},_=>{console.error(_),c(_.message),a(!1)});return()=>b()},[n]),{addresses:e,addAddress:async m=>{if(!n)throw new Error("Debes iniciar sesin");try{await iC($a(cn,"users",n.uid,"addresses"),m)}catch(b){throw console.error(b),b}},deleteAddress:async m=>{if(n)try{await rC(Lr(cn,"users",n.uid,"addresses",m))}catch(b){throw console.error(b),b}},loading:i,error:l}}const YE={lat:-38.7361644,lon:-62.2874379},Ma={LOCAL_TIER_1:1500,LOCAL_TIER_2:3500,LOCAL_TIER_3:5e3,NATIONAL:8500,FREE_THRESHOLD:5};function ZP(n,e,t,i){const l=Hd(t-n),c=Hd(i-e),f=Math.sin(l/2)*Math.sin(l/2)+Math.cos(Hd(n))*Math.cos(Hd(t))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))}function Hd(n){return n*(Math.PI/180)}async function JP(n){try{const e=encodeURIComponent(n),i=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${e}&format=json&limit=1`,{headers:{"User-Agent":"AuraVerdeApp/1.0"}})).json();return i&&i.length>0?{lat:parseFloat(i[0].lat),lon:parseFloat(i[0].lon)}:null}catch(e){return console.error("Error geocoding address:",e),null}}async function RC(n,e=0){if(e>=Ma.FREE_THRESHOLD||!n)return 0;const t=n.toLowerCase();if(!(t.includes("bahia blanca")||t.includes("baha blanca")||t.includes("punta alta")||t.includes("ingeniero white")||t.includes("general cerri")))return Ma.NATIONAL;try{const a=await JP(n);if(!a)return console.warn("Could not geocode local address, using standard local price"),Ma.LOCAL_TIER_3;const l=ZP(YE.lat,YE.lon,a.lat,a.lon);return console.log(`Distance to store: ${l.toFixed(2)} km`),l<=2?Ma.LOCAL_TIER_1:l<=4?Ma.LOCAL_TIER_2:Ma.LOCAL_TIER_3}catch(a){return console.error("Error calculating local distance:",a),Ma.LOCAL_TIER_3}}function ej(){const n=jn(),{cartItems:e,removeFromCart:t,updateQuantity:i,subtotal:a,total:l,shippingCost:c,setShippingCost:f,selectedAddress:p,setSelectedAddress:m}=Xa();AC();const{currentUser:b,userData:_}=vr(),[T,C]=y.useState(!1),{showToast:R}=yg(),O=_?.shippingAddress?.address&&_?.shippingAddress?.city,L=e.reduce((z,B)=>z+B.quantity,0);return y.useEffect(()=>{if(b&&_?.shippingAddress){const z=_.shippingAddress;(async()=>{C(!0);try{const Q=`${z.address}, ${z.city}, ${z.zip}`,H=await RC(Q,L);f(H),m(z)}catch(Q){console.error("Error calculating shipping:",Q),f(0)}finally{C(!1)}})()}else f(0),m(null)},[b,_,L]),v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden pb-32 bg-background-light dark:bg-background-dark md:pb-0",children:[v.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-surface-light/95 dark:bg-background-dark/95 backdrop-blur-sm p-4 pb-2 border-b border-gray-100 dark:border-gray-800 md:hidden",children:[v.jsx("button",{onClick:()=>n(-1),className:"flex size-10 shrink-0 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark cursor-pointer",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white text-2xl",children:"arrow_back_ios_new"})}),v.jsxs("h2",{className:"text-text-main dark:text-white text-lg font-bold leading-tight flex-1 text-center",children:["Mi Carrito (",L,")"]}),v.jsx("div",{className:"flex w-12 items-center justify-end cursor-pointer"})]}),v.jsxs("div",{className:"hidden md:flex items-center justify-between mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Carrito de Compras"}),v.jsxs("span",{className:"text-lg font-medium text-slate-500",children:[L," items"]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-8 h-full overflow-hidden",children:[v.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-0 hide-scrollbar",children:v.jsx("div",{className:"flex flex-col gap-4",children:e.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 dark:text-gray-700 mb-4",children:"shopping_cart_off"}),v.jsx("p",{className:"text-lg text-gray-500 font-medium",children:"Tu carrito est vaco"}),v.jsx("button",{onClick:()=>n("/catalog"),className:"mt-4 text-primary font-bold hover:underline",children:"Comenzar a Comprar"})]}):e.map(z=>v.jsxs("div",{className:"relative flex flex-col gap-4 bg-surface-light dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-transparent dark:border-gray-800 md:flex-row md:items-center",children:[v.jsxs("div",{className:"flex items-start justify-between gap-4 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[v.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-lg aspect-square w-20 h-20 shrink-0 bg-gray-200",style:{backgroundImage:`url("${z.image}")`}}),v.jsxs("div",{className:"flex flex-col justify-center h-full",children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-bold leading-normal line-clamp-1",children:z.name}),v.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium leading-normal mb-2",children:z.type}),v.jsxs("p",{className:"text-text-main dark:text-primary text-base font-bold leading-normal",children:["$",z.price.toFixed(2)]})]})]}),v.jsx("button",{onClick:()=>t(z.id),className:"text-gray-400 hover:text-red-500 transition-colors md:self-center",children:v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]}),v.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-3 mt-1 md:border-t-0 md:pt-0 md:mt-0 md:justify-end md:gap-6",children:[v.jsx("span",{className:"text-xs text-text-secondary dark:text-gray-500 font-medium md:hidden",children:"Cantidad"}),v.jsxs("div",{className:"flex items-center gap-3 bg-background-light dark:bg-background-dark rounded-full p-1 px-1",children:[v.jsx("button",{onClick:()=>i(z.id,-1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white dark:bg-surface-dark shadow-sm text-text-main dark:text-white hover:bg-gray-5 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:z.quantity<=1,children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),v.jsx("span",{className:"w-8 text-center text-text-main dark:text-white font-bold text-sm",children:z.quantity}),v.jsx("button",{onClick:()=>i(z.id,1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-text-main shadow-sm hover:brightness-110 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]})]})]},z.id))})}),e.length>0&&v.jsx("div",{className:`
            fixed bottom-0 left-0 right-0 bg-surface-light dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 p-4 px-6 pb-8 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] dark:shadow-none z-20 
            md:static md:w-96 md:h-fit md:border md:rounded-2xl md:p-6 md:pb-6 md:shadow-sm
          `,children:v.jsxs("div",{className:"flex flex-col gap-4 max-w-md mx-auto w-full",children:[v.jsxs("div",{className:"flex flex-col gap-4 border-b border-gray-200 dark:border-gray-700 pb-4",children:[v.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Envo"}),b?v.jsx(v.Fragment,{children:O?v.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-xl border border-primary bg-primary/5",children:[v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Direccin de Envo"}),v.jsxs("p",{className:"text-slate-500",children:[_.shippingAddress.address,", ",_.shippingAddress.city,", ",_.shippingAddress.zip]})]}),v.jsx("button",{onClick:()=>n("/profile"),className:"text-primary font-bold text-xs hover:underline",children:"CAMBIAR"})]}):v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("p",{className:"text-sm text-gray-500",children:"No tienes una direccin de envo guardada."}),v.jsxs("button",{onClick:()=>n("/profile"),className:"flex items-center justify-center gap-2 p-3 rounded-xl border border-dashed border-gray-300 text-slate-500 hover:text-primary hover:border-primary/50 transition-colors text-sm font-medium",children:[v.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_location"}),"AGREGAR"]})]})}):v.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"Inicia sesin para gestionar tu direccin y calcular el envo."})]}),v.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Subtotal"}),v.jsxs("span",{className:"text-text-main dark:text-white text-sm font-bold",children:["$",a.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Envo"}),v.jsx("span",{className:`text-sm font-bold ${c===0?"text-primary":"text-text-main dark:text-white"}`,children:T?"Calculando...":c>0?`$${c}`:p?"Gratis":"Seleccionar direccin"})]}),v.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-text-main dark:text-white text-lg font-bold",children:"Total"}),v.jsxs("span",{className:"text-2xl font-black text-text-main dark:text-white leading-none",children:["$",l.toFixed(2)]})]})]}),v.jsxs("button",{onClick:()=>{O?n("/checkout"):R("Debe tener una direccion de envio para poder comprar, por favor agreguelo","error")},className:"flex w-full items-center justify-center gap-2 rounded-xl h-14 bg-primary text-text-main text-base font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 mt-2 disabled:opacity-50 disabled:pointer-events-none",disabled:T,children:[v.jsx("span",{children:T?"Calculando...":"Pagar"}),!T&&v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})]})]})})]})]})}function Sv(){const{currentUser:n}=vr(),[e,t]=y.useState([]),[i,a]=y.useState(!0),[l,c]=y.useState(null),f=async p=>{if(!n)throw new Error("Debes iniciar sesin para comprar");a(!0);try{return(await iC($a(cn,"orders"),{...p,userId:n.uid,userEmail:n.email,createdAt:ED(),status:"Processing",paymentStatus:"pending"})).id}catch(m){throw console.error("Error creating order:",m),c(m.message),m}finally{a(!1)}};return y.useEffect(()=>{if(!n){t([]),a(!1);return}a(!0);const p=uf($a(cn,"orders"),eC("userId","==",n.uid)),m=gv(p,b=>{const _=b.docs.map(T=>{const C=T.data();return{id:T.id,...C,dateStr:C.createdAt?.toDate?C.createdAt.toDate().toLocaleDateString():"Reciente"}});_.sort((T,C)=>{const R=T.createdAt?.toMillis?T.createdAt.toMillis():Date.now();return(C.createdAt?.toMillis?C.createdAt.toMillis():Date.now())-R}),t(_),a(!1)},b=>{console.error("Error fetching orders:",b),c("No se pudieron cargar los pedidos"),a(!1)});return()=>m()},[n]),{orders:e,createOrder:f,loading:i,error:l}}function Sh(){return Sh=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sh.apply(this,arguments)}var XE=(function(n){var e=y.useRef(n);return e.current=n,e}),tj=(function(n,e){var t;return function(){for(var i=this,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t!==null&&(clearTimeout(t),t=null),t=setTimeout(function(){return n.apply(i,l)},e)}}),nj=" use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",rj=function(e){var t=e===void 0?{}:e,i=t.requestOptions,a=t.debounce,l=a===void 0?200:a,c=t.cache,f=c===void 0?1440*60:c,p=t.cacheKey,m=p===void 0?"upa":p,b=t.googleMaps,_=t.callbackName,T=t.defaultValue,C=T===void 0?"":T,R=t.initOnMount,O=R===void 0?!0:R,L=y.useState(!1),z=L[0],B=L[1],Q=y.useState(C),H=Q[0],F=Q[1],Z=y.useState({loading:!1,status:"",data:[]}),k=Z[0],N=Z[1],A=y.useRef(),P=XE(i),D=XE(b),U=y.useCallback(function(){var se;if(!A.current){var de=window,me=de.google,ge=D.current,j=ge?.places||(me==null||(se=me.maps)==null?void 0:se.places);if(!j){console.error(nj);return}A.current=new j.AutocompleteService,B(!0)}},[D]),M=y.useCallback(function(){N({loading:!1,status:"",data:[]})},[]),pe=y.useCallback(function(se){se===void 0&&(se=m);try{sessionStorage.removeItem(se)}catch{}},[m]),ye=y.useCallback(tj(function(se){var de;if(!se){M();return}N(function(ge){return Sh({},ge,{loading:!0})});var me={};try{me=JSON.parse(sessionStorage.getItem(m)||"{}")}catch{}if(f&&(me=Object.keys(me).reduce(function(ge,j){return me[j].maxAge-Date.now()>=0&&(ge[j]=me[j]),ge},{}),me[se])){N({loading:!1,status:"OK",data:me[se].data});return}(de=A.current)==null||de.getPlacePredictions(Sh({},P.current,{input:se}),function(ge,j){if(N({loading:!1,status:j,data:ge||[]}),f&&j==="OK"){me[se]={data:ge,maxAge:Date.now()+f*1e3};try{sessionStorage.setItem(m,JSON.stringify(me))}catch{}}})},l),[f,m,M,P]),K=y.useCallback(function(se,de){de===void 0&&(de=!0),F(se),A.current&&de&&ye(se)},[ye]);return y.useEffect(function(){if(!O)return function(){return null};var se=window,de=se.google;return!D.current&&!(de!=null&&de.maps)&&_?window[_]=U:U(),function(){window[_]&&delete window[_]}},[_,D,U,O]),{ready:z,value:H,suggestions:k,setValue:K,clearSuggestions:M,clearCache:pe,init:U}},ij=" use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",sj=function(e){var t=new window.google.maps.Geocoder;return new Promise(function(i,a){t.geocode(e,function(l,c){c!=="OK"&&a(c),!e.address&&e.componentRestrictions&&(console.error(ij),i(l)),i(l)})})},aj=function(e){var t=e.geometry.location,i=t.lat,a=t.lng;return{lat:i(),lng:a()}};function Qu(n){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(n)}function oj(n,e){if(Qu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Qu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lj(n){var e=oj(n,"string");return Qu(e)=="symbol"?e:e+""}function re(n,e,t){return(e=lj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rm,WE;function uj(){if(WE)return Rm;WE=1;var n=function(t,i,a,l,c,f,p,m){if(!t){var b;if(i===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[a,l,c,f,p,m],T=0;b=new Error(i.replace(/%s/g,function(){return _[T++]})),b.name="Invariant Violation"}throw b.framesToPop=1,b}};return Rm=n,Rm}var cj=uj(),Qt=kC(cj),Ue=y.createContext(null);function dj(){Qt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=y.useContext(Ue);return Qt(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function hj(n,e,t){return Object.keys(n).reduce(function(a,l){return e(a,n[l],l)},t)}function fj(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function pj(n,e,t,i){var a={},l=(c,f)=>{var p=t[f];p!==e[f]&&(a[f]=p,c(i,p))};return fj(n,l),a}function mj(n,e,t){var i=hj(t,function(l,c,f){return typeof n[f]=="function"&&l.push(google.maps.event.addListener(e,c,n[f])),l},[]);return i}function gj(n){google.maps.event.removeListener(n)}function Fe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(gj)}function Be(n){var{updaterMap:e,eventMap:t,prevProps:i,nextProps:a,instance:l}=n,c=mj(a,l,t);return pj(e,i,a,l),c}var ZE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},JE={extraMapTypes(n,e){e.forEach(function(i,a){n.mapTypes.set(String(a),i)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function vj(n){var{children:e,options:t,id:i,mapContainerStyle:a,mapContainerClassName:l,center:c,onClick:f,onDblClick:p,onDrag:m,onDragEnd:b,onDragStart:_,onMouseMove:T,onMouseOut:C,onMouseOver:R,onMouseDown:O,onMouseUp:L,onRightClick:z,onCenterChanged:B,onLoad:Q,onUnmount:H}=n,[F,Z]=y.useState(null),k=y.useRef(null),[N,A]=y.useState(null),[P,D]=y.useState(null),[U,M]=y.useState(null),[pe,ye]=y.useState(null),[K,se]=y.useState(null),[de,me]=y.useState(null),[ge,j]=y.useState(null),[ee,ae]=y.useState(null),[he,W]=y.useState(null),[_e,we]=y.useState(null),[Te,Ne]=y.useState(null),[Se,ze]=y.useState(null);return y.useEffect(()=>{t&&F!==null&&F.setOptions(t)},[F,t]),y.useEffect(()=>{F!==null&&typeof c<"u"&&F.setCenter(c)},[F,c]),y.useEffect(()=>{F&&p&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(F,"dblclick",p)))},[p]),y.useEffect(()=>{F&&b&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(F,"dragend",b)))},[b]),y.useEffect(()=>{F&&_&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(F,"dragstart",_)))},[_]),y.useEffect(()=>{F&&O&&(K!==null&&google.maps.event.removeListener(K),se(google.maps.event.addListener(F,"mousedown",O)))},[O]),y.useEffect(()=>{F&&T&&(de!==null&&google.maps.event.removeListener(de),me(google.maps.event.addListener(F,"mousemove",T)))},[T]),y.useEffect(()=>{F&&C&&(ge!==null&&google.maps.event.removeListener(ge),j(google.maps.event.addListener(F,"mouseout",C)))},[C]),y.useEffect(()=>{F&&R&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(F,"mouseover",R)))},[R]),y.useEffect(()=>{F&&L&&(he!==null&&google.maps.event.removeListener(he),W(google.maps.event.addListener(F,"mouseup",L)))},[L]),y.useEffect(()=>{F&&z&&(_e!==null&&google.maps.event.removeListener(_e),we(google.maps.event.addListener(F,"rightclick",z)))},[z]),y.useEffect(()=>{F&&f&&(Te!==null&&google.maps.event.removeListener(Te),Ne(google.maps.event.addListener(F,"click",f)))},[f]),y.useEffect(()=>{F&&m&&(Se!==null&&google.maps.event.removeListener(Se),ze(google.maps.event.addListener(F,"drag",m)))},[m]),y.useEffect(()=>{F&&B&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(F,"center_changed",B)))},[f]),y.useEffect(()=>{var Yt=k.current===null?null:new google.maps.Map(k.current,t);return Z(Yt),Yt!==null&&Q&&Q(Yt),()=>{Yt!==null&&H&&H(Yt)}},[]),v.jsx("div",{id:i,ref:k,style:a,className:l,children:v.jsx(Ue.Provider,{value:F,children:F!==null?e:null})})}y.memo(vj);class yj extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{map:null}),re(this,"registeredEvents",[]),re(this,"mapRef",null),re(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),re(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),re(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),re(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:JE,eventMap:ZE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:JE,eventMap:ZE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Fe(this.registeredEvents))}render(){return v.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:v.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function ex(n,e,t,i,a,l,c){try{var f=n[l](c),p=f.value}catch(m){return void t(m)}f.done?e(p):Promise.resolve(p).then(i,a)}function LC(n){return function(){var e=this,t=arguments;return new Promise(function(i,a){var l=n.apply(e,t);function c(p){ex(l,i,a,c,f,"next",p)}function f(p){ex(l,i,a,c,f,"throw",p)}c(void 0)})}}function IC(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:i="weekly",language:a,region:l,libraries:c,channel:f,mapIds:p,authReferrerPolicy:m,apiUrl:b="https://maps.googleapis.com"}=n,_=[];return Qt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?_.push("key=".concat(e)):t&&_.push("client=".concat(t)),i&&_.push("v=".concat(i)),a&&_.push("language=".concat(a)),l&&_.push("region=".concat(l)),c&&c.length&&_.push("libraries=".concat(c.sort().join(","))),f&&_.push("channel=".concat(f)),p&&p.length&&_.push("map_ids=".concat(p.join(","))),m&&_.push("auth_referrer_policy=".concat(m)),_.push("loading=async"),_.push("callback=initMap"),"".concat(b,"/maps/api/js?").concat(_.join("&"))}var ja=typeof document<"u";function NC(n){var{url:e,id:t,nonce:i}=n;return ja?new Promise(function(l,c){var f=document.getElementById(t),p=window;if(f){var m=f.getAttribute("data-state");if(f.src===e&&m!=="error"){if(m==="ready")return l(t);var b=p.initMap,_=f.onerror;p.initMap=function(){b&&b(),l(t)},f.onerror=function(C){_&&_(C),c(C)};return}else f.remove()}var T=document.createElement("script");T.type="text/javascript",T.src=e,T.id=t,T.async=!0,T.nonce=i||"",T.onerror=function(R){T.setAttribute("data-state","error"),c(R)},p.initMap=function(){T.setAttribute("data-state","ready"),l(t)},document.head.appendChild(T)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function tx(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function MC(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(a,l){return tx(a)||Reflect.apply(e,n,[a,l]),a};var t=n.appendChild.bind(n);n.appendChild=function(a){return tx(a)||Reflect.apply(t,n,[a]),a}}}var yu=!1;function OC(){return v.jsx("div",{children:"Loading..."})}var ug={id:"script-loader",version:"weekly"};class bj extends y.PureComponent{constructor(){super(...arguments),re(this,"check",null),re(this,"state",{loaded:!1}),re(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),re(this,"isCleaningUp",LC(function*(){function e(t){if(!yu)t();else if(ja)var i=window.setInterval(function(){yu||(window.clearInterval(i),t())},1)}return new Promise(e)})),re(this,"cleanup",()=>{yu=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),re(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&MC(),Qt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:IC(this.props)};NC(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),re(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ja){if(window.google&&window.google.maps&&!yu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ja&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ja){this.cleanup();var e=()=>{this.check||(delete window.google,yu=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||v.jsx(OC,{})]})}}re(bj,"defaultProps",ug);function _j(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function Cv(n,e){if(n==null)return{};var t,i,a=_j(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var nx;function Av(n){var{id:e=ug.id,version:t=ug.version,nonce:i,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,preventGoogleFontsLoading:m,channel:b,mapIds:_,authReferrerPolicy:T,apiUrl:C="https://maps.googleapis.com"}=n,R=y.useRef(!1),[O,L]=y.useState(!1),[z,B]=y.useState(void 0);y.useEffect(function(){return R.current=!0,()=>{R.current=!1}},[]),y.useEffect(function(){ja&&m&&MC()},[m]),y.useEffect(function(){O&&Qt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[O]);var Q=IC({version:t,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,channel:b,mapIds:_,authReferrerPolicy:T,apiUrl:C});y.useEffect(function(){if(!ja)return;function Z(){R.current&&(L(!0),nx=Q)}if(window.google&&window.google.maps&&nx===Q){Z();return}NC({id:e,url:Q,nonce:i}).then(Z).catch(function(N){R.current&&B(N),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(N)})},[e,Q,i]);var H=y.useRef(void 0);return y.useEffect(function(){H.current&&p!==H.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),H.current=p},[p]),{isLoaded:O,loadError:z,url:Q}}var Ej=["loadingElement","onLoad","onError","onUnmount","children"],xj=v.jsx(OC,{});function wj(n){var{loadingElement:e,onLoad:t,onError:i,onUnmount:a,children:l}=n,c=Cv(n,Ej),{isLoaded:f,loadError:p}=Av(c);return y.useEffect(function(){f&&typeof t=="function"&&t()},[f,t]),y.useEffect(function(){p&&typeof i=="function"&&i(p)},[p,i]),y.useEffect(function(){return()=>{a&&a()}},[a]),f?l:e||xj}y.memo(wj);var rx;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(rx||(rx={}));function ix(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Ch(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ix(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var sx={},ax={options(n,e){n.setOptions(e)}};function Tj(n){var{options:e,onLoad:t,onUnmount:i}=n,a=y.useContext(Ue),[l,c]=y.useState(null);return y.useEffect(()=>{l!==null&&l.setMap(a)},[a]),y.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),y.useEffect(()=>{var f=new google.maps.TrafficLayer(Ch(Ch({},e),{},{map:a}));return c(f),t&&t(f),()=>{l!==null&&(i&&i(l),l.setMap(null))}},[]),null}y.memo(Tj);class Sj extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{trafficLayer:null}),re(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),re(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Ch(Ch({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:ax,eventMap:sx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:ax,eventMap:sx,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Fe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}re(Sj,"contextType",Ue);function Cj(n){var{onLoad:e,onUnmount:t}=n,i=y.useContext(Ue),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(i)},[i]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return l(c),c.setMap(i),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}y.memo(Cj);class Aj extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{bicyclingLayer:null}),re(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}re(Aj,"contextType",Ue);function Rj(n){var{onLoad:e,onUnmount:t}=n,i=y.useContext(Ue),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(i)},[i]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return l(c),c.setMap(i),e&&e(c),()=>{a!==null&&(t&&t(a),a.setMap(null))}},[]),null}y.memo(Rj);class kj extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{transitLayer:null}),re(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}re(kj,"contextType",Ue);function ox(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Ah(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ox(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var lx={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ux={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function Lj(n){var{options:e,drawingMode:t,onCircleComplete:i,onMarkerComplete:a,onOverlayComplete:l,onPolygonComplete:c,onPolylineComplete:f,onRectangleComplete:p,onLoad:m,onUnmount:b}=n,_=y.useContext(Ue),[T,C]=y.useState(null),[R,O]=y.useState(null),[L,z]=y.useState(null),[B,Q]=y.useState(null),[H,F]=y.useState(null),[Z,k]=y.useState(null),[N,A]=y.useState(null);return y.useEffect(()=>{T!==null&&T.setMap(_)},[_]),y.useEffect(()=>{e&&T!==null&&T.setOptions(e)},[T,e]),y.useEffect(()=>{T!==null&&T.setDrawingMode(t??null)},[T,t]),y.useEffect(()=>{T&&i&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(T,"circlecomplete",i)))},[T,i]),y.useEffect(()=>{T&&a&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(T,"markercomplete",a)))},[T,a]),y.useEffect(()=>{T&&l&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(T,"overlaycomplete",l)))},[T,l]),y.useEffect(()=>{T&&c&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(T,"polygoncomplete",c)))},[T,c]),y.useEffect(()=>{T&&f&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(T,"polylinecomplete",f)))},[T,f]),y.useEffect(()=>{T&&p&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(T,"rectanglecomplete",p)))},[T,p]),y.useEffect(()=>{Qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var P=new google.maps.drawing.DrawingManager(Ah(Ah({},e),{},{map:_}));return t&&P.setDrawingMode(t),i&&O(google.maps.event.addListener(P,"circlecomplete",i)),a&&z(google.maps.event.addListener(P,"markercomplete",a)),l&&Q(google.maps.event.addListener(P,"overlaycomplete",l)),c&&F(google.maps.event.addListener(P,"polygoncomplete",c)),f&&k(google.maps.event.addListener(P,"polylinecomplete",f)),p&&A(google.maps.event.addListener(P,"rectanglecomplete",p)),C(P),m&&m(P),()=>{T!==null&&(R&&google.maps.event.removeListener(R),L&&google.maps.event.removeListener(L),B&&google.maps.event.removeListener(B),H&&google.maps.event.removeListener(H),Z&&google.maps.event.removeListener(Z),N&&google.maps.event.removeListener(N),b&&b(T),T.setMap(null))}},[]),null}y.memo(Lj);class Ij extends y.PureComponent{constructor(e){super(e),re(this,"registeredEvents",[]),re(this,"state",{drawingManager:null}),re(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Qt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Ah(Ah({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:ux,eventMap:lx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:ux,eventMap:lx,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Fe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}re(Ij,"contextType",Ue);function cx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Jo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dx={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},hx={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},Rh={};function Nj(n){var{position:e,options:t,clusterer:i,noClustererRedraw:a,children:l,draggable:c,visible:f,animation:p,clickable:m,cursor:b,icon:_,label:T,opacity:C,shape:R,title:O,zIndex:L,onClick:z,onDblClick:B,onDrag:Q,onDragEnd:H,onDragStart:F,onMouseOut:Z,onMouseOver:k,onMouseUp:N,onMouseDown:A,onRightClick:P,onClickableChanged:D,onCursorChanged:U,onAnimationChanged:M,onDraggableChanged:pe,onFlatChanged:ye,onIconChanged:K,onPositionChanged:se,onShapeChanged:de,onTitleChanged:me,onVisibleChanged:ge,onZindexChanged:j,onLoad:ee,onUnmount:ae}=n,he=y.useContext(Ue),[W,_e]=y.useState(null),[we,Te]=y.useState(null),[Ne,Se]=y.useState(null),[ze,Yt]=y.useState(null),[hn,fn]=y.useState(null),[We,Dr]=y.useState(null),[Pr,ns]=y.useState(null),[pt,St]=y.useState(null),[Vn,to]=y.useState(null),[mi,Xt]=y.useState(null),[jr,rs]=y.useState(null),[Vr,yr]=y.useState(null),[is,aa]=y.useState(null),[gi,oa]=y.useState(null),[pn,Dt]=y.useState(null),[tn,yt]=y.useState(null),[vi,yi]=y.useState(null),[bi,Un]=y.useState(null),[Ur,xt]=y.useState(null),[xn,zn]=y.useState(null),[mn,no]=y.useState(null),[_i,Bn]=y.useState(null);y.useEffect(()=>{W!==null&&W.setMap(he)},[he]),y.useEffect(()=>{typeof t<"u"&&W!==null&&W.setOptions(t)},[W,t]),y.useEffect(()=>{typeof c<"u"&&W!==null&&W.setDraggable(c)},[W,c]),y.useEffect(()=>{e&&W!==null&&W.setPosition(e)},[W,e]),y.useEffect(()=>{typeof f<"u"&&W!==null&&W.setVisible(f)},[W,f]),y.useEffect(()=>{W?.setAnimation(p)},[W,p]),y.useEffect(()=>{W&&m!==void 0&&W.setClickable(m)},[W,m]),y.useEffect(()=>{W&&b!==void 0&&W.setCursor(b)},[W,b]),y.useEffect(()=>{W&&_!==void 0&&W.setIcon(_)},[W,_]),y.useEffect(()=>{W&&T!==void 0&&W.setLabel(T)},[W,T]),y.useEffect(()=>{W&&C!==void 0&&W.setOpacity(C)},[W,C]),y.useEffect(()=>{W&&R!==void 0&&W.setShape(R)},[W,R]),y.useEffect(()=>{W&&O!==void 0&&W.setTitle(O)},[W,O]),y.useEffect(()=>{W&&L!==void 0&&W.setZIndex(L)},[W,L]),y.useEffect(()=>{W&&B&&(we!==null&&google.maps.event.removeListener(we),Te(google.maps.event.addListener(W,"dblclick",B)))},[B]),y.useEffect(()=>{W&&H&&(Ne!==null&&google.maps.event.removeListener(Ne),Se(google.maps.event.addListener(W,"dragend",H)))},[H]),y.useEffect(()=>{W&&F&&(ze!==null&&google.maps.event.removeListener(ze),Yt(google.maps.event.addListener(W,"dragstart",F)))},[F]),y.useEffect(()=>{W&&A&&(hn!==null&&google.maps.event.removeListener(hn),fn(google.maps.event.addListener(W,"mousedown",A)))},[A]),y.useEffect(()=>{W&&Z&&(We!==null&&google.maps.event.removeListener(We),Dr(google.maps.event.addListener(W,"mouseout",Z)))},[Z]),y.useEffect(()=>{W&&k&&(Pr!==null&&google.maps.event.removeListener(Pr),ns(google.maps.event.addListener(W,"mouseover",k)))},[k]),y.useEffect(()=>{W&&N&&(pt!==null&&google.maps.event.removeListener(pt),St(google.maps.event.addListener(W,"mouseup",N)))},[N]),y.useEffect(()=>{W&&P&&(Vn!==null&&google.maps.event.removeListener(Vn),to(google.maps.event.addListener(W,"rightclick",P)))},[P]),y.useEffect(()=>{W&&z&&(mi!==null&&google.maps.event.removeListener(mi),Xt(google.maps.event.addListener(W,"click",z)))},[z]),y.useEffect(()=>{W&&Q&&(jr!==null&&google.maps.event.removeListener(jr),rs(google.maps.event.addListener(W,"drag",Q)))},[Q]),y.useEffect(()=>{W&&D&&(Vr!==null&&google.maps.event.removeListener(Vr),yr(google.maps.event.addListener(W,"clickable_changed",D)))},[D]),y.useEffect(()=>{W&&U&&(is!==null&&google.maps.event.removeListener(is),aa(google.maps.event.addListener(W,"cursor_changed",U)))},[U]),y.useEffect(()=>{W&&M&&(gi!==null&&google.maps.event.removeListener(gi),oa(google.maps.event.addListener(W,"animation_changed",M)))},[M]),y.useEffect(()=>{W&&pe&&(pn!==null&&google.maps.event.removeListener(pn),Dt(google.maps.event.addListener(W,"draggable_changed",pe)))},[pe]),y.useEffect(()=>{W&&ye&&(tn!==null&&google.maps.event.removeListener(tn),yt(google.maps.event.addListener(W,"flat_changed",ye)))},[ye]),y.useEffect(()=>{W&&K&&(vi!==null&&google.maps.event.removeListener(vi),yi(google.maps.event.addListener(W,"icon_changed",K)))},[K]),y.useEffect(()=>{W&&se&&(bi!==null&&google.maps.event.removeListener(bi),Un(google.maps.event.addListener(W,"position_changed",se)))},[se]),y.useEffect(()=>{W&&de&&(Ur!==null&&google.maps.event.removeListener(Ur),xt(google.maps.event.addListener(W,"shape_changed",de)))},[de]),y.useEffect(()=>{W&&me&&(xn!==null&&google.maps.event.removeListener(xn),zn(google.maps.event.addListener(W,"title_changed",me)))},[me]),y.useEffect(()=>{W&&ge&&(mn!==null&&google.maps.event.removeListener(mn),no(google.maps.event.addListener(W,"visible_changed",ge)))},[ge]),y.useEffect(()=>{W&&j&&(_i!==null&&google.maps.event.removeListener(_i),Bn(google.maps.event.addListener(W,"zindex_changed",j)))},[j]),y.useEffect(()=>{var xi=Jo(Jo(Jo({},t||Rh),i?Rh:{map:he}),{},{position:e}),ke=new google.maps.Marker(xi);return i?i.addMarker(ke,!!a):ke.setMap(he),e&&ke.setPosition(e),typeof f<"u"&&ke.setVisible(f),typeof c<"u"&&ke.setDraggable(c),typeof m<"u"&&ke.setClickable(m),typeof b=="string"&&ke.setCursor(b),_&&ke.setIcon(_),typeof T<"u"&&ke.setLabel(T),typeof C<"u"&&ke.setOpacity(C),R&&ke.setShape(R),typeof O=="string"&&ke.setTitle(O),typeof L=="number"&&ke.setZIndex(L),B&&Te(google.maps.event.addListener(ke,"dblclick",B)),H&&Se(google.maps.event.addListener(ke,"dragend",H)),F&&Yt(google.maps.event.addListener(ke,"dragstart",F)),A&&fn(google.maps.event.addListener(ke,"mousedown",A)),Z&&Dr(google.maps.event.addListener(ke,"mouseout",Z)),k&&ns(google.maps.event.addListener(ke,"mouseover",k)),N&&St(google.maps.event.addListener(ke,"mouseup",N)),P&&to(google.maps.event.addListener(ke,"rightclick",P)),z&&Xt(google.maps.event.addListener(ke,"click",z)),Q&&rs(google.maps.event.addListener(ke,"drag",Q)),D&&yr(google.maps.event.addListener(ke,"clickable_changed",D)),U&&aa(google.maps.event.addListener(ke,"cursor_changed",U)),M&&oa(google.maps.event.addListener(ke,"animation_changed",M)),pe&&Dt(google.maps.event.addListener(ke,"draggable_changed",pe)),ye&&yt(google.maps.event.addListener(ke,"flat_changed",ye)),K&&yi(google.maps.event.addListener(ke,"icon_changed",K)),se&&Un(google.maps.event.addListener(ke,"position_changed",se)),de&&xt(google.maps.event.addListener(ke,"shape_changed",de)),me&&zn(google.maps.event.addListener(ke,"title_changed",me)),ge&&no(google.maps.event.addListener(ke,"visible_changed",ge)),j&&Bn(google.maps.event.addListener(ke,"zindex_changed",j)),_e(ke),ee&&ee(ke),()=>{we!==null&&google.maps.event.removeListener(we),Ne!==null&&google.maps.event.removeListener(Ne),ze!==null&&google.maps.event.removeListener(ze),hn!==null&&google.maps.event.removeListener(hn),We!==null&&google.maps.event.removeListener(We),Pr!==null&&google.maps.event.removeListener(Pr),pt!==null&&google.maps.event.removeListener(pt),Vn!==null&&google.maps.event.removeListener(Vn),mi!==null&&google.maps.event.removeListener(mi),Vr!==null&&google.maps.event.removeListener(Vr),is!==null&&google.maps.event.removeListener(is),gi!==null&&google.maps.event.removeListener(gi),pn!==null&&google.maps.event.removeListener(pn),tn!==null&&google.maps.event.removeListener(tn),vi!==null&&google.maps.event.removeListener(vi),bi!==null&&google.maps.event.removeListener(bi),xn!==null&&google.maps.event.removeListener(xn),mn!==null&&google.maps.event.removeListener(mn),_i!==null&&google.maps.event.removeListener(_i),ae&&ae(ke),i?i.removeMarker(ke,!!a):ke&&ke.setMap(null)}},[]);var Ei=y.useMemo(()=>l?y.Children.map(l,xi=>{if(!y.isValidElement(xi))return xi;var ke=xi;return y.cloneElement(ke,{anchor:W})}):null,[l,W]);return v.jsx(v.Fragment,{children:Ei})||null}y.memo(Nj);class DC extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this;return LC(function*(){var t=Jo(Jo(Jo({},e.props.options||Rh),e.props.clusterer?Rh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:hx,eventMap:dx,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:hx,eventMap:dx,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Fe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var i=t;return y.cloneElement(i,{anchor:this.marker})}):null;return e||null}}re(DC,"contextType",Ue);var Mj=(function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var i=t.getMaxZoom(),a=this.cluster.getBounds(),l=t.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(a),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(a);var f=c.getZoom()||0;i!==null&&f>i&&c.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,i,a,l,c;if(this.div&&this.center){var f=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),m=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),b=parseInt(((t=p[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),_=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(_!==null?"".concat(_.y,"px"):"0","; left: ").concat(_!==null?"".concat(_.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var T=document.createElement("img");T.alt=f,T.src=this.url,T.width=this.width,T.height=this.height,T.setAttribute("style","position: absolute; top: ".concat(b,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(T.style.clip="rect(-".concat(b,"px, -").concat(m+this.width,"px, -").concat(b+this.height,", -").concat(m,")"));var C=document.createElement("div");C.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(C.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(C.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(T),this.div.appendChild(C),this.div.title=f,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),i=t[Math.min(t.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n})(),Oj=(function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Mj(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),i=0,a=t;i<a.length;i++){var l=a[i],c=l.getPosition();c&&e.extend(c)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+i.lat())/a,(this.center.lng()*(a-1)+i.lng())/a),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,c=this.markerClusterer.getMaxZoom(),f=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof f<"u"&&f>c)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var p=0,m=this.markers;p<m.length;p++){var b=m[p];b.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,i=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof a<"u"&&a>i){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n})();function Dj(n,e){var t=n.length,i=t.toString().length,a=Math.min(i,e);return{text:t.toString(),index:a,title:""}}var Pj=2e3,jj=500,Vj="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Uj="png",zj=[53,56,66,78,90],Bj="cluster",PC=(function(){function n(e,t,i){t===void 0&&(t=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||Vj,this.imageExtension=i.imageExtension||Uj,this.imageSizes=i.imageSizes||zj,this.calculator=i.calculator||Dj,this.batchSize=i.batchSize||Pj,this.batchSizeIE=i.batchSizeIE||jj,this.clusterClass=i.clusterClass||Bj,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var i=t[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var a=0,l=this.clusters;a<l.length;a++){var c=l[a];c.remove()}this.clusters=[];for(var f=0,p=this.listeners;f<p.length;f++){var m=p[f];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,i=0,a=e;i<a.length;i++){var l=a[i],c=l.getPosition();c&&t.extend(c)}var f=this.getMap();f!==null&&"fitBounds"in f&&f.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];a&&this.pushMarkerTo(a)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){t=i;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!t&&i&&this.repaint(),i},n.prototype.removeMarkers=function(e,t){for(var i=!1,a=0,l=e;a<l.length;a++){var c=l[a];i=i||this.removeMarker_(c)}return!t&&i&&this.repaint(),i},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,a=e;i<a.length;i++){var l=a[i];l.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var a=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),i!==null){var l=t.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}if(a!==null){var c=t.fromDivPixelToLatLng(a);c!==null&&e.extend(c)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,i=this.clusters;t<i.length;t++){var a=i[t];a.remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var f=c[l];f.isAdded=!1,e&&f.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var i=6371,a=(t.lat()-e.lat())*Math.PI/180,l=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return i*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},n.prototype.isMarkerInBounds=function(e,t){var i=e.getPosition();return i?t.contains(i):!1},n.prototype.addToClosestCluster=function(e){for(var t,i=4e4,a=null,l=0,c=this.clusters;l<c.length;l++){var f=c[l];t=f;var p=t.getCenter(),m=e.getPosition();if(p&&m){var b=this.distanceBetweenPoints(p,m);b<i&&(i=b,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(t=new Oj(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),a=i!==null&&("getBounds"in i)?i.getBounds():null,l=i?.getZoom()||0,c=l>3?new google.maps.LatLngBounds(a?.getSouthWest(),a?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),f=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),m=e;m<p;m++){var b=this.markers[m];b&&!b.isAdded&&this.isMarkerInBounds(b,f)&&(!this.ignoreHidden||this.ignoreHidden&&b.getVisible())&&this.addToClosestCluster(b)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var _=0,T=this.clusters;_<T.length;_++){var C=T[_];C.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype){var c=l;this.prototype[c]=a.prototype[c]}return this}).apply(e,[t])},n})();function fx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function qj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var fr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},tt={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},Hj={};function Fj(n){var{children:e,options:t,averageCenter:i,batchSizeIE:a,calculator:l,clusterClass:c,enableRetinaIcons:f,gridSize:p,ignoreHidden:m,imageExtension:b,imagePath:_,imageSizes:T,maxZoom:C,minimumClusterSize:R,styles:O,title:L,zoomOnClick:z,onClick:B,onClusteringBegin:Q,onClusteringEnd:H,onMouseOver:F,onMouseOut:Z,onLoad:k,onUnmount:N}=n,[A,P]=y.useState(null),D=y.useContext(Ue),[U,M]=y.useState(null),[pe,ye]=y.useState(null),[K,se]=y.useState(null),[de,me]=y.useState(null),[ge,j]=y.useState(null);return y.useEffect(()=>{A&&Z&&(de!==null&&google.maps.event.removeListener(de),me(google.maps.event.addListener(A,fr.onMouseOut,Z)))},[Z]),y.useEffect(()=>{A&&F&&(ge!==null&&google.maps.event.removeListener(ge),j(google.maps.event.addListener(A,fr.onMouseOver,F)))},[F]),y.useEffect(()=>{A&&B&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(A,fr.onClick,B)))},[B]),y.useEffect(()=>{A&&Q&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(A,fr.onClusteringBegin,Q)))},[Q]),y.useEffect(()=>{A&&H&&(K!==null&&google.maps.event.removeListener(K),ye(google.maps.event.addListener(A,fr.onClusteringEnd,H)))},[H]),y.useEffect(()=>{typeof i<"u"&&A!==null&&tt.averageCenter(A,i)},[A,i]),y.useEffect(()=>{typeof a<"u"&&A!==null&&tt.batchSizeIE(A,a)},[A,a]),y.useEffect(()=>{typeof l<"u"&&A!==null&&tt.calculator(A,l)},[A,l]),y.useEffect(()=>{typeof c<"u"&&A!==null&&tt.clusterClass(A,c)},[A,c]),y.useEffect(()=>{typeof f<"u"&&A!==null&&tt.enableRetinaIcons(A,f)},[A,f]),y.useEffect(()=>{typeof p<"u"&&A!==null&&tt.gridSize(A,p)},[A,p]),y.useEffect(()=>{typeof m<"u"&&A!==null&&tt.ignoreHidden(A,m)},[A,m]),y.useEffect(()=>{typeof b<"u"&&A!==null&&tt.imageExtension(A,b)},[A,b]),y.useEffect(()=>{typeof _<"u"&&A!==null&&tt.imagePath(A,_)},[A,_]),y.useEffect(()=>{typeof T<"u"&&A!==null&&tt.imageSizes(A,T)},[A,T]),y.useEffect(()=>{typeof C<"u"&&A!==null&&tt.maxZoom(A,C)},[A,C]),y.useEffect(()=>{typeof R<"u"&&A!==null&&tt.minimumClusterSize(A,R)},[A,R]),y.useEffect(()=>{typeof O<"u"&&A!==null&&tt.styles(A,O)},[A,O]),y.useEffect(()=>{typeof L<"u"&&A!==null&&tt.title(A,L)},[A,L]),y.useEffect(()=>{typeof z<"u"&&A!==null&&tt.zoomOnClick(A,z)},[A,z]),y.useEffect(()=>{if(D){var ee=qj({},t||Hj),ae=new PC(D,[],ee);return i&&tt.averageCenter(ae,i),a&&tt.batchSizeIE(ae,a),l&&tt.calculator(ae,l),c&&tt.clusterClass(ae,c),f&&tt.enableRetinaIcons(ae,f),p&&tt.gridSize(ae,p),m&&tt.ignoreHidden(ae,m),b&&tt.imageExtension(ae,b),_&&tt.imagePath(ae,_),T&&tt.imageSizes(ae,T),C&&tt.maxZoom(ae,C),R&&tt.minimumClusterSize(ae,R),O&&tt.styles(ae,O),L&&tt.title(ae,L),z&&tt.zoomOnClick(ae,z),Z&&me(google.maps.event.addListener(ae,fr.onMouseOut,Z)),F&&j(google.maps.event.addListener(ae,fr.onMouseOver,F)),B&&M(google.maps.event.addListener(ae,fr.onClick,B)),Q&&ye(google.maps.event.addListener(ae,fr.onClusteringBegin,Q)),H&&se(google.maps.event.addListener(ae,fr.onClusteringEnd,H)),P(ae),k&&k(ae),()=>{de!==null&&google.maps.event.removeListener(de),ge!==null&&google.maps.event.removeListener(ge),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),K!==null&&google.maps.event.removeListener(K),N&&N(ae)}}},[]),A!==null&&e(A)||null}y.memo(Fj);class Gj extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{markerClusterer:null}),re(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new PC(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:tt,eventMap:fr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:tt,eventMap:fr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Fe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}re(Gj,"contextType",Ue);function px(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var jC=(function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(b){b.returnValue=!1,b.preventDefault&&b.preventDefault(),e.enableEventPropagation||px(b)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,f=l;c<f.length;c++){var p=f[c];this.eventListeners.push(google.maps.event.addListener(this.div,p,px))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var i=0,a=0,l=t.getBounds();l&&!l.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),f=c.offsetWidth,p=c.offsetHeight,m=this.pixelOffset.width,b=this.pixelOffset.height,_=this.div.offsetWidth,T=this.div.offsetHeight,C=this.infoBoxClearance.width,R=this.infoBoxClearance.height,O=this.getProjection(),L=O.fromLatLngToContainerPixel(this.position);L!==null&&(L.x<-m+C?i=L.x+m-C:L.x+_+m+C>f&&(i=L.x+_+m+C-f),this.alignBottom?L.y<-b+R+T?a=L.y+b-R-T:L.y+b+R>p&&(a=L.y+b+R-p):L.y<-b+R?a=L.y+b-R:L.y+T+b+R>p&&(a=L.y+T+b+R-p)),i===0&&a===0||t.panBy(i,a)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,i=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var i=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var a=t.getPosition();i.setPosition(a)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){i.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var i=t[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=a.prototype[l]);return this}).apply(e,[t])},n})(),Kj=["position"],$j=["position"];function mx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function kh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var gx={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},vx={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},Qj={};function Yj(n){var{children:e,anchor:t,options:i,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:m,onZindexChanged:b,onLoad:_,onUnmount:T}=n,C=y.useContext(Ue),[R,O]=y.useState(null),[L,z]=y.useState(null),[B,Q]=y.useState(null),[H,F]=y.useState(null),[Z,k]=y.useState(null),[N,A]=y.useState(null),P=y.useRef(null);return y.useEffect(()=>{C&&R!==null&&(R.close(),t?R.open(C,t):R.getPosition()&&R.open(C))},[C,R,t]),y.useEffect(()=>{i&&R!==null&&R.setOptions(i)},[R,i]),y.useEffect(()=>{if(a&&R!==null){var D=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);R.setPosition(D)}},[a]),y.useEffect(()=>{typeof l=="number"&&R!==null&&R.setZIndex(l)},[l]),y.useEffect(()=>{R&&c&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(R,"closeclick",c)))},[c]),y.useEffect(()=>{R&&f&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(R,"domready",f)))},[f]),y.useEffect(()=>{R&&p&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(R,"content_changed",p)))},[p]),y.useEffect(()=>{R&&m&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(R,"position_changed",m)))},[m]),y.useEffect(()=>{R&&b&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(R,"zindex_changed",b)))},[b]),y.useEffect(()=>{if(C){var D=i||Qj,{position:U}=D,M=Cv(D,Kj),pe;U&&!(U instanceof google.maps.LatLng)&&(pe=new google.maps.LatLng(U.lat,U.lng));var ye=new jC(kh(kh({},M),pe?{position:pe}:{}));P.current=document.createElement("div"),O(ye),c&&z(google.maps.event.addListener(ye,"closeclick",c)),f&&Q(google.maps.event.addListener(ye,"domready",f)),p&&F(google.maps.event.addListener(ye,"content_changed",p)),m&&k(google.maps.event.addListener(ye,"position_changed",m)),b&&A(google.maps.event.addListener(ye,"zindex_changed",b)),ye.setContent(P.current),t?ye.open(C,t):ye.getPosition()?ye.open(C):Qt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),_&&_(ye)}return()=>{R!==null&&(L&&google.maps.event.removeListener(L),H&&google.maps.event.removeListener(H),B&&google.maps.event.removeListener(B),Z&&google.maps.event.removeListener(Z),N&&google.maps.event.removeListener(N),T&&T(R),R.close())}},[]),P.current?ol.createPortal(y.Children.only(e),P.current):null}y.memo(Yj);class Xj extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoBox:null}),re(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Qt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),re(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,i=Cv(e,$j),a;t&&!(t instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(t.lat,t.lng));var l=new jC(kh(kh({},i),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:vx,eventMap:gx,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:vx,eventMap:gx,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Fe(this.registeredEvents),t.close())}render(){return this.containerElement?ol.createPortal(y.Children.only(this.props.children),this.containerElement):null}}re(Xj,"contextType",Ue);var km,yx;function Wj(){return yx||(yx=1,km=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=i;a--!==0;){var c=l[a];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),km}var Zj=Wj(),bx=kC(Zj),_x=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Lm=1,bu=8;class Rv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,i]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=i>>4;if(a!==Lm)throw new Error("Got v".concat(a," data when expected v").concat(Lm,"."));var l=_x[i&15];if(!l)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[f]=new Uint32Array(e,4,1);return new Rv(f,c,l,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=_x.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,f=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-f%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(i,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,bu,e),this.coords=new this.ArrayType(this.data,bu+f+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(bu+c+f+p),this.ids=new this.IndexArrayType(this.data,bu,e),this.coords=new this.ArrayType(this.data,bu+f+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Lm<<4)+l]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=t,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return cg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,i,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:f}=this,p=[0,l.length-1,0],m=[];p.length;){var b=p.pop()||0,_=p.pop()||0,T=p.pop()||0;if(_-T<=f){for(var C=T;C<=_;C++){var R=c[2*C],O=c[2*C+1];R>=e&&R<=i&&O>=t&&O<=a&&m.push(l[C])}continue}var L=T+_>>1,z=c[2*L],B=c[2*L+1];z>=e&&z<=i&&B>=t&&B<=a&&m.push(l[L]),(b===0?e<=z:t<=B)&&(p.push(T),p.push(L-1),p.push(1-b)),(b===0?i>=z:a>=B)&&(p.push(L+1),p.push(_),p.push(1-b))}return m}within(e,t,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,f=[0,a.length-1,0],p=[],m=i*i;f.length;){var b=f.pop()||0,_=f.pop()||0,T=f.pop()||0;if(_-T<=c){for(var C=T;C<=_;C++)Ex(l[2*C],l[2*C+1],e,t)<=m&&p.push(a[C]);continue}var R=T+_>>1,O=l[2*R],L=l[2*R+1];Ex(O,L,e,t)<=m&&p.push(a[R]),(b===0?e-i<=O:t-i<=L)&&(f.push(T),f.push(R-1),f.push(1-b)),(b===0?e+i>=O:t+i>=L)&&(f.push(R+1),f.push(_),f.push(1-b))}return p}}function cg(n,e,t,i,a,l){if(!(a-i<=t)){var c=i+a>>1;VC(n,e,c,i,a,l),cg(n,e,t,i,c-1,1-l),cg(n,e,t,c+1,a,1-l)}}function VC(n,e,t,i,a,l){for(;a>i;){if(a-i>600){var c=a-i+1,f=t-i+1,p=Math.log(c),m=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*m*(c-m)/c)*(f-c/2<0?-1:1),_=Math.max(i,Math.floor(t-f*m/c+b)),T=Math.min(a,Math.floor(t+(c-f)*m/c+b));VC(n,e,t,_,T,l)}var C=e[2*t+l],R=i,O=a;for(_u(n,e,i,t),e[2*a+l]>C&&_u(n,e,i,a);R<O;){for(_u(n,e,R,O),R++,O--;e[2*R+l]<C;)R++;for(;e[2*O+l]>C;)O--}e[2*i+l]===C?_u(n,e,i,O):(O++,_u(n,e,O,a)),O<=t&&(i=O+1),t<=O&&(a=O-1)}}function _u(n,e,t,i){Im(n,t,i),Im(e,2*t,2*i),Im(e,2*t+1,2*i+1)}function Im(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function Ex(n,e,t,i){var a=n-t,l=e-i;return a*a+l*l}var Jj={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},xx=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Oa=2,Vs=3,Nm=4,js=5,UC=6;class e4{constructor(e){this.options=Object.assign(Object.create(Jj),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:i,maxZoom:a}=this.options;t&&console.time("total time");var l="prepare ".concat(e.length," points");t&&console.time(l),this.points=e;for(var c=[],f=0;f<e.length;f++){var p=e[f];if(p.geometry){var[m,b]=p.geometry.coordinates,_=xx(Fd(m)),T=xx(Gd(b));c.push(_,T,1/0,f,-1,1),this.options.reduce&&c.push(0)}}var C=this.trees[a+1]=this._createTree(c);t&&console.timeEnd(l);for(var R=a;R>=i;R--){var O=+Date.now();C=this.trees[R]=this._createTree(this._cluster(C,R)),t&&console.log("z%d: %d clusters in %dms",R,C.numItems,+Date.now()-O)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var i=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,l=180;else if(i>l){var f=this.getClusters([i,a,180,c],t),p=this.getClusters([-180,a,l,c],t);return f.concat(p)}var m=this.trees[this._limitZoom(t)],b=m.range(Fd(i),Gd(c),Fd(l),Gd(a)),_=m.data,T=[];for(var C of b){var R=this.stride*C;T.push(_[R+js]>1?wx(_,R,this.clusterProps):this.points[_[R+Vs]])}return T}getChildren(e){var t=this._getOriginId(e),i=this._getOriginZoom(e),a="No cluster with the specified id.",l=this.trees[i];if(!l)throw new Error(a);var c=l.data;if(t*this.stride>=c.length)throw new Error(a);var f=this.options.radius/(this.options.extent*Math.pow(2,i-1)),p=c[t*this.stride],m=c[t*this.stride+1],b=l.within(p,m,f),_=[];for(var T of b){var C=T*this.stride;c[C+Nm]===e&&_.push(c[C+js]>1?wx(c,C,this.clusterProps):this.points[c[C+Vs]])}if(_.length===0)throw new Error(a);return _}getLeaves(e,t,i){t=t||10,i=i||0;var a=[];return this._appendLeaves(a,e,t,i,0),a}getTile(e,t,i){var a=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:c,radius:f}=this.options,p=f/c,m=(i-p)/l,b=(i+1+p)/l,_={features:[]};return this._addTileFeatures(a.range((t-p)/l,m,(t+1+p)/l,b),a.data,t,i,l,_),t===0&&this._addTileFeatures(a.range(1-p/l,m,1,b),a.data,l,i,l,_),t===l-1&&this._addTileFeatures(a.range(0,m,p/l,b),a.data,-1,i,l,_),_.features.length?_:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var i=this.getChildren(e);if(t++,i.length!==1)break;e=i[0].properties.cluster_id}return t}_appendLeaves(e,t,i,a,l){var c=this.getChildren(t);for(var f of c){var p=f.properties;if(p&&p.cluster?l+p.point_count<=a?l+=p.point_count:l=this._appendLeaves(e,p.cluster_id,i,a,l):l<a?l++:e.push(f),e.length===i)break}return l}_createTree(e){for(var t=new Rv(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)t.add(e[i],e[i+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,i,a,l,c){for(var f of e){var p=f*this.stride,m=t[p+js]>1,b=void 0,_=void 0,T=void 0;if(m)b=zC(t,p,this.clusterProps),_=t[p],T=t[p+1];else{var C=this.points[t[p+Vs]];b=C.properties;var[R,O]=C.geometry.coordinates;_=Fd(R),T=Gd(O)}var L={type:1,geometry:[[Math.round(this.options.extent*(_*l-i)),Math.round(this.options.extent*(T*l-a))]],tags:b},z=void 0;m||this.options.generateId?z=t[p+Vs]:z=this.points[t[p+Vs]].id,z!==void 0&&(L.id=z),c.features.push(L)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:i,extent:a,reduce:l,minPoints:c}=this.options,f=i/(a*Math.pow(2,t)),p=e.data,m=[],b=this.stride,_=0;_<p.length;_+=b)if(!(p[_+Oa]<=t)){p[_+Oa]=t;var T=p[_],C=p[_+1],R=e.within(p[_],p[_+1],f),O=p[_+js],L=O;for(var z of R){var B=z*b;p[B+Oa]>t&&(L+=p[B+js])}if(L>O&&L>=c){var Q=T*O,H=C*O,F=void 0,Z=-1,k=((_/b|0)<<5)+(t+1)+this.points.length;for(var N of R){var A=N*b;if(!(p[A+Oa]<=t)){p[A+Oa]=t;var P=p[A+js];Q+=p[A]*P,H+=p[A+1]*P,p[A+Nm]=k,l&&(F||(F=this._map(p,_,!0),Z=this.clusterProps.length,this.clusterProps.push(F)),l(F,this._map(p,A)))}}p[_+Nm]=k,m.push(Q/L,H/L,1/0,k,-1,L),l&&m.push(Z)}else{for(var D=0;D<b;D++)m.push(p[_+D]);if(L>1)for(var U of R){var M=U*b;if(!(p[M+Oa]<=t)){p[M+Oa]=t;for(var pe=0;pe<b;pe++)m.push(p[M+pe])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,i){if(e[t+js]>1){var a=this.clusterProps[e[t+UC]];return i?Object.assign({},a):a}var l=this.points[e[t+Vs]].properties,c=this.options.map(l);return i&&c===l?Object.assign({},c):c}}function wx(n,e,t){return{type:"Feature",id:n[e+Vs],properties:zC(n,e,t),geometry:{type:"Point",coordinates:[t4(n[e]),n4(n[e+1])]}}}function zC(n,e,t){var i=n[e+js],a=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,l=n[e+UC],c=l===-1?{}:Object.assign({},t[l]);return Object.assign(c,{cluster:!0,cluster_id:n[e+Vs],point_count:i,point_count_abbreviated:a})}function Fd(n){return n/360+.5}function Gd(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function t4(n){return(n-.5)*360}function n4(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function r4(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}class Wn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class dg{constructor(e){var{markers:t,position:i}=e;this.markers=t,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Wn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Wn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Wn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class i4{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return s4(t)}}var s4=n=>{var e=n.map(t=>new dg({position:Wn.getPosition(t),markers:[t]}));return e};class a4 extends i4{constructor(e){var{maxZoom:t,radius:i=60}=e,a=r4(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new e4(Object.assign({maxZoom:this.maxZoom,radius:i},a))}calculate(e){var t=!1,i={zoom:e.map.getZoom()};if(!bx(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var a=this.markers.map(l=>{var c=Wn.getPosition(l),f=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:f},properties:{marker:l}}});this.superCluster.load(a)}return t||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(t=!bx(this.state,i)),this.state=i,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[t,i]},properties:a}=e;if(a.cluster)return new dg({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:i,lng:t}});var l=a.marker;return new dg({markers:[l],position:Wn.getPosition(l)})}}class o4{constructor(e,t){this.markers={sum:e.length};var i=t.map(l=>l.count),a=i.reduce((l,c)=>l+c,0);this.clusters={count:t.length,markers:{mean:a/t.length,sum:a,min:Math.min(...i),max:Math.max(...i)}}}}class l4{render(e,t,i){var{count:a,position:l}=e,c=a>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",f='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),p="Cluster of ".concat(a," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+a;if(Wn.isAdvancedMarkerAvailable(i)){var b=new DOMParser,_=b.parseFromString(f,"image/svg+xml").documentElement;_.setAttribute("transform","translate(0 25)");var T={map:i,position:l,zIndex:m,title:p,content:_};return new google.maps.marker.AdvancedMarkerElement(T)}var C={position:l,zIndex:m,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(f)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(C)}}function u4(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class kv{constructor(){u4(kv,google.maps.OverlayView)}}var Du;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Du||(Du={}));var c4=(n,e,t)=>{t.fitBounds(e.bounds)};class d4 extends kv{constructor(e){var{map:t,markers:i=[],algorithmOptions:a={},algorithm:l=new a4(a),renderer:c=new l4,onClusterClick:f=c4}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=l,this.renderer=c,this.onClusterClick=f,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(i=>{this.addMarker(i,!0)}),t||this.render()}removeMarker(e,t){var i=this.markers.indexOf(e);return i===-1?!1:(Wn.setMap(e,null),this.markers.splice(i,1),t||this.render(),!0)}removeMarkers(e,t){var i=!1;return e.forEach(a=>{i=this.removeMarker(a,!0)||i}),i&&!t&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Du.CLUSTERING_BEGIN,this);var{clusters:t,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var a=new Set;for(var l of t)l.markers.length==1&&a.add(l.markers[0]);var c=[];for(var f of this.clusters)f.marker!=null&&(f.markers.length==1?a.has(f.marker)||Wn.setMap(f.marker,null):c.push(f.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(p=>Wn.setMap(p,null)))}google.maps.event.trigger(this,Du.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Wn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new o4(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,t),i.markers.forEach(a=>Wn.setMap(a,null)),this.onClusterClick&&i.marker.addListener("click",a=>{google.maps.event.trigger(this,Du.CLUSTER_CLICK,i),this.onClusterClick(a,i,t)})),Wn.setMap(i.marker,t)})}}function Tx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Sx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function h4(n){var e=dj(),[t,i]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var a=new d4(Sx(Sx({},n),{},{map:e}));i(a)}},[e]),t}function f4(n){var{children:e,options:t}=n,i=h4(t);return i!==null?e(i):null}y.memo(f4);var Cx={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ax={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function p4(n){var{children:e,anchor:t,options:i,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:m,onZindexChanged:b,onLoad:_,onUnmount:T}=n,C=y.useContext(Ue),[R,O]=y.useState(null),[L,z]=y.useState(null),[B,Q]=y.useState(null),[H,F]=y.useState(null),[Z,k]=y.useState(null),[N,A]=y.useState(null),P=y.useRef(null);return y.useEffect(()=>{R!==null&&(R.close(),t?R.open(C,t):R.getPosition()&&R.open(C))},[C,R,t]),y.useEffect(()=>{i&&R!==null&&R.setOptions(i)},[R,i]),y.useEffect(()=>{a&&R!==null&&R.setPosition(a)},[a]),y.useEffect(()=>{typeof l=="number"&&R!==null&&R.setZIndex(l)},[l]),y.useEffect(()=>{R&&c&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(R,"closeclick",c)))},[c]),y.useEffect(()=>{R&&f&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(R,"domready",f)))},[f]),y.useEffect(()=>{R&&p&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(R,"content_changed",p)))},[p]),y.useEffect(()=>{R&&m&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(R,"position_changed",m)))},[m]),y.useEffect(()=>{R&&b&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(R,"zindex_changed",b)))},[b]),y.useEffect(()=>{var D=new google.maps.InfoWindow(i);return O(D),P.current=document.createElement("div"),c&&z(google.maps.event.addListener(D,"closeclick",c)),f&&Q(google.maps.event.addListener(D,"domready",f)),p&&F(google.maps.event.addListener(D,"content_changed",p)),m&&k(google.maps.event.addListener(D,"position_changed",m)),b&&A(google.maps.event.addListener(D,"zindex_changed",b)),D.setContent(P.current),a&&D.setPosition(a),l&&D.setZIndex(l),t?D.open(C,t):D.getPosition()?D.open(C):Qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),_&&_(D),()=>{L&&google.maps.event.removeListener(L),H&&google.maps.event.removeListener(H),B&&google.maps.event.removeListener(B),Z&&google.maps.event.removeListener(Z),N&&google.maps.event.removeListener(N),T&&T(D),D.close()}},[]),P.current?ol.createPortal(y.Children.only(e),P.current):null}y.memo(p4);class m4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoWindow:null}),re(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Qt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),re(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:Ax,eventMap:Cx,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Ax,eventMap:Cx,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?ol.createPortal(y.Children.only(this.props.children),this.containerElement):null}}re(m4,"contextType",Ue);function Rx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Lh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var kx={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Lx={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},g4={};function v4(n){var{options:e,draggable:t,editable:i,visible:a,path:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:m,onMouseMove:b,onMouseOut:_,onMouseOver:T,onMouseUp:C,onRightClick:R,onClick:O,onDrag:L,onLoad:z,onUnmount:B}=n,Q=y.useContext(Ue),[H,F]=y.useState(null),[Z,k]=y.useState(null),[N,A]=y.useState(null),[P,D]=y.useState(null),[U,M]=y.useState(null),[pe,ye]=y.useState(null),[K,se]=y.useState(null),[de,me]=y.useState(null),[ge,j]=y.useState(null),[ee,ae]=y.useState(null),[he,W]=y.useState(null),[_e,we]=y.useState(null);return y.useEffect(()=>{H!==null&&H.setMap(Q)},[Q]),y.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),y.useEffect(()=>{typeof t<"u"&&H!==null&&H.setDraggable(t)},[H,t]),y.useEffect(()=>{typeof i<"u"&&H!==null&&H.setEditable(i)},[H,i]),y.useEffect(()=>{typeof a<"u"&&H!==null&&H.setVisible(a)},[H,a]),y.useEffect(()=>{typeof l<"u"&&H!==null&&H.setPath(l)},[H,l]),y.useEffect(()=>{H&&c&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(H,"dblclick",c)))},[c]),y.useEffect(()=>{H&&f&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(H,"dragend",f)))},[f]),y.useEffect(()=>{H&&p&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(H,"dragstart",p)))},[p]),y.useEffect(()=>{H&&m&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(H,"mousedown",m)))},[m]),y.useEffect(()=>{H&&b&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(H,"mousemove",b)))},[b]),y.useEffect(()=>{H&&_&&(K!==null&&google.maps.event.removeListener(K),se(google.maps.event.addListener(H,"mouseout",_)))},[_]),y.useEffect(()=>{H&&T&&(de!==null&&google.maps.event.removeListener(de),me(google.maps.event.addListener(H,"mouseover",T)))},[T]),y.useEffect(()=>{H&&C&&(ge!==null&&google.maps.event.removeListener(ge),j(google.maps.event.addListener(H,"mouseup",C)))},[C]),y.useEffect(()=>{H&&R&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(H,"rightclick",R)))},[R]),y.useEffect(()=>{H&&O&&(he!==null&&google.maps.event.removeListener(he),W(google.maps.event.addListener(H,"click",O)))},[O]),y.useEffect(()=>{H&&L&&(_e!==null&&google.maps.event.removeListener(_e),we(google.maps.event.addListener(H,"drag",L)))},[L]),y.useEffect(()=>{var Te=new google.maps.Polyline(Lh(Lh({},e||g4),{},{map:Q}));return l&&Te.setPath(l),typeof a<"u"&&Te.setVisible(a),typeof i<"u"&&Te.setEditable(i),typeof t<"u"&&Te.setDraggable(t),c&&k(google.maps.event.addListener(Te,"dblclick",c)),f&&A(google.maps.event.addListener(Te,"dragend",f)),p&&D(google.maps.event.addListener(Te,"dragstart",p)),m&&M(google.maps.event.addListener(Te,"mousedown",m)),b&&ye(google.maps.event.addListener(Te,"mousemove",b)),_&&se(google.maps.event.addListener(Te,"mouseout",_)),T&&me(google.maps.event.addListener(Te,"mouseover",T)),C&&j(google.maps.event.addListener(Te,"mouseup",C)),R&&ae(google.maps.event.addListener(Te,"rightclick",R)),O&&W(google.maps.event.addListener(Te,"click",O)),L&&we(google.maps.event.addListener(Te,"drag",L)),F(Te),z&&z(Te),()=>{Z!==null&&google.maps.event.removeListener(Z),N!==null&&google.maps.event.removeListener(N),P!==null&&google.maps.event.removeListener(P),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),K!==null&&google.maps.event.removeListener(K),de!==null&&google.maps.event.removeListener(de),ge!==null&&google.maps.event.removeListener(ge),ee!==null&&google.maps.event.removeListener(ee),he!==null&&google.maps.event.removeListener(he),B&&B(Te),Te.setMap(null)}},[]),null}y.memo(v4);class y4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{polyline:null}),re(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Lh(Lh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Lx,eventMap:kx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Lx,eventMap:kx,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Fe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}re(y4,"contextType",Ue);function Ix(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ix(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Mx={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ox={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function b4(n){var{options:e,draggable:t,editable:i,visible:a,path:l,paths:c,onDblClick:f,onDragEnd:p,onDragStart:m,onMouseDown:b,onMouseMove:_,onMouseOut:T,onMouseOver:C,onMouseUp:R,onRightClick:O,onClick:L,onDrag:z,onLoad:B,onUnmount:Q,onEdit:H}=n,F=y.useContext(Ue),[Z,k]=y.useState(null),[N,A]=y.useState(null),[P,D]=y.useState(null),[U,M]=y.useState(null),[pe,ye]=y.useState(null),[K,se]=y.useState(null),[de,me]=y.useState(null),[ge,j]=y.useState(null),[ee,ae]=y.useState(null),[he,W]=y.useState(null),[_e,we]=y.useState(null),[Te,Ne]=y.useState(null);return y.useEffect(()=>{Z!==null&&Z.setMap(F)},[F]),y.useEffect(()=>{typeof e<"u"&&Z!==null&&Z.setOptions(e)},[Z,e]),y.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setDraggable(t)},[Z,t]),y.useEffect(()=>{typeof i<"u"&&Z!==null&&Z.setEditable(i)},[Z,i]),y.useEffect(()=>{typeof a<"u"&&Z!==null&&Z.setVisible(a)},[Z,a]),y.useEffect(()=>{typeof l<"u"&&Z!==null&&Z.setPath(l)},[Z,l]),y.useEffect(()=>{typeof c<"u"&&Z!==null&&Z.setPaths(c)},[Z,c]),y.useEffect(()=>{Z&&typeof f=="function"&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(Z,"dblclick",f)))},[f]),y.useEffect(()=>{Z&&(google.maps.event.addListener(Z.getPath(),"insert_at",()=>{H?.(Z)}),google.maps.event.addListener(Z.getPath(),"set_at",()=>{H?.(Z)}),google.maps.event.addListener(Z.getPath(),"remove_at",()=>{H?.(Z)}))},[Z,H]),y.useEffect(()=>{Z&&typeof p=="function"&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(Z,"dragend",p)))},[p]),y.useEffect(()=>{Z&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(Z,"dragstart",m)))},[m]),y.useEffect(()=>{Z&&typeof b=="function"&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(Z,"mousedown",b)))},[b]),y.useEffect(()=>{Z&&typeof _=="function"&&(K!==null&&google.maps.event.removeListener(K),se(google.maps.event.addListener(Z,"mousemove",_)))},[_]),y.useEffect(()=>{Z&&typeof T=="function"&&(de!==null&&google.maps.event.removeListener(de),me(google.maps.event.addListener(Z,"mouseout",T)))},[T]),y.useEffect(()=>{Z&&typeof C=="function"&&(ge!==null&&google.maps.event.removeListener(ge),j(google.maps.event.addListener(Z,"mouseover",C)))},[C]),y.useEffect(()=>{Z&&typeof R=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(Z,"mouseup",R)))},[R]),y.useEffect(()=>{Z&&typeof O=="function"&&(he!==null&&google.maps.event.removeListener(he),W(google.maps.event.addListener(Z,"rightclick",O)))},[O]),y.useEffect(()=>{Z&&typeof L=="function"&&(_e!==null&&google.maps.event.removeListener(_e),we(google.maps.event.addListener(Z,"click",L)))},[L]),y.useEffect(()=>{Z&&typeof z=="function"&&(Te!==null&&google.maps.event.removeListener(Te),Ne(google.maps.event.addListener(Z,"drag",z)))},[z]),y.useEffect(()=>{var Se=new google.maps.Polygon(Nx(Nx({},e),{},{map:F}));return l&&Se.setPath(l),c&&Se.setPaths(c),typeof a<"u"&&Se.setVisible(a),typeof i<"u"&&Se.setEditable(i),typeof t<"u"&&Se.setDraggable(t),f&&A(google.maps.event.addListener(Se,"dblclick",f)),p&&D(google.maps.event.addListener(Se,"dragend",p)),m&&M(google.maps.event.addListener(Se,"dragstart",m)),b&&ye(google.maps.event.addListener(Se,"mousedown",b)),_&&se(google.maps.event.addListener(Se,"mousemove",_)),T&&me(google.maps.event.addListener(Se,"mouseout",T)),C&&j(google.maps.event.addListener(Se,"mouseover",C)),R&&ae(google.maps.event.addListener(Se,"mouseup",R)),O&&W(google.maps.event.addListener(Se,"rightclick",O)),L&&we(google.maps.event.addListener(Se,"click",L)),z&&Ne(google.maps.event.addListener(Se,"drag",z)),k(Se),B&&B(Se),()=>{N!==null&&google.maps.event.removeListener(N),P!==null&&google.maps.event.removeListener(P),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),K!==null&&google.maps.event.removeListener(K),de!==null&&google.maps.event.removeListener(de),ge!==null&&google.maps.event.removeListener(ge),ee!==null&&google.maps.event.removeListener(ee),he!==null&&google.maps.event.removeListener(he),_e!==null&&google.maps.event.removeListener(_e),Q&&Q(Se),Se.setMap(null)}},[]),null}y.memo(b4);class _4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:Ox,eventMap:Mx,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Ox,eventMap:Mx,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Fe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}re(_4,"contextType",Ue);function Dx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Ih(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Px={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},jx={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function E4(n){var{options:e,bounds:t,draggable:i,editable:a,visible:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:m,onMouseMove:b,onMouseOut:_,onMouseOver:T,onMouseUp:C,onRightClick:R,onClick:O,onDrag:L,onBoundsChanged:z,onLoad:B,onUnmount:Q}=n,H=y.useContext(Ue),[F,Z]=y.useState(null),[k,N]=y.useState(null),[A,P]=y.useState(null),[D,U]=y.useState(null),[M,pe]=y.useState(null),[ye,K]=y.useState(null),[se,de]=y.useState(null),[me,ge]=y.useState(null),[j,ee]=y.useState(null),[ae,he]=y.useState(null),[W,_e]=y.useState(null),[we,Te]=y.useState(null),[Ne,Se]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(H)},[H]),y.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),y.useEffect(()=>{typeof i<"u"&&F!==null&&F.setDraggable(i)},[F,i]),y.useEffect(()=>{typeof a<"u"&&F!==null&&F.setEditable(a)},[F,a]),y.useEffect(()=>{typeof l<"u"&&F!==null&&F.setVisible(l)},[F,l]),y.useEffect(()=>{typeof t<"u"&&F!==null&&F.setBounds(t)},[F,t]),y.useEffect(()=>{F&&c&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(F,"dblclick",c)))},[c]),y.useEffect(()=>{F&&f&&(A!==null&&google.maps.event.removeListener(A),P(google.maps.event.addListener(F,"dragend",f)))},[f]),y.useEffect(()=>{F&&p&&(D!==null&&google.maps.event.removeListener(D),U(google.maps.event.addListener(F,"dragstart",p)))},[p]),y.useEffect(()=>{F&&m&&(M!==null&&google.maps.event.removeListener(M),pe(google.maps.event.addListener(F,"mousedown",m)))},[m]),y.useEffect(()=>{F&&b&&(ye!==null&&google.maps.event.removeListener(ye),K(google.maps.event.addListener(F,"mousemove",b)))},[b]),y.useEffect(()=>{F&&_&&(se!==null&&google.maps.event.removeListener(se),de(google.maps.event.addListener(F,"mouseout",_)))},[_]),y.useEffect(()=>{F&&T&&(me!==null&&google.maps.event.removeListener(me),ge(google.maps.event.addListener(F,"mouseover",T)))},[T]),y.useEffect(()=>{F&&C&&(j!==null&&google.maps.event.removeListener(j),ee(google.maps.event.addListener(F,"mouseup",C)))},[C]),y.useEffect(()=>{F&&R&&(ae!==null&&google.maps.event.removeListener(ae),he(google.maps.event.addListener(F,"rightclick",R)))},[R]),y.useEffect(()=>{F&&O&&(W!==null&&google.maps.event.removeListener(W),_e(google.maps.event.addListener(F,"click",O)))},[O]),y.useEffect(()=>{F&&L&&(we!==null&&google.maps.event.removeListener(we),Te(google.maps.event.addListener(F,"drag",L)))},[L]),y.useEffect(()=>{F&&z&&(Ne!==null&&google.maps.event.removeListener(Ne),Se(google.maps.event.addListener(F,"bounds_changed",z)))},[z]),y.useEffect(()=>{var ze=new google.maps.Rectangle(Ih(Ih({},e),{},{map:H}));return typeof l<"u"&&ze.setVisible(l),typeof a<"u"&&ze.setEditable(a),typeof i<"u"&&ze.setDraggable(i),typeof t<"u"&&ze.setBounds(t),c&&N(google.maps.event.addListener(ze,"dblclick",c)),f&&P(google.maps.event.addListener(ze,"dragend",f)),p&&U(google.maps.event.addListener(ze,"dragstart",p)),m&&pe(google.maps.event.addListener(ze,"mousedown",m)),b&&K(google.maps.event.addListener(ze,"mousemove",b)),_&&de(google.maps.event.addListener(ze,"mouseout",_)),T&&ge(google.maps.event.addListener(ze,"mouseover",T)),C&&ee(google.maps.event.addListener(ze,"mouseup",C)),R&&he(google.maps.event.addListener(ze,"rightclick",R)),O&&_e(google.maps.event.addListener(ze,"click",O)),L&&Te(google.maps.event.addListener(ze,"drag",L)),z&&Se(google.maps.event.addListener(ze,"bounds_changed",z)),Z(ze),B&&B(ze),()=>{k!==null&&google.maps.event.removeListener(k),A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),M!==null&&google.maps.event.removeListener(M),ye!==null&&google.maps.event.removeListener(ye),se!==null&&google.maps.event.removeListener(se),me!==null&&google.maps.event.removeListener(me),j!==null&&google.maps.event.removeListener(j),ae!==null&&google.maps.event.removeListener(ae),W!==null&&google.maps.event.removeListener(W),we!==null&&google.maps.event.removeListener(we),Ne!==null&&google.maps.event.removeListener(Ne),Q&&Q(ze),ze.setMap(null)}},[]),null}y.memo(E4);class x4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{rectangle:null}),re(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Ih(Ih({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:jx,eventMap:Px,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:jx,eventMap:Px,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Fe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}re(x4,"contextType",Ue);function Vx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Nh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ux={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zx={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},w4={};function T4(n){var{options:e,center:t,radius:i,draggable:a,editable:l,visible:c,onDblClick:f,onDragEnd:p,onDragStart:m,onMouseDown:b,onMouseMove:_,onMouseOut:T,onMouseOver:C,onMouseUp:R,onRightClick:O,onClick:L,onDrag:z,onCenterChanged:B,onRadiusChanged:Q,onLoad:H,onUnmount:F}=n,Z=y.useContext(Ue),[k,N]=y.useState(null),[A,P]=y.useState(null),[D,U]=y.useState(null),[M,pe]=y.useState(null),[ye,K]=y.useState(null),[se,de]=y.useState(null),[me,ge]=y.useState(null),[j,ee]=y.useState(null),[ae,he]=y.useState(null),[W,_e]=y.useState(null),[we,Te]=y.useState(null),[Ne,Se]=y.useState(null),[ze,Yt]=y.useState(null),[hn,fn]=y.useState(null);return y.useEffect(()=>{k!==null&&k.setMap(Z)},[Z]),y.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),y.useEffect(()=>{typeof a<"u"&&k!==null&&k.setDraggable(a)},[k,a]),y.useEffect(()=>{typeof l<"u"&&k!==null&&k.setEditable(l)},[k,l]),y.useEffect(()=>{typeof c<"u"&&k!==null&&k.setVisible(c)},[k,c]),y.useEffect(()=>{typeof i=="number"&&k!==null&&k.setRadius(i)},[k,i]),y.useEffect(()=>{typeof t<"u"&&k!==null&&k.setCenter(t)},[k,t]),y.useEffect(()=>{k&&f&&(A!==null&&google.maps.event.removeListener(A),P(google.maps.event.addListener(k,"dblclick",f)))},[f]),y.useEffect(()=>{k&&p&&(D!==null&&google.maps.event.removeListener(D),U(google.maps.event.addListener(k,"dragend",p)))},[p]),y.useEffect(()=>{k&&m&&(M!==null&&google.maps.event.removeListener(M),pe(google.maps.event.addListener(k,"dragstart",m)))},[m]),y.useEffect(()=>{k&&b&&(ye!==null&&google.maps.event.removeListener(ye),K(google.maps.event.addListener(k,"mousedown",b)))},[b]),y.useEffect(()=>{k&&_&&(se!==null&&google.maps.event.removeListener(se),de(google.maps.event.addListener(k,"mousemove",_)))},[_]),y.useEffect(()=>{k&&T&&(me!==null&&google.maps.event.removeListener(me),ge(google.maps.event.addListener(k,"mouseout",T)))},[T]),y.useEffect(()=>{k&&C&&(j!==null&&google.maps.event.removeListener(j),ee(google.maps.event.addListener(k,"mouseover",C)))},[C]),y.useEffect(()=>{k&&R&&(ae!==null&&google.maps.event.removeListener(ae),he(google.maps.event.addListener(k,"mouseup",R)))},[R]),y.useEffect(()=>{k&&O&&(W!==null&&google.maps.event.removeListener(W),_e(google.maps.event.addListener(k,"rightclick",O)))},[O]),y.useEffect(()=>{k&&L&&(we!==null&&google.maps.event.removeListener(we),Te(google.maps.event.addListener(k,"click",L)))},[L]),y.useEffect(()=>{k&&z&&(Ne!==null&&google.maps.event.removeListener(Ne),Se(google.maps.event.addListener(k,"drag",z)))},[z]),y.useEffect(()=>{k&&B&&(ze!==null&&google.maps.event.removeListener(ze),Yt(google.maps.event.addListener(k,"center_changed",B)))},[L]),y.useEffect(()=>{k&&Q&&(hn!==null&&google.maps.event.removeListener(hn),fn(google.maps.event.addListener(k,"radius_changed",Q)))},[Q]),y.useEffect(()=>{var We=new google.maps.Circle(Nh(Nh({},e||w4),{},{map:Z}));return typeof i=="number"&&We.setRadius(i),typeof t<"u"&&We.setCenter(t),typeof i=="number"&&We.setRadius(i),typeof c<"u"&&We.setVisible(c),typeof l<"u"&&We.setEditable(l),typeof a<"u"&&We.setDraggable(a),f&&P(google.maps.event.addListener(We,"dblclick",f)),p&&U(google.maps.event.addListener(We,"dragend",p)),m&&pe(google.maps.event.addListener(We,"dragstart",m)),b&&K(google.maps.event.addListener(We,"mousedown",b)),_&&de(google.maps.event.addListener(We,"mousemove",_)),T&&ge(google.maps.event.addListener(We,"mouseout",T)),C&&ee(google.maps.event.addListener(We,"mouseover",C)),R&&he(google.maps.event.addListener(We,"mouseup",R)),O&&_e(google.maps.event.addListener(We,"rightclick",O)),L&&Te(google.maps.event.addListener(We,"click",L)),z&&Se(google.maps.event.addListener(We,"drag",z)),B&&Yt(google.maps.event.addListener(We,"center_changed",B)),Q&&fn(google.maps.event.addListener(We,"radius_changed",Q)),N(We),H&&H(We),()=>{A!==null&&google.maps.event.removeListener(A),D!==null&&google.maps.event.removeListener(D),M!==null&&google.maps.event.removeListener(M),ye!==null&&google.maps.event.removeListener(ye),se!==null&&google.maps.event.removeListener(se),me!==null&&google.maps.event.removeListener(me),j!==null&&google.maps.event.removeListener(j),ae!==null&&google.maps.event.removeListener(ae),W!==null&&google.maps.event.removeListener(W),we!==null&&google.maps.event.removeListener(we),ze!==null&&google.maps.event.removeListener(ze),hn!==null&&google.maps.event.removeListener(hn),F&&F(We),We.setMap(null)}},[]),null}y.memo(T4);class S4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{circle:null}),re(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Nh(Nh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:zx,eventMap:Ux,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:zx,eventMap:Ux,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Fe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}re(S4,"contextType",Ue);function Bx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Mh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var qx={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Hx={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,i){n.loadGeoJson(e,t,i)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function C4(n){var{options:e,onClick:t,onDblClick:i,onMouseDown:a,onMouseMove:l,onMouseOut:c,onMouseOver:f,onMouseUp:p,onRightClick:m,onAddFeature:b,onRemoveFeature:_,onRemoveProperty:T,onSetGeometry:C,onSetProperty:R,onLoad:O,onUnmount:L}=n,z=y.useContext(Ue),[B,Q]=y.useState(null),[H,F]=y.useState(null),[Z,k]=y.useState(null),[N,A]=y.useState(null),[P,D]=y.useState(null),[U,M]=y.useState(null),[pe,ye]=y.useState(null),[K,se]=y.useState(null),[de,me]=y.useState(null),[ge,j]=y.useState(null),[ee,ae]=y.useState(null),[he,W]=y.useState(null),[_e,we]=y.useState(null),[Te,Ne]=y.useState(null);return y.useEffect(()=>{B!==null&&B.setMap(z)},[z]),y.useEffect(()=>{B&&i&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(B,"dblclick",i)))},[i]),y.useEffect(()=>{B&&a&&(Z!==null&&google.maps.event.removeListener(Z),k(google.maps.event.addListener(B,"mousedown",a)))},[a]),y.useEffect(()=>{B&&l&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(B,"mousemove",l)))},[l]),y.useEffect(()=>{B&&c&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(B,"mouseout",c)))},[c]),y.useEffect(()=>{B&&f&&(U!==null&&google.maps.event.removeListener(U),M(google.maps.event.addListener(B,"mouseover",f)))},[f]),y.useEffect(()=>{B&&p&&(pe!==null&&google.maps.event.removeListener(pe),ye(google.maps.event.addListener(B,"mouseup",p)))},[p]),y.useEffect(()=>{B&&m&&(K!==null&&google.maps.event.removeListener(K),se(google.maps.event.addListener(B,"rightclick",m)))},[m]),y.useEffect(()=>{B&&t&&(de!==null&&google.maps.event.removeListener(de),me(google.maps.event.addListener(B,"click",t)))},[t]),y.useEffect(()=>{B&&b&&(ge!==null&&google.maps.event.removeListener(ge),j(google.maps.event.addListener(B,"addfeature",b)))},[b]),y.useEffect(()=>{B&&_&&(ee!==null&&google.maps.event.removeListener(ee),ae(google.maps.event.addListener(B,"removefeature",_)))},[_]),y.useEffect(()=>{B&&T&&(he!==null&&google.maps.event.removeListener(he),W(google.maps.event.addListener(B,"removeproperty",T)))},[T]),y.useEffect(()=>{B&&C&&(_e!==null&&google.maps.event.removeListener(_e),we(google.maps.event.addListener(B,"setgeometry",C)))},[C]),y.useEffect(()=>{B&&R&&(Te!==null&&google.maps.event.removeListener(Te),Ne(google.maps.event.addListener(B,"setproperty",R)))},[R]),y.useEffect(()=>{if(z!==null){var Se=new google.maps.Data(Mh(Mh({},e),{},{map:z}));i&&F(google.maps.event.addListener(Se,"dblclick",i)),a&&k(google.maps.event.addListener(Se,"mousedown",a)),l&&A(google.maps.event.addListener(Se,"mousemove",l)),c&&D(google.maps.event.addListener(Se,"mouseout",c)),f&&M(google.maps.event.addListener(Se,"mouseover",f)),p&&ye(google.maps.event.addListener(Se,"mouseup",p)),m&&se(google.maps.event.addListener(Se,"rightclick",m)),t&&me(google.maps.event.addListener(Se,"click",t)),b&&j(google.maps.event.addListener(Se,"addfeature",b)),_&&ae(google.maps.event.addListener(Se,"removefeature",_)),T&&W(google.maps.event.addListener(Se,"removeproperty",T)),C&&we(google.maps.event.addListener(Se,"setgeometry",C)),R&&Ne(google.maps.event.addListener(Se,"setproperty",R)),Q(Se),O&&O(Se)}return()=>{B&&(H!==null&&google.maps.event.removeListener(H),Z!==null&&google.maps.event.removeListener(Z),N!==null&&google.maps.event.removeListener(N),P!==null&&google.maps.event.removeListener(P),U!==null&&google.maps.event.removeListener(U),pe!==null&&google.maps.event.removeListener(pe),K!==null&&google.maps.event.removeListener(K),de!==null&&google.maps.event.removeListener(de),ge!==null&&google.maps.event.removeListener(ge),ee!==null&&google.maps.event.removeListener(ee),he!==null&&google.maps.event.removeListener(he),_e!==null&&google.maps.event.removeListener(_e),Te!==null&&google.maps.event.removeListener(Te),L&&L(B),B.setMap(null))}},[]),null}y.memo(C4);class A4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{data:null}),re(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Mh(Mh({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Hx,eventMap:qx,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:Hx,eventMap:qx,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Fe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}re(A4,"contextType",Ue);function Fx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Gx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Kx={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},$x={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class R4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{kmlLayer:null}),re(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Gx(Gx({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:$x,eventMap:Kx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:$x,eventMap:Kx,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Fe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}re(R4,"contextType",Ue);function BC(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function k4(n,e){return new e(n.lat,n.lng)}function L4(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function I4(n,e,t){return n instanceof e?n:t(n,e)}function N4(n,e,t){return n instanceof e?n:t(n,e)}function M4(n,e,t){var i=n&&n.fromLatLngToDivPixel(t.getNorthEast()),a=n&&n.fromLatLngToDivPixel(t.getSouthWest());return i&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-a.x-e.x,"px"),height:"".concat(a.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function O4(n,e,t){var i=n&&n.fromLatLngToDivPixel(t);if(i){var{x:a,y:l}=i;return{left:"".concat(a+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function qC(n,e,t,i){return t!==void 0?M4(n,e,N4(t,google.maps.LatLngBounds,L4)):O4(n,e,I4(i,google.maps.LatLng,k4))}function D4(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function Qx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function P4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j4(n,e,t,i,a){class l extends google.maps.OverlayView{constructor(f,p,m,b){super(),this.container=f,this.pane=p,this.position=m,this.bounds=b}onAdd(){var f,p=(f=this.getPanes())===null||f===void 0?void 0:f[this.pane];p?.appendChild(this.container)}draw(){var f=this.getProjection(),p=P4({},this.container?BC(this.container,a):{x:0,y:0}),m=qC(f,p,this.bounds,this.position);for(var[b,_]of Object.entries(m))this.container.style[b]=_}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(n,e,t,i)}function Yx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function V4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Xx(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function Wx(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function U4(n){var{position:e,bounds:t,mapPaneName:i,zIndex:a,onLoad:l,onUnmount:c,getPixelPositionOffset:f,children:p}=n,m=y.useContext(Ue),b=y.useMemo(()=>{var T=document.createElement("div");return T.style.position="absolute",T},[]),_=y.useMemo(()=>j4(b,i,e,t,f),[b,i,e,t]);return y.useEffect(()=>(l?.(_),_?.setMap(m),()=>{c?.(_),_?.setMap(null)}),[m,_]),y.useEffect(()=>{b.style.zIndex="".concat(a)},[a,b]),ol.createPortal(p,b)}y.memo(U4);class pl extends y.PureComponent{constructor(e){super(e),re(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),re(this,"updatePane",()=>{var i=this.props.mapPaneName,a=this.overlayView.getPanes();Qt(!!i,"OverlayView requires props.mapPaneName but got %s",i),a?this.setState({paneEl:a[i]}):this.setState({paneEl:null})}),re(this,"onAdd",()=>{var i,a;this.updatePane(),(i=(a=this.props).onLoad)===null||i===void 0||i.call(a,this.overlayView)}),re(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),a=V4({x:0,y:0},this.containerRef.current?BC(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=qC(i,a,this.props.bounds,this.props.position);if(!D4(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,f,p,m;this.setState({containerStyle:{top:(c=l.top)!==null&&c!==void 0?c:0,left:(f=l.left)!==null&&f!==void 0?f:0,width:(p=l.width)!==null&&p!==void 0?p:0,height:(m=l.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),re(this,"draw",()=>{this.onPositionElement()}),re(this,"onRemove",()=>{var i,a;this.setState(()=>({paneEl:null})),(i=(a=this.props).onUnmount)===null||i===void 0||i.call(a,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Xx(e.position),i=Xx(this.props.position),a=Wx(e.bounds),l=Wx(this.props.bounds);(t!==i||a!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?ol.createPortal(v.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}re(pl,"FLOAT_PANE","floatPane");re(pl,"MAP_PANE","mapPane");re(pl,"MARKER_LAYER","markerLayer");re(pl,"OVERLAY_LAYER","overlayLayer");re(pl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");re(pl,"contextType",Ue);function z4(){}function Zx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Jx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zx(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ew={onDblClick:"dblclick",onClick:"click"},tw={opacity(n,e){n.setOpacity(e)}};function B4(n){var{url:e,bounds:t,options:i,visible:a}=n,l=y.useContext(Ue),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),f=y.useMemo(()=>new google.maps.GroundOverlay(e,c,i),[]);return y.useEffect(()=>{f!==null&&f.setMap(l)},[l]),y.useEffect(()=>{typeof e<"u"&&f!==null&&(f.set("url",e),f.setMap(l))},[f,e]),y.useEffect(()=>{typeof a<"u"&&f!==null&&f.setOpacity(a?1:0)},[f,a]),y.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&f!==null&&(f.set("bounds",p),f.setMap(l))},[f,t]),null}y.memo(B4);class HC extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{groundOverlay:null}),re(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Qt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Jx(Jx({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:tw,eventMap:ew,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:tw,eventMap:ew,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}re(HC,"defaultProps",{onLoad:z4});re(HC,"contextType",Ue);function nw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(t),!0).forEach(function(i){re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var rw={},iw={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function q4(n){var{data:e,onLoad:t,onUnmount:i,options:a}=n,l=y.useContext(Ue),[c,f]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Qt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(l)},[l]),y.useEffect(()=>{a&&c!==null&&c.setOptions(a)},[c,a]),y.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(Oh(Oh({},a),{},{data:e,map:l}));return f(p),t&&t(p),()=>{c!==null&&(i&&i(c),c.setMap(null))}},[]),null}y.memo(q4);class H4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{heatmapLayer:null}),re(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Qt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Qt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Oh(Oh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:iw,eventMap:rw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:iw,eventMap:rw,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Fe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}re(H4,"contextType",Ue);var sw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},aw={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class F4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{streetViewPanorama:null}),re(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,i=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:aw,eventMap:sw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:aw,eventMap:sw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Fe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}re(F4,"contextType",Ue);class G4 extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{streetViewService:null}),re(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}re(G4,"contextType",Ue);var ow={onDirectionsChanged:"directions_changed"},lw={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class K4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{directionsRenderer:null}),re(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:lw,eventMap:ow,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:lw,eventMap:ow,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Fe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}re(K4,"contextType",Ue);var uw={onPlacesChanged:"places_changed"},cw={bounds(n,e){n.setBounds(e)}};class $4 extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",y.createRef()),re(this,"state",{searchBox:null}),re(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:cw,eventMap:uw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:cw,eventMap:uw,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Fe(this.registeredEvents))}render(){return v.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}re($4,"contextType",Ue);var dw={onPlaceChanged:"place_changed"},hw={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class FC extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",y.createRef()),re(this,"state",{autocomplete:null}),re(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Qt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var i=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Be({updaterMap:hw,eventMap:dw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=Be({updaterMap:hw,eventMap:dw,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Fe(this.registeredEvents)}render(){return v.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}re(FC,"defaultProps",{className:""});re(FC,"contextType",Ue);const Q4=["places"];function Y4({onAddressSelect:n,onInputChange:e,defaultValue:t=""}){const{isLoaded:i}=Av({googleMapsApiKey:"AIzaSyDP74fOHC_PBVTwNGHKpK9mTFKerfmmsBk",libraries:Q4,language:"es",region:"AR"});return i?v.jsx(X4,{onAddressSelect:n,onInputChange:e,defaultValue:t}):v.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded-lg"})}function X4({onAddressSelect:n,onInputChange:e,defaultValue:t}){const{ready:i,value:a,setValue:l,suggestions:{status:c,data:f},clearSuggestions:p}=rj({requestOptions:{componentRestrictions:{country:"ar"}},debounce:300,defaultValue:t});y.useEffect(()=>{t&&l(t,!1)},[t,l]);const m=_=>{l(_.target.value),e&&e(_.target.value)},b=async _=>{l(_,!1),p(),e&&e(_);try{const T=await sj({address:_}),{lat:C,lng:R}=await aj(T[0]),O=T[0].address_components;let L="",z="",B="",Q="",H="";O.forEach(F=>{F.types.includes("route")&&(L=F.long_name),F.types.includes("street_number")&&(z=F.long_name),F.types.includes("locality")&&(B=F.long_name),F.types.includes("administrative_area_level_1")&&(Q=F.long_name),F.types.includes("postal_code")&&(H=F.long_name)}),n({fullAddress:_,street:L,number:z,city:B,province:Q,zip:H,lat:C,lng:R})}catch(T){console.error("Error geocoding address: ",T)}};return v.jsxs("div",{className:"relative w-full",children:[v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),v.jsx("input",{value:a,onChange:m,disabled:!i,placeholder:"Buscar direccin (ej. Av Corrientes 1234)",className:"w-full pl-10 pr-4 py-2 border border-slate-200 dark:border-white/10 rounded-xl bg-gray-50 dark:bg-black/20 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-slate-900 dark:text-white"}),a&&v.jsx("button",{onClick:()=>{l(""),p(),e&&e("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}),c==="OK"&&v.jsx("ul",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/10 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:f.map(({place_id:_,description:T,structured_formatting:C})=>v.jsx("li",{onClick:()=>b(T),className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer border-b last:border-0 border-gray-50 dark:border-white/5 transition-colors",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"location_on"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-slate-800 dark:text-gray-200 text-sm",children:C.main_text}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:C.secondary_text})]})]})},_))})]})}const W4=["places"];function Z4({lat:n,lng:e}){const{isLoaded:t}=Av({googleMapsApiKey:"AIzaSyDP74fOHC_PBVTwNGHKpK9mTFKerfmmsBk",libraries:W4,language:"es",region:"AR"}),i=y.useMemo(()=>({lat:n||-34.6037,lng:e||-58.3816}),[n,e]),a=y.useMemo(()=>({disableDefaultUI:!0,zoomControl:!0,streetViewControl:!1,mapTypeControl:!1}),[]);return t?!n||!e?null:v.jsx("div",{className:"w-full h-40 rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/10 mt-3 mb-3",children:v.jsx(yj,{mapContainerStyle:{width:"100%",height:"100%"},center:i,zoom:15,options:a,children:v.jsx(DC,{position:i})})}):v.jsx("div",{className:"animate-pulse h-40 bg-gray-100 rounded-lg w-full"})}function J4(){const n=jn(),{currentUser:e,userData:t,logout:i,userRole:a}=vr(),{orders:l}=Sv(),c=y.useRef(null),[f,p]=y.useState(""),[m,b]=y.useState(""),[_,T]=y.useState(""),[C,R]=y.useState({lat:null,lng:null}),[O,L]=y.useState(!1),[z,B]=y.useState(!1),[Q,H]=y.useState(null),[F,Z]=y.useState(!1),k=async()=>{if(!(!f||!m)){Z(!0);try{const M=`${f}, ${m}, Argentina`,pe=await RC(M,0);H(pe)}catch(M){console.error("Error calculating cost:",M),alert("No se pudo calcular el costo. Verifica la direccin.")}finally{Z(!1)}}};y.useEffect(()=>{e?t&&t.shippingAddress&&(p(t.shippingAddress.address||""),b(t.shippingAddress.city||""),T(t.shippingAddress.zip||"")):n("/login")},[e,t,n]);const N=async()=>{if(!e)return;const M={address:f,city:m,zip:_};try{const pe=Lr(cn,"users",e.uid);await qE(pe,{shippingAddress:M}),L(!1),alert("Direccin actualizada correctamente")}catch(pe){console.error("Error updating address:",pe),alert("Error al guardar la direccin")}},A=()=>{c.current.click()},P=async M=>{const pe=M.target.files[0];if(pe){B(!0);try{const ye=IP(jP,`profile_images/${e.uid}`);await kP(ye,pe);const K=await LP(ye),se=Lr(cn,"users",e.uid);await qE(se,{photoURL:K})}catch(ye){console.error("Error uploading image:",ye),alert("Error al subir la imagen")}finally{B(!1)}}},D=M=>{const pe=`${M.street} ${M.number}`.trim()||M.fullAddress;p(pe),b(M.city||M.province||""),T(M.zip||""),R({lat:M.lat,lng:M.lng})},U=async()=>{try{await i(),n("/login")}catch(M){console.error("Failed to log out",M)}};return e?v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden md:overflow-visible bg-background-light dark:bg-background-dark pb-24 md:pb-8",children:[v.jsx("div",{className:"md:hidden sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm border-b border-gray-100 dark:border-white/5",children:v.jsx(cc,{title:"Perfil",showSearch:!1})}),v.jsxs("div",{className:"w-full max-w-7xl mx-auto md:p-6 md:grid md:grid-cols-12 md:gap-8 items-start",children:[v.jsxs("div",{className:"md:col-span-4 flex flex-col gap-6",children:[v.jsxs("div",{className:"bg-white dark:bg-surface-dark md:rounded-3xl md:p-6 md:shadow-lg md:border border-gray-100 dark:border-white/5",children:[v.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6 px-4",children:[v.jsxs("div",{className:"relative group cursor-pointer",onClick:A,children:[v.jsx("input",{type:"file",ref:c,onChange:P,className:"hidden",accept:"image/*"}),v.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full h-28 w-28 border-4 border-white dark:border-surface-dark shadow-lg bg-emerald-100 flex items-center justify-center text-4xl font-bold text-emerald-700 uppercase overflow-hidden",style:t?.photoURL?{backgroundImage:`url("${t.photoURL}")`}:{},children:z?v.jsx("span",{className:"material-symbols-outlined animate-spin text-3xl",children:"progress_activity"}):!t?.photoURL&&(t?.displayName?.charAt(0)||e.email?.charAt(0)||"U")}),v.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1.5 border-2 border-white dark:border-surface-dark shadow-sm group-hover:bg-emerald-600 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-black text-[18px]",children:"edit"})})]}),v.jsxs("div",{className:"flex flex-col items-center mt-4",children:[v.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-center text-text-main dark:text-white",children:t?.displayName||"Usuario"}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm font-medium mt-1",children:e.email}),v.jsx("div",{className:"mt-3 bg-primary/20 px-3 py-1 rounded-full",children:v.jsx("p",{className:"text-black dark:text-primary text-xs font-bold uppercase tracking-wider",children:a==="admin"?"Administrador":"Cliente VIP"})})]})]}),v.jsxs("div",{className:"flex gap-3 px-4 pb-6 md:px-0 md:pb-0",children:[v.jsxs("button",{onClick:()=>n("/orders"),className:"flex flex-1 flex-col gap-1 rounded-2xl bg-gray-50 dark:bg-white/5 md:bg-gray-50 md:dark:bg-white/5 p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all cursor-pointer",children:[v.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:l.length}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Pedidos"})]}),v.jsxs("button",{onClick:()=>n("/favorites"),className:"flex flex-1 flex-col gap-1 rounded-2xl bg-gray-50 dark:bg-white/5 md:bg-gray-50 md:dark:bg-white/5 p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all cursor-pointer",children:[v.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:t?.favorites?.length||0}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Favoritos"})]})]})]}),v.jsxs("div",{className:"hidden md:block",children:[v.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors border border-red-100 dark:border-red-900/20",children:[v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),v.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]})]}),v.jsxs("div",{className:"md:col-span-8 flex flex-col gap-6",children:[v.jsxs("div",{className:"px-4 mt-2 mb-2 md:px-0 md:mt-0",children:[v.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Mi Jardn"}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5",children:[v.jsxs("button",{onClick:()=>n("/orders"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[v.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"local_shipping"})}),v.jsxs("div",{className:"flex-1 text-left",children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Mis Pedidos"}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver historial"})]}),v.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]}),v.jsx("div",{className:"h-[1px] bg-gray-100 dark:bg-white/5 mx-4"}),v.jsxs("button",{onClick:()=>n("/favorites"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[v.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"potted_plant"})}),v.jsxs("div",{className:"flex-1 text-left",children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Favoritos"}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver guardados"})]}),v.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]})]})]}),v.jsxs("div",{className:"px-4 mt-6 mb-2 md:px-0 md:mt-0",children:[v.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Direccin de Envo"}),v.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5 p-4",children:O?v.jsxs("div",{className:"flex flex-col gap-3 animate-fade-in-up",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Direccin de Entrega"}),v.jsx("div",{className:"mb-2",children:v.jsx(Y4,{onAddressSelect:D,onInputChange:p,defaultValue:f})}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",value:m,onChange:M=>b(M.target.value),placeholder:"Localidad (ej. Baha Blanca / Punta Alta)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsx("input",{type:"text",value:_,onChange:M=>T(M.target.value),placeholder:"C.P.",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),v.jsx(Z4,{lat:C.lat,lng:C.lng}),v.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-100 dark:border-white/5",children:[v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"font-bold text-slate-700 dark:text-gray-300",children:"Costo de Envo Estimado:"}),Q!==null?v.jsxs("p",{className:"text-primary font-bold text-lg",children:["$",Q]}):v.jsx("p",{className:"text-gray-400 text-xs text-balance",children:"Ingresa tu direccin para calcular"})]}),v.jsx("button",{onClick:k,disabled:F||!f||!m,className:"text-xs font-bold text-primary border border-primary/30 px-3 py-1.5 rounded-lg hover:bg-primary/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Calculando...":"Calcular"})]}),v.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[v.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:N,className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar Direccin"})]})]}):v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 dark:bg-white/10 shrink-0 size-10 mt-1",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"location_on"})}),v.jsx("div",{children:t?.shippingAddress&&(t.shippingAddress.address||t.shippingAddress.city)?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold",children:t.shippingAddress.address}),v.jsxs("p",{className:"text-text-muted dark:text-gray-400 text-sm",children:[t.shippingAddress.city,", ",t.shippingAddress.zip]})]}):v.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm italic font-medium",children:"NO HAY DIRECCION AGREGADA"})})]}),v.jsx("button",{onClick:()=>L(!0),className:"text-primary font-bold text-sm hover:underline",children:t?.shippingAddress&&(t.shippingAddress.address||t.shippingAddress.city)?"Editar":"Agregar"})]})})]}),v.jsxs("div",{className:"md:hidden px-4 mt-6 mb-8",children:[v.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),v.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]})]})]}),v.jsx("div",{className:"md:hidden",children:v.jsx(Mw,{})})]}):null}function eV(){const n=jn(),{orders:e,loading:t}=Sv();return v.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col bg-background-light dark:bg-background-dark",children:[v.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800",children:[v.jsx("button",{onClick:()=>n("/profile"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),v.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mis Pedidos"})]}),v.jsxs("div",{className:"flex-1 p-4 max-w-3xl mx-auto w-full",children:[t&&v.jsx("div",{className:"mt-10 flex justify-center text-primary",children:v.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl",children:"progress_activity"})}),!t&&e.length===0&&v.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-8 text-center bg-white dark:bg-surface-dark rounded-2xl shadow-sm",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-200 dark:text-emerald-900/40 mb-4",children:"local_shipping"}),v.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Sin pedidos an"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Tu historial est vaco. Es hora de llenar el jardn!"}),v.jsx("button",{onClick:()=>n("/catalog"),className:"px-6 py-2 bg-primary text-white rounded-xl font-bold hover:bg-emerald-600 transition-colors",children:"Ir al Catlogo"})]}),v.jsx("div",{className:"flex flex-col gap-4",children:e.map(i=>v.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5 flex gap-4",children:[v.jsx("div",{className:"size-20 bg-gray-100 rounded-xl bg-center bg-cover shrink-0",style:{backgroundImage:`url(${i.items?.[0]?.image||"https://via.placeholder.com/150"})`},children:i.items?.length>1&&v.jsxs("div",{className:"flex items-center justify-center h-full w-full bg-black/40 text-white font-bold rounded-xl backdrop-blur-sm",children:["+",i.items.length-1]})}),v.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1",children:[v.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white text-xs md:text-sm uppercase tracking-wider text-slate-500",children:["ID: ",i.id.slice(0,8),"..."]}),v.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${i.status==="Delivered"?"bg-green-100 text-green-700":i.status==="Processing"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:i.status})]}),v.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:[i.items?.[0]?.name," ",i.items?.length>1?`y ${i.items.length-1} ms`:""]}),v.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[v.jsx("span",{className:"text-xs text-slate-400",children:i.dateStr}),v.jsxs("span",{className:"font-bold text-primary",children:["$",i.total?.toFixed(2)]})]})]})]},i.id))})]})]})}function tV(){const{addresses:n,addAddress:e,deleteAddress:t,loading:i}=AC(),[a,l]=y.useState(!1),[c,f]=y.useState({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""}),p=jn(),m=_=>{const{name:T,value:C}=_.target;f(R=>({...R,[T]:C}))},b=async _=>{_.preventDefault();try{await e(c),l(!1),f({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""})}catch(T){alert("Error al guardar: "+T.message)}};return v.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[v.jsx("div",{className:"md:hidden",children:v.jsx(cc,{title:"Mis Direcciones",showSearch:!1})}),v.jsxs("div",{className:"hidden md:flex items-center gap-4 p-6 border-b border-gray-100 dark:border-white/5 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm sticky top-0 z-10",children:[v.jsx("button",{onClick:()=>p("/profile"),className:"flex items-center justify-center size-10 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Mis Direcciones"})]}),v.jsxs("div",{className:"p-4 md:p-8 max-w-2xl mx-auto w-full flex flex-col gap-6",children:[i&&v.jsx("div",{className:"flex justify-center p-8",children:v.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary",children:"progress_activity"})}),!i&&n.map(_=>v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 flex flex-col gap-2 relative group",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),v.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:_.alias})]}),v.jsx("button",{onClick:()=>t(_.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2 -mr-2 -mt-2",children:v.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),v.jsxs("div",{className:"pl-8 text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:[v.jsxs("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:[_.firstName," ",_.lastName]}),v.jsx("p",{children:_.address}),v.jsxs("p",{children:[_.city,", ",_.zip]})]})]},_.id)),!i&&n.length===0&&!a&&v.jsxs("div",{className:"text-center py-12 opacity-60",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-2",children:"map"}),v.jsx("p",{children:"No tienes direcciones guardadas."})]}),a?v.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-lg border border-primary/20 animate-fade-in-up",children:[v.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-900 dark:text-white",children:"Nueva Direccin"}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsx("input",{name:"alias",value:c.alias,onChange:m,required:!0,placeholder:"Nombre (ej. Casa, Trabajo)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"firstName",value:c.firstName,onChange:m,required:!0,placeholder:"Nombre",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsx("input",{name:"lastName",value:c.lastName,onChange:m,required:!0,placeholder:"Apellido",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),v.jsx("input",{name:"address",value:c.address,onChange:m,required:!0,placeholder:"Calle y nmero",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"city",value:c.city,onChange:m,required:!0,placeholder:"Ciudad",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),v.jsx("input",{name:"zip",value:c.zip,onChange:m,required:!0,placeholder:"Cdigo Postal",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[v.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),v.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar"})]})]})]}):v.jsxs("button",{onClick:()=>l(!0),className:"w-full py-4 rounded-xl border-2 border-dashed border-gray-300 dark:border-white/10 text-slate-400 font-bold flex items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-white/5 hover:border-primary/50 hover:text-primary transition-all",children:[v.jsx("span",{className:"material-symbols-outlined",children:"add_location_alt"}),"Agregar Nueva Direccin"]})]})]})}var Eu={},fw;function nV(){if(fw)return Eu;fw=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.loadMercadoPago=void 0;const n="https://sdk.mercadopago.com/js/v2",e=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,t="MercadoPago has already been initialized in your window, please remove the duplicate import",i="MercadoPago.js not available",a="Failed to load MercadoPago.js",l=()=>{for(var m=document.querySelectorAll(`script[src^="${n}"`),b=0;b<m.length;b++){var _=m[b];if(e.test(_.src))return _}return null},c=()=>{const m=document.createElement("script");m.src=n;const b=document.head||document.body;if(!b)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return b.appendChild(m),m};let f=null;const p=()=>(f!==null||(f=new Promise((m,b)=>{if(typeof window>"u"){m(null);return}if(window.MercadoPago){console.warn(t),m(window.MercadoPago);return}try{let _=l();_?console.warn(t):_||(_=c()),_.addEventListener("load",()=>{window.MercadoPago?m(window.MercadoPago):b(new Error(i))}),_.addEventListener("error",()=>{b(new Error(a))})}catch(_){b(_);return}})),f);return Eu.loadMercadoPago=p,Eu}var rV=nV(),iV=function(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(b){try{m(i.next(b))}catch(_){c(_)}}function p(b){try{m(i.throw(b))}catch(_){c(_)}}function m(b){b.done?l(b.value):a(b.value).then(f,p)}m((i=i.apply(n,e||[])).next())})};class ii{static getInstance(){return iV(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield rV.loadMercadoPago(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}ii.publicKey=null;ii.options={};ii.instanceMercadoPago=void 0;ii.loadedInstanceMercadoPago=!1;function sV(n,e){return Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(i=>Object.prototype.hasOwnProperty.call(e,i)&&n[i]===e[i])}const aV=(n,e)=>{const t=Object.assign(Object.assign({},e),{frontEndStack:"react"}),i=!sV(ii.options,t);(n!==ii.publicKey||i)&&(ii.publicKey=n,ii.options=t,ii.instanceMercadoPago=void 0)};var oV=function(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(b){try{m(i.next(b))}catch(_){c(_)}}function p(b){try{m(i.throw(b))}catch(_){c(_)}}function m(b){b.done?l(b.value):a(b.value).then(f,p)}m((i=i.apply(n,e||[])).next())})};const lV=()=>oV(void 0,void 0,void 0,function*(){}),uV=()=>{},cV=n=>{console.error(n)};var dV=function(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(b){try{m(i.next(b))}catch(_){c(_)}}function p(b){try{m(i.throw(b))}catch(_){c(_)}}function m(b){b.done?l(b.value):a(b.value).then(f,p)}m((i=i.apply(n,e||[])).next())})};const hV=({settings:n,name:e,containerId:t,controller:i})=>dV(void 0,void 0,void 0,function*(){const a=yield ii.getInstance(),l=a?.bricks();window[i]=yield l?.create(e,t,n)}),fV=200,pV=({onReady:n=uV,onError:e=cV,onSubmit:t=lV,customization:i,initialization:a,locale:l,id:c="walletBrick_container"})=>(y.useEffect(()=>{const f={settings:{initialization:a,customization:i,locale:l,callbacks:{onReady:n,onSubmit:t,onError:e}},name:"wallet",containerId:c,controller:"walletBrickController"},p=setTimeout(()=>{hV(f)},fV);return()=>{var m;clearTimeout(p),(m=window.walletBrickController)===null||m===void 0||m.unmount()}},[i,a,n,e,t]),SA.createElement("div",{id:c})),mV="APP_USR-ba40ce42-cf76-493a-89e2-d548df4447d4";function gV({orderId:n,total:e,items:t,shippingCost:i}){const[a,l]=y.useState(null),[c,f]=y.useState(!1);y.useEffect(()=>{aV(mV,{locale:"es-AR"})},[]);const p=async()=>{f(!0);try{const m=t.map(C=>({id:C.id,title:C.name,currency_id:"ARS",picture_url:C.image,description:C.name,category_id:"gardening",quantity:C.quantity,unit_price:Number(C.price)}));i>0&&m.push({id:"shipping",title:"Envo",currency_id:"ARS",description:"Costo de envo",quantity:1,unit_price:Number(i)});const _=await fetch("https://us-central1-auraverde-db.cloudfunctions.net/createPreference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:m,orderId:n})});if(!_.ok)throw new Error("Network response was not ok");const{id:T}=await _.json();l(T)}catch(m){console.error("Error creating preference:",m),alert("Error al inicializar el pago. Intenta nuevamente.")}finally{f(!1)}};return v.jsxs("div",{className:"flex flex-col gap-4",children:[a?v.jsx(pV,{initialization:{preferenceId:a}}):v.jsx("button",{onClick:p,disabled:c,className:"w-full py-4 bg-[#009EE3] hover:bg-[#008ED6] text-white font-bold rounded-xl shadow-lg shadow-blue-400/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:c?v.jsx("span",{className:"size-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):v.jsxs(v.Fragment,{children:["Pagar con ",v.jsx("span",{className:"font-extrabold",children:"Mercado Pago"})]})}),v.jsxs("p",{className:"text-xs text-center text-gray-400 mt-2",children:[v.jsx("span",{className:"material-symbols-outlined text-[10px] align-middle mr-1",children:"lock"}),"Pagos procesados de forma segura por Mercado Pago"]})]})}function vV(){const n=jn(),{cartItems:e,total:t,subtotal:i,tax:a,clearCart:l,shippingCost:c}=Xa(),{createOrder:f}=Sv(),{currentUser:p,userData:m}=vr(),[b,_]=y.useState(!1),[T,C]=y.useState(null);y.useEffect(()=>{p&&m&&!m.shippingAddress&&(alert("Para que podamos enviarte tu pedido necesitamos tu direccion"),n("/profile"))},[p,m,n]);const R=async O=>{if(O.preventDefault(),e.length!==0){_(!0);try{await new Promise(B=>setTimeout(B,1500));const L={items:e,subtotal:i,tax:a,total:t,shippingAddress:m.shippingAddress,paymentLast4:"MercadoPago",status:"pending_payment",date:new Date().toLocaleDateString()},z=await f(L);C(z)}catch(L){console.error("Checkout failed",L),alert("Error: "+L.message),_(!1)}}};return e.length,v.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark pb-12",children:[v.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800 mb-6",children:[v.jsx("button",{onClick:()=>n("/cart"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),v.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Pagar"})]}),v.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsx("div",{className:"flex flex-col gap-6",children:v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[v.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"local_shipping"}),"Direccin de Envo"]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5 flex items-start gap-3",children:[v.jsx("span",{className:"material-symbols-outlined text-primary mt-0.5",children:"location_on"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-base",children:m?.displayName||"Usuario"}),v.jsx("p",{className:"text-slate-600 dark:text-gray-300 text-sm mt-1",children:m?.shippingAddress?.address}),v.jsxs("p",{className:"text-slate-500 dark:text-gray-400 text-sm",children:[m?.shippingAddress?.city,", ",m?.shippingAddress?.zip]})]})]}),v.jsx("div",{className:"mt-4 flex justify-end",children:v.jsx("button",{onClick:()=>n("/profile"),className:"text-primary text-sm font-bold hover:underline",children:"Editar en Perfil"})})]})}),v.jsx("div",{className:"flex flex-col gap-6",children:v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[v.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Resumen del Pedido"}),v.jsx("div",{className:"flex flex-col gap-4 mb-6 max-h-64 overflow-y-auto pr-2 custom-scrollbar",children:e.map(O=>v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"size-16 bg-gray-100 rounded-lg bg-center bg-cover shrink-0",style:{backgroundImage:`url(${O.image})`}}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:O.name}),v.jsxs("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:["Cant: ",O.quantity]}),v.jsxs("p",{className:"font-bold text-primary text-sm",children:["$",(O.price*O.quantity).toFixed(2)]})]})]},O.id))}),v.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-4"}),v.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[v.jsx("span",{children:"Subtotal"}),v.jsxs("span",{children:["$",i.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[v.jsx("span",{children:"Envo"}),c===0?v.jsx("span",{className:"text-green-500 font-bold",children:"Gratis"}):v.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["$",c.toFixed(2)]})]}),v.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-2"}),v.jsxs("div",{className:"flex justify-between text-lg font-bold text-slate-900 dark:text-white",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["$",t.toFixed(2)]})]})]}),v.jsx("div",{className:"mt-6",children:T?v.jsx(gV,{orderId:T,total:t,items:e,shippingCost:c}):v.jsx("button",{onClick:R,type:"submit",disabled:b,className:"w-full py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"Procesando...":"Confirmar Datos y Pagar"})})]})})]})]})}function yV(){const n=jn(),e=`ORD-${Math.floor(Math.random()*1e6)}`;return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background-light dark:bg-background-dark p-6 text-center",children:[v.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6 animate-bounce",children:v.jsx("span",{className:"material-symbols-outlined text-5xl text-green-600 dark:text-green-400",children:"check_circle"})}),v.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"Gracias por su compra!"}),v.jsxs("p",{className:"text-lg text-slate-500 dark:text-gray-400 mb-8 max-w-md",children:["Su orden ",v.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:e})," ha sido confirmada y ser enviada pronto."]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-sm",children:[v.jsx("button",{onClick:()=>n("/catalog"),className:"flex-1 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 transition-all",children:"Continuar Comprando"}),v.jsx("button",{onClick:()=>n("/orders"),className:"flex-1 py-4 bg-white dark:bg-surface-dark border-2 border-slate-200 dark:border-gray-700 text-slate-900 dark:text-white font-bold rounded-2xl hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:"Ver Orden"})]})]})}function bV(){const[n,e]=y.useState(""),[t,i]=y.useState(""),[a,l]=y.useState(""),[c,f]=y.useState(!1),{signin:p}=vr(),m=jn();async function b(_){_.preventDefault();try{l(""),f(!0),await p(n,t),m("/profile")}catch(T){console.error(T),l("Error al iniciar sesin: Verifique sus credenciales.")}f(!1)}return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[v.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Bienvenido"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"Ingresa a tu cuenta para continuar"}),a&&v.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:a}),v.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:n,onChange:_=>e(_.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),v.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:t,onChange:_=>i(_.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:c,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:c?"Iniciando...":"Iniciar Sesin"})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["No tienes una cuenta? ",v.jsx(Cn,{to:"/register",className:"text-primary font-bold hover:underline",children:"Regstrate"})]})]})})}function _V(){const[n,e]=y.useState(""),[t,i]=y.useState(""),[a,l]=y.useState(""),[c,f]=y.useState(""),[p,m]=y.useState(""),[b,_]=y.useState(!1),{signup:T}=vr(),C=jn();async function R(O){if(O.preventDefault(),t!==a)return m("Las contraseas no coinciden");try{m(""),_(!0),await T(n,t,c),C("/")}catch(L){console.error(L),m("Error al crear la cuenta. Intente nuevamente.")}_(!1)}return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[v.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Crear Cuenta"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"nete a Aura Verde hoy"}),p&&v.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:p}),v.jsxs("form",{onSubmit:R,className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Completo"}),v.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"Juan Prez",value:c,onChange:O=>f(O.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:n,onChange:O=>e(O.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),v.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:t,onChange:O=>i(O.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirmar Contrasea"}),v.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:a,onChange:O=>l(O.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:b,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:b?"Creando cuenta...":"Registrarse"})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Ya tienes cuenta? ",v.jsx(Cn,{to:"/login",className:"text-primary font-bold hover:underline",children:"Inicia Sesin"})]})]})})}function EV(){const[n,e]=y.useState("idle"),[t,i]=y.useState([]);async function a(){e("loading"),i(l=>[...l,"Iniciando migracin..."]);try{let l=0;for(const c of QE)await Th(Lr(cn,"products",String(c.id)),{...c,price:Number(c.price),createdAt:new Date().toISOString()}),i(f=>[...f,` Producto migrado: ${c.name}`]),l++;e("success"),i(c=>[...c,` xito! ${l} productos subidos a Firestore.`])}catch(l){console.error(l),e("error"),i(c=>[...c,` Error: ${l.message}`])}}return v.jsxs("div",{className:"min-h-screen p-8 flex flex-col items-center",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Migracin de Base de Datos"}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-lg w-full max-w-2xl border border-slate-200 dark:border-slate-800",children:[v.jsxs("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:["Este script leer los ",QE.length," productos del archivo local y los subir a tu base de datos Firestore."]}),v.jsx("button",{onClick:a,disabled:n==="loading"||n==="success",className:`w-full py-3 rounded-xl font-bold text-white transition-all
            ${n==="success"?"bg-green-500":"bg-blue-600 hover:bg-blue-700"}`,children:n==="loading"?"Migrando...":n==="success"?"Migracin Completada!":"Iniciar Migracin"}),v.jsx("div",{className:"mt-6 bg-slate-100 dark:bg-slate-900 p-4 rounded-lg font-mono text-sm h-64 overflow-y-auto",children:t.map((l,c)=>v.jsx("div",{className:"mb-1 text-slate-700 dark:text-slate-300 border-b border-slate-200 dark:border-slate-800 pb-1 last:border-0",children:l},c))})]})]})}function xV(){const{userRole:n,currentUser:e}=vr();jn();const[t,i]=y.useState([]),[a,l]=y.useState(!0),[c,f]=y.useState(!1),[p,m]=y.useState({name:"",price:"",type:"",image:"",description:"",isNew:!1});y.useEffect(()=>{},[e,n,a]);const b=async()=>{l(!0);try{const L=(await mv($a(cn,"products"))).docs.map(z=>({id:z.id,...z.data()}));L.sort((z,B)=>parseInt(z.id)-parseInt(B.id)),i(L)}catch(O){console.error("Error fetching products:",O)}finally{l(!1)}};y.useEffect(()=>{b()},[]);const _=async O=>{if(window.confirm("Ests seguro de borrar este producto?"))try{await rC(Lr(cn,"products",O)),b()}catch(L){console.error("Error deleting:",L),alert("Error al borrar")}},T=()=>{if(t.length===0)return 1;const O=t.map(L=>parseInt(L.id)).filter(L=>!isNaN(L));return O.length===0?1:Math.max(...O)+1},C=async O=>{O.preventDefault(),f(!0);try{const L=T(),z={...p,id:L,price:parseFloat(p.price),createdAt:new Date().toISOString()};await Th(Lr(cn,"products",String(L)),z),alert(` Producto creado con ID: ${L}`),m({name:"",price:"",type:"",image:"",description:"",isNew:!1}),b()}catch(L){console.error("Error creating product:",L),alert("Error al crear el producto")}finally{f(!1)}},R=O=>{const L=O.target.type==="checkbox"?O.target.checked:O.target.value;m({...p,[O.target.name]:L})};return!e||n!=="admin"?v.jsxs("div",{className:"p-10 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Acceso Restringido"}),v.jsx("p",{className:"mb-2",children:"Solo los administradores pueden ver esta pgina."}),v.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg inline-block text-left text-sm font-mono text-black dark:text-white",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Tu UID:"})," ",e?.uid||"No logueado"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Tu Rol actual:"})," ",n||"Ninguno"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",e?.email||"-"]})]}),v.jsxs("div",{className:"mt-6 flex flex-col gap-2 justify-center items-center",children:[v.jsx("p",{className:"text-sm text-gray-500",children:"Si cambiaste el rol en Firebase, recarga:"}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Recargar Pgina"}),v.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"O prueba cerrar sesin para limpiar cach:"})]})]}):v.jsxs("div",{className:"min-h-screen p-6 md:p-12 bg-gray-50 dark:bg-black",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-slate-900 dark:text-white",children:"Panel de Administracin"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10 h-fit",children:[v.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})," Nuevo Producto"]}),v.jsxs("form",{onSubmit:C,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold mb-1",children:"Nombre"}),v.jsx("input",{required:!0,name:"name",value:p.name,onChange:R,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"Ej. Monstera"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold mb-1",children:"Precio ($)"}),v.jsx("input",{required:!0,type:"number",step:"0.01",name:"price",value:p.price,onChange:R,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"0.00"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tipo"}),v.jsx("input",{required:!0,name:"type",value:p.type,onChange:R,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"Ej. Interior"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold mb-1",children:"URL Imagen"}),v.jsx("input",{required:!0,name:"image",value:p.image,onChange:R,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"https://..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold mb-1",children:"Descripcin"}),v.jsx("textarea",{name:"description",value:p.description,onChange:R,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",rows:"3",placeholder:"Descripcin del producto..."})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",name:"isNew",checked:p.isNew,onChange:R,id:"isNew",className:"w-5 h-5 accent-primary"}),v.jsx("label",{htmlFor:"isNew",className:"cursor-pointer",children:'Marcar como "Nuevo"'})]}),v.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-black font-bold py-3 rounded-xl hover:bg-emerald-500 transition-colors",children:c?"Guardando...":"Guardar Producto"})]})]}),v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10",children:[v.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"})," Inventario (",t.length,")"]}),v.jsx("div",{className:"overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:t.map(O=>v.jsxs("div",{className:"flex items-center gap-4 p-3 mb-2 border rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[v.jsx("img",{src:O.image,alt:O.name,className:"w-12 h-12 object-cover rounded-lg bg-gray-200"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"font-bold",children:["#",O.id," - ",O.name]}),v.jsxs("div",{className:"text-sm text-gray-500",children:["$",O.price," | ",O.type]})]}),v.jsx("button",{onClick:()=>_(O.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Borrar",children:v.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]},O.id))})]})]})]})}function wV(){return v.jsx(XR,{children:v.jsx(ok,{children:v.jsx(BP,{children:v.jsx(VP,{children:v.jsx(lk,{children:v.jsx(AR,{children:v.jsxs(yn,{element:v.jsx(HP,{}),children:[v.jsx(yn,{path:"/",element:v.jsx(KP,{})}),v.jsx(yn,{path:"/catalog",element:v.jsx(XP,{})}),v.jsx(yn,{path:"/product/:id",element:v.jsx(WP,{})}),v.jsx(yn,{path:"/cart",element:v.jsx(ej,{})}),v.jsx(yn,{path:"/profile",element:v.jsx(J4,{})}),v.jsx(yn,{path:"/orders",element:v.jsx(eV,{})}),v.jsx(yn,{path:"/addresses",element:v.jsx(tV,{})}),v.jsx(yn,{path:"/checkout",element:v.jsx(vV,{})}),v.jsx(yn,{path:"/success",element:v.jsx(yV,{})}),v.jsx(yn,{path:"/login",element:v.jsx(bV,{})}),v.jsx(yn,{path:"/register",element:v.jsx(_V,{})}),v.jsx(yn,{path:"/migrate",element:v.jsx(EV,{})}),v.jsx(yn,{path:"/favorites",element:v.jsx($P,{})}),v.jsx(yn,{path:"/admin",element:v.jsx(xV,{})})]})})})})})})})}IA.createRoot(document.getElementById("root")).render(v.jsx(y.StrictMode,{children:v.jsx(wV,{})}));
