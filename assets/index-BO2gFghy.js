(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Yw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lm={exports:{}},Oo={};var Nv;function Xw(){if(Nv)return Oo;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:h,ref:l!==void 0?l:null,props:u}}return Oo.Fragment=e,Oo.jsx=n,Oo.jsxs=n,Oo}var Cv;function $w(){return Cv||(Cv=1,lm.exports=Xw()),lm.exports}var y=$w(),om={exports:{}},be={};var Iv;function Ww(){if(Iv)return be;Iv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function O(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function J(M,ee,se){this.props=M,this.context=ee,this.refs=z,this.updater=se||G}J.prototype.isReactComponent={},J.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function re(M,ee,se){this.props=M,this.context=ee,this.refs=z,this.updater=se||G}var xe=re.prototype=new ne;xe.constructor=re,U(xe,J.prototype),xe.isPureReactComponent=!0;var Ne=Array.isArray;function Re(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,ee,se){var ue=se.ref;return{$$typeof:i,type:M,key:ee,ref:ue!==void 0?ue:null,props:se}}function j(M,ee){return R(M.type,ee,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function L(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return ee[se]})}var N=/\/+/g;function it(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):ee.toString(36)}function It(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Re,Re):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,ee,se,ue,_e){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(Se){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case i:case e:Pe=!0;break;case E:return Pe=M._init,X(Pe(M._payload),ee,se,ue,_e)}}if(Pe)return _e=_e(M),Pe=ue===""?"."+it(M,0):ue,Ne(_e)?(se="",Pe!=null&&(se=Pe.replace(N,"$&/")+"/"),X(_e,ee,se,"",function(_a){return _a})):_e!=null&&(k(_e)&&(_e=j(_e,se+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+Pe)),ee.push(_e)),1;Pe=0;var kt=ue===""?".":ue+":";if(Ne(M))for(var at=0;at<M.length;at++)ue=M[at],Se=kt+it(ue,at),Pe+=X(ue,ee,se,Se,_e);else if(at=O(M),typeof at=="function")for(M=at.call(M),at=0;!(ue=M.next()).done;)ue=ue.value,Se=kt+it(ue,at++),Pe+=X(ue,ee,se,Se,_e);else if(Se==="object"){if(typeof M.then=="function")return X(It(M),ee,se,ue,_e);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ae(M,ee,se){if(M==null)return M;var ue=[],_e=0;return X(M,ue,"","",function(Se){return ee.call(se,Se,_e++)}),ue}function me(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ae,forEach:function(M,ee,se){ae(M,function(){ee.apply(this,arguments)},se)},count:function(M){var ee=0;return ae(M,function(){ee++}),ee},toArray:function(M){return ae(M,function(ee){return ee})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=x,be.Children=Ge,be.Component=J,be.Fragment=n,be.Profiler=l,be.PureComponent=re,be.StrictMode=a,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,ee,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=U({},M.props),_e=M.key;if(ee!=null)for(Se in ee.key!==void 0&&(_e=""+ee.key),ee)!A.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(ue[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)ue.children=se;else if(1<Se){for(var Pe=Array(Se),kt=0;kt<Se;kt++)Pe[kt]=arguments[kt+2];ue.children=Pe}return R(M.type,_e,ue)},be.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},be.createElement=function(M,ee,se){var ue,_e={},Se=null;if(ee!=null)for(ue in ee.key!==void 0&&(Se=""+ee.key),ee)A.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=ee[ue]);var Pe=arguments.length-2;if(Pe===1)_e.children=se;else if(1<Pe){for(var kt=Array(Pe),at=0;at<Pe;at++)kt[at]=arguments[at+2];_e.children=kt}if(M&&M.defaultProps)for(ue in Pe=M.defaultProps,Pe)_e[ue]===void 0&&(_e[ue]=Pe[ue]);return R(M,Se,_e)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:m,render:M}},be.isValidElement=k,be.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},be.memo=function(M,ee){return{$$typeof:p,type:M,compare:ee===void 0?null:ee}},be.startTransition=function(M){var ee=I.T,se={};I.T=se;try{var ue=M(),_e=I.S;_e!==null&&_e(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,Ue)}catch(Se){Ue(Se)}finally{ee!==null&&se.types!==null&&(ee.types=se.types),I.T=ee}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(M){return I.H.use(M)},be.useActionState=function(M,ee,se){return I.H.useActionState(M,ee,se)},be.useCallback=function(M,ee){return I.H.useCallback(M,ee)},be.useContext=function(M){return I.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,ee){return I.H.useDeferredValue(M,ee)},be.useEffect=function(M,ee){return I.H.useEffect(M,ee)},be.useEffectEvent=function(M){return I.H.useEffectEvent(M)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(M,ee,se){return I.H.useImperativeHandle(M,ee,se)},be.useInsertionEffect=function(M,ee){return I.H.useInsertionEffect(M,ee)},be.useLayoutEffect=function(M,ee){return I.H.useLayoutEffect(M,ee)},be.useMemo=function(M,ee){return I.H.useMemo(M,ee)},be.useOptimistic=function(M,ee){return I.H.useOptimistic(M,ee)},be.useReducer=function(M,ee,se){return I.H.useReducer(M,ee,se)},be.useRef=function(M){return I.H.useRef(M)},be.useState=function(M){return I.H.useState(M)},be.useSyncExternalStore=function(M,ee,se){return I.H.useSyncExternalStore(M,ee,se)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.3",be}var kv;function tp(){return kv||(kv=1,om.exports=Ww()),om.exports}var V=tp();const Jw=Yw(V);var um={exports:{}},Mo={},cm={exports:{}},hm={};var Dv;function Zw(){return Dv||(Dv=1,(function(i){function e(X,ae){var me=X.length;X.push(ae);e:for(;0<me;){var Ue=me-1>>>1,Ge=X[Ue];if(0<l(Ge,ae))X[Ue]=ae,X[me]=Ge,me=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ae=X[0],me=X.pop();if(me!==ae){X[0]=me;e:for(var Ue=0,Ge=X.length,M=Ge>>>1;Ue<M;){var ee=2*(Ue+1)-1,se=X[ee],ue=ee+1,_e=X[ue];if(0>l(se,me))ue<Ge&&0>l(_e,se)?(X[Ue]=_e,X[ue]=me,Ue=ue):(X[Ue]=se,X[ee]=me,Ue=ee);else if(ue<Ge&&0>l(_e,me))X[Ue]=_e,X[ue]=me,Ue=ue;else break e}}return ae}function l(X,ae){var me=X.sortIndex-ae.sortIndex;return me!==0?me:X.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,x=null,S=3,O=!1,G=!1,U=!1,z=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function xe(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)a(p);else if(ae.startTime<=X)a(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function Ne(X){if(U=!1,xe(X),!G)if(n(g)!==null)G=!0,Re||(Re=!0,L());else{var ae=n(p);ae!==null&&It(Ne,ae.startTime-X)}}var Re=!1,I=-1,A=5,R=-1;function j(){return z?!0:!(i.unstable_now()-R<A)}function k(){if(z=!1,Re){var X=i.unstable_now();R=X;var ae=!0;try{e:{G=!1,U&&(U=!1,ne(I),I=-1),O=!0;var me=S;try{t:{for(xe(X),x=n(g);x!==null&&!(x.expirationTime>X&&j());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,S=x.priorityLevel;var Ge=Ue(x.expirationTime<=X);if(X=i.unstable_now(),typeof Ge=="function"){x.callback=Ge,xe(X),ae=!0;break t}x===n(g)&&a(g),xe(X)}else a(g);x=n(g)}if(x!==null)ae=!0;else{var M=n(p);M!==null&&It(Ne,M.startTime-X),ae=!1}}break e}finally{x=null,S=me,O=!1}ae=void 0}}finally{ae?L():Re=!1}}}var L;if(typeof re=="function")L=function(){re(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,it=N.port2;N.port1.onmessage=k,L=function(){it.postMessage(null)}}else L=function(){J(k,0)};function It(X,ae){I=J(function(){X(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var me=S;S=ae;try{return X()}finally{S=me}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=S;S=X;try{return ae()}finally{S=me}},i.unstable_scheduleCallback=function(X,ae,me){var Ue=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,X={id:E++,callback:ae,priorityLevel:X,startTime:me,expirationTime:Ge,sortIndex:-1},me>Ue?(X.sortIndex=me,e(p,X),n(g)===null&&X===n(p)&&(U?(ne(I),I=-1):U=!0,It(Ne,me-Ue))):(X.sortIndex=Ge,e(g,X),G||O||(G=!0,Re||(Re=!0,L()))),X},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(X){var ae=S;return function(){var me=S;S=ae;try{return X.apply(this,arguments)}finally{S=me}}}})(hm)),hm}var Ov;function eS(){return Ov||(Ov=1,cm.exports=Zw()),cm.exports}var dm={exports:{}},Xt={};var Mv;function tS(){if(Mv)return Xt;Mv=1;var i=tp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:g,containerInfo:p,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Xt.flushSync=function(g){var p=h.T,E=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=p,a.p=E,a.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,x=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:O}):E==="script"&&a.d.X(g,{crossOrigin:x,integrity:S,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,x=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},Xt.requestFormReset=function(g){a.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var jv;function nS(){if(jv)return dm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=tS(),dm.exports}var Vv;function rS(){if(Vv)return Mo;Vv=1;var i=eS(),e=tp(),n=nS();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,o=r;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return g(d),t;if(f===o)return g(d),r;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=d,o=f;else{for(var v=!1,T=d.child;T;){if(T===s){v=!0,s=d,o=f;break}if(T===o){v=!0,o=d,s=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===s){v=!0,s=f,o=d;break}if(T===o){v=!0,o=f,s=d;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case J:return"Profiler";case z:return"StrictMode";case Ne:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case xe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:it(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return it(t(r))}catch{}}return null}var It=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function M(t){return{current:t}}function ee(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function se(t,r){Ge++,Ue[Ge]=t.current,t.current=r}var ue=M(null),_e=M(null),Se=M(null),Pe=M(null);function kt(t,r){switch(se(Se,r),se(_e,t),se(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?W_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=W_(r),t=J_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),se(ue,t)}function at(){ee(ue),ee(_e),ee(Se)}function _a(t){t.memoizedState!==null&&se(Pe,t);var r=ue.current,s=J_(r,t.type);r!==s&&(se(_e,t),se(ue,s))}function ds(t){_e.current===t&&(ee(ue),ee(_e)),Pe.current===t&&(ee(Pe),Co._currentValue=me)}var fs,ms;function ur(t){if(fs===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",ms=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+ms}var Nl=!1;function va(t,r){if(!t||Nl)return"";Nl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var F=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){F=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){F=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var C=v.split(`
`),H=T.split(`
`);for(d=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(o===C.length||d===H.length)for(o=C.length-1,d=H.length-1;1<=o&&0<=d&&C[o]!==H[d];)d--;for(;1<=o&&0<=d;o--,d--)if(C[o]!==H[d]){if(o!==1||d!==1)do if(o--,d--,0>d||C[o]!==H[d]){var Y=`
`+C[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=d);break}}}finally{Nl=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ur(s):""}function Cl(t,r){switch(t.tag){case 26:case 27:case 5:return ur(t.type);case 16:return ur("Lazy");case 13:return t.child!==r&&r!==null?ur("Suspense Fallback"):ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return va(t.type,!1);case 11:return va(t.type.render,!1);case 1:return va(t.type,!0);case 31:return ur("Activity");default:return""}}function Il(t){try{var r="",s=null;do r+=Cl(t,s),s=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Dt=i.unstable_scheduleCallback,bi=i.unstable_cancelCallback,od=i.unstable_shouldYield,xu=i.unstable_requestPaint,tn=i.unstable_now,ba=i.unstable_getCurrentPriorityLevel,kl=i.unstable_ImmediatePriority,Dl=i.unstable_UserBlockingPriority,Ei=i.unstable_NormalPriority,ud=i.unstable_LowPriority,Tu=i.unstable_IdlePriority,wu=i.log,Su=i.unstable_setDisableYieldValue,qn=null,Ut=null;function Sn(t){if(typeof wu=="function"&&Su(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:Ru,Au=Math.log,ps=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(Au(t)/ps|0)|0}var cr=256,Ea=262144,vt=4194304;function hr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dr(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?d=hr(o):(v&=T,v!==0?d=hr(v):s||(s=T&~t,s!==0&&(d=hr(s))))):(T=o&~f,T!==0?d=hr(T):v!==0?d=hr(v):s||(s=o&~t,s!==0&&(d=hr(s)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,s=r&-r,f>=s||f===32&&(s&4194048)!==0)?r:d}function Hn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function cd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function fr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function xa(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hd(t,r,s,o,d,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(s=v&~s;0<s;){var Y=31-dt(s),Z=1<<Y;T[Y]=0,C[Y]=-1;var F=H[Y];if(F!==null)for(H[Y]=null,Y=0;Y<F.length;Y++){var K=F[Y];K!==null&&(K.lane&=-536870913)}s&=~Z}o!==0&&Ta(t,o,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Ta(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-dt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Ol(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-dt(s),d=1<<o;d&r|t[o]&r&&(t[o]|=r),s&=~d}}function Ml(t,r){var s=r&-r;return s=(s&42)!==0?1:wa(s),(s&(t.suspendedLanes|r))!==0?0:s}function wa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function Fn(t,r){var s=ae.p;try{return ae.p=t,r()}finally{ae.p=s}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,jt="__reactProps$"+Gn,mr="__reactContainer$"+Gn,gs="__reactEvents$"+Gn,dd="__reactListeners$"+Gn,Iu="__reactHandles$"+Gn,ku="__reactResources$"+Gn,pr="__reactMarker$"+Gn;function ys(t){delete t[bt],delete t[jt],delete t[gs],delete t[dd],delete t[Iu]}function gr(t){var r=t[bt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[mr]||s[bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=av(t);t!==null;){if(s=t[bt])return s;t=av(t)}return r}t=s,s=t.parentNode}return null}function An(t){if(t=t[bt]||t[mr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function gn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function yr(t){var r=t[ku];return r||(r=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[pr]=!0}var jl=new Set,Vl={};function _r(t,r){vr(t,r),vr(t+"Capture",r)}function vr(t,r){for(Vl[t]=r,t=0;t<r.length;t++)jl.add(r[t])}var Pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Ul={};function Du(t){return _t.call(Ul,t)?!0:_t.call(Ll,t)?!1:Pl.test(t)?Ul[t]=!0:(Ll[t]=!0,!1)}function _s(t,r,s){if(Du(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function yn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function xt(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zl(t,r,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=xi(t)?"checked":"value";t._valueTracker=zl(t,r,""+t[r])}}function Sa(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=xi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Aa=/[\n"\\]/g;function ln(t){return t.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vs(t,r,s,o,d,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Vt(r)):t.value!==""+Vt(r)&&(t.value=""+Vt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Bl(t,v,Vt(r)):s!=null?Bl(t,v,Vt(s)):o!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Vt(T):t.removeAttribute("name")}function Ou(t,r,s,o,d,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Qe(t);return}s=s!=null?""+Vt(s):"",r=r!=null?""+Vt(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function Bl(t,r,s){r==="number"&&br(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ti(t,r,s,o){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Vt(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Mu(t,r,s){if(r!=null&&(r=""+Vt(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Vt(s):""}function wi(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(a(92));if(It(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=Vt(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Qe(t)}function on(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||ju.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Hl(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in r)o=r[d],r.hasOwnProperty(d)&&s[d]!==o&&ql(t,d,o)}else for(var f in r)r.hasOwnProperty(f)&&ql(t,f,r[f])}function bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(t){return Si.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Fl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Er=null;function Ra(t){var r=An(t);if(r&&(t=r.stateNode)){var s=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(vs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var d=o[jt]||null;if(!d)throw Error(a(90));vs(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Sa(o)}break e;case"textarea":Mu(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ti(t,!!s.multiple,r,!1)}}}var xs=!1;function Ri(t,r,s){if(xs)return t(r,s);xs=!0;try{var o=t(r);return o}finally{if(xs=!1,(Ai!==null||Er!==null)&&(Cc(),Ai&&(r=Ai,t=Er,Er=Ai=null,Ra(r),t)))for(r=0;r<t.length;r++)Ra(t[r])}}function Kn(t,r){var s=t.stateNode;if(s===null)return null;var o=s[jt]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=!1;if(Nn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Na=!1}var xr=null,Gl=null,Ca=null;function Ql(){if(Ca)return Ca;var t,r=Gl,s=r.length,o,d="value"in xr?xr.value:xr.textContent,f=d.length;for(t=0;t<s&&r[t]===d[t];t++);var v=s-t;for(o=1;o<=v&&r[s-o]===d[f-o];o++);return Ca=d.slice(t,1<o?1-o:void 0)}function Ia(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Br(){return!0}function Yn(){return!1}function zt(t){function r(s,o,d,f,v){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Br:Yn,this.isPropagationStopped=Yn,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),r}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=zt(qr),Ni=x({},qr,{view:0,detail:0}),Kl=zt(Ni),Ci,Ts,wr,ws=x({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(Ci=t.screenX-wr.screenX,Ts=t.screenY-wr.screenY):Ts=Ci=0,wr=t),Ci)},movementY:function(t){return"movementY"in t?t.movementY:Ts}}),Yl=zt(ws),ka=x({},ws,{dataTransfer:0}),Pu=zt(ka),Lu=x({},Ni,{relatedTarget:0}),Da=zt(Lu),Xl=x({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=zt(Xl),Ss=x({},qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=zt(Ss),Bu=x({},qr,{data:0}),Sr=zt(Bu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fu[t])?!!r[t]:!1}function Ii(){return Gu}var nn=x({},Ni,{key:function(t){if(t.key){var r=qu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(t){return t.type==="keypress"?Ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qu=zt(nn),Ku=x({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hr=zt(Ku),c=x({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),_=zt(c),b=x({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=zt(b),B=x({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=zt(B),ie=x({},qr,{newState:0,oldState:0}),Te=zt(ie),ft=[9,13,27,32],qe=Nn&&"CompositionEvent"in window,st=null;Nn&&"documentMode"in document&&(st=document.documentMode);var Cn=Nn&&"TextEvent"in window&&!st,Ar=Nn&&(!qe||st&&8<st&&11>=st),Xn=" ",$n=!1;function Oa(t,r){switch(t){case"keyup":return ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function _T(t,r){switch(t){case"compositionend":return As(r);case"keypress":return r.which!==32?null:($n=!0,Xn);case"textInput":return t=r.data,t===Xn&&$n?null:t;default:return null}}function vT(t,r){if(Rs)return t==="compositionend"||!qe&&Oa(t,r)?(t=Ql(),Ca=Gl=xr=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ar&&r.locale!=="ko"?null:r.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!bT[t.type]:r==="textarea"}function ug(t,r,s,o){Ai?Er?Er.push(o):Er=[o]:Ai=o,r=Vc(r,"onChange"),0<r.length&&(s=new Tr("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var $l=null,Wl=null;function ET(t){G_(t,0)}function Yu(t){var r=gn(t);if(Sa(r))return t}function cg(t,r){if(t==="change")return r}var hg=!1;if(Nn){var fd;if(Nn){var md="oninput"in document;if(!md){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),md=typeof dg.oninput=="function"}fd=md}else fd=!1;hg=fd&&(!document.documentMode||9<document.documentMode)}function fg(){$l&&($l.detachEvent("onpropertychange",mg),Wl=$l=null)}function mg(t){if(t.propertyName==="value"&&Yu(Wl)){var r=[];ug(r,Wl,t,Rn(t)),Ri(ET,r)}}function xT(t,r,s){t==="focusin"?(fg(),$l=r,Wl=s,$l.attachEvent("onpropertychange",mg)):t==="focusout"&&fg()}function TT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(Wl)}function wT(t,r){if(t==="click")return Yu(r)}function ST(t,r){if(t==="input"||t==="change")return Yu(r)}function AT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:AT;function Jl(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!_t.call(r,d)||!_n(t[d],r[d]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gg(t,r){var s=pg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pg(s)}}function yg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?yg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=br(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=br(t.document)}return r}function pd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var RT=Nn&&"documentMode"in document&&11>=document.documentMode,Ns=null,gd=null,Zl=null,yd=!1;function vg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yd||Ns==null||Ns!==br(o)||(o=Ns,"selectionStart"in o&&pd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zl&&Jl(Zl,o)||(Zl=o,o=Vc(gd,"onSelect"),0<o.length&&(r=new Tr("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=Ns)))}function Ma(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Cs={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},_d={},bg={};Nn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function ja(t){if(_d[t])return _d[t];if(!Cs[t])return t;var r=Cs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in bg)return _d[t]=r[s];return t}var Eg=ja("animationend"),xg=ja("animationiteration"),Tg=ja("animationstart"),NT=ja("transitionrun"),CT=ja("transitionstart"),IT=ja("transitioncancel"),wg=ja("transitionend"),Sg=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function Wn(t,r){Sg.set(t,r),_r(r,[t])}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Is=0,bd=0;function $u(){for(var t=Is,r=bd=Is=0;r<t;){var s=In[r];In[r++]=null;var o=In[r];In[r++]=null;var d=In[r];In[r++]=null;var f=In[r];if(In[r++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}f!==0&&Ag(s,d,f)}}function Wu(t,r,s,o){In[Is++]=t,In[Is++]=r,In[Is++]=s,In[Is++]=o,bd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ed(t,r,s,o){return Wu(t,r,s,o),Ju(t)}function Va(t,r){return Wu(t,null,null,r),Ju(t)}function Ag(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-dt(s),t=f.hiddenUpdates,o=t[d],o===null?t[d]=[r]:o.push(r),r.lane=s|536870912),f):null}function Ju(t){if(50<xo)throw xo=0,kf=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ks={};function kT(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,s,o){return new kT(t,r,s,o)}function xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fr(t,r){var s=t.alternate;return s===null?(s=vn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Rg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Zu(t,r,s,o,d,f){var v=0;if(o=t,typeof t=="function")xd(t)&&(v=1);else if(typeof t=="string")v=Vw(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,s,r,d),t.elementType=R,t.lanes=f,t;case U:return Pa(s.children,d,f,r);case z:v=8,d|=24;break;case J:return t=vn(12,s,r,d|2),t.elementType=J,t.lanes=f,t;case Ne:return t=vn(13,s,r,d),t.elementType=Ne,t.lanes=f,t;case Re:return t=vn(19,s,r,d),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ne:v=9;break e;case xe:v=11;break e;case I:v=14;break e;case A:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return r=vn(v,s,r,d),r.elementType=t,r.type=o,r.lanes=f,r}function Pa(t,r,s,o){return t=vn(7,t,o,r),t.lanes=s,t}function Td(t,r,s){return t=vn(6,t,null,r),t.lanes=s,t}function Ng(t){var r=vn(18,null,null,0);return r.stateNode=t,r}function wd(t,r,s){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Cg=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var s=Cg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Il(r)},Cg.set(t,r),r)}return{value:t,source:r,stack:Il(r)}}var Ds=[],Os=0,ec=null,eo=0,Dn=[],On=0,ki=null,Rr=1,Nr="";function Gr(t,r){Ds[Os++]=eo,Ds[Os++]=ec,ec=t,eo=r}function Ig(t,r,s){Dn[On++]=Rr,Dn[On++]=Nr,Dn[On++]=ki,ki=t;var o=Rr;t=Nr;var d=32-dt(o)-1;o&=~(1<<d),s+=1;var f=32-dt(r)+d;if(30<f){var v=d-d%5;f=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Rr=1<<32-dt(r)+d|s<<d|o,Nr=f+t}else Rr=1<<f|s<<d|o,Nr=t}function Sd(t){t.return!==null&&(Gr(t,1),Ig(t,1,0))}function Ad(t){for(;t===ec;)ec=Ds[--Os],Ds[Os]=null,eo=Ds[--Os],Ds[Os]=null;for(;t===ki;)ki=Dn[--On],Dn[On]=null,Nr=Dn[--On],Dn[On]=null,Rr=Dn[--On],Dn[On]=null}function kg(t,r){Dn[On++]=Rr,Dn[On++]=Nr,Dn[On++]=ki,Rr=r.id,Nr=r.overflow,ki=t}var Bt=null,tt=null,Ve=!1,Di=null,Mn=!1,Rd=Error(a(519));function Oi(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(kn(r,t)),Rd}function Dg(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[bt]=t,r[jt]=o,s){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<wo.length;s++)Ie(wo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Ou(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),wi(r,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||X_(r.textContent,s)?(o.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),o.onScroll!=null&&Ie("scroll",r),o.onScrollEnd!=null&&Ie("scrollend",r),o.onClick!=null&&(r.onclick=Qn),r=!0):r=!1,r||Oi(t,!0)}function Og(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function Ms(t){if(t!==Bt)return!1;if(!Ve)return Og(t),Ve=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Qf(t.type,t.memoizedProps)),s=!s),s&&tt&&Oi(t),Og(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));tt=iv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));tt=iv(t)}else r===27?(r=tt,Ki(t.type)?(t=Wf,Wf=null,tt=t):tt=r):tt=Bt?Vn(t.stateNode.nextSibling):null;return!0}function La(){tt=Bt=null,Ve=!1}function Nd(){var t=Di;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Di=null),t}function to(t){Di===null?Di=[t]:Di.push(t)}var Cd=M(null),Ua=null,Qr=null;function Mi(t,r,s){se(Cd,r._currentValue),r._currentValue=s}function Kr(t){t._currentValue=Cd.current,ee(Cd)}function Id(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function kd(t,r,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var C=0;C<r.length;C++)if(T.context===r[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Id(f.return,s,t),o||(v=null);break e}f=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Id(v,s,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function js(t,r,s,o){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=d.type;_n(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===Pe.current){if(v=d.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}d=d.return}t!==null&&kd(r,t,s,o),r.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){Ua=t,Qr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Mg(Ua,t)}function nc(t,r){return Ua===null&&za(t),Mg(t,r)}function Mg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Qr===null){if(t===null)throw Error(a(308));Qr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Qr=Qr.next=r;return s}var DT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},OT=i.unstable_scheduleCallback,MT=i.unstable_NormalPriority,Tt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new DT,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&OT(MT,function(){t.controller.abort()})}var ro=null,Od=0,Vs=0,Ps=null;function jT(t,r){if(ro===null){var s=ro=[];Od=0,Vs=Pf(),Ps={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Od++,r.then(jg,jg),r}function jg(){if(--Od===0&&ro!==null){Ps!==null&&(Ps.status="fulfilled");var t=ro;ro=null,Vs=0,Ps=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function VT(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Vg=X.S;X.S=function(t,r){v_=tn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&jT(t,r),Vg!==null&&Vg(t,r)};var Ba=M(null);function Md(){var t=Ba.current;return t!==null?t:Ze.pooledCache}function rc(t,r){r===null?se(Ba,Ba.current):se(Ba,r.pool)}function Pg(){var t=Md();return t===null?null:{parent:Tt._currentValue,pool:t}}var Ls=Error(a(460)),jd=Error(a(474)),ic=Error(a(542)),ac={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Qn,Qn),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bg(t),t;default:if(typeof r.status=="string")r.then(Qn,Qn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=o}},function(o){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bg(t),t}throw Ha=r,Ls}}function qa(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ha=s,Ls):s}}var Ha=null;function zg(){if(Ha===null)throw Error(a(459));var t=Ha;return Ha=null,t}function Bg(t){if(t===Ls||t===ic)throw Error(a(483))}var Us=null,io=0;function sc(t){var r=io;return io+=1,Us===null&&(Us=[]),Ug(Us,t,r)}function ao(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function qg(t){function r(P,D){if(t){var q=P.deletions;q===null?(P.deletions=[D],P.flags|=16):q.push(D)}}function s(P,D){if(!t)return null;for(;D!==null;)r(P,D),D=D.sibling;return null}function o(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function d(P,D){return P=Fr(P,D),P.index=0,P.sibling=null,P}function f(P,D,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<D?(P.flags|=67108866,D):q):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,D,q,$){return D===null||D.tag!==6?(D=Td(q,P.mode,$),D.return=P,D):(D=d(D,q),D.return=P,D)}function C(P,D,q,$){var de=q.type;return de===U?Y(P,D,q.props.children,$,q.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&qa(de)===D.type)?(D=d(D,q.props),ao(D,q),D.return=P,D):(D=Zu(q.type,q.key,q.props,null,P.mode,$),ao(D,q),D.return=P,D)}function H(P,D,q,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=wd(q,P.mode,$),D.return=P,D):(D=d(D,q.children||[]),D.return=P,D)}function Y(P,D,q,$,de){return D===null||D.tag!==7?(D=Pa(q,P.mode,$,de),D.return=P,D):(D=d(D,q),D.return=P,D)}function Z(P,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Td(""+D,P.mode,q),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return q=Zu(D.type,D.key,D.props,null,P.mode,q),ao(q,D),q.return=P,q;case G:return D=wd(D,P.mode,q),D.return=P,D;case A:return D=qa(D),Z(P,D,q)}if(It(D)||L(D))return D=Pa(D,P.mode,q,null),D.return=P,D;if(typeof D.then=="function")return Z(P,sc(D),q);if(D.$$typeof===re)return Z(P,nc(P,D),q);lc(P,D)}return null}function F(P,D,q,$){var de=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:T(P,D,""+q,$);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===de?C(P,D,q,$):null;case G:return q.key===de?H(P,D,q,$):null;case A:return q=qa(q),F(P,D,q,$)}if(It(q)||L(q))return de!==null?null:Y(P,D,q,$,null);if(typeof q.then=="function")return F(P,D,sc(q),$);if(q.$$typeof===re)return F(P,D,nc(P,q),$);lc(P,q)}return null}function K(P,D,q,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(q)||null,T(D,P,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return P=P.get($.key===null?q:$.key)||null,C(D,P,$,de);case G:return P=P.get($.key===null?q:$.key)||null,H(D,P,$,de);case A:return $=qa($),K(P,D,q,$,de)}if(It($)||L($))return P=P.get(q)||null,Y(D,P,$,de,null);if(typeof $.then=="function")return K(P,D,q,sc($),de);if($.$$typeof===re)return K(P,D,q,nc(D,$),de);lc(D,$)}return null}function ce(P,D,q,$){for(var de=null,ze=null,he=D,Ae=D=0,De=null;he!==null&&Ae<q.length;Ae++){he.index>Ae?(De=he,he=null):De=he.sibling;var Be=F(P,he,q[Ae],$);if(Be===null){he===null&&(he=De);break}t&&he&&Be.alternate===null&&r(P,he),D=f(Be,D,Ae),ze===null?de=Be:ze.sibling=Be,ze=Be,he=De}if(Ae===q.length)return s(P,he),Ve&&Gr(P,Ae),de;if(he===null){for(;Ae<q.length;Ae++)he=Z(P,q[Ae],$),he!==null&&(D=f(he,D,Ae),ze===null?de=he:ze.sibling=he,ze=he);return Ve&&Gr(P,Ae),de}for(he=o(he);Ae<q.length;Ae++)De=K(he,P,Ae,q[Ae],$),De!==null&&(t&&De.alternate!==null&&he.delete(De.key===null?Ae:De.key),D=f(De,D,Ae),ze===null?de=De:ze.sibling=De,ze=De);return t&&he.forEach(function(Ji){return r(P,Ji)}),Ve&&Gr(P,Ae),de}function pe(P,D,q,$){if(q==null)throw Error(a(151));for(var de=null,ze=null,he=D,Ae=D=0,De=null,Be=q.next();he!==null&&!Be.done;Ae++,Be=q.next()){he.index>Ae?(De=he,he=null):De=he.sibling;var Ji=F(P,he,Be.value,$);if(Ji===null){he===null&&(he=De);break}t&&he&&Ji.alternate===null&&r(P,he),D=f(Ji,D,Ae),ze===null?de=Ji:ze.sibling=Ji,ze=Ji,he=De}if(Be.done)return s(P,he),Ve&&Gr(P,Ae),de;if(he===null){for(;!Be.done;Ae++,Be=q.next())Be=Z(P,Be.value,$),Be!==null&&(D=f(Be,D,Ae),ze===null?de=Be:ze.sibling=Be,ze=Be);return Ve&&Gr(P,Ae),de}for(he=o(he);!Be.done;Ae++,Be=q.next())Be=K(he,P,Ae,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ae:Be.key),D=f(Be,D,Ae),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(Kw){return r(P,Kw)}),Ve&&Gr(P,Ae),de}function Je(P,D,q,$){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var de=q.key;D!==null;){if(D.key===de){if(de=q.type,de===U){if(D.tag===7){s(P,D.sibling),$=d(D,q.props.children),$.return=P,P=$;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&qa(de)===D.type){s(P,D.sibling),$=d(D,q.props),ao($,q),$.return=P,P=$;break e}s(P,D);break}else r(P,D);D=D.sibling}q.type===U?($=Pa(q.props.children,P.mode,$,q.key),$.return=P,P=$):($=Zu(q.type,q.key,q.props,null,P.mode,$),ao($,q),$.return=P,P=$)}return v(P);case G:e:{for(de=q.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){s(P,D.sibling),$=d(D,q.children||[]),$.return=P,P=$;break e}else{s(P,D);break}else r(P,D);D=D.sibling}$=wd(q,P.mode,$),$.return=P,P=$}return v(P);case A:return q=qa(q),Je(P,D,q,$)}if(It(q))return ce(P,D,q,$);if(L(q)){if(de=L(q),typeof de!="function")throw Error(a(150));return q=de.call(q),pe(P,D,q,$)}if(typeof q.then=="function")return Je(P,D,sc(q),$);if(q.$$typeof===re)return Je(P,D,nc(P,q),$);lc(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(s(P,D.sibling),$=d(D,q),$.return=P,P=$):(s(P,D),$=Td(q,P.mode,$),$.return=P,P=$),v(P)):s(P,D)}return function(P,D,q,$){try{io=0;var de=Je(P,D,q,$);return Us=null,de}catch(he){if(he===Ls||he===ic)throw he;var ze=vn(29,he,null,P.mode);return ze.lanes=$,ze.return=P,ze}}}var Fa=qg(!0),Hg=qg(!1),ji=!1;function Vd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,r=Ju(t),Ag(t,null,s),r}return Wu(t,o,r,s),Ju(t)}function so(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Ol(t,s)}}function Ld(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?d=f=r:f=f.next=r}else d=f=r;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Ud=!1;function lo(){if(Ud){var t=Ps;if(t!==null)throw t}}function oo(t,r,s,o){Ud=!1;var d=t.updateQueue;ji=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var C=T,H=C.next;C.next=null,v===null?f=H:v.next=H,v=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=H:T.next=H,Y.lastBaseUpdate=C))}if(f!==null){var Z=d.baseState;v=0,Y=H=C=null,T=f;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(ke&F)===F:(o&F)===F){F!==0&&F===Vs&&(Ud=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,pe=T;F=r;var Je=s;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){Z=ce.call(Je,Z,F);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,F=typeof ce=="function"?ce.call(Je,Z,F):ce,F==null)break e;Z=x({},Z,F);break e;case 2:ji=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(H=Y=K,C=Z):Y=Y.next=K,v|=F;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);Y===null&&(C=Z),d.baseState=C,d.firstBaseUpdate=H,d.lastBaseUpdate=Y,f===null&&(d.shared.lanes=0),qi|=v,t.lanes=v,t.memoizedState=Z}}function Fg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Gg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fg(s[t],r)}var zs=M(null),oc=M(0);function Qg(t,r){t=ni,se(oc,t),se(zs,r),ni=t|r.baseLanes}function zd(){se(oc,ni),se(zs,zs.current)}function Bd(){ni=oc.current,ee(zs),ee(oc)}var bn=M(null),jn=null;function Li(t){var r=t.alternate;se(mt,mt.current&1),se(bn,t),jn===null&&(r===null||zs.current!==null||r.memoizedState!==null)&&(jn=t)}function qd(t){se(mt,mt.current),se(bn,t),jn===null&&(jn=t)}function Kg(t){t.tag===22?(se(mt,mt.current),se(bn,t),jn===null&&(jn=t)):Ui()}function Ui(){se(mt,mt.current),se(bn,bn.current)}function En(t){ee(bn),jn===t&&(jn=null),ee(mt)}var mt=M(0);function uc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xf(s)||$f(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yr=0,we=null,$e=null,wt=null,cc=!1,Bs=!1,Ga=!1,hc=0,uo=0,qs=null,PT=0;function ct(){throw Error(a(321))}function Hd(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!_n(t[s],r[s]))return!1;return!0}function Fd(t,r,s,o,d,f){return Yr=f,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Iy:sf,Ga=!1,f=s(o,d),Ga=!1,Bs&&(f=Xg(r,s,o,d)),Yg(t),f}function Yg(t){X.H=fo;var r=$e!==null&&$e.next!==null;if(Yr=0,wt=$e=we=null,cc=!1,uo=0,qs=null,r)throw Error(a(300));t===null||St||(t=t.dependencies,t!==null&&tc(t)&&(St=!0))}function Xg(t,r,s,o){we=t;var d=0;do{if(Bs&&(qs=null),uo=0,Bs=!1,25<=d)throw Error(a(301));if(d+=1,wt=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=ky,f=r(s,o)}while(Bs);return f}function LT(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?co(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(we.flags|=1024),r}function Gd(){var t=hc!==0;return hc=0,t}function Qd(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Kd(t){if(cc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}cc=!1}Yr=0,wt=$e=we=null,Bs=!1,uo=hc=0,qs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?we.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if($e===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=wt===null?we.memoizedState:wt.next;if(r!==null)wt=r,$e=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},wt===null?we.memoizedState=wt=t:wt=wt.next=t}return wt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var r=uo;return uo+=1,qs===null&&(qs=[]),t=Ug(qs,t,r),r=we,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Iy:sf),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===re)return qt(t)}throw Error(a(438,String(t)))}function Yd(t){var r=null,s=we.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=dc(),we.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=j;return r.index++,s}function Xr(t,r){return typeof r=="function"?r(t):r}function mc(t){var r=pt();return Xd(r,$e,t)}function Xd(t,r,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var d=t.baseQueue,f=o.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,o.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var T=v=null,C=null,H=r,Y=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(ke&Z)===Z:(Yr&Z)===Z){var F=H.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Vs&&(Y=!0);else if((Yr&F)===F){H=H.next,F===Vs&&(Y=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=Z,v=f):C=C.next=Z,we.lanes|=F,qi|=F;Z=H.action,Ga&&s(f,Z),f=H.hasEagerState?H.eagerState:s(f,Z)}else F={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=F,v=f):C=C.next=F,we.lanes|=Z,qi|=Z;H=H.next}while(H!==null&&H!==r);if(C===null?v=f:C.next=T,!_n(f,t.memoizedState)&&(St=!0,Y&&(s=Ps,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=C,o.lastRenderedState=f}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function $d(t){var r=pt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,f=r.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);_n(f,r.memoizedState)||(St=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),s.lastRenderedState=f}return[f,o]}function $g(t,r,s){var o=we,d=pt(),f=Ve;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!_n(($e||d).memoizedState,s);if(v&&(d.memoizedState=s,St=!0),d=d.queue,Zd(Zg.bind(null,o,d,t),[t]),d.getSnapshot!==r||v||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Hs(9,{destroy:void 0},Jg.bind(null,o,d,s,r),null),Ze===null)throw Error(a(349));f||(Yr&127)!==0||Wg(o,r,s)}return s}function Wg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=we.updateQueue,r===null?(r=dc(),we.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Jg(t,r,s,o){r.value=s,r.getSnapshot=o,ey(r)&&ty(t)}function Zg(t,r,s){return s(function(){ey(r)&&ty(t)})}function ey(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!_n(t,s)}catch{return!0}}function ty(t){var r=Va(t,2);r!==null&&fn(r,t,2)}function Wd(t){var r=rn();if(typeof t=="function"){var s=t;if(t=s(),Ga){Sn(!0);try{s()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},r}function ny(t,r,s,o){return t.baseState=s,Xd(t,$e,typeof o=="function"?o:Xr)}function UT(t,r,s,o,d){if(yc(t))throw Error(a(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};X.T!==null?s(!0):f.isTransition=!1,o(f),s=r.pending,s===null?(f.next=r.pending=f,ry(r,f)):(f.next=s.next,r.pending=s.next=f)}}function ry(t,r){var s=r.action,o=r.payload,d=t.state;if(r.isTransition){var f=X.T,v={};X.T=v;try{var T=s(d,o),C=X.S;C!==null&&C(v,T),iy(t,r,T)}catch(H){Jd(t,r,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),X.T=f}}else try{f=s(d,o),iy(t,r,f)}catch(H){Jd(t,r,H)}}function iy(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ay(t,r,o)},function(o){return Jd(t,r,o)}):ay(t,r,s)}function ay(t,r,s){r.status="fulfilled",r.value=s,sy(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,ry(t,s)))}function Jd(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,sy(r),r=r.next;while(r!==o)}t.action=null}function sy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ly(t,r){return r}function oy(t,r){if(Ve){var s=Ze.formState;if(s!==null){e:{var o=we;if(Ve){if(tt){t:{for(var d=tt,f=Mn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Vn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){tt=Vn(d.nextSibling),o=d.data==="F!";break e}}Oi(o)}o=!1}o&&(r=s[0])}}return s=rn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:r},s.queue=o,s=Ry.bind(null,we,o),o.dispatch=s,o=Wd(!1),f=af.bind(null,we,!1,o.queue),o=rn(),d={state:r,dispatch:null,action:t,pending:null},o.queue=d,s=UT.bind(null,we,d,f,s),d.dispatch=s,o.memoizedState=t,[r,s,!1]}function uy(t){var r=pt();return cy(r,$e,t)}function cy(t,r,s){if(r=Xd(t,r,ly)[0],t=mc(Xr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=co(r)}catch(v){throw v===Ls?ic:v}else o=r;r=pt();var d=r.queue,f=d.dispatch;return s!==r.memoizedState&&(we.flags|=2048,Hs(9,{destroy:void 0},zT.bind(null,d,s),null)),[o,f,t]}function zT(t,r){t.action=r}function hy(t){var r=pt(),s=$e;if(s!==null)return cy(r,s,t);pt(),r=r.memoizedState,s=pt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function Hs(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=we.updateQueue,r===null&&(r=dc(),we.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function dy(){return pt().memoizedState}function pc(t,r,s,o){var d=rn();we.flags|=t,d.memoizedState=Hs(1|r,{destroy:void 0},s,o===void 0?null:o)}function gc(t,r,s,o){var d=pt();o=o===void 0?null:o;var f=d.memoizedState.inst;$e!==null&&o!==null&&Hd(o,$e.memoizedState.deps)?d.memoizedState=Hs(r,f,s,o):(we.flags|=t,d.memoizedState=Hs(1|r,f,s,o))}function fy(t,r){pc(8390656,8,t,r)}function Zd(t,r){gc(2048,8,t,r)}function BT(t){we.flags|=4;var r=we.updateQueue;if(r===null)r=dc(),we.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function my(t){var r=pt().memoizedState;return BT({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function py(t,r){return gc(4,2,t,r)}function gy(t,r){return gc(4,4,t,r)}function yy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function _y(t,r,s){s=s!=null?s.concat([t]):null,gc(4,4,yy.bind(null,r,t),s)}function ef(){}function vy(t,r){var s=pt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Hd(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function by(t,r){var s=pt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Hd(r,o[1]))return o[0];if(o=t(),Ga){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[o,r],o}function tf(t,r,s){return s===void 0||(Yr&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=E_(),we.lanes|=t,qi|=t,s)}function Ey(t,r,s,o){return _n(s,r)?s:zs.current!==null?(t=tf(t,s,o),_n(t,r)||(St=!0),t):(Yr&42)===0||(Yr&1073741824)!==0&&(ke&261930)===0?(St=!0,t.memoizedState=s):(t=E_(),we.lanes|=t,qi|=t,r)}function xy(t,r,s,o,d){var f=ae.p;ae.p=f!==0&&8>f?f:8;var v=X.T,T={};X.T=T,af(t,!1,r,s);try{var C=d(),H=X.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=VT(C,o);ho(t,r,Y,wn(t))}else ho(t,r,o,wn(t))}catch(Z){ho(t,r,{then:function(){},status:"rejected",reason:Z},wn())}finally{ae.p=f,v!==null&&T.types!==null&&(v.types=T.types),X.T=v}}function qT(){}function nf(t,r,s,o){if(t.tag!==5)throw Error(a(476));var d=Ty(t).queue;xy(t,d,r,me,s===null?qT:function(){return wy(t),s(o)})}function Ty(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:me},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function wy(t){var r=Ty(t);r.next===null&&(r=t.alternate.memoizedState),ho(t,r.next.queue,{},wn())}function rf(){return qt(Co)}function Sy(){return pt().memoizedState}function Ay(){return pt().memoizedState}function HT(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=wn();t=Vi(s);var o=Pi(r,t,s);o!==null&&(fn(o,r,s),so(o,r,s)),r={cache:Dd()},t.payload=r;return}r=r.return}}function FT(t,r,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},yc(t)?Ny(r,s):(s=Ed(t,r,s,o),s!==null&&(fn(s,t,o),Cy(s,r,o)))}function Ry(t,r,s){var o=wn();ho(t,r,s,o)}function ho(t,r,s,o){var d={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(yc(t))Ny(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,T=f(v,s);if(d.hasEagerState=!0,d.eagerState=T,_n(T,v))return Wu(t,r,d,0),Ze===null&&$u(),!1}catch{}if(s=Ed(t,r,d,o),s!==null)return fn(s,t,o),Cy(s,r,o),!0}return!1}function af(t,r,s,o){if(o={lane:2,revertLane:Pf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(r)throw Error(a(479))}else r=Ed(t,s,o,2),r!==null&&fn(r,t,2)}function yc(t){var r=t.alternate;return t===we||r!==null&&r===we}function Ny(t,r){Bs=cc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Cy(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Ol(t,s)}}var fo={readContext:qt,use:fc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};fo.useEffectEvent=ct;var Iy={readContext:qt,use:fc,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:qt,useEffect:fy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,pc(4194308,4,yy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return pc(4194308,4,t,r)},useInsertionEffect:function(t,r){pc(4,2,t,r)},useMemo:function(t,r){var s=rn();r=r===void 0?null:r;var o=t();if(Ga){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=rn();if(s!==void 0){var d=s(r);if(Ga){Sn(!0);try{s(r)}finally{Sn(!1)}}}else d=r;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=FT.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Wd(t);var r=t.queue,s=Ry.bind(null,we,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:ef,useDeferredValue:function(t,r){var s=rn();return tf(s,t,r)},useTransition:function(){var t=Wd(!1);return t=xy.bind(null,we,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=we,d=rn();if(Ve){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Ze===null)throw Error(a(349));(ke&127)!==0||Wg(o,r,s)}d.memoizedState=s;var f={value:s,getSnapshot:r};return d.queue=f,fy(Zg.bind(null,o,f,t),[t]),o.flags|=2048,Hs(9,{destroy:void 0},Jg.bind(null,o,f,s,r),null),s},useId:function(){var t=rn(),r=Ze.identifierPrefix;if(Ve){var s=Nr,o=Rr;s=(o&~(1<<32-dt(o)-1)).toString(32)+s,r="_"+r+"R_"+s,s=hc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=PT++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:rf,useFormState:oy,useActionState:oy,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=af.bind(null,we,!0,s),s.dispatch=r,[t,r]},useMemoCache:Yd,useCacheRefresh:function(){return rn().memoizedState=HT.bind(null,we)},useEffectEvent:function(t){var r=rn(),s={impl:t};return r.memoizedState=s,function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},sf={readContext:qt,use:fc,useCallback:vy,useContext:qt,useEffect:Zd,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:by,useReducer:mc,useRef:dy,useState:function(){return mc(Xr)},useDebugValue:ef,useDeferredValue:function(t,r){var s=pt();return Ey(s,$e.memoizedState,t,r)},useTransition:function(){var t=mc(Xr)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:co(t),r]},useSyncExternalStore:$g,useId:Sy,useHostTransitionStatus:rf,useFormState:uy,useActionState:uy,useOptimistic:function(t,r){var s=pt();return ny(s,$e,t,r)},useMemoCache:Yd,useCacheRefresh:Ay};sf.useEffectEvent=my;var ky={readContext:qt,use:fc,useCallback:vy,useContext:qt,useEffect:Zd,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:by,useReducer:$d,useRef:dy,useState:function(){return $d(Xr)},useDebugValue:ef,useDeferredValue:function(t,r){var s=pt();return $e===null?tf(s,t,r):Ey(s,$e.memoizedState,t,r)},useTransition:function(){var t=$d(Xr)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:co(t),r]},useSyncExternalStore:$g,useId:Sy,useHostTransitionStatus:rf,useFormState:hy,useActionState:hy,useOptimistic:function(t,r){var s=pt();return $e!==null?ny(s,$e,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:Ay};ky.useEffectEvent=my;function lf(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:x({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var of={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=wn(),d=Vi(o);d.payload=r,s!=null&&(d.callback=s),r=Pi(t,d,o),r!==null&&(fn(r,t,o),so(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=wn(),d=Vi(o);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Pi(t,d,o),r!==null&&(fn(r,t,o),so(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wn(),o=Vi(s);o.tag=2,r!=null&&(o.callback=r),r=Pi(t,o,s),r!==null&&(fn(r,t,s),so(r,t,s))}};function Dy(t,r,s,o,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):r.prototype&&r.prototype.isPureReactComponent?!Jl(s,o)||!Jl(d,f):!0}function Oy(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&of.enqueueReplaceState(r,r.state,null)}function Qa(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=x({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function My(t){Xu(t)}function jy(t){console.error(t)}function Vy(t){Xu(t)}function _c(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Py(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function uf(t,r,s){return s=Vi(s),s.tag=3,s.payload={element:null},s.callback=function(){_c(t,r)},s}function Ly(t){return t=Vi(t),t.tag=3,t}function Uy(t,r,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;t.payload=function(){return d(f)},t.callback=function(){Py(r,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Py(r,s,o),typeof d!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function GT(t,r,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&js(r,s,d,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?Ic():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===ac?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),Mf(t,o,d)),!1;case 22:return s.flags|=65536,o===ac?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),Mf(t,o,d)),!1}throw Error(a(435,s.tag))}return Mf(t,o,d),Ic(),!1}if(Ve)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,o!==Rd&&(t=Error(a(422),{cause:o}),to(kn(t,s)))):(o!==Rd&&(r=Error(a(423),{cause:o}),to(kn(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=kn(o,s),d=uf(t.stateNode,o,d),Ld(t,d),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,s),Eo===null?Eo=[f]:Eo.push(f),ht!==4&&(ht=2),r===null)return!0;o=kn(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=uf(s.stateNode,o,t),Ld(s,t),!1;case 1:if(r=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hi===null||!Hi.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Ly(d),Uy(d,t,s,o),Ld(s,d),!1}s=s.return}while(s!==null);return!1}var cf=Error(a(461)),St=!1;function Ht(t,r,s,o){r.child=t===null?Hg(r,null,s,o):Fa(r,t.child,s,o)}function zy(t,r,s,o,d){s=s.render;var f=r.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return za(r),o=Fd(t,r,s,v,f,d),T=Gd(),t!==null&&!St?(Qd(t,r,d),$r(t,r,d)):(Ve&&T&&Sd(r),r.flags|=1,Ht(t,r,o,d),r.child)}function By(t,r,s,o,d){if(t===null){var f=s.type;return typeof f=="function"&&!xd(f)&&f.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=f,qy(t,r,f,o,d)):(t=Zu(s.type,null,o,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!_f(t,d)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:Jl,s(v,o)&&t.ref===r.ref)return $r(t,r,d)}return r.flags|=1,t=Fr(f,o),t.ref=r.ref,t.return=r,r.child=t}function qy(t,r,s,o,d){if(t!==null){var f=t.memoizedProps;if(Jl(f,o)&&t.ref===r.ref)if(St=!1,r.pendingProps=o=f,_f(t,d))(t.flags&131072)!==0&&(St=!0);else return r.lanes=t.lanes,$r(t,r,d)}return hf(t,r,s,o,d)}function Hy(t,r,s,o){var d=o.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=r.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,r.child=null;return Fy(t,r,f,s,o)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(r,f!==null?f.cachePool:null),f!==null?Qg(r,f):zd(),Kg(r);else return o=r.lanes=536870912,Fy(t,r,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(rc(r,f.cachePool),Qg(r,f),Ui(),r.memoizedState=null):(t!==null&&rc(r,null),zd(),Ui());return Ht(t,r,d,s),r.child}function mo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Fy(t,r,s,o,d){var f=Md();return f=f===null?null:{parent:Tt._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&rc(r,null),zd(),Kg(r),t!==null&&js(t,r,o,!0),r.childLanes=d,null}function vc(t,r){return r=Ec({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Gy(t,r,s){return Fa(r,t.child,null,s),t=vc(r,r.pendingProps),t.flags|=2,En(r),r.memoizedState=null,t}function QT(t,r,s){var o=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ve){if(o.mode==="hidden")return t=vc(r,o),r.lanes=536870912,mo(null,t);if(qd(r),(t=tt)?(t=rv(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ki!==null?{id:Rr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},s=Ng(t),s.return=r,r.child=s,Bt=r,tt=null)):t=null,t===null)throw Oi(r);return r.lanes=536870912,null}return vc(r,o)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(qd(r),d)if(r.flags&256)r.flags&=-257,r=Gy(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(St||js(t,r,s,!1),d=(s&t.childLanes)!==0,St||d){if(o=Ze,o!==null&&(v=Ml(o,s),v!==0&&v!==f.retryLane))throw f.retryLane=v,Va(t,v),fn(o,t,v),cf;Ic(),r=Gy(t,r,s)}else t=f.treeContext,tt=Vn(v.nextSibling),Bt=r,Ve=!0,Di=null,Mn=!1,t!==null&&kg(r,t),r=vc(r,o),r.flags|=4096;return r}return t=Fr(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function bc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function hf(t,r,s,o,d){return za(r),s=Fd(t,r,s,o,void 0,d),o=Gd(),t!==null&&!St?(Qd(t,r,d),$r(t,r,d)):(Ve&&o&&Sd(r),r.flags|=1,Ht(t,r,s,d),r.child)}function Qy(t,r,s,o,d,f){return za(r),r.updateQueue=null,s=Xg(r,o,s,d),Yg(t),o=Gd(),t!==null&&!St?(Qd(t,r,f),$r(t,r,f)):(Ve&&o&&Sd(r),r.flags|=1,Ht(t,r,s,f),r.child)}function Ky(t,r,s,o,d){if(za(r),r.stateNode===null){var f=ks,v=s.contextType;typeof v=="object"&&v!==null&&(f=qt(v)),f=new s(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},Vd(r),v=s.contextType,f.context=typeof v=="object"&&v!==null?qt(v):ks,f.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(lf(r,s,v,o),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&of.enqueueReplaceState(f,f.state,null),oo(r,o,f,d),lo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var T=r.memoizedProps,C=Qa(s,T);f.props=C;var H=f.context,Y=s.contextType;v=ks,typeof Y=="object"&&Y!==null&&(v=qt(Y));var Z=s.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==v)&&Oy(r,f,o,v),ji=!1;var F=r.memoizedState;f.state=F,oo(r,o,f,d),lo(),H=r.memoizedState,T||F!==H||ji?(typeof Z=="function"&&(lf(r,s,Z,o),H=r.memoizedState),(C=ji||Dy(r,s,C,o,F,H,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=H),f.props=o,f.state=H,f.context=v,o=C):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Pd(t,r),v=r.memoizedProps,Y=Qa(s,v),f.props=Y,Z=r.pendingProps,F=f.context,H=s.contextType,C=ks,typeof H=="object"&&H!==null&&(C=qt(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||F!==C)&&Oy(r,f,o,C),ji=!1,F=r.memoizedState,f.state=F,oo(r,o,f,d),lo();var K=r.memoizedState;v!==Z||F!==K||ji||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof T=="function"&&(lf(r,s,T,o),K=r.memoizedState),(Y=ji||Dy(r,s,Y,o,F,K,C)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,K,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,K,C)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=K),f.props=o,f.state=K,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,bc(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=Fa(r,t.child,null,d),r.child=Fa(r,null,s,d)):Ht(t,r,s,d),r.memoizedState=f.state,t=r.child):t=$r(t,r,d),t}function Yy(t,r,s,o){return La(),r.flags|=256,Ht(t,r,s,o),r.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(t){return{baseLanes:t,cachePool:Pg()}}function mf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Tn),t}function Xy(t,r,s){var o=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ve){if(d?Li(r):Ui(),(t=tt)?(t=rv(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ki!==null?{id:Rr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},s=Ng(t),s.return=r,r.child=s,Bt=r,tt=null)):t=null,t===null)throw Oi(r);return $f(t)?r.lanes=32:r.lanes=536870912,null}var T=o.children;return o=o.fallback,d?(Ui(),d=r.mode,T=Ec({mode:"hidden",children:T},d),o=Pa(o,d,s,null),T.return=r,o.return=r,T.sibling=o,r.child=T,o=r.child,o.memoizedState=ff(s),o.childLanes=mf(t,v,s),r.memoizedState=df,mo(null,o)):(Li(r),pf(r,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)r.flags&256?(Li(r),r.flags&=-257,r=gf(t,r,s)):r.memoizedState!==null?(Ui(),r.child=t.child,r.flags|=128,r=null):(Ui(),T=o.fallback,d=r.mode,o=Ec({mode:"visible",children:o.children},d),T=Pa(T,d,s,null),T.flags|=2,o.return=r,T.return=r,o.sibling=T,r.child=o,Fa(r,t.child,null,s),o=r.child,o.memoizedState=ff(s),o.childLanes=mf(t,v,s),r.memoizedState=df,r=mo(null,o));else if(Li(r),$f(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,o=Error(a(419)),o.stack="",o.digest=v,to({value:o,source:null,stack:null}),r=gf(t,r,s)}else if(St||js(t,r,s,!1),v=(s&t.childLanes)!==0,St||v){if(v=Ze,v!==null&&(o=Ml(v,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Va(t,o),fn(v,t,o),cf;Xf(T)||Ic(),r=gf(t,r,s)}else Xf(T)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,tt=Vn(T.nextSibling),Bt=r,Ve=!0,Di=null,Mn=!1,t!==null&&kg(r,t),r=pf(r,o.children),r.flags|=4096);return r}return d?(Ui(),T=o.fallback,d=r.mode,C=t.child,H=C.sibling,o=Fr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,H!==null?T=Fr(H,T):(T=Pa(T,d,s,null),T.flags|=2),T.return=r,o.return=r,o.sibling=T,r.child=o,mo(null,o),o=r.child,T=t.child.memoizedState,T===null?T=ff(s):(d=T.cachePool,d!==null?(C=Tt._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=Pg(),T={baseLanes:T.baseLanes|s,cachePool:d}),o.memoizedState=T,o.childLanes=mf(t,v,s),r.memoizedState=df,mo(t.child,o)):(Li(r),s=t.child,t=s.sibling,s=Fr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=s,r.memoizedState=null,s)}function pf(t,r){return r=Ec({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ec(t,r){return t=vn(22,t,null,r),t.lanes=0,t}function gf(t,r,s){return Fa(r,t.child,null,s),t=pf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $y(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Id(t.return,r,s)}function yf(t,r,s,o,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=s,v.tailMode=d,v.treeForkCount=f)}function Wy(t,r,s){var o=r.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var v=mt.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,se(mt,v),Ht(t,r,o,s),o=Ve?eo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,s,r);else if(t.tag===19)$y(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&uc(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),yf(r,!1,d,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&uc(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}yf(r,!0,s,null,f,o);break;case"together":yf(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function $r(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),qi|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(js(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=Fr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Fr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function _f(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function KT(t,r,s){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),Mi(r,Tt,t.memoizedState.cache),La();break;case 27:case 5:_a(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:Mi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,qd(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Xy(t,r,s):(Li(r),t=$r(t,r,s),t!==null?t.sibling:null);Li(r);break;case 19:var d=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(js(t,r,s,!1),o=(s&r.childLanes)!==0),d){if(o)return Wy(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(mt,mt.current),o)break;return null;case 22:return r.lanes=0,Hy(t,r,s,r.pendingProps);case 24:Mi(r,Tt,t.memoizedState.cache)}return $r(t,r,s)}function Jy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)St=!0;else{if(!_f(t,s)&&(r.flags&128)===0)return St=!1,KT(t,r,s);St=(t.flags&131072)!==0}else St=!1,Ve&&(r.flags&1048576)!==0&&Ig(r,eo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=qa(r.elementType),r.type=t,typeof t=="function")xd(t)?(o=Qa(t,o),r.tag=1,r=Ky(null,r,t,o,s)):(r.tag=0,r=hf(null,r,t,o,s));else{if(t!=null){var d=t.$$typeof;if(d===xe){r.tag=11,r=zy(null,r,t,o,s);break e}else if(d===I){r.tag=14,r=By(null,r,t,o,s);break e}}throw r=it(t)||t,Error(a(306,r,""))}}return r;case 0:return hf(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,d=Qa(o,r.pendingProps),Ky(t,r,o,d,s);case 3:e:{if(kt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));o=r.pendingProps;var f=r.memoizedState;d=f.element,Pd(t,r),oo(r,o,null,s);var v=r.memoizedState;if(o=v.cache,Mi(r,Tt,o),o!==f.cache&&kd(r,[Tt],s,!0),lo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Yy(t,r,o,s);break e}else if(o!==d){d=kn(Error(a(424)),r),to(d),r=Yy(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Vn(t.firstChild),Bt=r,Ve=!0,Di=null,Mn=!0,s=Hg(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(La(),o===d){r=$r(t,r,s);break e}Ht(t,r,o,s)}r=r.child}return r;case 26:return bc(t,r),t===null?(s=uv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ve||(s=r.type,t=r.pendingProps,o=Pc(Se.current).createElement(s),o[bt]=r,o[jt]=t,Ft(o,s,t),Et(o),r.stateNode=o):r.memoizedState=uv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return _a(r),t===null&&Ve&&(o=r.stateNode=sv(r.type,r.pendingProps,Se.current),Bt=r,Mn=!0,d=tt,Ki(r.type)?(Wf=d,tt=Vn(o.firstChild)):tt=d),Ht(t,r,r.pendingProps.children,s),bc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ve&&((d=o=tt)&&(o=Tw(o,r.type,r.pendingProps,Mn),o!==null?(r.stateNode=o,Bt=r,tt=Vn(o.firstChild),Mn=!1,d=!0):d=!1),d||Oi(r)),_a(r),d=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Qf(d,f)?o=null:v!==null&&Qf(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=Fd(t,r,LT,null,null,s),Co._currentValue=d),bc(t,r),Ht(t,r,o,s),r.child;case 6:return t===null&&Ve&&((t=s=tt)&&(s=ww(s,r.pendingProps,Mn),s!==null?(r.stateNode=s,Bt=r,tt=null,t=!0):t=!1),t||Oi(r)),null;case 13:return Xy(t,r,s);case 4:return kt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Fa(r,null,o,s):Ht(t,r,o,s),r.child;case 11:return zy(t,r,r.type,r.pendingProps,s);case 7:return Ht(t,r,r.pendingProps,s),r.child;case 8:return Ht(t,r,r.pendingProps.children,s),r.child;case 12:return Ht(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Mi(r,r.type,o.value),Ht(t,r,o.children,s),r.child;case 9:return d=r.type._context,o=r.pendingProps.children,za(r),d=qt(d),o=o(d),r.flags|=1,Ht(t,r,o,s),r.child;case 14:return By(t,r,r.type,r.pendingProps,s);case 15:return qy(t,r,r.type,r.pendingProps,s);case 19:return Wy(t,r,s);case 31:return QT(t,r,s);case 22:return Hy(t,r,s,r.pendingProps);case 24:return za(r),o=qt(Tt),t===null?(d=Md(),d===null&&(d=Ze,f=Dd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),r.memoizedState={parent:o,cache:d},Vd(r),Mi(r,Tt,d)):((t.lanes&s)!==0&&(Pd(t,r),oo(r,null,null,s),lo()),d=t.memoizedState,f=r.memoizedState,d.parent!==o?(d={parent:o,cache:o},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Mi(r,Tt,o)):(o=f.cache,Mi(r,Tt,o),o!==d.cache&&kd(r,[Tt],s,!0))),Ht(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Wr(t){t.flags|=4}function vf(t,r,s,o,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(S_())t.flags|=8192;else throw Ha=ac,jd}else t.flags&=-16777217}function Zy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mv(r))if(S_())t.flags|=8192;else throw Ha=ac,jd}function xc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Nu():536870912,t.lanes|=r,Ks|=r)}function po(t,r){if(!Ve)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function YT(t,r,s){var o=r.pendingProps;switch(Ad(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Kr(Tt),at(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ms(r)?Wr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nd())),nt(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(Wr(r),f!==null?(nt(r),Zy(r,f)):(nt(r),vf(r,d,null,o,s))):f?f!==t.memoizedState?(Wr(r),nt(r),Zy(r,f)):(nt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&Wr(r),nt(r),vf(r,d,t,o,s)),null;case 27:if(ds(r),s=Se.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Wr(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return nt(r),null}t=ue.current,Ms(r)?Dg(r):(t=sv(d,o,s),r.stateNode=t,Wr(r))}return nt(r),null;case 5:if(ds(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Wr(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return nt(r),null}if(f=ue.current,Ms(r))Dg(r);else{var v=Pc(Se.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}f[bt]=r,f[jt]=o;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Ft(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Wr(r)}}return nt(r),vf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Wr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(a(166));if(t=Se.current,Ms(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,d=Bt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[bt]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||X_(t.nodeValue,s)),t||Oi(r,!0)}else t=Pc(t).createTextNode(o),t[bt]=r,r.stateNode=t}return nt(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(o=Ms(r),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[bt]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),t=!1}else s=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(En(r),r):(En(r),null);if((r.flags&128)!==0)throw Error(a(558))}return nt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ms(r),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[bt]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),d=!1}else d=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(En(r),r):(En(r),null)}return En(r),(r.flags&128)!==0?(r.lanes=s,r):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=r.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),xc(r,r.updateQueue),nt(r),null);case 4:return at(),t===null&&Bf(r.stateNode.containerInfo),nt(r),null;case 10:return Kr(r.type),nt(r),null;case 19:if(ee(mt),o=r.memoizedState,o===null)return nt(r),null;if(d=(r.flags&128)!==0,f=o.rendering,f===null)if(d)po(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=uc(t),f!==null){for(r.flags|=128,po(o,!1),t=f.updateQueue,r.updateQueue=t,xc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Rg(s,t),s=s.sibling;return se(mt,mt.current&1|2),Ve&&Gr(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&tn()>Rc&&(r.flags|=128,d=!0,po(o,!1),r.lanes=4194304)}else{if(!d)if(t=uc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,xc(r,t),po(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ve)return nt(r),null}else 2*tn()-o.renderingStartTime>Rc&&s!==536870912&&(r.flags|=128,d=!0,po(o,!1),r.lanes=4194304);o.isBackwards?(f.sibling=r.child,r.child=f):(t=o.last,t!==null?t.sibling=f:r.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,s=mt.current,se(mt,d?s&1|2:s&1),Ve&&Gr(r,o.treeForkCount),t):(nt(r),null);case 22:case 23:return En(r),Bd(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),s=r.updateQueue,s!==null&&xc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&ee(Ba),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Kr(Tt),nt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function XT(t,r){switch(Ad(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Kr(Tt),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ds(r),null;case 31:if(r.memoizedState!==null){if(En(r),r.alternate===null)throw Error(a(340));La()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(En(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));La()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(mt),null;case 4:return at(),null;case 10:return Kr(r.type),null;case 22:case 23:return En(r),Bd(),t!==null&&ee(Ba),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Kr(Tt),null;case 25:return null;default:return null}}function e_(t,r){switch(Ad(r),r.tag){case 3:Kr(Tt),at();break;case 26:case 27:case 5:ds(r);break;case 4:at();break;case 31:r.memoizedState!==null&&En(r);break;case 13:En(r);break;case 19:ee(mt);break;case 10:Kr(r.type);break;case 22:case 23:En(r),Bd(),t!==null&&ee(Ba);break;case 24:Kr(Tt)}}function go(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==d)}}catch(T){Ye(r,r.return,T)}}function zi(t,r,s){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=r;var C=s,H=T;try{H()}catch(Y){Ye(d,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){Ye(r,r.return,Y)}}function t_(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Gg(r,s)}catch(o){Ye(t,t.return,o)}}}function n_(t,r,s){s.props=Qa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ye(t,r,o)}}function yo(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){Ye(t,r,d)}}function Cr(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){Ye(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Ye(t,r,d)}else s.current=null}function r_(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){Ye(t,t.return,d)}}function bf(t,r,s){try{var o=t.stateNode;yw(o,t.type,s,r),o[jt]=r}catch(d){Ye(t,t.return,d)}}function i_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ki(t.type)||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Qn));else if(o!==4&&(o===27&&Ki(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(xf(t,r,s),t=t.sibling;t!==null;)xf(t,r,s),t=t.sibling}function Tc(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&Ki(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Tc(t,r,s),t=t.sibling;t!==null;)Tc(t,r,s),t=t.sibling}function a_(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ft(r,o,s),r[bt]=t,r[jt]=s}catch(f){Ye(t,t.return,f)}}var Jr=!1,At=!1,Tf=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function $T(t,r){if(t=t.containerInfo,Ff=Fc,t=_g(t),pd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,T=-1,C=-1,H=0,Y=0,Z=t,F=null;t:for(;;){for(var K;Z!==s||d!==0&&Z.nodeType!==3||(T=v+d),Z!==f||o!==0&&Z.nodeType!==3||(C=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(K=Z.firstChild)!==null;)F=Z,Z=K;for(;;){if(Z===t)break t;if(F===s&&++H===d&&(T=v),F===f&&++Y===o&&(C=v),(K=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=K}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gf={focusedElem:t,selectionRange:s},Fc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=r,d=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ce=Qa(s.type,d);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(s,s.return,pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Yf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function l_(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ei(t,s),o&4&&go(5,s);break;case 1:if(ei(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(v){Ye(s,s.return,v)}else{var d=Qa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(s,s.return,v)}}o&64&&t_(s),o&512&&yo(s,s.return);break;case 3:if(ei(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Gg(t,r)}catch(v){Ye(s,s.return,v)}}break;case 27:r===null&&o&4&&a_(s);case 26:case 5:ei(t,s),r===null&&o&4&&r_(s),o&512&&yo(s,s.return);break;case 12:ei(t,s);break;case 31:ei(t,s),o&4&&c_(t,s);break;case 13:ei(t,s),o&4&&h_(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=aw.bind(null,s),Sw(t,s))));break;case 22:if(o=s.memoizedState!==null||Jr,!o){r=r!==null&&r.memoizedState!==null||At,d=Jr;var f=At;Jr=o,(At=r)&&!f?ti(t,s,(s.subtreeFlags&8772)!==0):ei(t,s),Jr=d,At=f}break;case 30:break;default:ei(t,s)}}function o_(t){var r=t.alternate;r!==null&&(t.alternate=null,o_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ys(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function Zr(t,r,s){for(s=s.child;s!==null;)u_(t,r,s),s=s.sibling}function u_(t,r,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:At||Cr(s,r),Zr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Cr(s,r);var o=lt,d=un;Ki(s.type)&&(lt=s.stateNode,un=!1),Zr(t,r,s),Ao(s.stateNode),lt=o,un=d;break;case 5:At||Cr(s,r);case 6:if(o=lt,d=un,lt=null,Zr(t,r,s),lt=o,un=d,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(f){Ye(s,r,f)}else try{lt.removeChild(s.stateNode)}catch(f){Ye(s,r,f)}break;case 18:lt!==null&&(un?(t=lt,tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),tl(t)):tv(lt,s.stateNode));break;case 4:o=lt,d=un,lt=s.stateNode.containerInfo,un=!0,Zr(t,r,s),lt=o,un=d;break;case 0:case 11:case 14:case 15:zi(2,s,r),At||zi(4,s,r),Zr(t,r,s);break;case 1:At||(Cr(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&n_(s,r,o)),Zr(t,r,s);break;case 21:Zr(t,r,s);break;case 22:At=(o=At)||s.memoizedState!==null,Zr(t,r,s),At=o;break;default:Zr(t,r,s)}}function c_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(s){Ye(r,r.return,s)}}}function h_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(s){Ye(r,r.return,s)}}function WT(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new s_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new s_),r;default:throw Error(a(435,t.tag))}}function wc(t,r){var s=WT(t);r.forEach(function(o){if(!s.has(o)){s.add(o);var d=sw.bind(null,t,o);o.then(d,d)}})}function cn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],f=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ki(T.type)){lt=T.stateNode,un=!1;break e}break;case 5:lt=T.stateNode,un=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(lt===null)throw Error(a(160));u_(f,v,d),lt=null,un=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)d_(r,t),r=r.sibling}var Jn=null;function d_(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),hn(t),o&4&&(zi(3,t,t.return),go(3,t),zi(5,t,t.return));break;case 1:cn(r,t),hn(t),o&512&&(At||s===null||Cr(s,s.return)),o&64&&Jr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Jn;if(cn(r,t),hn(t),o&512&&(At||s===null||Cr(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[pr]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),Ft(f,o,s),f[bt]=t,Et(f),o=f;break e;case"link":var v=dv("link","href",d).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}f=d.createElement(o),Ft(f,o,s),d.head.appendChild(f);break;case"meta":if(v=dv("meta","content",d).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}f=d.createElement(o),Ft(f,o,s),d.head.appendChild(f);break;default:throw Error(a(468,o))}f[bt]=t,Et(f),o=f}t.stateNode=o}else fv(d,t.type,t.stateNode);else t.stateNode=hv(d,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?fv(d,t.type,t.stateNode):hv(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&bf(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(r,t),hn(t),o&512&&(At||s===null||Cr(s,s.return)),s!==null&&o&4&&bf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(r,t),hn(t),o&512&&(At||s===null||Cr(s,s.return)),t.flags&32){d=t.stateNode;try{on(d,"")}catch(ce){Ye(t,t.return,ce)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,bf(t,d,s!==null?s.memoizedProps:d)),o&1024&&(Tf=!0);break;case 6:if(cn(r,t),hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(zc=null,d=Jn,Jn=Lc(r.containerInfo),cn(r,t),Jn=d,hn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{tl(r.containerInfo)}catch(ce){Ye(t,t.return,ce)}Tf&&(Tf=!1,f_(t));break;case 4:o=Jn,Jn=Lc(t.stateNode.containerInfo),cn(r,t),hn(t),Jn=o;break;case 12:cn(r,t),hn(t);break;case 31:cn(r,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 13:cn(r,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ac=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 22:d=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,H=Jr,Y=At;if(Jr=H||d,At=Y||C,cn(r,t),At=Y,Jr=H,hn(t),o&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||C||Jr||At||Ka(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){C=s=r;try{if(f=C.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Ye(C,C.return,ce)}}}else if(r.tag===6){if(s===null){C=r;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(ce){Ye(C,C.return,ce)}}}else if(r.tag===18){if(s===null){C=r;try{var K=C.stateNode;d?nv(K,!0):nv(C.stateNode,!1)}catch(ce){Ye(C,C.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,wc(t,s))));break;case 19:cn(r,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 30:break;case 21:break;default:cn(r,t),hn(t)}}function hn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(i_(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,f=Ef(t);Tc(t,f,d);break;case 5:var v=s.stateNode;s.flags&32&&(on(v,""),s.flags&=-33);var T=Ef(t);Tc(t,T,v);break;case 3:case 4:var C=s.stateNode.containerInfo,H=Ef(t);xf(t,H,C);break;default:throw Error(a(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function f_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;f_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ei(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(t,r.alternate,r),r=r.sibling}function Ka(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:zi(4,r,r.return),Ka(r);break;case 1:Cr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&n_(r,r.return,s),Ka(r);break;case 27:Ao(r.stateNode);case 26:case 5:Cr(r,r.return),Ka(r);break;case 22:r.memoizedState===null&&Ka(r);break;case 30:Ka(r);break;default:Ka(r)}t=t.sibling}}function ti(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,d=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:ti(d,f,s),go(4,f);break;case 1:if(ti(d,f,s),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Ye(o,o.return,H)}if(o=f,d=o.updateQueue,d!==null){var T=o.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Fg(C[d],T)}catch(H){Ye(o,o.return,H)}}s&&v&64&&t_(f),yo(f,f.return);break;case 27:a_(f);case 26:case 5:ti(d,f,s),s&&o===null&&v&4&&r_(f),yo(f,f.return);break;case 12:ti(d,f,s);break;case 31:ti(d,f,s),s&&v&4&&c_(d,f);break;case 13:ti(d,f,s),s&&v&4&&h_(d,f);break;case 22:f.memoizedState===null&&ti(d,f,s),yo(f,f.return);break;case 30:break;default:ti(d,f,s)}r=r.sibling}}function wf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&no(s))}function Sf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&no(t))}function Zn(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m_(t,r,s,o),r=r.sibling}function m_(t,r,s,o){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(t,r,s,o),d&2048&&go(9,r);break;case 1:Zn(t,r,s,o);break;case 3:Zn(t,r,s,o),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&no(t)));break;case 12:if(d&2048){Zn(t,r,s,o),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(r,r.return,C)}}else Zn(t,r,s,o);break;case 31:Zn(t,r,s,o);break;case 13:Zn(t,r,s,o);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?Zn(t,r,s,o):_o(t,r):f._visibility&2?Zn(t,r,s,o):(f._visibility|=2,Fs(t,r,s,o,(r.subtreeFlags&10256)!==0||!1)),d&2048&&wf(v,r);break;case 24:Zn(t,r,s,o),d&2048&&Sf(r.alternate,r);break;default:Zn(t,r,s,o)}}function Fs(t,r,s,o,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,T=s,C=o,H=v.flags;switch(v.tag){case 0:case 11:case 15:Fs(f,v,T,C,d),go(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Fs(f,v,T,C,d):_o(f,v):(Y._visibility|=2,Fs(f,v,T,C,d)),d&&H&2048&&wf(v.alternate,v);break;case 24:Fs(f,v,T,C,d),d&&H&2048&&Sf(v.alternate,v);break;default:Fs(f,v,T,C,d)}r=r.sibling}}function _o(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,d=o.flags;switch(o.tag){case 22:_o(s,o),d&2048&&wf(o.alternate,o);break;case 24:_o(s,o),d&2048&&Sf(o.alternate,o);break;default:_o(s,o)}r=r.sibling}}var vo=8192;function Gs(t,r,s){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)p_(t,r,s),t=t.sibling}function p_(t,r,s){switch(t.tag){case 26:Gs(t,r,s),t.flags&vo&&t.memoizedState!==null&&Pw(s,Jn,t.memoizedState,t.memoizedProps);break;case 5:Gs(t,r,s);break;case 3:case 4:var o=Jn;Jn=Lc(t.stateNode.containerInfo),Gs(t,r,s),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=vo,vo=16777216,Gs(t,r,s),vo=o):Gs(t,r,s));break;default:Gs(t,r,s)}}function g_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function bo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Pt=o,__(o,t)}g_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&zi(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Sc(t)):bo(t);break;default:bo(t)}}function Sc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Pt=o,__(o,t)}g_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:zi(8,r,r.return),Sc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Sc(r));break;default:Sc(r)}t=t.sibling}}function __(t,r){for(;Pt!==null;){var s=Pt;switch(s.tag){case 0:case 11:case 15:zi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:no(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pt=o;else e:for(s=t;Pt!==null;){o=Pt;var d=o.sibling,f=o.return;if(o_(o),o===s){Pt=null;break e}if(d!==null){d.return=f,Pt=d;break e}Pt=f}}}var JT={getCacheForType:function(t){var r=qt(Tt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return qt(Tt).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ce=null,ke=0,Ke=0,xn=null,Bi=!1,Qs=!1,Af=!1,ni=0,ht=0,qi=0,Ya=0,Rf=0,Tn=0,Ks=0,Eo=null,dn=null,Nf=!1,Ac=0,v_=0,Rc=1/0,Nc=null,Hi=null,Ot=0,Fi=null,Ys=null,ri=0,Cf=0,If=null,b_=null,xo=0,kf=null;function wn(){return(He&2)!==0&&ke!==0?ke&-ke:X.T!==null?Pf():Cu()}function E_(){if(Tn===0)if((ke&536870912)===0||Ve){var t=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),Tn=t}else Tn=536870912;return t=bn.current,t!==null&&(t.flags|=32),Tn}function fn(t,r,s){(t===Ze&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Xs(t,0),Gi(t,ke,Tn,!1)),xa(t,s),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Ya|=s),ht===4&&Gi(t,ke,Tn,!1)),Ir(t))}function x_(t,r,s){if((He&6)!==0)throw Error(a(327));var o=!s&&(r&127)===0&&(r&t.expiredLanes)===0||Hn(t,r),d=o?nw(t,r):Of(t,r,!0),f=o;do{if(d===0){Qs&&!o&&Gi(t,r,0,!1);break}else{if(s=t.current.alternate,f&&!ew(s)){d=Of(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;d=Eo;var C=T.current.memoizedState.isDehydrated;if(C&&(Xs(T,v).flags|=256),v=Of(T,v,!1),v!==2){if(Af&&!C){T.errorRecoveryDisabledLanes|=f,Ya|=f,d=4;break e}f=dn,dn=d,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){Xs(t,0),Gi(t,r,0,!0);break}e:{switch(o=t,f=d,f){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Gi(o,r,Tn,!Bi);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(d=Ac+300-tn(),10<d)){if(Gi(o,r,Tn,!Bi),dr(o,0,!0)!==0)break e;ri=r,o.timeoutHandle=Z_(T_.bind(null,o,s,dn,Nc,Nf,r,Tn,Ya,Ks,Bi,f,"Throttled",-0,0),d);break e}T_(o,s,dn,Nc,Nf,r,Tn,Ya,Ks,Bi,f,null,-0,0)}}break}while(!0);Ir(t)}function T_(t,r,s,o,d,f,v,T,C,H,Y,Z,F,K){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},p_(r,f,Z);var ce=(f&62914560)===f?Ac-tn():(f&4194048)===f?v_-tn():0;if(ce=Lw(Z,ce),ce!==null){ri=f,t.cancelPendingCommit=ce(k_.bind(null,t,r,f,s,o,d,v,T,C,Y,Z,null,F,K)),Gi(t,f,v,!H);return}}k_(t,r,f,s,o,d,v,T,C)}function ew(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],f=d.getSnapshot;d=d.value;try{if(!_n(f(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gi(t,r,s,o){r&=~Rf,r&=~Ya,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var d=r;0<d;){var f=31-dt(d),v=1<<f;o[f]=-1,d&=~v}s!==0&&Ta(t,s,r)}function Cc(){return(He&6)===0?(To(0),!1):!0}function Df(){if(Ce!==null){if(Ke===0)var t=Ce.return;else t=Ce,Qr=Ua=null,Kd(t),Us=null,io=0,t=Ce;for(;t!==null;)e_(t.alternate,t),t=t.return;Ce=null}}function Xs(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,bw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ri=0,Df(),Ze=t,Ce=s=Fr(t.current,null),ke=r,Ke=0,xn=null,Bi=!1,Qs=Hn(t,r),Af=!1,Ks=Tn=Rf=Ya=qi=ht=0,dn=Eo=null,Nf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var d=31-dt(o),f=1<<d;r|=t[d],o&=~f}return ni=r,$u(),s}function w_(t,r){we=null,X.H=fo,r===Ls||r===ic?(r=zg(),Ke=3):r===jd?(r=zg(),Ke=4):Ke=r===cf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Ce===null&&(ht=1,_c(t,kn(r,t.current)))}function S_(){var t=bn.current;return t===null?!0:(ke&4194048)===ke?jn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===jn:!1}function A_(){var t=X.H;return X.H=fo,t===null?fo:t}function R_(){var t=X.A;return X.A=JT,t}function Ic(){ht=4,Bi||(ke&4194048)!==ke&&bn.current!==null||(Qs=!0),(qi&134217727)===0&&(Ya&134217727)===0||Ze===null||Gi(Ze,ke,Tn,!1)}function Of(t,r,s){var o=He;He|=2;var d=A_(),f=R_();(Ze!==t||ke!==r)&&(Nc=null,Xs(t,r)),r=!1;var v=ht;e:do try{if(Ke!==0&&Ce!==null){var T=Ce,C=xn;switch(Ke){case 8:Df(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var H=Ke;if(Ke=0,xn=null,$s(t,T,C,H),s&&Qs){v=0;break e}break;default:H=Ke,Ke=0,xn=null,$s(t,T,C,H)}}tw(),v=ht;break}catch(Y){w_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Qr=Ua=null,He=o,X.H=d,X.A=f,Ce===null&&(Ze=null,ke=0,$u()),v}function tw(){for(;Ce!==null;)N_(Ce)}function nw(t,r){var s=He;He|=2;var o=A_(),d=R_();Ze!==t||ke!==r?(Nc=null,Rc=tn()+500,Xs(t,r)):Qs=Hn(t,r);e:do try{if(Ke!==0&&Ce!==null){r=Ce;var f=xn;t:switch(Ke){case 1:Ke=0,xn=null,$s(t,r,f,1);break;case 2:case 9:if(Lg(f)){Ke=0,xn=null,C_(r);break}r=function(){Ke!==2&&Ke!==9||Ze!==t||(Ke=7),Ir(t)},f.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Lg(f)?(Ke=0,xn=null,C_(r)):(Ke=0,xn=null,$s(t,r,f,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var T=Ce;if(v?mv(v):T.stateNode.complete){Ke=0,xn=null;var C=T.sibling;if(C!==null)Ce=C;else{var H=T.return;H!==null?(Ce=H,kc(H)):Ce=null}break t}}Ke=0,xn=null,$s(t,r,f,5);break;case 6:Ke=0,xn=null,$s(t,r,f,6);break;case 8:Df(),ht=6;break e;default:throw Error(a(462))}}rw();break}catch(Y){w_(t,Y)}while(!0);return Qr=Ua=null,X.H=o,X.A=d,He=s,Ce!==null?0:(Ze=null,ke=0,$u(),ht)}function rw(){for(;Ce!==null&&!od();)N_(Ce)}function N_(t){var r=Jy(t.alternate,t,ni);t.memoizedProps=t.pendingProps,r===null?kc(t):Ce=r}function C_(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Qy(s,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Qy(s,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Kd(r);default:e_(s,r),r=Ce=Rg(r,ni),r=Jy(s,r,ni)}t.memoizedProps=t.pendingProps,r===null?kc(t):Ce=r}function $s(t,r,s,o){Qr=Ua=null,Kd(r),Us=null,io=0;var d=r.return;try{if(GT(t,d,r,s,ke)){ht=1,_c(t,kn(s,t.current)),Ce=null;return}}catch(f){if(d!==null)throw Ce=d,f;ht=1,_c(t,kn(s,t.current)),Ce=null;return}r.flags&32768?(Ve||o===1?t=!0:Qs||(ke&536870912)!==0?t=!1:(Bi=t=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),I_(r,t)):kc(r)}function kc(t){var r=t;do{if((r.flags&32768)!==0){I_(r,Bi);return}t=r.return;var s=YT(r.alternate,r,ni);if(s!==null){Ce=s;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=t}while(r!==null);ht===0&&(ht=5)}function I_(t,r){do{var s=XT(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);ht=6,Ce=null}function k_(t,r,s,o,d,f,v,T,C){t.cancelPendingCommit=null;do Dc();while(Ot!==0);if((He&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(f=r.lanes|r.childLanes,f|=bd,hd(t,s,f,v,T,C),t===Ze&&(Ce=Ze=null,ke=0),Ys=r,Fi=t,ri=s,Cf=f,If=d,b_=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lw(Ei,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,d=ae.p,ae.p=2,v=He,He|=4;try{$T(t,r,s)}finally{He=v,ae.p=d,X.T=o}}Ot=1,D_(),O_(),M_()}}function D_(){if(Ot===1){Ot=0;var t=Fi,r=Ys,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var o=ae.p;ae.p=2;var d=He;He|=4;try{d_(r,t);var f=Gf,v=_g(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&yg(T.ownerDocument.documentElement,T)){if(C!==null&&pd(T)){var H=C.start,Y=C.end;if(Y===void 0&&(Y=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var K=F.getSelection(),ce=T.textContent.length,pe=Math.min(C.start,ce),Je=C.end===void 0?pe:Math.min(C.end,ce);!K.extend&&pe>Je&&(v=Je,Je=pe,pe=v);var P=gg(T,pe),D=gg(T,Je);if(P&&D&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==D.node||K.focusOffset!==D.offset)){var q=Z.createRange();q.setStart(P.node,P.offset),K.removeAllRanges(),pe>Je?(K.addRange(q),K.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),K.addRange(q))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Fc=!!Ff,Gf=Ff=null}finally{He=d,ae.p=o,X.T=s}}t.current=r,Ot=2}}function O_(){if(Ot===2){Ot=0;var t=Fi,r=Ys,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var o=ae.p;ae.p=2;var d=He;He|=4;try{l_(t,r.alternate,r)}finally{He=d,ae.p=o,X.T=s}}Ot=3}}function M_(){if(Ot===4||Ot===3){Ot=0,xu();var t=Fi,r=Ys,s=ri,o=b_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ot=5:(Ot=0,Ys=Fi=null,j_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Hi=null),zr(s),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=X.T,d=ae.p,ae.p=2,X.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];f(T.value,{componentStack:T.stack})}}finally{X.T=r,ae.p=d}}(ri&3)!==0&&Dc(),Ir(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===kf?xo++:(xo=0,kf=t):xo=0,To(0)}}function j_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,no(r)))}function Dc(){return D_(),O_(),M_(),V_()}function V_(){if(Ot!==5)return!1;var t=Fi,r=Cf;Cf=0;var s=zr(ri),o=X.T,d=ae.p;try{ae.p=32>s?32:s,X.T=null,s=If,If=null;var f=Fi,v=ri;if(Ot=0,Ys=Fi=null,ri=0,(He&6)!==0)throw Error(a(331));var T=He;if(He|=4,y_(f.current),m_(f,f.current,v,s),He=T,To(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{ae.p=d,X.T=o,j_(t,r)}}function P_(t,r,s){r=kn(s,r),r=uf(t.stateNode,r,2),t=Pi(t,r,2),t!==null&&(xa(t,2),Ir(t))}function Ye(t,r,s){if(t.tag===3)P_(t,t,s);else for(;r!==null;){if(r.tag===3){P_(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){t=kn(s,t),s=Ly(2),o=Pi(r,s,2),o!==null&&(Uy(s,o,r,t),xa(o,2),Ir(o));break}}r=r.return}}function Mf(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new ZT;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(s)||(Af=!0,d.add(s),t=iw.bind(null,t,r,s),r.then(t,t))}function iw(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ze===t&&(ke&s)===s&&(ht===4||ht===3&&(ke&62914560)===ke&&300>tn()-Ac?(He&2)===0&&Xs(t,0):Rf|=s,Ks===ke&&(Ks=0)),Ir(t)}function L_(t,r){r===0&&(r=Nu()),t=Va(t,r),t!==null&&(xa(t,r),Ir(t))}function aw(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),L_(t,s)}function sw(t,r){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(r),L_(t,s)}function lw(t,r){return Dt(t,r)}var Oc=null,Ws=null,jf=!1,Mc=!1,Vf=!1,Qi=0;function Ir(t){t!==Ws&&t.next===null&&(Ws===null?Oc=Ws=t:Ws=Ws.next=t),Mc=!0,jf||(jf=!0,uw())}function To(t,r){if(!Vf&&Mc){Vf=!0;do for(var s=!1,o=Oc;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var v=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=d&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,q_(o,f))}else f=ke,f=dr(o,o===Ze?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(s=!0,q_(o,f));o=o.next}while(s);Vf=!1}}function ow(){U_()}function U_(){Mc=jf=!1;var t=0;Qi!==0&&vw()&&(t=Qi);for(var r=tn(),s=null,o=Oc;o!==null;){var d=o.next,f=z_(o,r);f===0?(o.next=null,s===null?Oc=d:s.next=d,d===null&&(Ws=s)):(s=o,(t!==0||(f&3)!==0)&&(Mc=!0)),o=d}Ot!==0&&Ot!==5||To(t),Qi!==0&&(Qi=0)}function z_(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-dt(f),T=1<<v,C=d[v];C===-1?((T&s)===0||(T&o)!==0)&&(d[v]=cd(T,r)):C<=r&&(t.expiredLanes|=T),f&=~T}if(r=Ze,s=ke,s=dr(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&bi(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Hn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&bi(o),zr(s)){case 2:case 8:s=Dl;break;case 32:s=Ei;break;case 268435456:s=Tu;break;default:s=Ei}return o=B_.bind(null,t),s=Dt(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&bi(o),t.callbackPriority=2,t.callbackNode=null,2}function B_(t,r){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Dc()&&t.callbackNode!==s)return null;var o=ke;return o=dr(t,t===Ze?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(x_(t,o,r),z_(t,tn()),t.callbackNode!=null&&t.callbackNode===s?B_.bind(null,t):null)}function q_(t,r){if(Dc())return null;x_(t,r,!0)}function uw(){Ew(function(){(He&6)!==0?Dt(kl,ow):U_()})}function Pf(){if(Qi===0){var t=Vs;t===0&&(t=cr,cr<<=1,(cr&261888)===0&&(cr=256)),Qi=t}return Qi}function H_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Es(""+t)}function F_(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function cw(t,r,s,o,d){if(r==="submit"&&s&&s.stateNode===d){var f=H_((d[jt]||null).action),v=o.submitter;v&&(r=(r=v[jt]||null)?H_(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var T=new Tr("action","action",null,o,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qi!==0){var C=v?F_(d,v):new FormData(d);nf(s,{pending:!0,data:C,method:d.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=v?F_(d,v):new FormData(d),nf(s,{pending:!0,data:C,method:d.method,action:f},f,C))},currentTarget:d}]})}}for(var Lf=0;Lf<vd.length;Lf++){var Uf=vd[Lf],hw=Uf.toLowerCase(),dw=Uf[0].toUpperCase()+Uf.slice(1);Wn(hw,"on"+dw)}Wn(Eg,"onAnimationEnd"),Wn(xg,"onAnimationIteration"),Wn(Tg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(NT,"onTransitionRun"),Wn(CT,"onTransitionStart"),Wn(IT,"onTransitionCancel"),Wn(wg,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function G_(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;e:{var f=void 0;if(r)for(var v=o.length-1;0<=v;v--){var T=o[v],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(Y){Xu(Y)}d.currentTarget=null,f=C}else for(v=0;v<o.length;v++){if(T=o[v],C=T.instance,H=T.currentTarget,T=T.listener,C!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(Y){Xu(Y)}d.currentTarget=null,f=C}}}}function Ie(t,r){var s=r[gs];s===void 0&&(s=r[gs]=new Set);var o=t+"__bubble";s.has(o)||(Q_(r,t,2,!1),s.add(o))}function zf(t,r,s){var o=0;r&&(o|=4),Q_(s,t,o,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[jc]){t[jc]=!0,jl.forEach(function(s){s!=="selectionchange"&&(fw.has(s)||zf(s,!1,t),zf(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[jc]||(r[jc]=!0,zf("selectionchange",!1,r))}}function Q_(t,r,s,o){switch(Ev(r)){case 2:var d=Bw;break;case 8:d=qw;break;default:d=nm}s=d.bind(null,r,s,t),d=void 0,!Na||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function qf(t,r,s,o,d){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=gr(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=f=v;continue e}T=T.parentNode}}o=o.return}Ri(function(){var H=f,Y=Rn(s),Z=[];e:{var F=Sg.get(t);if(F!==void 0){var K=Tr,ce=t;switch(t){case"keypress":if(Ia(s)===0)break e;case"keydown":case"keyup":K=Qu;break;case"focusin":ce="focus",K=Da;break;case"focusout":ce="blur",K=Da;break;case"beforeblur":case"afterblur":K=Da;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case Eg:case xg:case Tg:K=Uu;break;case wg:K=w;break;case"scroll":case"scrollend":K=Kl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Hr;break;case"toggle":case"beforetoggle":K=Te}var pe=(r&4)!==0,Je=!pe&&(t==="scroll"||t==="scrollend"),P=pe?F!==null?F+"Capture":null:F;pe=[];for(var D=H,q;D!==null;){var $=D;if(q=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||q===null||P===null||($=Kn(D,P),$!=null&&pe.push(So(D,$,q))),Je)break;D=D.return}0<pe.length&&(F=new K(F,ce,null,s,Y),Z.push({event:F,listeners:pe}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&s!==Fl&&(ce=s.relatedTarget||s.fromElement)&&(gr(ce)||ce[mr]))break e;if((K||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ce=s.relatedTarget||s.toElement,K=H,ce=ce?gr(ce):null,ce!==null&&(Je=u(ce),pe=ce.tag,ce!==Je||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(K=null,ce=H),K!==ce)){if(pe=Yl,$="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Hr,$="onPointerLeave",P="onPointerEnter",D="pointer"),Je=K==null?F:gn(K),q=ce==null?F:gn(ce),F=new pe($,D+"leave",K,s,Y),F.target=Je,F.relatedTarget=q,$=null,gr(Y)===H&&(pe=new pe(P,D+"enter",ce,s,Y),pe.target=q,pe.relatedTarget=Je,$=pe),Je=$,K&&ce)t:{for(pe=mw,P=K,D=ce,q=0,$=P;$;$=pe($))q++;$=0;for(var de=D;de;de=pe(de))$++;for(;0<q-$;)P=pe(P),q--;for(;0<$-q;)D=pe(D),$--;for(;q--;){if(P===D||D!==null&&P===D.alternate){pe=P;break t}P=pe(P),D=pe(D)}pe=null}else pe=null;K!==null&&K_(Z,F,K,pe,!1),ce!==null&&Je!==null&&K_(Z,Je,ce,pe,!0)}}e:{if(F=H?gn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var ze=cg;else if(og(F))if(hg)ze=ST;else{ze=TT;var he=xT}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&bs(H.elementType)&&(ze=cg):ze=wT;if(ze&&(ze=ze(t,H))){ug(Z,ze,s,Y);break e}he&&he(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Bl(F,"number",F.value)}switch(he=H?gn(H):window,t){case"focusin":(og(he)||he.contentEditable==="true")&&(Ns=he,gd=H,Zl=null);break;case"focusout":Zl=gd=Ns=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,vg(Z,s,Y);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":vg(Z,s,Y)}var Ae;if(qe)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Rs?Oa(t,s)&&(De="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(Ar&&s.locale!=="ko"&&(Rs||De!=="onCompositionStart"?De==="onCompositionEnd"&&Rs&&(Ae=Ql()):(xr=Y,Gl="value"in xr?xr.value:xr.textContent,Rs=!0)),he=Vc(H,De),0<he.length&&(De=new Sr(De,t,null,s,Y),Z.push({event:De,listeners:he}),Ae?De.data=Ae:(Ae=As(s),Ae!==null&&(De.data=Ae)))),(Ae=Cn?_T(t,s):vT(t,s))&&(De=Vc(H,"onBeforeInput"),0<De.length&&(he=new Sr("onBeforeInput","beforeinput",null,s,Y),Z.push({event:he,listeners:De}),he.data=Ae)),cw(Z,t,H,s,Y)}G_(Z,r)})}function So(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Vc(t,r){for(var s=r+"Capture",o=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Kn(t,s),d!=null&&o.unshift(So(t,d,f)),d=Kn(t,r),d!=null&&o.push(So(t,d,f))),t.tag===3)return o;t=t.return}return[]}function mw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K_(t,r,s,o,d){for(var f=r._reactName,v=[];s!==null&&s!==o;){var T=s,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||H===null||(C=H,d?(H=Kn(s,f),H!=null&&v.unshift(So(s,H,C))):d||(H=Kn(s,f),H!=null&&v.push(So(s,H,C)))),s=s.return}v.length!==0&&t.push({event:r,listeners:v})}var pw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function Y_(t){return(typeof t=="string"?t:""+t).replace(pw,`
`).replace(gw,"")}function X_(t,r){return r=Y_(r),Y_(t)===r}function We(t,r,s,o,d,f){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&on(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,s,o);break;case"style":Hl(t,o,f);break;case"data":if(r!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Es(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(r!=="input"&&We(t,r,"name",d.name,d,null),We(t,r,"formEncType",d.formEncType,d,null),We(t,r,"formMethod",d.formMethod,d,null),We(t,r,"formTarget",d.formTarget,d,null)):(We(t,r,"encType",d.encType,d,null),We(t,r,"method",d.method,d,null),We(t,r,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Es(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Es(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),_s(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_s(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vu.get(s)||s,_s(t,s,o))}}function Hf(t,r,s,o,d,f){switch(s){case"style":Hl(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),f=t[jt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,d);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):_s(t,s,o)}}}function Ft(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:We(t,r,f,v,s,null)}}d&&We(t,r,"srcSet",s.srcSet,s,null),o&&We(t,r,"src",s.src,s,null);return;case"input":Ie("invalid",t);var T=f=v=d=null,C=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":d=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":H=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:We(t,r,o,Y,s,null)}}Ou(t,f,T,C,H,v,d,!1);return;case"select":Ie("invalid",t),o=v=f=null;for(d in s)if(s.hasOwnProperty(d)&&(T=s[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:We(t,r,d,T,s,null)}r=f,s=v,t.multiple=!!o,r!=null?Ti(t,!!o,r,!1):s!=null&&Ti(t,!!o,s,!0);return;case"textarea":Ie("invalid",t),f=d=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:We(t,r,v,T,s,null)}wi(t,o,d,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,r,C,o,s,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<wo.length;o++)Ie(wo[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:We(t,r,H,o,s,null)}return;default:if(bs(r)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&Hf(t,r,Y,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&We(t,r,T,o,s,null))}function yw(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,T=null,C=null,H=null,Y=null;for(K in s){var Z=s[K];if(s.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=Z;default:o.hasOwnProperty(K)||We(t,r,K,null,o,Z)}}for(var F in o){var K=o[F];if(Z=s[F],o.hasOwnProperty(F)&&(K!=null||Z!=null))switch(F){case"type":f=K;break;case"name":d=K;break;case"checked":H=K;break;case"defaultChecked":Y=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:K!==Z&&We(t,r,F,K,o,Z)}}vs(t,v,T,C,H,Y,f,d);return;case"select":K=v=T=F=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":K=C;default:o.hasOwnProperty(f)||We(t,r,f,null,o,C)}for(d in o)if(f=o[d],C=s[d],o.hasOwnProperty(d)&&(f!=null||C!=null))switch(d){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==C&&We(t,r,d,f,o,C)}r=T,s=v,o=K,F!=null?Ti(t,!!s,F,!1):!!o!=!!s&&(r!=null?Ti(t,!!s,r,!0):Ti(t,!!s,s?[]:"",!1));return;case"textarea":K=F=null;for(T in s)if(d=s[T],s.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,o,d)}for(v in o)if(d=o[v],f=s[v],o.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":F=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==f&&We(t,r,v,d,o,f)}Mu(t,F,K);return;case"option":for(var ce in s)if(F=s[ce],s.hasOwnProperty(ce)&&F!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,r,ce,null,o,F)}for(C in o)if(F=o[C],K=s[C],o.hasOwnProperty(C)&&F!==K&&(F!=null||K!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,r,C,F,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)F=s[pe],s.hasOwnProperty(pe)&&F!=null&&!o.hasOwnProperty(pe)&&We(t,r,pe,null,o,F);for(H in o)if(F=o[H],K=s[H],o.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,r));break;default:We(t,r,H,F,o,K)}return;default:if(bs(r)){for(var Je in s)F=s[Je],s.hasOwnProperty(Je)&&F!==void 0&&!o.hasOwnProperty(Je)&&Hf(t,r,Je,void 0,o,F);for(Y in o)F=o[Y],K=s[Y],!o.hasOwnProperty(Y)||F===K||F===void 0&&K===void 0||Hf(t,r,Y,F,o,K);return}}for(var P in s)F=s[P],s.hasOwnProperty(P)&&F!=null&&!o.hasOwnProperty(P)&&We(t,r,P,null,o,F);for(Z in o)F=o[Z],K=s[Z],!o.hasOwnProperty(Z)||F===K||F==null&&K==null||We(t,r,Z,F,o,K)}function $_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _w(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var d=s[o],f=d.transferSize,v=d.initiatorType,T=d.duration;if(f&&T&&$_(v)){for(v=0,T=d.responseEnd,o+=1;o<s.length;o++){var C=s[o],H=C.startTime;if(H>T)break;var Y=C.transferSize,Z=C.initiatorType;Y&&$_(Z)&&(C=C.responseEnd,v+=Y*(C<T?1:(T-H)/(C-H)))}if(--o,r+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ff=null,Gf=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function W_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Qf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kf=null;function vw(){var t=window.event;return t&&t.type==="popstate"?t===Kf?!1:(Kf=t,!0):(Kf=null,!1)}var Z_=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(xw)}:Z_;function xw(t){setTimeout(function(){throw t})}function Ki(t){return t==="head"}function tv(t,r){var s=r,o=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(d),tl(r);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Ao(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ao(s);for(var f=s.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[pr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=v}}else s==="body"&&Ao(t.ownerDocument.body);s=d}while(s);tl(r)}function nv(t,r){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Yf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yf(s),ys(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Tw(t,r,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function ww(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Vn(t.nextSibling),t===null))return null;return t}function rv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function Xf(t){return t.data==="$?"||t.data==="$~"}function $f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sw(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Wf=null;function iv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Vn(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function av(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function sv(t,r,s){switch(r=Pc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ao(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ys(t)}var Pn=new Map,lv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=ae.d;ae.d={f:Aw,r:Rw,D:Nw,C:Cw,L:Iw,m:kw,X:Ow,S:Dw,M:Mw};function Aw(){var t=ii.f(),r=Cc();return t||r}function Rw(t){var r=An(t);r!==null&&r.tag===5&&r.type==="form"?wy(r):ii.r(t)}var Js=typeof document>"u"?null:document;function ov(t,r,s){var o=Js;if(o&&typeof r=="string"&&r){var d=ln(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),lv.has(d)||(lv.add(d),t={rel:t,crossOrigin:s,href:r},o.querySelector(d)===null&&(r=o.createElement("link"),Ft(r,"link",t),Et(r),o.head.appendChild(r)))}}function Nw(t){ii.D(t),ov("dns-prefetch",t,null)}function Cw(t,r){ii.C(t,r),ov("preconnect",t,r)}function Iw(t,r,s){ii.L(t,r,s);var o=Js;if(o&&t&&r){var d='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+ln(s.imageSizes)+'"]')):d+='[href="'+ln(t)+'"]';var f=d;switch(r){case"style":f=Zs(t);break;case"script":f=el(t)}Pn.has(f)||(t=x({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Pn.set(f,t),o.querySelector(d)!==null||r==="style"&&o.querySelector(Ro(f))||r==="script"&&o.querySelector(No(f))||(r=o.createElement("link"),Ft(r,"link",t),Et(r),o.head.appendChild(r)))}}function kw(t,r){ii.m(t,r);var s=Js;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(t)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=el(t)}if(!Pn.has(f)&&(t=x({rel:"modulepreload",href:t},r),Pn.set(f,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(No(f)))return}o=s.createElement("link"),Ft(o,"link",t),Et(o),s.head.appendChild(o)}}}function Dw(t,r,s){ii.S(t,r,s);var o=Js;if(o&&t){var d=yr(o).hoistableStyles,f=Zs(t);r=r||"default";var v=d.get(f);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Ro(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Pn.get(f))&&Jf(t,s);var C=v=o.createElement("link");Et(C),Ft(C,"link",t),C._p=new Promise(function(H,Y){C.onload=H,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(v,r,o)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(f,v)}}}function Ow(t,r){ii.X(t,r);var s=Js;if(s&&t){var o=yr(s).hoistableScripts,d=el(t),f=o.get(d);f||(f=s.querySelector(No(d)),f||(t=x({src:t,async:!0},r),(r=Pn.get(d))&&Zf(t,r),f=s.createElement("script"),Et(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function Mw(t,r){ii.M(t,r);var s=Js;if(s&&t){var o=yr(s).hoistableScripts,d=el(t),f=o.get(d);f||(f=s.querySelector(No(d)),f||(t=x({src:t,async:!0,type:"module"},r),(r=Pn.get(d))&&Zf(t,r),f=s.createElement("script"),Et(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function uv(t,r,s,o){var d=(d=Se.current)?Lc(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Zs(s.href),s=yr(d).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Zs(s.href);var f=yr(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Ro(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),f||jw(d,t,s,v.state))),r&&o===null)throw Error(a(528,""));return v}if(r&&o!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=el(s),s=yr(d).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Zs(t){return'href="'+ln(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function jw(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Ft(r,"link",s),Et(r),t.head.appendChild(r))}function el(t){return'[src="'+ln(t)+'"]'}function No(t){return"script[async]"+t}function hv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+ln(s.href)+'"]');if(o)return r.instance=o,Et(o),o;var d=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Ft(o,"style",d),Uc(o,s.precedence,t),r.instance=o;case"stylesheet":d=Zs(s.href);var f=t.querySelector(Ro(d));if(f)return r.state.loading|=4,r.instance=f,Et(f),f;o=cv(s),(d=Pn.get(d))&&Jf(o,d),f=(t.ownerDocument||t).createElement("link"),Et(f);var v=f;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(f,"link",o),r.state.loading|=4,Uc(f,s.precedence,t),r.instance=f;case"script":return f=el(s.src),(d=t.querySelector(No(f)))?(r.instance=d,Et(d),d):(o=s,(d=Pn.get(f))&&(o=x({},s),Zf(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Et(d),Ft(d,"link",o),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Uc(o,s.precedence,t));return r.instance}function Uc(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===r)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Jf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Zf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var zc=null;function dv(t,r,s){if(zc===null){var o=new Map,d=zc=new Map;d.set(s,o)}else d=zc,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var f=s[d];if(!(f[pr]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var T=o.get(v);T?T.push(f):o.set(v,[f])}}return o}function fv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function Vw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Pw(t,r,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Zs(o.href),f=r.querySelector(Ro(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Bc.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=f,Et(f);return}f=r.ownerDocument||r,o=cv(o),(d=Pn.get(d))&&Jf(o,d),f=f.createElement("link"),Et(f);var v=f;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Bc.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var em=0;function Lw(t,r){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&em===0&&(em=62500*_w());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>em?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function Hc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,r.forEach(Uw,t),qc=null,Bc.call(t))}function Uw(t,r){if(!(r.state.loading&4)){var s=qc.get(t);if(s)var o=s.get(null);else{s=new Map,qc.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}d=r.instance,v=d.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,d),s.set(v,d),this.count++,o=Bc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Co={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function zw(t,r,s,o,d,f,v,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function pv(t,r,s,o,d,f,v,T,C,H,Y,Z){return t=new zw(t,r,s,v,C,H,Y,Z,T),r=1,f===!0&&(r|=24),f=vn(3,null,null,r),t.current=f,f.stateNode=t,r=Dd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:r},Vd(f),t}function gv(t){return t?(t=ks,t):ks}function yv(t,r,s,o,d,f){d=gv(d),o.context===null?o.context=d:o.pendingContext=d,o=Vi(r),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Pi(t,o,r),s!==null&&(fn(s,t,r),so(s,t,r))}function _v(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function tm(t,r){_v(t,r),(t=t.alternate)&&_v(t,r)}function vv(t){if(t.tag===13||t.tag===31){var r=Va(t,67108864);r!==null&&fn(r,t,67108864),tm(t,67108864)}}function bv(t){if(t.tag===13||t.tag===31){var r=wn();r=wa(r);var s=Va(t,r);s!==null&&fn(s,t,r),tm(t,r)}}var Fc=!0;function Bw(t,r,s,o){var d=X.T;X.T=null;var f=ae.p;try{ae.p=2,nm(t,r,s,o)}finally{ae.p=f,X.T=d}}function qw(t,r,s,o){var d=X.T;X.T=null;var f=ae.p;try{ae.p=8,nm(t,r,s,o)}finally{ae.p=f,X.T=d}}function nm(t,r,s,o){if(Fc){var d=rm(o);if(d===null)qf(t,r,o,Gc,s),xv(t,o);else if(Fw(d,t,r,s,o))o.stopPropagation();else if(xv(t,o),r&4&&-1<Hw.indexOf(t)){for(;d!==null;){var f=An(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=hr(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-dt(v);T.entanglements[1]|=C,v&=~C}Ir(f),(He&6)===0&&(Rc=tn()+500,To(0))}}break;case 31:case 13:T=Va(f,2),T!==null&&fn(T,f,2),Cc(),tm(f,2)}if(f=rm(o),f===null&&qf(t,r,o,Gc,s),f===d)break;d=f}d!==null&&o.stopPropagation()}else qf(t,r,o,null,s)}}function rm(t){return t=Rn(t),im(t)}var Gc=null;function im(t){if(Gc=null,t=gr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=h(r),t!==null)return t;t=null}else if(s===31){if(t=m(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Gc=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ba()){case kl:return 2;case Dl:return 8;case Ei:case ud:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var am=!1,Yi=null,Xi=null,$i=null,Io=new Map,ko=new Map,Wi=[],Hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(t,r){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Io.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(r.pointerId)}}function Do(t,r,s,o,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},r!==null&&(r=An(r),r!==null&&vv(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Fw(t,r,s,o,d){switch(r){case"focusin":return Yi=Do(Yi,t,r,s,o,d),!0;case"dragenter":return Xi=Do(Xi,t,r,s,o,d),!0;case"mouseover":return $i=Do($i,t,r,s,o,d),!0;case"pointerover":var f=d.pointerId;return Io.set(f,Do(Io.get(f)||null,t,r,s,o,d)),!0;case"gotpointercapture":return f=d.pointerId,ko.set(f,Do(ko.get(f)||null,t,r,s,o,d)),!0}return!1}function Tv(t){var r=gr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){t.blockedOn=r,Fn(t.priority,function(){bv(s)});return}}else if(r===31){if(r=m(s),r!==null){t.blockedOn=r,Fn(t.priority,function(){bv(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=rm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Fl=o,s.target.dispatchEvent(o),Fl=null}else return r=An(s),r!==null&&vv(r),t.blockedOn=s,!1;r.shift()}return!0}function wv(t,r,s){Qc(t)&&s.delete(r)}function Gw(){am=!1,Yi!==null&&Qc(Yi)&&(Yi=null),Xi!==null&&Qc(Xi)&&(Xi=null),$i!==null&&Qc($i)&&($i=null),Io.forEach(wv),ko.forEach(wv)}function Kc(t,r){t.blockedOn===r&&(t.blockedOn=null,am||(am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gw)))}var Yc=null;function Sv(t){Yc!==t&&(Yc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],d=t[r+2];if(typeof o!="function"){if(im(o||s)===null)continue;break}var f=An(s);f!==null&&(t.splice(r,3),r-=3,nf(f,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function tl(t){function r(C){return Kc(C,t)}Yi!==null&&Kc(Yi,t),Xi!==null&&Kc(Xi,t),$i!==null&&Kc($i,t),Io.forEach(r),ko.forEach(r);for(var s=0;s<Wi.length;s++){var o=Wi[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wi.length&&(s=Wi[0],s.blockedOn===null);)Tv(s),s.blockedOn===null&&Wi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],f=s[o+1],v=d[jt]||null;if(typeof f=="function")v||Sv(s);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[jt]||null)T=v.formAction;else if(im(d)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Sv(s)}}}function Av(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function sm(t){this._internalRoot=t}Xc.prototype.render=sm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,o=wn();yv(s,o,t,r,null,null)},Xc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;yv(t.current,2,null,t,null,null),Cc(),r[mr]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Cu();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Wi.length&&r!==0&&r<Wi[s].priority;s++);Wi.splice(s,0,t),s===0&&Tv(t)}};var Rv=e.version;if(Rv!=="19.2.3")throw Error(a(527,Rv,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Qw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{qn=$c.inject(Qw),Ut=$c}catch{}}return Mo.createRoot=function(t,r){if(!l(t))throw Error(a(299));var s=!1,o="",d=My,f=jy,v=Vy;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=pv(t,1,!1,null,null,s,o,null,d,f,v,Av),t[mr]=r.current,Bf(t),new sm(r)},Mo.hydrateRoot=function(t,r,s){if(!l(t))throw Error(a(299));var o=!1,d="",f=My,v=jy,T=Vy,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),r=pv(t,1,!0,r,s??null,o,d,C,f,v,T,Av),r.context=gv(null),s=r.current,o=wn(),o=wa(o),d=Vi(o),d.callback=null,Pi(s,d,o),s=o,r.current.lanes=s,xa(r,s),Ir(r),t[mr]=r.current,Bf(t),new Xc(r)},Mo.version="19.2.3",Mo}var Pv;function iS(){if(Pv)return um.exports;Pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),um.exports=rS(),um.exports}var aS=iS();var Lv="popstate";function sS(i={}){function e(a,l){let{pathname:u,search:h,hash:m}=a.location;return Rm("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:Xo(l)}return oS(e,n,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function rr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lS(){return Math.random().toString(36).substring(2,10)}function Uv(i,e){return{usr:i.state,key:i.key,idx:e}}function Rm(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:n,key:e&&e.key||a||lS()}}function Xo({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function _l(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function oS(i,e,n,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function x(){m="POP";let z=E(),J=z==null?null:z-p;p=z,g&&g({action:m,location:U.location,delta:J})}function S(z,J){m="PUSH";let ne=Rm(U.location,z,J);p=E()+1;let re=Uv(ne,p),xe=U.createHref(ne);try{h.pushState(re,"",xe)}catch(Ne){if(Ne instanceof DOMException&&Ne.name==="DataCloneError")throw Ne;l.location.assign(xe)}u&&g&&g({action:m,location:U.location,delta:1})}function O(z,J){m="REPLACE";let ne=Rm(U.location,z,J);p=E();let re=Uv(ne,p),xe=U.createHref(ne);h.replaceState(re,"",xe),u&&g&&g({action:m,location:U.location,delta:0})}function G(z){return uS(z)}let U={get action(){return m},get location(){return i(l,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Lv,x),g=z,()=>{l.removeEventListener(Lv,x),g=null}},createHref(z){return e(l,z)},createURL:G,encodeLocation(z){let J=G(z);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:S,replace:O,go(z){return h.go(z)}};return U}function uS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Xo(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function xb(i,e,n="/"){return cS(i,e,n,!1)}function cS(i,e,n,a){let l=typeof e=="string"?_l(e):e,u=hi(l.pathname||"/",n);if(u==null)return null;let h=Tb(i);hS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=xS(u);m=bS(h[g],p,a)}return m}function Tb(i,e=[],n=[],a="",l=!1){let u=(h,m,g=l,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&g)return;ot(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let x=li([a,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Tb(h.children,e,S,x,g)),!(h.path==null&&!h.index)&&e.push({path:x,score:_S(x,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of wb(h.path))u(h,m,!0,g)}),e}function wb(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=wb(a.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function hS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:vS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var dS=/^:[\w-]+$/,fS=3,mS=2,pS=1,gS=10,yS=-2,zv=i=>i==="*";function _S(i,e){let n=i.split("/"),a=n.length;return n.some(zv)&&(a+=yS),e&&(a+=mS),n.filter(l=>!zv(l)).reduce((l,u)=>l+(dS.test(u)?fS:u===""?pS:gS),a)}function vS(i,e){return i.length===e.length&&i.slice(0,-1).every((a,l)=>a===e[l])?i[i.length-1]-e[e.length-1]:0}function bS(i,e,n=!1){let{routesMeta:a}=i,l={},u="/",h=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",x=yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!x&&p&&n&&!a[a.length-1].route.index&&(x=yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!x)return null;Object.assign(l,x.params),h.push({params:l,pathname:li([u,x.pathname]),pathnameBase:RS(li([u,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(u=li([u,x.pathnameBase]))}return h}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=ES(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:x},S)=>{if(E==="*"){let G=m[S]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const O=m[S];return x&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function ES(i,e=!1,n=!0){rr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function xS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var TS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wS=i=>TS.test(i);function SS(i,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof i=="string"?_l(i):i,u;if(n)if(wS(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),rr(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Bv(n.substring(1),"/"):u=Bv(n,e)}else u=e;return{pathname:u,search:NS(a),hash:CS(l)}}function Bv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function fm(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sb(i){let e=AS(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Ab(i,e,n,a=!1){let l;typeof i=="string"?l=_l(i):(l={...i},ot(!l.pathname||!l.pathname.includes("?"),fm("?","pathname","search",l)),ot(!l.pathname||!l.pathname.includes("#"),fm("#","pathname","hash",l)),ot(!l.search||!l.search.includes("#"),fm("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=n;else{let x=e.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),x-=1;l.pathname=S.join("/")}m=x>=0?e[x]:"/"}let g=SS(l,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var li=i=>i.join("/").replace(/\/\/+/g,"/"),RS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,CS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function IS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function kS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rb=["POST","PUT","PATCH","DELETE"];new Set(Rb);var DS=["GET",...Rb];new Set(DS);var vl=V.createContext(null);vl.displayName="DataRouter";var Lh=V.createContext(null);Lh.displayName="DataRouterState";V.createContext(!1);var Nb=V.createContext({isTransitioning:!1});Nb.displayName="ViewTransition";var OS=V.createContext(new Map);OS.displayName="Fetchers";var MS=V.createContext(null);MS.displayName="Await";var sr=V.createContext(null);sr.displayName="Navigation";var lu=V.createContext(null);lu.displayName="Location";var lr=V.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var np=V.createContext(null);np.displayName="RouteError";function jS(i,{relative:e}={}){ot(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=V.useContext(sr),{hash:l,pathname:u,search:h}=uu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:li([n,u])),a.createHref({pathname:m,search:h,hash:l})}function ou(){return V.useContext(lu)!=null}function gi(){return ot(ou(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(lu).location}var Cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ib(i){V.useContext(sr).static||V.useLayoutEffect(i)}function pn(){let{isDataRoute:i}=V.useContext(lr);return i?WS():VS()}function VS(){ot(ou(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(vl),{basename:e,navigator:n}=V.useContext(sr),{matches:a}=V.useContext(lr),{pathname:l}=gi(),u=JSON.stringify(Sb(a)),h=V.useRef(!1);return Ib(()=>{h.current=!0}),V.useCallback((g,p={})=>{if(rr(h.current,Cb),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=Ab(g,JSON.parse(u),l,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:li([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,l,i])}var PS=V.createContext(null);function LS(i){let e=V.useContext(lr).outlet;return V.useMemo(()=>e&&V.createElement(PS.Provider,{value:i},e),[e,i])}function US(){let{matches:i}=V.useContext(lr),e=i[i.length-1];return e?e.params:{}}function uu(i,{relative:e}={}){let{matches:n}=V.useContext(lr),{pathname:a}=gi(),l=JSON.stringify(Sb(n));return V.useMemo(()=>Ab(i,JSON.parse(l),a,e==="path"),[i,l,a,e])}function zS(i,e){return kb(i,e)}function kb(i,e,n,a,l){ot(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(sr),{matches:h}=V.useContext(lr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",x=m&&m.route;{let ne=x&&x.path||"";Db(p,!x||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=gi(),O;if(e){let ne=typeof e=="string"?_l(e):e;ot(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),O=ne}else O=S;let G=O.pathname||"/",U=G;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");U="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let z=xb(i,{pathname:U});rr(x||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),rr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=GS(z&&z.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:li([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:li([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,a,l);return e&&J?V.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},J):J}function BS(){let i=$S(),e=IS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:l},n):null,h)}var qS=V.createElement(BS,null),HS=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?V.createElement(lr.Provider,{value:this.props.routeContext},V.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FS({routeContext:i,match:e,children:n}){let a=V.useContext(vl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(lr.Provider,{value:i},n)}function GS(i,e=[],n=null,a=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);ot(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let x=u[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=E),x.route.id){let{loaderData:S,errors:O}=n,G=x.route.loader&&!S.hasOwnProperty(x.route.id)&&(!O||O[x.route.id]===void 0);if(x.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&a?(E,x)=>{a(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kS(n.matches),errorInfo:x})}:void 0;return u.reduceRight((E,x,S)=>{let O,G=!1,U=null,z=null;n&&(O=h&&x.route.id?h[x.route.id]:void 0,U=x.route.errorElement||qS,m&&(g<0&&S===0?(Db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,z=null):g===S&&(G=!0,z=x.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,S+1)),ne=()=>{let re;return O?re=U:G?re=z:x.route.Component?re=V.createElement(x.route.Component,null):x.route.element?re=x.route.element:re=E,V.createElement(FS,{match:x,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:re})};return n&&(x.route.ErrorBoundary||x.route.errorElement||S===0)?V.createElement(HS,{location:n.location,revalidation:n.revalidation,component:U,error:O,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:p}):ne()},null)}function rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(i){let e=V.useContext(vl);return ot(e,rp(i)),e}function KS(i){let e=V.useContext(Lh);return ot(e,rp(i)),e}function YS(i){let e=V.useContext(lr);return ot(e,rp(i)),e}function ip(i){let e=YS(i),n=e.matches[e.matches.length-1];return ot(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function XS(){return ip("useRouteId")}function $S(){let i=V.useContext(np),e=KS("useRouteError"),n=ip("useRouteError");return i!==void 0?i:e.errors?.[n]}function WS(){let{router:i}=QS("useNavigate"),e=ip("useNavigate"),n=V.useRef(!1);return Ib(()=>{n.current=!0}),V.useCallback(async(l,u={})=>{rr(n.current,Cb),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var qv={};function Db(i,e,n){!e&&!qv[i]&&(qv[i]=!0,rr(!1,n))}V.memo(JS);function JS({routes:i,future:e,state:n,unstable_onError:a}){return kb(i,void 0,n,a,e)}function ZS(i){return LS(i.context)}function Wt(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:u=!1,unstable_useTransitions:h}){ot(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:h,future:{}}),[m,l,u,h]);typeof n=="string"&&(n=_l(n));let{pathname:p="/",search:E="",hash:x="",state:S=null,key:O="default"}=n,G=V.useMemo(()=>{let U=hi(p,m);return U==null?null:{location:{pathname:U,search:E,hash:x,state:S,key:O},navigationType:a}},[m,p,E,x,S,O,a]);return rr(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:V.createElement(sr.Provider,{value:g},V.createElement(lu.Provider,{children:e,value:G}))}function tA({children:i,location:e}){return zS(Nm(i),e)}function Nm(i,e=[]){let n=[];return V.Children.forEach(i,(a,l)=>{if(!V.isValidElement(a))return;let u=[...e,l];if(a.type===V.Fragment){n.push.apply(n,Nm(a.props.children,u));return}ot(a.type===Wt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Nm(a.props.children,u)),n.push(h)}),n}var ah="get",sh="application/x-www-form-urlencoded";function Uh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function nA(i){return Uh(i)&&i.tagName.toLowerCase()==="button"}function rA(i){return Uh(i)&&i.tagName.toLowerCase()==="form"}function iA(i){return Uh(i)&&i.tagName.toLowerCase()==="input"}function aA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sA(i,e){return i.button===0&&(!e||e==="_self")&&!aA(i)}var Wc=null;function lA(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var oA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(i){return i!=null&&!oA.has(i)?(rr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function uA(i,e){let n,a,l,u,h;if(rA(i)){let m=i.getAttribute("action");a=m?hi(m,e):null,n=i.getAttribute("method")||ah,l=mm(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(nA(i)||iA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?hi(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ah,l=mm(i.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||sh,u=new FormData(m,i),!lA()){let{name:p,type:E,value:x}=i;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,x)}}else{if(Uh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,a=null,l=sh,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cA(i,e,n){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&hi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function hA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function fA(i,e,n){let a=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await hA(u,n);return h.links?h.links():[]}return[]}));return yA(a.flat(1).filter(dA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Hv(i,e,n,a,l,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function mA(i,e,{includeHydrateFallback:n}={}){return pA(i.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function pA(i){return[...new Set(i)]}function gA(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function yA(i,e){let n=new Set;return new Set(e),i.reduce((a,l)=>{let u=JSON.stringify(gA(l));return n.has(u)||(n.add(u),a.push({key:u,link:l})),a},[])}function Ob(){let i=V.useContext(vl);return ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _A(){let i=V.useContext(Lh);return ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var sp=V.createContext(void 0);sp.displayName="FrameworkContext";function Mb(){let i=V.useContext(sp);return ap(i,"You must render this element inside a <HydratedRouter> element"),i}function vA(i,e){let n=V.useContext(sp),[a,l]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:x}=e,S=V.useRef(null);V.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=J=>{J.forEach(ne=>{h(ne.isIntersecting)})},z=new IntersectionObserver(U,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),V.useEffect(()=>{if(a){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[a]);let O=()=>{l(!0)},G=()=>{l(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:jo(m,O),onBlur:jo(g,G),onMouseEnter:jo(p,O),onMouseLeave:jo(E,G),onTouchStart:jo(x,O)}]:[!1,S,{}]}function jo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function bA({page:i,...e}){let{router:n}=Ob(),a=V.useMemo(()=>xb(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?V.createElement(xA,{page:i,matches:a,...e}):null}function EA(i){let{manifest:e,routeModules:n}=Mb(),[a,l]=V.useState([]);return V.useEffect(()=>{let u=!1;return fA(i,e,n).then(h=>{u||l(h)}),()=>{u=!0}},[i,e,n]),a}function xA({page:i,matches:e,...n}){let a=gi(),{manifest:l,routeModules:u}=Mb(),{basename:h}=Ob(),{loaderData:m,matches:g}=_A(),p=V.useMemo(()=>Hv(i,e,g,l,a,"data"),[i,e,g,l,a]),E=V.useMemo(()=>Hv(i,e,g,l,a,"assets"),[i,e,g,l,a]),x=V.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let G=new Set,U=!1;if(e.forEach(J=>{let ne=l.routes[J.route.id];!ne||!ne.hasLoader||(!p.some(re=>re.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||ne.hasClientLoader?U=!0:G.add(J.route.id))}),G.size===0)return[];let z=cA(i,h,"data");return U&&G.size>0&&z.searchParams.set("_routes",e.filter(J=>G.has(J.route.id)).map(J=>J.route.id).join(",")),[z.pathname+z.search]},[h,m,a,l,p,e,i,u]),S=V.useMemo(()=>mA(E,l),[E,l]),O=EA(E);return V.createElement(V.Fragment,null,x.map(G=>V.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),S.map(G=>V.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),O.map(({key:G,link:U})=>V.createElement("link",{key:G,nonce:n.nonce,...U})))}function TA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jb&&(window.__reactRouterVersion="7.10.1")}catch{}function wA({basename:i,children:e,unstable_useTransitions:n,window:a}){let l=V.useRef();l.current==null&&(l.current=sS({window:a,v5Compat:!0}));let u=l.current,[h,m]=V.useState({action:u.action,location:u.location}),g=V.useCallback(p=>{n===!1?m(p):V.startTransition(()=>m(p))},[n]);return V.useLayoutEffect(()=>u.listen(g),[u,g]),V.createElement(eA,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var Vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=V.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:x,...S},O){let{basename:G,unstable_useTransitions:U}=V.useContext(sr),z=typeof p=="string"&&Vb.test(p),J,ne=!1;if(typeof p=="string"&&z&&(J=p,jb))try{let j=new URL(window.location.href),k=p.startsWith("//")?new URL(j.protocol+p):new URL(p),L=hi(k.pathname,G);k.origin===j.origin&&L!=null?p=L+k.search+k.hash:ne=!0}catch{rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=jS(p,{relative:l}),[xe,Ne,Re]=vA(a,S),I=NA(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:x,unstable_useTransitions:U});function A(j){e&&e(j),j.defaultPrevented||I(j)}let R=V.createElement("a",{...S,...Re,href:J||re,onClick:ne||u?e:A,ref:TA(O,Ne),target:g,"data-discover":!z&&n==="render"?"true":void 0});return xe&&!z?V.createElement(V.Fragment,null,R,V.createElement(bA,{page:re})):R});an.displayName="Link";var SA=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let x=uu(h,{relative:p.relative}),S=gi(),O=V.useContext(Lh),{navigator:G,basename:U}=V.useContext(sr),z=O!=null&&OA(x)&&m===!0,J=G.encodeLocation?G.encodeLocation(x).pathname:x.pathname,ne=S.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,J=J.toLowerCase()),re&&U&&(re=hi(re,U)||re);const xe=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Ne=ne===J||!l&&ne.startsWith(J)&&ne.charAt(xe)==="/",Re=re!=null&&(re===J||!l&&re.startsWith(J)&&re.charAt(J.length)==="/"),I={isActive:Ne,isPending:Re,isTransitioning:z},A=Ne?e:void 0,R;typeof a=="function"?R=a(I):R=[a,Ne?"active":null,Re?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(I):u;return V.createElement(an,{...p,"aria-current":A,className:R,ref:E,style:j,to:h,viewTransition:m},typeof g=="function"?g(I):g)});SA.displayName="NavLink";var AA=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:u,method:h=ah,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:x,...S},O)=>{let{unstable_useTransitions:G}=V.useContext(sr),U=kA(),z=DA(m,{relative:p}),J=h.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&Vb.test(m),re=xe=>{if(g&&g(xe),xe.defaultPrevented)return;xe.preventDefault();let Ne=xe.nativeEvent.submitter,Re=Ne?.getAttribute("formmethod")||h,I=()=>U(Ne||xe.currentTarget,{fetcherKey:e,method:Re,navigate:n,replace:l,state:u,relative:p,preventScrollReset:E,viewTransition:x});G&&n!==!1?V.startTransition(()=>I()):I()};return V.createElement("form",{ref:O,method:J,action:z,onSubmit:a?g:re,...S,"data-discover":!ne&&i==="render"?"true":void 0})});AA.displayName="Form";function RA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(i){let e=V.useContext(vl);return ot(e,RA(i)),e}function NA(i,{target:e,replace:n,state:a,preventScrollReset:l,relative:u,viewTransition:h,unstable_useTransitions:m}={}){let g=pn(),p=gi(),E=uu(i,{relative:u});return V.useCallback(x=>{if(sA(x,e)){x.preventDefault();let S=n!==void 0?n:Xo(p)===Xo(E),O=()=>g(i,{replace:S,state:a,preventScrollReset:l,relative:u,viewTransition:h});m?V.startTransition(()=>O()):O()}},[p,g,E,n,a,e,i,l,u,h,m])}var CA=0,IA=()=>`__${String(++CA)}__`;function kA(){let{router:i}=Pb("useSubmit"),{basename:e}=V.useContext(sr),n=XS(),a=i.fetch,l=i.navigate;return V.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:E,body:x}=uA(u,e);if(h.navigate===!1){let S=h.fetcherKey||IA();await a(S,n,h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:x,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await l(h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:x,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[a,l,e,n])}function DA(i,{relative:e}={}){let{basename:n}=V.useContext(sr),a=V.useContext(lr);ot(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...uu(i||".",{relative:e})},h=gi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:li([n,u.pathname])),Xo(u)}function OA(i,{relative:e}={}){let n=V.useContext(Nb);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Pb("useViewTransitionState"),l=uu(i,{relative:e});if(!n.isTransitioning)return!1;let u=hi(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=hi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return yh(l.pathname,h)!=null||yh(l.pathname,u)!=null}const Lb=V.createContext();function MA({children:i}){const[e,n]=V.useState(()=>{const E=localStorage.getItem("cart");return E?JSON.parse(E):[]});V.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const a=E=>{n(x=>x.find(O=>O.id===E.id)?x.map(O=>O.id===E.id?{...O,quantity:O.quantity+1}:O):[...x,{...E,quantity:1}])},l=E=>{n(x=>x.filter(S=>S.id!==E))},u=(E,x)=>{n(S=>S.map(O=>{if(O.id===E){const G=Math.max(1,O.quantity+x);return{...O,quantity:G}}return O}))},h=()=>n([]),m=e.reduce((E,x)=>E+x.price*x.quantity,0),g=m*.07,p=m+g;return y.jsx(Lb.Provider,{value:{cartItems:e,addToCart:a,removeFromCart:l,updateQuantity:u,clearCart:h,subtotal:m,tax:g,total:p},children:i})}function ss(){return V.useContext(Lb)}function Ub(){const e=gi().pathname,n=a=>e.startsWith(a);return y.jsx("nav",{className:"fixed bottom-0 left-0 w-full border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-background-dark pb-6 pt-2 px-6 shrink-0 z-50 shadow-lg-up",children:y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs(an,{to:"/",className:`flex flex-col items-center gap-1 transition-colors group ${n("/")&&e==="/"?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/")&&e==="/"&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/")&&e==="/"?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"home"})]}),y.jsxs(an,{to:"/catalog",className:`flex flex-col items-center gap-1 transition-colors group ${n("/catalog")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/catalog")&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/catalog")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"grid_view"})]}),y.jsxs(an,{to:"/favorites",className:`flex flex-col items-center gap-1 transition-colors group ${n("/favorites")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/favorites")&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/favorites")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"favorite"})]}),y.jsxs(an,{to:"/profile",className:`flex flex-col items-center gap-1 transition-colors group ${n("/profile")?"text-primary relative":"text-slate-400 dark:text-slate-500 hover:text-primary"}`,children:[n("/profile")&&y.jsx("div",{className:"absolute -top-10 bg-primary/20 rounded-full w-12 h-12 flex items-center justify-center blur-lg opacity-50"}),y.jsx("span",{className:`material-symbols-outlined text-3xl ${n("/profile")?"fill-current":"group-hover:scale-110 transition-transform"}`,children:"person"})]})]})})}const jA=()=>{};var Fv={};const zb=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},VA=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const l=i[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],h=i[n++],m=i[n++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,g=l+2<i.length,p=g?i[l+2]:0,E=u>>2,x=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,O=p&63;g||(O=64,h||(S=64)),a.push(n[E],n[x],n[S],n[O])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(zb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):VA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],m=l<i.length?n[i.charAt(l)]:0;++l;const p=l<i.length?n[i.charAt(l)]:64;++l;const x=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||m==null||p==null||x==null)throw new PA;const S=u<<2|m>>4;if(a.push(S),p!==64){const O=m<<4&240|p>>2;if(a.push(O),x!==64){const G=p<<6&192|x;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(i){const e=zb(i);return Bb.encodeByteArray(e,!0)},_h=function(i){return LA(i).replace(/\./g,"")},qb=function(i){try{return Bb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zA=()=>UA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof Fv>"u")return;const i=Fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},qA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&qb(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return jA()||zA()||BA()||qA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Hb=i=>zh()?.emulatorHosts?.[i],HA=i=>{const e=Hb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Fb=()=>zh()?.config,Gb=i=>zh()?.[`_${i}`];class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function bl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qb(i){return(await fetch(i,{credentials:"include"})).ok}function GA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[_h(JSON.stringify(n)),_h(JSON.stringify(h)),""].join(".")}const Ho={};function QA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ho))Ho[e]?i.emulator.push(e):i.prod.push(e);return i}function KA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Gv=!1;function Kb(i,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Ho[i]===e||Ho[i]||Gv)return;Ho[i]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=QA().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Gv=!0,h()},S}function E(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function x(){const S=KA(a),O=n("text"),G=document.getElementById(O)||document.createElement("span"),U=n("learnmore"),z=document.getElementById(U)||document.createElement("a"),J=n("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),E(z,U);const xe=p();g(ne,J),re.append(ne,G,z,xe),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function XA(){const i=zh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function JA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZA(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function e1(){return!XA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function n1(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const r1="FirebaseError";class yi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=r1,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?i1(u,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new yi(l,m,a)}}function i1(i,e){return i.replace(a1,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const a1=/\{\$([^}]+)}/g;function s1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Za(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=i[l],h=e[l];if(Qv(u)&&Qv(h)){if(!Za(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Qv(i){return i!==null&&typeof i=="object"}function hu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Po(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Lo(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function l1(i,e){const n=new o1(i,e);return n.subscribe.bind(n)}class o1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");u1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=pm),l.error===void 0&&(l.error=pm),l.complete===void 0&&(l.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function pm(){}function Kt(i){return i&&i._delegate?i._delegate:i}class es{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xa="[DEFAULT]";class c1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new FA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d1(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:h1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h1(i){return i===Xa?void 0:i}function d1(i){return i.instantiationMode==="EAGER"}class f1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const m1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},p1=Oe.INFO,g1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},y1=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=g1[e];if(l)console[l](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=p1,this._logHandler=y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const _1=(i,e)=>e.some(n=>i instanceof n);let Kv,Yv;function v1(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yb=new WeakMap,Cm=new WeakMap,Xb=new WeakMap,gm=new WeakMap,op=new WeakMap;function E1(i){const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(aa(i.result)),l()},h=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Yb.set(n,i)}).catch(()=>{}),op.set(e,i),e}function x1(i){if(Cm.has(i))return;const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Cm.set(i,e)}let Im={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Xb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function T1(i){Im=i(Im)}function w1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(ym(this),e,...n);return Xb.set(a,e.sort?e.sort():[e]),aa(a)}:b1().includes(i)?function(...e){return i.apply(ym(this),e),aa(Yb.get(this))}:function(...e){return aa(i.apply(ym(this),e))}}function S1(i){return typeof i=="function"?w1(i):(i instanceof IDBTransaction&&x1(i),_1(i,v1())?new Proxy(i,Im):i)}function aa(i){if(i instanceof IDBRequest)return E1(i);if(gm.has(i))return gm.get(i);const e=S1(i);return e!==i&&(gm.set(i,e),op.set(e,i)),e}const ym=i=>op.get(i);function A1(i,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(i,e),m=aa(h);return a&&h.addEventListener("upgradeneeded",g=>{a(aa(h.result),g.oldVersion,g.newVersion,aa(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const R1=["get","getKey","getAll","getAllKeys","count"],N1=["put","add","delete","clear"],_m=new Map;function Xv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=N1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||R1.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),l&&g.done]))[0]};return _m.set(e,u),u}T1(i=>({...i,get:(e,n,a)=>Xv(e,n)||i.get(e,n,a),has:(e,n)=>!!Xv(e,n)||i.has(e,n)}));class C1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function I1(i){return i.getComponent()?.type==="VERSION"}const km="@firebase/app",$v="0.14.6";const di=new lp("@firebase/app"),k1="@firebase/app-compat",D1="@firebase/analytics-compat",O1="@firebase/analytics",M1="@firebase/app-check-compat",j1="@firebase/app-check",V1="@firebase/auth",P1="@firebase/auth-compat",L1="@firebase/database",U1="@firebase/data-connect",z1="@firebase/database-compat",B1="@firebase/functions",q1="@firebase/functions-compat",H1="@firebase/installations",F1="@firebase/installations-compat",G1="@firebase/messaging",Q1="@firebase/messaging-compat",K1="@firebase/performance",Y1="@firebase/performance-compat",X1="@firebase/remote-config",$1="@firebase/remote-config-compat",W1="@firebase/storage",J1="@firebase/storage-compat",Z1="@firebase/firestore",eR="@firebase/ai",tR="@firebase/firestore-compat",nR="firebase",rR="12.6.0";const Dm="[DEFAULT]",iR={[km]:"fire-core",[k1]:"fire-core-compat",[O1]:"fire-analytics",[D1]:"fire-analytics-compat",[j1]:"fire-app-check",[M1]:"fire-app-check-compat",[V1]:"fire-auth",[P1]:"fire-auth-compat",[L1]:"fire-rtdb",[U1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[B1]:"fire-fn",[q1]:"fire-fn-compat",[H1]:"fire-iid",[F1]:"fire-iid-compat",[G1]:"fire-fcm",[Q1]:"fire-fcm-compat",[K1]:"fire-perf",[Y1]:"fire-perf-compat",[X1]:"fire-rc",[$1]:"fire-rc-compat",[W1]:"fire-gcs",[J1]:"fire-gcs-compat",[Z1]:"fire-fst",[tR]:"fire-fst-compat",[eR]:"fire-vertex","fire-js":"fire-js",[nR]:"fire-js-all"};const vh=new Map,aR=new Map,Om=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function hl(i){const e=i.name;if(Om.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,i);for(const n of vh.values())Wv(n,i);for(const n of aR.values())Wv(n,i);return!0}function up(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new cu("app","Firebase",sR);class lR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}const El=rR;function $b(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Dm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw sa.create("bad-app-name",{appName:String(l)});if(n||(n=Fb()),!n)throw sa.create("no-options");const u=vh.get(l);if(u){if(Za(n,u.options)&&Za(a,u.config))return u;throw sa.create("duplicate-app",{appName:l})}const h=new f1(l);for(const g of Om.values())h.addComponent(g);const m=new lR(n,a,h);return vh.set(l,m),m}function Wb(i=Dm){const e=vh.get(i);if(!e&&i===Dm&&Fb())return $b();if(!e)throw sa.create("no-app",{appName:i});return e}function la(i,e,n){let a=iR[i]??i;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(h.join(" "));return}hl(new es(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const oR="firebase-heartbeat-database",uR=1,$o="firebase-heartbeat-store";let vm=null;function Jb(){return vm||(vm=A1(oR,uR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($o)}catch(n){console.warn(n)}}}}).catch(i=>{throw sa.create("idb-open",{originalErrorMessage:i.message})})),vm}async function cR(i){try{const n=(await Jb()).transaction($o),a=await n.objectStore($o).get(Zb(i));return await n.done,a}catch(e){if(e instanceof yi)di.warn(e.message);else{const n=sa.create("idb-get",{originalErrorMessage:e?.message});di.warn(n.message)}}}async function Jv(i,e){try{const a=(await Jb()).transaction($o,"readwrite");await a.objectStore($o).put(e,Zb(i)),await a.done}catch(n){if(n instanceof yi)di.warn(n.message);else{const a=sa.create("idb-set",{originalErrorMessage:n?.message});di.warn(a.message)}}}function Zb(i){return`${i.name}!${i.options.appId}`}const hR=1024,dR=30;class fR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>dR){const l=gR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zv(),{heartbeatsToSend:n,unsentEntries:a}=mR(this._heartbeatsCache.heartbeats),l=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return di.warn(e),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function mR(i,e=hR){const n=[];let a=i.slice();for(const l of i){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),e0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),e0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?n1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function e0(i){return _h(JSON.stringify({version:2,heartbeats:i})).length}function gR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function yR(i){hl(new es("platform-logger",e=>new C1(e),"PRIVATE")),hl(new es("heartbeat",e=>new fR(e),"PRIVATE")),la(km,$v,i),la(km,$v,"esm2020"),la("fire-js","")}yR("");var _R="firebase",vR="12.7.0";la(_R,vR,"app");function eE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bR=eE,tE=new cu("auth","Firebase",eE());const bh=new lp("@firebase/auth");function ER(i,...e){bh.logLevel<=Oe.WARN&&bh.warn(`Auth (${El}): ${i}`,...e)}function lh(i,...e){bh.logLevel<=Oe.ERROR&&bh.error(`Auth (${El}): ${i}`,...e)}function ir(i,...e){throw cp(i,...e)}function Or(i,...e){return cp(i,...e)}function nE(i,e,n){const a={...bR(),[e]:n};return new cu("auth","Firebase",a).create(e,{appName:i.name})}function oi(i){return nE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return tE.create(i,...e)}function ge(i,e,...n){if(!i)throw cp(e,...n)}function ai(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lh(e),new Error(e)}function fi(i,e){i||ai(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function xR(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xR()||WA()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=YA()||JA()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hp(i,e){fi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class rE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RR=new du(3e4,6e4);function _i(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function vi(i,e,n,a,l={}){return iE(i,l,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=hu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return $A()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&bl(i.emulatorConfig.host)&&(p.credentials="include"),rE.fetch()(await aE(i,i.config.apiHost,n,m),p)})}async function iE(i,e,n){i._canInitEmulator=!1;const a={...SR,...e};try{const l=new CR(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Jc(i,"user-disabled",h);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nE(i,E,p);ir(i,E)}}catch(l){if(l instanceof yi)throw l;ir(i,"network-request-failed",{message:String(l)})}}async function fu(i,e,n,a,l={}){const u=await vi(i,e,n,a,l);return"mfaPendingCredential"in u&&ir(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function aE(i,e,n,a){const l=`${e}${n}?${a}`,u=i,h=u.config.emulator?hp(i.config,l):`${i.config.apiScheme}://${l}`;return AR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function NR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Or(this.auth,"network-request-failed")),RR.get())})}}function Jc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Or(i,e,a);return l.customData._tokenResponse=n,l}function n0(i){return i!==void 0&&i.enterprise!==void 0}class IR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kR(i,e){return vi(i,"GET","/v2/recaptchaConfig",_i(i,e))}async function DR(i,e){return vi(i,"POST","/v1/accounts:delete",e)}async function Eh(i,e){return vi(i,"POST","/v1/accounts:lookup",e)}function Fo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OR(i,e=!1){const n=Kt(i),a=await n.getIdToken(e),l=dp(a);ge(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u?.sign_in_provider;return{claims:l,token:a,authTime:Fo(bm(l.auth_time)),issuedAtTime:Fo(bm(l.iat)),expirationTime:Fo(bm(l.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(i){return Number(i)*1e3}function dp(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const l=qb(n);return l?JSON.parse(l):(lh("Failed to decode base64 JWT payload"),null)}catch(l){return lh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(i){const e=dp(i);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof yi&&MR(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function MR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class jR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fo(this.lastLoginAt),this.creationTime=Fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(i){const e=i.auth,n=await i.getIdToken(),a=await Wo(i,Eh(e,{idToken:n}));ge(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const u=l.providerUserInfo?.length?sE(l.providerUserInfo):[],h=PR(i.providerData,u),m=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!h?.length,p=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function VR(i){const e=Kt(i);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PR(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function sE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LR(i,e){const n=await iE(i,{},async()=>{const a=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,h=await aE(i,l,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return i.emulatorConfig&&bl(i.emulatorConfig.host)&&(g.credentials="include"),rE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UR(i,e){return vi(i,"POST","/v2/accounts:revokeToken",_i(i,e))}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=r0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await LR(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,h=new ll;return a&&(ge(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),l&&(ge(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(ge(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return ai("not implemented")}}function Zi(i,e){ge(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new jR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OR(this,e)}reload(){return VR(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Wo(this,DR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:x,emailVerified:S,isAnonymous:O,providerData:G,stsTokenManager:U}=n;ge(x&&U,e,"internal-error");const z=ll.fromJSON(this.name,U);ge(typeof x=="string",e,"internal-error"),Zi(a,e.name),Zi(l,e.name),ge(typeof S=="boolean",e,"internal-error"),ge(typeof O=="boolean",e,"internal-error"),Zi(u,e.name),Zi(h,e.name),Zi(m,e.name),Zi(g,e.name),Zi(p,e.name),Zi(E,e.name);const J=new er({uid:x,auth:e,email:l,emailVerified:S,displayName:a,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(J.providerData=G.map(ne=>({...ne}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,a=!1){const l=new ll;l.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];ge(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?sE(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!u?.length,m=new ll;m.updateFromIdToken(a);const g=new er({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const i0=new Map;function si(i){fi(i instanceof Function,"Expected a class definition");let e=i0.get(i);return e?(fi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,i0.set(i,e),e)}class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lE.type="NONE";const a0=lE;function oh(i,e,n){return`firebase:${i}:${e}:${n}`}class ol{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=oh(this.userKey,l.apiKey,u),this.fullPersistenceKey=oh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ol(si(a0),e,a);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||si(a0);const h=oh(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(h);if(E){let x;if(typeof E=="string"){const S=await Eh(e,{idToken:E}).catch(()=>{});if(!S)break;x=await er._fromGetAccountInfoResponse(e,S,E)}else x=er._fromJSON(e,E);p!==u&&(m=x),u=p;break}}catch{}const g=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ol(u,e,a):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new ol(u,e,a))}}function s0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fE(e))return"Blackberry";if(mE(e))return"Webos";if(uE(e))return"Safari";if((e.includes("chrome/")||cE(e))&&!e.includes("edge/"))return"Chrome";if(dE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function oE(i=en()){return/firefox\//i.test(i)}function uE(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cE(i=en()){return/crios\//i.test(i)}function hE(i=en()){return/iemobile/i.test(i)}function dE(i=en()){return/android/i.test(i)}function fE(i=en()){return/blackberry/i.test(i)}function mE(i=en()){return/webos/i.test(i)}function fp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zR(i=en()){return fp(i)&&!!window.navigator?.standalone}function BR(){return ZA()&&document.documentMode===10}function pE(i=en()){return fp(i)||dE(i)||mE(i)||fE(i)||/windows phone/i.test(i)||hE(i)}function gE(i,e=[]){let n;switch(i){case"Browser":n=s0(en());break;case"Worker":n=`${s0(en())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${a}`}class qR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function HR(i,e={}){return vi(i,"GET","/v2/passwordPolicy",_i(i,e))}const FR=6;class GR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class QR{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l0(this),this.idTokenSubscription=new l0(this),this.beforeStateQueue=new qR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),a=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(oi(this));const n=e?Kt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HR(this),n=new GR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await UR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,l);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ER(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ls(i){return Kt(i)}class l0{constructor(e){this.auth=e,this.observer=null,this.addObserver=l1(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KR(i){Bh=i}function yE(i){return Bh.loadJS(i)}function YR(){return Bh.recaptchaEnterpriseScript}function XR(){return Bh.gapiScript}function $R(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WR{constructor(){this.enterprise=new JR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZR="recaptcha-enterprise",_E="NO_RECAPTCHA";class eN{constructor(e){this.type=ZR,this.auth=ls(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{kR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new IR(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function l(u,h,m){const g=window.grecaptcha;n0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(_E)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&n0(window.grecaptcha))l(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=YR();g.length!==0&&(g+=m),yE(g).then(()=>{l(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function o0(i,e,n,a=!1,l=!1){const u=new eN(i);let h;if(l)h=_E;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vm(i,e,n,a,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await o0(i,e,n,n==="getOobCode");return a(i,u)}else return a(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await o0(i,e,n,n==="getOobCode");return a(i,h)}else return Promise.reject(u)})}function tN(i,e){const n=up(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Za(u,e??{}))return l;ir(l,"already-initialized")}return n.initialize({options:e})}function nN(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(si);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function rN(i,e,n){const a=ls(i);ge(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=vE(e),{host:h,port:m}=iN(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ge(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ge(Za(p,a.config.emulator)&&Za(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,bl(h)?(Qb(`${u}//${h}${g}`),Kb("Auth",!0)):aN()}function vE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function iN(i){const e=vE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:u0(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:u0(h)}}}function u0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function aN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function sN(i,e){return vi(i,"POST","/v1/accounts:signUp",e)}async function lN(i,e){return fu(i,"POST","/v1/accounts:signInWithPassword",_i(i,e))}async function oN(i,e){return vi(i,"POST","/v1/accounts:sendOobCode",_i(i,e))}async function uN(i,e){return oN(i,e)}async function cN(i,e){return fu(i,"POST","/v1/accounts:signInWithEmailLink",_i(i,e))}async function hN(i,e){return fu(i,"POST","/v1/accounts:signInWithEmailLink",_i(i,e))}class Jo extends mp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Jo(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Jo(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signInWithPassword",lN);case"emailLink":return cN(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,a,"signUpPassword",sN);case"emailLink":return hN(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ul(i,e){return fu(i,"POST","/v1/accounts:signInWithIdp",_i(i,e))}const dN="http://localhost";class ts extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const h=new ts(a,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ul(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:dN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function fN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mN(i){const e=Po(Lo(i)).link,n=e?Po(Lo(e)).deep_link_id:null,a=Po(Lo(i)).deep_link_id;return(a?Po(Lo(a)).link:null)||a||n||e||i}class pp{constructor(e){const n=Po(Lo(e)),a=n.apiKey??null,l=n.oobCode??null,u=fN(n.mode??null);ge(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mN(e);try{return new pp(n)}catch{return null}}}class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return Jo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=pp.parseLink(n);return ge(a,"argument-error"),Jo._fromEmailAndCode(e,a.code,a.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends bE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ea extends mu{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";class ta extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ts._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ta.credential(n,a)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";class na extends mu{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";class ra extends mu{constructor(){super("twitter.com")}static credential(e,n){return ts._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";async function pN(i,e){return fu(i,"POST","/v1/accounts:signUp",_i(i,e))}class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await er._fromIdTokenResponse(e,a,l),h=c0(a);return new ns({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=c0(a);return new ns({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function c0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Th extends yi{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Th(e,n,a,l)}}function EE(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(i,u,e,a):u})}async function gN(i,e,n=!1){const a=await Wo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ns._forOperation(i,"link",a)}async function yN(i,e,n=!1){const{auth:a}=i;if(Ln(a.app))return Promise.reject(oi(a));const l="reauthenticate";try{const u=await Wo(i,EE(a,l,e,i),n);ge(u.idToken,a,"internal-error");const h=dp(u.idToken);ge(h,a,"internal-error");const{sub:m}=h;return ge(i.uid===m,a,"user-mismatch"),ns._forOperation(i,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ir(a,"user-mismatch"),u}}async function xE(i,e,n=!1){if(Ln(i.app))return Promise.reject(oi(i));const a="signIn",l=await EE(i,a,e),u=await ns._fromIdTokenResponse(i,a,l);return n||await i._updateCurrentUser(u.user),u}async function _N(i,e){return xE(ls(i),e)}async function TE(i){const e=ls(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vN(i,e,n){if(Ln(i.app))return Promise.reject(oi(i));const a=ls(i),h=await Vm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&TE(i),g}),m=await ns._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function bN(i,e,n){return Ln(i.app)?Promise.reject(oi(i)):_N(Kt(i),xl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&TE(i),a})}async function EN(i,e){const n=Kt(i),l={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await uN(n.auth,l);u!==i.email&&await i.reload()}function xN(i,e,n,a){return Kt(i).onIdTokenChanged(e,n,a)}function TN(i,e,n){return Kt(i).beforeAuthStateChanged(e,n)}function wN(i,e,n,a){return Kt(i).onAuthStateChanged(e,n,a)}function SN(i){return Kt(i).signOut()}const wh="__sak";class wE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AN=1e3,RN=10;class SE extends wE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);BR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,RN):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SE.type="LOCAL";const NN=SE;class AE extends wE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AE.type="SESSION";const RE=AE;function CN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new qh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,h=this.handlersMap[l];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await CN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function gp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class IN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=gp("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);h={messageChannel:l,onMessage(x){const S=x;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Mr(){return window}function kN(i){Mr().location.href=i}function NE(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function DN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){return navigator?.serviceWorker?.controller||null}function MN(){return NE()?self:null}const CE="firebaseLocalStorageDb",jN=1,Sh="firebaseLocalStorage",IE="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function VN(){const i=indexedDB.deleteDatabase(CE);return new pu(i).toPromise()}function Pm(){const i=indexedDB.open(CE,jN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Sh,{keyPath:IE})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Sh)?e(a):(a.close(),await VN(),e(await Pm()))})})}async function h0(i,e,n){const a=Hh(i,!0).put({[IE]:e,value:n});return new pu(a).toPromise()}async function PN(i,e){const n=Hh(i,!1).get(e),a=await new pu(n).toPromise();return a===void 0?null:a.value}function d0(i,e){const n=Hh(i,!0).delete(e);return new pu(n).toPromise()}const LN=800,UN=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>UN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(MN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DN(),!this.activeServiceWorker)return;this.sender=new IN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await h0(e,wh,"1"),await d0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>h0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>PN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Hh(l,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const zN=kE;new du(3e4,6e4);function BN(i,e){return e?si(e):(ge(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class yp extends mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qN(i){return xE(i.auth,new yp(i),i.bypassAuthState)}function HN(i){const{auth:e,user:n}=i;return ge(n,e,"internal-error"),yN(n,new yp(i),i.bypassAuthState)}async function FN(i){const{auth:e,user:n}=i;return ge(n,e,"internal-error"),gN(n,new yp(i),i.bypassAuthState)}class DE{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qN;case"linkViaPopup":case"linkViaRedirect":return FN;case"reauthViaPopup":case"reauthViaRedirect":return HN;default:ir(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GN=new du(2e3,1e4);class sl extends DE{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GN.get())};e()}}sl.currentPopupAction=null;const QN="pendingRedirect",uh=new Map;class KN extends DE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const a=await YN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YN(i,e){const n=WN(e),a=$N(i);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function XN(i,e){uh.set(i._key(),e)}function $N(i){return si(i._redirectPersistence)}function WN(i){return oh(QN,i.config.apiKey,i.name)}async function JN(i,e,n=!1){if(Ln(i.app))return Promise.reject(oi(i));const a=ls(i),l=BN(a,e),h=await new KN(a,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}const ZN=600*1e3;class eC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!OE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Or(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZN&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function OE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function tC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OE(i);default:return!1}}async function nC(i,e={}){return vi(i,"GET","/v1/projects",e)}const rC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iC=/^https?/;async function aC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nC(i);for(const n of e)try{if(sC(n))return}catch{}ir(i,"unauthorized-domain")}function sC(i){const e=Mm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!iC.test(n))return!1;if(rC.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const lC=new du(3e4,6e4);function m0(){const i=Mr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function oC(i){return new Promise((e,n)=>{function a(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(Or(i,"network-request-failed"))},timeout:lC.get()})}if(Mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mr().gapi?.load)a();else{const l=$R("iframefcb");return Mr()[l]=()=>{gapi.load?a():n(Or(i,"network-request-failed"))},yE(`${XR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function uC(i){return ch=ch||oC(i),ch}const cC=new du(5e3,15e3),hC="__/auth/iframe",dC="emulator/auth/iframe",fC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pC(i){const e=i.config;ge(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?hp(e,dC):`https://${i.config.authDomain}/${hC}`,a={apiKey:e.apiKey,appName:i.name,v:El},l=mC.get(i.config.apiHost);l&&(a.eid=l);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${hu(a).slice(1)}`}async function gC(i){const e=await uC(i),n=Mr().gapi;return ge(n,i,"internal-error"),e.open({where:document.body,url:pC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fC,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const h=Or(i,"network-request-failed"),m=Mr().setTimeout(()=>{u(h)},cC.get());function g(){Mr().clearTimeout(m),l(a)}a.ping(g).then(g,()=>{u(h)})}))}const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_C=500,vC=600,bC="_blank",EC="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(i,e,n,a=_C,l=vC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...yC,width:a.toString(),height:l.toString(),top:u,left:h},p=en().toLowerCase();n&&(m=cE(p)?bC:n),oE(p)&&(e=e||EC,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[O,G])=>`${S}${O}=${G},`,"");if(zR(p)&&m!=="_self")return TC(e||"",m),new p0(null);const x=window.open(e||"",m,E);ge(x,i,"popup-blocked");try{x.focus()}catch{}return new p0(x)}function TC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const wC="__/auth/handler",SC="emulator/auth/handler",AC=encodeURIComponent("fac");async function g0(i,e,n,a,l,u){ge(i.config.authDomain,i,"auth-domain-config-required"),ge(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:El,eventId:l};if(e instanceof bE){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",s1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))h[E]=x}if(e instanceof mu){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${AC}=${encodeURIComponent(g)}`:"";return`${RC(i)}?${hu(m).slice(1)}${p}`}function RC({config:i}){return i.emulator?hp(i,SC):`https://${i.authDomain}/${wC}`}const Em="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RE,this._completeRedirectFn=JN,this._overrideRedirectResult=XN}async _openPopup(e,n,a,l){fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await g0(e,n,a,Mm(),l);return xC(e,u,gp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await g0(e,n,a,Mm(),l);return kN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(fi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await gC(e),a=new eC(e);return n.register("authEvent",l=>(ge(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},l=>{const u=l?.[0]?.[Em];u!==void 0&&n(!!u),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pE()||uE()||fp()}}const CC=NC;var y0="@firebase/auth",_0="1.12.0";class IC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(i){hl(new es("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gE(i)},p=new QR(a,l,u,g);return nN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),hl(new es("auth-internal",e=>{const n=ls(e.getProvider("auth").getImmediate());return(a=>new IC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(y0,_0,kC(i)),la(y0,_0,"esm2020")}const OC=300,MC=Gb("authIdTokenMaxAge")||OC;let v0=null;const jC=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>MC)return;const l=n?.token;v0!==l&&(v0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VC(i=Wb()){const e=up(i,"auth");if(e.isInitialized())return e.getImmediate();const n=tN(i,{popupRedirectResolver:CC,persistence:[zN,NN,RE]}),a=Gb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=jC(u.toString());TN(n,h,()=>h(n.currentUser)),xN(n,m=>h(m))}}const l=Hb("auth");return l&&rN(n,`http://${l}`),n}function PC(){return document.getElementsByTagName("head")?.[0]??document}KR({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const u=Or("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",PC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oa,ME;(function(){var i;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(j,k,L){for(var N=Array(arguments.length-2),it=2;it<arguments.length;it++)N[it-2]=arguments[it];return A.prototype[k].apply(j,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,R){R||(R=0);const j=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)j[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;k<16;++k)j[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],k=I.g[2];let L=I.g[3],N;N=A+(L^R&(k^L))+j[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(k^A&(R^k))+j[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=k+(R^L&(A^R))+j[2]+606105819&4294967295,k=L+(N<<17&4294967295|N>>>15),N=R+(A^k&(L^A))+j[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=A+(L^R&(k^L))+j[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(k^A&(R^k))+j[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=k+(R^L&(A^R))+j[6]+2821735955&4294967295,k=L+(N<<17&4294967295|N>>>15),N=R+(A^k&(L^A))+j[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=A+(L^R&(k^L))+j[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(k^A&(R^k))+j[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=k+(R^L&(A^R))+j[10]+4294925233&4294967295,k=L+(N<<17&4294967295|N>>>15),N=R+(A^k&(L^A))+j[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=A+(L^R&(k^L))+j[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(k^A&(R^k))+j[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=k+(R^L&(A^R))+j[14]+2792965006&4294967295,k=L+(N<<17&4294967295|N>>>15),N=R+(A^k&(L^A))+j[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=A+(k^L&(R^k))+j[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^k&(A^R))+j[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=k+(A^R&(L^A))+j[11]+643717713&4294967295,k=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(k^L))+j[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=A+(k^L&(R^k))+j[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^k&(A^R))+j[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=k+(A^R&(L^A))+j[15]+3634488961&4294967295,k=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(k^L))+j[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=A+(k^L&(R^k))+j[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^k&(A^R))+j[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=k+(A^R&(L^A))+j[3]+4107603335&4294967295,k=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(k^L))+j[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=A+(k^L&(R^k))+j[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^k&(A^R))+j[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=k+(A^R&(L^A))+j[7]+1735328473&4294967295,k=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(k^L))+j[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=A+(R^k^L)+j[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^k)+j[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=k+(L^A^R)+j[11]+1839030562&4294967295,k=L+(N<<16&4294967295|N>>>16),N=R+(k^L^A)+j[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=A+(R^k^L)+j[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^k)+j[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=k+(L^A^R)+j[7]+4139469664&4294967295,k=L+(N<<16&4294967295|N>>>16),N=R+(k^L^A)+j[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=A+(R^k^L)+j[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^k)+j[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=k+(L^A^R)+j[3]+3572445317&4294967295,k=L+(N<<16&4294967295|N>>>16),N=R+(k^L^A)+j[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=A+(R^k^L)+j[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^k)+j[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=k+(L^A^R)+j[15]+530742520&4294967295,k=L+(N<<16&4294967295|N>>>16),N=R+(k^L^A)+j[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=A+(k^(R|~L))+j[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~k))+j[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=k+(A^(L|~R))+j[14]+2878612391&4294967295,k=L+(N<<15&4294967295|N>>>17),N=R+(L^(k|~A))+j[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=A+(k^(R|~L))+j[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~k))+j[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=k+(A^(L|~R))+j[10]+4293915773&4294967295,k=L+(N<<15&4294967295|N>>>17),N=R+(L^(k|~A))+j[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=A+(k^(R|~L))+j[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~k))+j[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=k+(A^(L|~R))+j[6]+2734768916&4294967295,k=L+(N<<15&4294967295|N>>>17),N=R+(L^(k|~A))+j[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=A+(k^(R|~L))+j[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~k))+j[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=k+(A^(L|~R))+j[2]+718787259&4294967295,k=L+(N<<15&4294967295|N>>>17),N=R+(L^(k|~A))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,j=this.C;let k=this.h,L=0;for(;L<A;){if(k==0)for(;L<=R;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(j[k++]=I.charCodeAt(L++),k==this.blockSize){l(this,j),k=0;break}}else for(;L<A;)if(j[k++]=I[L++],k==this.blockSize){l(this,j),k=0;break}}this.h=k,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)I[A++]=this.g[R]>>>j&255;return I};function u(I,A){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function h(I,A){this.h=A;const R=[];let j=!0;for(let k=I.length-1;k>=0;k--){const L=I[k]|0;j&&L==A||(R[k]=L,j=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(A){return new h([A|0],A<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return z(p(-I));const A=[];let R=1;for(let j=0;I>=R;j++)A[j]=I/R|0,R*=4294967296;return new h(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return z(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let j=x;for(let L=0;L<I.length;L+=8){var k=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+k),A);k<8?(k=p(Math.pow(A,k)),j=j.j(k).add(p(N))):(j=j.j(R),j=j.add(p(N)))}return j}var x=g(0),S=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(U(this))return-z(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);I+=(j>=0?j:4294967296+j)*A,A*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(U(this))return"-"+z(this).toString(I);const A=p(Math.pow(I,6));var R=this;let j="";for(;;){const k=xe(R,A).g;R=J(R,k.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=k,G(R))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function U(I){return I.h==-1}i.l=function(I){return I=J(this,I),U(I)?-1:G(I)?0:1};function z(I){const A=I.g.length,R=[];for(let j=0;j<A;j++)R[j]=~I.g[j];return new h(R,~I.h).add(S)}i.abs=function(){return U(this)?z(this):this},i.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let j=0;for(let k=0;k<=A;k++){let L=j+(this.i(k)&65535)+(I.i(k)&65535),N=(L>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);j=N>>>16,L&=65535,N&=65535,R[k]=N<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(I,A){return I.add(z(A))}i.j=function(I){if(G(this)||G(I))return x;if(U(this))return U(I)?z(this).j(z(I)):z(z(this).j(I));if(U(I))return z(this.j(z(I)));if(this.l(O)<0&&I.l(O)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var j=0;j<2*A;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let k=0;k<I.g.length;k++){const L=this.i(j)>>>16,N=this.i(j)&65535,it=I.i(k)>>>16,It=I.i(k)&65535;R[2*j+2*k]+=N*It,ne(R,2*j+2*k),R[2*j+2*k+1]+=L*It,ne(R,2*j+2*k+1),R[2*j+2*k+1]+=N*it,ne(R,2*j+2*k+1),R[2*j+2*k+2]+=L*it,ne(R,2*j+2*k+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new h(R,0)};function ne(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function re(I,A){this.g=I,this.h=A}function xe(I,A){if(G(A))throw Error("division by zero");if(G(I))return new re(x,x);if(U(I))return A=xe(z(I),A),new re(z(A.g),z(A.h));if(U(A))return A=xe(I,z(A)),new re(z(A.g),A.h);if(I.g.length>30){if(U(I)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,j=A;j.l(I)<=0;)R=Ne(R),j=Ne(j);var k=Re(R,1),L=Re(j,1);for(j=Re(j,2),R=Re(R,2);!G(j);){var N=L.add(j);N.l(I)<=0&&(k=k.add(R),L=N),j=Re(j,1),R=Re(R,1)}return A=J(I,k.j(A)),new re(k,A)}for(k=x;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=p(R),N=L.j(A);U(N)||N.l(I)>0;)R-=j,L=p(R),N=L.j(A);G(L)&&(L=S),k=k.add(L),I=J(I,N)}return new re(k,I)}i.B=function(I){return xe(this,I).h},i.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let j=0;j<A;j++)R[j]=this.i(j)&I.i(j);return new h(R,this.h&I.h)},i.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let j=0;j<A;j++)R[j]=this.i(j)|I.i(j);return new h(R,this.h|I.h)},i.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let j=0;j<A;j++)R[j]=this.i(j)^I.i(j);return new h(R,this.h^I.h)};function Ne(I){const A=I.g.length+1,R=[];for(let j=0;j<A;j++)R[j]=I.i(j)<<1|I.i(j-1)>>>31;return new h(R,I.h)}function Re(I,A){const R=A>>5;A%=32;const j=I.g.length-R,k=[];for(let L=0;L<j;L++)k[L]=A>0?I.i(L+R)>>>A|I.i(L+R+1)<<32-A:I.i(L+R);return new h(k,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ME=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,oa=h}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jE,Uo,VE,hh,Lm,PE,LE,UE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var _=0;_<c.length;++_){var b=c[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function l(c,_){if(_)e:{var b=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in b))break e;b=b[B]}c=c[c.length-1],w=b[c],_=_(w),_!=w&&_!=null&&e(b,c,{configurable:!0,writable:!0,value:_})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(_){var b=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&b.push([w,_[w]]);return b}});var u=u||{},h=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function g(c,_,b){return c.call.apply(c.bind,arguments)}function p(c,_,b){return p=g,p.apply(null,arguments)}function E(c,_){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,_){function b(){}b.prototype=_.prototype,c.Z=_.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,B,Q){for(var ie=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)ie[Te-2]=arguments[Te];return _.prototype[B].apply(w,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const _=c.length;if(_>0){const b=Array(_);for(let w=0;w<_;w++)b[w]=c[w];return b}return[]}function G(c,_){for(let w=1;w<arguments.length;w++){const B=arguments[w];var b=typeof B;if(b=b!="object"?b:B?Array.isArray(B)?"array":b:"null",b=="array"||b=="object"&&typeof B.length=="number"){b=c.length||0;const Q=B.length||0;c.length=b+Q;for(let ie=0;ie<Q;ie++)c[b+ie]=B[ie]}else c.push(B)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(c){h.setTimeout(()=>{throw c},0)}function J(){var c=I;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ne{constructor(){this.h=this.g=null}add(_,b){const w=re.get();w.set(_,b),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new U(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Re=!1,I=new ne,A=()=>{const c=Promise.resolve(void 0);Ne=()=>{c.then(R)}};function R(){for(var c;c=J();){try{c.h.call(c.g)}catch(b){z(b)}var _=re;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}Re=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,_),h.removeEventListener("test",b,_)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function it(c,_){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}x(it,k),it.prototype.init=function(c,_){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(b=="mouseover"?_=c.fromElement:b=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(c,_,b,w,B){this.listener=c,this.proxy=null,this.src=_,this.type=b,this.capture=!!w,this.ha=B,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,_,b){for(const w in c)_.call(b,c[w],w,c)}function Ge(c,_){for(const b in c)_.call(void 0,c[b],b,c)}function M(c){const _={};for(const b in c)_[b]=c[b];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,_){let b,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(b in w)c[b]=w[b];for(let Q=0;Q<ee.length;Q++)b=ee[Q],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,_,b,w,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ie=Se(c,_,w,B);return ie>-1?(_=c[ie],b||(_.fa=!1)):(_=new ae(_,this.src,Q,!!w,B),_.fa=b,c.push(_)),_};function _e(c,_){const b=_.type;if(b in c.g){var w=c.g[b],B=Array.prototype.indexOf.call(w,_,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(w,B,1),Q&&(me(_),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Se(c,_,b,w){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==_&&Q.capture==!!b&&Q.ha==w)return B}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),kt={};function at(c,_,b,w,B){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)at(c,_[Q],b,w,B);return null}return b=Il(b),c&&c[It]?c.J(_,b,m(w)?!!w.capture:!1,B):_a(c,_,b,!1,w,B)}function _a(c,_,b,w,B,Q){if(!_)throw Error("Invalid event type");const ie=m(B)?!!B.capture:!!B;let Te=va(c);if(Te||(c[Pe]=Te=new ue(c)),b=Te.add(_,b,w,ie,Q),b.proxy)return b;if(w=ds(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)L||(B=ie),B===void 0&&(B=!1),c.addEventListener(_.toString(),w,B);else if(c.attachEvent)c.attachEvent(ur(_.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ds(){function c(b){return _.call(c.src,c.listener,b)}const _=Nl;return c}function fs(c,_,b,w,B){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)fs(c,_[Q],b,w,B);else w=m(w)?!!w.capture:!!w,b=Il(b),c&&c[It]?(c=c.i,Q=String(_).toString(),Q in c.g&&(_=c.g[Q],b=Se(_,b,w,B),b>-1&&(me(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete c.g[Q],c.h--)))):c&&(c=va(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Se(_,b,w,B)),(b=c>-1?_[c]:null)&&ms(b))}function ms(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[It])_e(_.i,c);else{var b=c.type,w=c.proxy;_.removeEventListener?_.removeEventListener(b,w,c.capture):_.detachEvent?_.detachEvent(ur(b),w):_.addListener&&_.removeListener&&_.removeListener(w),(b=va(_))?(_e(b,c),b.h==0&&(b.src=null,_[Pe]=null)):me(c)}}}function ur(c){return c in kt?kt[c]:kt[c]="on"+c}function Nl(c,_){if(c.da)c=!0;else{_=new it(_,this);const b=c.listener,w=c.ha||c.src;c.fa&&ms(c),c=b.call(w,_)}return c}function va(c){return c=c[Pe],c instanceof ue?c:null}var Cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Il(c){return typeof c=="function"?c:(c[Cl]||(c[Cl]=function(_){return c.handleEvent(_)}),c[Cl])}function _t(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}x(_t,j),_t.prototype[It]=!0,_t.prototype.removeEventListener=function(c,_,b,w){fs(this,c,_,b,w)};function Dt(c,_){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=_.type||_,typeof _=="string")_=new k(_,c);else if(_ instanceof k)_.target=_.target||c;else{var B=_;_=new k(w,c),se(_,B)}B=!0;let Q,ie;if(b)for(ie=b.length-1;ie>=0;ie--)Q=_.g=b[ie],B=bi(Q,w,!0,_)&&B;if(Q=_.g=c,B=bi(Q,w,!0,_)&&B,B=bi(Q,w,!1,_)&&B,b)for(ie=0;ie<b.length;ie++)Q=_.g=b[ie],B=bi(Q,w,!1,_)&&B}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const b=c.g[_];for(let w=0;w<b.length;w++)me(b[w]);delete c.g[_],c.h--}}this.G=null},_t.prototype.J=function(c,_,b,w){return this.i.add(String(c),_,!1,b,w)},_t.prototype.K=function(c,_,b,w){return this.i.add(String(c),_,!0,b,w)};function bi(c,_,b,w){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let Q=0;Q<_.length;++Q){const ie=_[Q];if(ie&&!ie.da&&ie.capture==b){const Te=ie.listener,ft=ie.ha||ie.src;ie.fa&&_e(c.i,ie),B=Te.call(ft,w)!==!1&&B}}return B&&!w.defaultPrevented}function od(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function xu(c){c.g=od(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class tn extends j{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ba(c){j.call(this),this.h=c,this.g={}}x(ba,j);var kl=[];function Dl(c){Ue(c.g,function(_,b){this.g.hasOwnProperty(b)&&ms(_)},c),c.g={}}ba.prototype.N=function(){ba.Z.N.call(this),Dl(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=h.JSON.stringify,ud=h.JSON.parse,Tu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function wu(){}function Su(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){k.call(this,"d")}x(Ut,k);function Sn(){k.call(this,"c")}x(Sn,k);var dt={},Au=null;function ps(){return Au=Au||new _t}dt.Ia="serverreachability";function Ru(c){k.call(this,dt.Ia,c)}x(Ru,k);function cr(c){const _=ps();Dt(_,new Ru(_))}dt.STAT_EVENT="statevent";function Ea(c,_){k.call(this,dt.STAT_EVENT,c),this.stat=_}x(Ea,k);function vt(c){const _=ps();Dt(_,new Ea(_,c))}dt.Ja="timingevent";function hr(c,_){k.call(this,dt.Ja,c),this.size=_}x(hr,k);function dr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function cd(c,_,b,w,B,Q){c.info(function(){if(c.g)if(Q){var ie="",Te=Q.split("&");for(let qe=0;qe<Te.length;qe++){var ft=Te[qe].split("=");if(ft.length>1){const st=ft[0];ft=ft[1];const Cn=st.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(st+"="+ft+"&"):ie+(st+"=redacted&")}}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+_+`
`+b+`
`+ie})}function Nu(c,_,b,w,B,Q,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+_+`
`+b+`
`+Q+" "+ie})}function fr(c,_,b,w){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+hd(c,b)+(w?" "+w:"")})}function xa(c,_){c.info(function(){return"TIMEOUT: "+_})}Hn.prototype.info=function(){};function hd(c,_){if(!c.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var b=Q[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Ei(Q)}catch{return _}}var Ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ml;function wa(){}x(wa,wu),wa.prototype.g=function(){return new XMLHttpRequest},Ml=new wa;function zr(c){return encodeURIComponent(String(c))}function Cu(c){var _=1;c=c.split(":");const b=[];for(;_>0&&c.length;)b.push(c.shift()),_--;return c.length&&b.push(c.join(":")),b}function Fn(c,_,b,w){this.j=c,this.i=_,this.l=b,this.S=w||1,this.V=new ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function mr(c,_,b){c.M=1,c.A=Sa(xt(_)),c.u=b,c.R=!0,gs(c,null)}function gs(c,_){c.F=Date.now(),pr(c),c.B=xt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),bs(b.i,"t",w),c.C=0,b=c.j.L,c.h=new Gn,c.g=Fu(c.j,b?_:null,!c.u),c.P>0&&(c.O=new tn(p(c.Y,c,c.g),c.P)),_=c.V,b=c.g,w=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(kl[0]=B.toString()),B=kl);for(let Q=0;Q<B.length;Q++){const ie=at(b,B[Q],w||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),cr(),cd(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Yn(c)==3?_.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Te=Yn(this.g),ft=this.g.ya(),qe=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Te!=4||ft==7||(ft==8||qe<=0?cr(3):cr(2)),gr(this);var _=this.g.ca();this.X=_;var b=dd(this);if(this.o=_==200,Nu(this.i,this.v,this.B,this.l,this.S,Te,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var Q=w;break t}}Q=null}if(c=Q)fr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yr(this,c);else{this.o=!1,this.m=3,vt(12),gn(this),An(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<b.length;)if(st=ku(this,b),st==jt){Te==4&&(this.m=4,vt(14),c=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(st==bt){this.m=4,vt(15),fr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else fr(this.i,this.l,st,null),yr(this,st);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||b.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)fr(this.i,this.l,b,"[Invalid Chunked Response]"),gn(this),An(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Xl(ie),ie.P=!0,vt(11))}}else fr(this.i,this.l,b,null),yr(this,b);Te==4&&gn(this),this.o&&!this.K&&(Te==4?zu(this.j,this):(this.o=!1,pr(this)))}else qr(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),gn(this),An(this)}}}catch{}};function dd(c){if(!Iu(c))return c.g.la();const _=zt(c.g);if(_==="")return"";let b="";const w=_.length,B=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),An(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<w;Q++)c.h.h=!0,b+=c.h.i.decode(_[Q],{stream:!(B&&Q==w-1)});return _.length=0,c.h.g+=b,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,_){var b=c.C,w=_.indexOf(`
`,b);return w==-1?jt:(b=Number(_.substring(b,w)),isNaN(b)?bt:(w+=1,w+b>_.length?jt:(_=_.slice(w,w+b),c.C=w+b,_)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function pr(c){c.T=Date.now()+c.H,ys(c,c.H)}function ys(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=dr(p(c.aa,c),_)}function gr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xa(this.i,this.B),this.M!=2&&(cr(),vt(17)),gn(this),this.m=2,An(this)):ys(this,this.T-c)};function An(c){c.j.I==0||c.K||zu(c.j,c)}function gn(c){gr(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Dl(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function yr(c,_){try{var b=c.j;if(b.I!=0&&(b.g==c||vr(b.h,c))){if(!c.L&&vr(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ss(b),Ci(b);else break e;Da(b),vt(18)}}else b.xa=B[1],0<b.xa-b.K&&B[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=dr(p(b.Va,b),6e3));_r(b.h)<=1&&b.ta&&(b.ta=void 0)}else Sr(b,11)}else if((c.L||b.g==c)&&Ss(b),!N(_))for(B=b.Ba.g.parse(_),_=0;_<B.length;_++){let qe=B[_];const st=qe[0];if(!(st<=b.K))if(b.K=st,qe=qe[1],b.I==2)if(qe[0]=="c"){b.M=qe[1],b.ba=qe[2];const Cn=qe[3];Cn!=null&&(b.ka=Cn,b.j.info("VER="+b.ka));const Ar=qe[4];Ar!=null&&(b.za=Ar,b.j.info("SVER="+b.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(w=1.5*Xn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $n=c.g;if($n){const Oa=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var Q=w.h;Q.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Pl(Q,Q.h),Q.h=null))}if(w.G){const As=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(w.wa=As,Qe(w.J,w.G,As))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ie=c;if(w.na=Hu(w,w.L?w.ba:null,w.W),ie.L){Ll(w.h,ie);var Te=ie,ft=w.O;ft&&(Te.H=ft),Te.D&&(gr(Te),pr(Te)),w.g=ie}else Lu(w);b.i.length>0&&wr(b)}else qe[0]!="stop"&&qe[0]!="close"||Sr(b,7);else b.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Sr(b,7):Kl(b):qe[0]!="noop"&&b.l&&b.l.qa(qe),b.A=0)}}cr(4)}catch{}}var Et=class{constructor(c,_){this.g=c,this.map=_}};function jl(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _r(c){return c.h?1:c.g?c.g.size:0}function vr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Pl(c,_){c.g?c.g.add(_):c.h=_}function Ll(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}jl.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ul(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const b of c.g.values())_=_.concat(b.G);return _}return O(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _s(c,_){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let B,Q=null;w>=0?(B=c[b].substring(0,w),Q=c[b].substring(w+1)):B=c[b],_(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof yn?(this.l=c.l,Vt(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.u),this.h=c.h,zl(this,Vu(c.i)),this.m=c.m):c&&(_=String(c).match(Du))?(this.l=!1,Vt(this,_[1]||"",!0),this.o=br(_[2]||""),this.g=br(_[3]||"",!0),xi(this,_[4]),this.h=br(_[5]||"",!0),zl(this,_[6]||"",!0),this.m=br(_[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}yn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Aa(_,vs,!0),":");var b=this.g;return(b||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Aa(_,vs,!0),"@"),c.push(zr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Aa(b,b.charAt(0)=="/"?Bl:Ou,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Aa(b,Mu)),c.join("")},yn.prototype.resolve=function(c){const _=xt(this);let b=!!c.j;b?Vt(_,c.j):b=!!c.o,b?_.o=c.o:b=!!c.g,b?_.g=c.g:b=c.u!=null;var w=c.h;if(b)xi(_,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=_.h.lastIndexOf("/");B!=-1&&(w=_.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let ie=0;ie<B.length;){const Te=B[ie++];Te=="."?w&&ie==B.length&&Q.push(""):Te==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ie==B.length&&Q.push("")):(Q.push(Te),w=!0)}w=Q.join("/")}else w=B}return b?_.h=w:b=c.i.toString()!=="",b?zl(_,Vu(c.i)):b=!!c.m,b&&(_.m=c.m),_};function xt(c){return new yn(c)}function Vt(c,_,b){c.j=b?br(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function zl(c,_,b){_ instanceof wi?(c.i=_,Es(c.i,c.l)):(b||(_=Aa(_,Ti)),c.i=new wi(_,c.l))}function Qe(c,_,b){c.i.set(_,b)}function Sa(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function br(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Aa(c,_,b){return typeof c=="string"?(c=encodeURI(c).replace(_,ln),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vs=/[#\/\?@]/g,Ou=/[#\?:]/g,Bl=/[#\?]/g,Ti=/[#\?@]/g,Mu=/#/g;function wi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&_s(c.i,function(_,b){c.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}i=wi.prototype,i.add=function(c,_){on(this),this.i=null,c=Si(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(_),this.h+=1,this};function ju(c,_){on(c),_=Si(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function ql(c,_){return on(c),_=Si(c,_),c.g.has(_)}i.forEach=function(c,_){on(this),this.g.forEach(function(b,w){b.forEach(function(B){c.call(_,B,w,this)},this)},this)};function Hl(c,_){on(c);let b=[];if(typeof _=="string")ql(c,_)&&(b=b.concat(c.g.get(Si(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)b=b.concat(c[_]);return b}i.set=function(c,_){return on(this),this.i=null,c=Si(this,c),ql(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=Hl(this,c),c.length>0?String(c[0]):_):_};function bs(c,_,b){ju(c,_),b.length>0&&(c.i=null,c.g.set(Si(c,_),O(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var b=_[w];const B=zr(b);b=Hl(this,b);for(let Q=0;Q<b.length;Q++){let ie=B;b[Q]!==""&&(ie+="="+zr(b[Q])),c.push(ie)}}return this.i=c.join("&")};function Vu(c){const _=new wi;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Si(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Es(c,_){_&&!c.j&&(on(c),c.i=null,c.g.forEach(function(b,w){const B=w.toLowerCase();w!=B&&(ju(this,w),bs(this,B,b))},c)),c.j=_}function Qn(c,_){const b=new Hn;if(h.Image){const w=new Image;w.onload=E(Rn,b,"TestLoadImage: loaded",!0,_,w),w.onerror=E(Rn,b,"TestLoadImage: error",!1,_,w),w.onabort=E(Rn,b,"TestLoadImage: abort",!1,_,w),w.ontimeout=E(Rn,b,"TestLoadImage: timeout",!1,_,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else _(!1)}function Fl(c,_){const b=new Hn,w=new AbortController,B=setTimeout(()=>{w.abort(),Rn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(B),Q.ok?Rn(b,"TestPingServer: ok",!0,_):Rn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Rn(b,"TestPingServer: error",!1,_)})}function Rn(c,_,b,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(b)}catch{}}function Ai(){this.g=new Tu}function Er(c){this.i=c.Sb||null,this.h=c.ab||!1}x(Er,wu),Er.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(c,_){_t.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ra,_t),i=Ra.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Kn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Ri(this):Kn(this),this.readyState==3&&xs(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ri(this))},i.Na=function(c){this.g&&(this.response=c,Ri(this))},i.ga=function(){this.g&&Ri(this)};function Ri(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}i.setRequestHeader=function(c,_){this.A.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=_.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let _="";return Ue(c,function(b,w){_+=w,_+=":",_+=b,_+=`\r
`}),_}function Na(c,_,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Nn(b),typeof c=="string"?b!=null&&zr(b):Qe(c,_,b))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Xe,_t);var xr=/^https?$/i,Gl=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,_,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ml.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Q){Ca(this,Q);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)b.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Gl,_,void 0)>=0)||w||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of b)this.g.setRequestHeader(Q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ca(this,Q)}};function Ca(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,Ql(c),Br(c)}function Ql(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Br(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ia(this):this.Xa())},i.Xa=function(){Ia(this)};function Ia(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var w;if(w=Q===0){let ie=String(c.D).match(Du)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),w=!xr.test(ie?ie.toLowerCase():"")}b=w}if(b)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var B=Yn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Ql(c)}}finally{Br(c)}}}}function Br(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,_||Dt(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ud(_)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qr(c){const _={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var b=Cu(c[w]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=_[B]||[];_[B]=Q,Q.push(b)}Ge(_,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(c,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||_}function Ni(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Tr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Tr("baseRetryDelayMs",5e3,c),this.Za=Tr("retryDelaySeedMs",1e4,c),this.Ta=Tr("forwardChannelMaxRetries",2,c),this.va=Tr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jl(c&&c.concurrentRequestLimit),this.Ba=new Ai,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ni.prototype,i.ka=8,i.I=1,i.connect=function(c,_,b,w){vt(0),this.W=c,this.H=_||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Hu(this,null,this.W),wr(this)};function Kl(c){if(Ts(c),c.I==3){var _=c.V++,b=xt(c.J);if(Qe(b,"SID",c.M),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),ka(c,b),_=new Fn(c,c.j,_),_.M=2,_.A=Sa(xt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=_.A,b=!0),b||(_.g=Fu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),pr(_)}qu(c)}function Ci(c){c.g&&(Xl(c),c.g.cancel(),c.g=null)}function Ts(c){Ci(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ss(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wr(c){if(!Vl(c.h)&&!c.m){c.m=!0;var _=c.Ea;Ne||A(),Re||(Ne(),Re=!0),I.add(_,c),c.D=0}}function ws(c,_){return _r(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=dr(p(c.Ea,c,_),Bu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Fn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=M(Q),se(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Pu(this,B,_),b=xt(this.J),Qe(b,"RID",c),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),ka(this,b),Q&&(this.R?_="headers="+zr(Nn(Q))+"&"+_:this.u&&Na(b,this.u,Q)),Pl(this.h,B),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",_),Qe(b,"SID","null"),B.U=!0,mr(B,b,null)):mr(B,b,_),this.I=2}}else this.I==3&&(c?Yl(this,c):this.i.length==0||Vl(this.h)||Yl(this))};function Yl(c,_){var b;_?b=_.l:b=c.V++;const w=xt(c.J);Qe(w,"SID",c.M),Qe(w,"RID",b),Qe(w,"AID",c.K),ka(c,w),c.u&&c.o&&Na(w,c.u,c.o),b=new Fn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Pu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Pl(c.h,b),mr(b,w,_)}function ka(c,_){c.H&&Ue(c.H,function(b,w){Qe(_,w,b)}),c.l&&Ue({},function(b,w){Qe(_,w,b)})}function Pu(c,_,b){b=Math.min(c.i.length,b);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var B=c.i;let Te=-1;for(;;){const ft=["count="+b];Te==-1?b>0?(Te=B[0].g,ft.push("ofs="+Te)):Te=0:ft.push("ofs="+Te);let qe=!0;for(let st=0;st<b;st++){var Q=B[st].g;const Cn=B[st].map;if(Q-=Te,Q<0)Te=Math.max(0,B[st].g-100),qe=!1;else try{Q="req"+Q+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ar,Xn]of ie){let $n=Xn;m(Xn)&&($n=Ei(Xn)),ft.push(Q+Ar+"="+encodeURIComponent($n))}}catch(Ar){throw ft.push(Q+"type="+encodeURIComponent("_badmap")),Ar}}catch{w&&w(Cn)}}if(qe){ie=ft.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),_.G=c,ie}function Lu(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Ne||A(),Re||(Ne(),Re=!0),I.add(_,c),c.A=0}}function Da(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=dr(p(c.Da,c),Bu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=dr(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ci(this),Uu(this))};function Xl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=xt(c.na);Qe(_,"RID","rpc"),Qe(_,"SID",c.M),Qe(_,"AID",c.K),Qe(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(_,"TO",c.ia),Qe(_,"TYPE","xmlhttp"),ka(c,_),c.u&&c.o&&Na(_,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Sa(xt(_)),b.u=null,b.R=!0,gs(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Ci(this),Da(this),vt(19))};function Ss(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function zu(c,_){var b=null;if(c.g==_){Ss(c),Xl(c),c.g=null;var w=2}else if(vr(c.h,_))b=_.G,Ll(c.h,_),w=1;else return;if(c.I!=0){if(_.o)if(w==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var B=c.D;w=ps(),Dt(w,new hr(w,b)),wr(c)}else Lu(c);else if(B=_.m,B==3||B==0&&_.X>0||!(w==1&&ws(c,_)||w==2&&Da(c)))switch(b&&b.length>0&&(_=c.h,_.i=_.i.concat(b)),B){case 1:Sr(c,5);break;case 4:Sr(c,10);break;case 3:Sr(c,6);break;default:Sr(c,2)}}}function Bu(c,_){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*_}function Sr(c,_){if(c.j.info("Error code "+_),_==2){var b=p(c.bb,c),w=c.Ua;const B=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Vt(w,"https"),Sa(w),B?Qn(w.toString(),b):Fl(w.toString(),b)}else vt(2);c.I=0,c.l&&c.l.pa(_),qu(c),Ts(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const _=Ul(c.h);(_.length!=0||c.i.length!=0)&&(G(c.ja,_),G(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Hu(c,_,b){var w=b instanceof yn?xt(b):new yn(b);if(w.g!="")_&&(w.g=_+"."+w.g),xi(w,w.u);else{var B=h.location;w=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const Q=new yn(null);w&&Vt(Q,w),_&&(Q.g=_),B&&xi(Q,B),b&&(Q.h=b),w=Q}return b=c.G,_=c.wa,b&&_&&Qe(w,b,_),Qe(w,"VER",c.ka),ka(c,w),w}function Fu(c,_,b){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Xe(new Er({ab:b})):new Xe(c.ma),_.Fa(c.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ii(){}Ii.prototype.g=function(c,_){return new nn(c,_)};function nn(c,_){_t.call(this),this.g=new Ni(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!N(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Hr(this)}x(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Kl(this.g)},nn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Ei(c),c=b);_.i.push(new Et(_.Ya++,c)),_.I==3&&wr(_)},nn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,nn.Z.N.call(this)};function Qu(c){Ut.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const b in _){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}x(Qu,Ut);function Ku(){Sn.call(this),this.status=1}x(Ku,Sn);function Hr(c){this.g=c}x(Hr,Gu),Hr.prototype.ra=function(){Dt(this.g,"a")},Hr.prototype.qa=function(c){Dt(this.g,new Qu(c))},Hr.prototype.pa=function(c){Dt(this.g,new Ku)},Hr.prototype.oa=function(){Dt(this.g,"b")},Ii.prototype.createWebChannel=Ii.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,UE=function(){return new Ii},LE=function(){return ps()},PE=dt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,hh=Ta,Ol.COMPLETE="complete",VE=Ol,Su.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Uo=Su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,jE=Xe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",x0="4.9.3";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Tl="12.7.0";const rs=new lp("@firebase/firestore");function nl(){return rs.logLevel}function oe(i,...e){if(rs.logLevel<=Oe.DEBUG){const n=e.map(_p);rs.debug(`Firestore (${Tl}): ${i}`,...n)}}function mi(i,...e){if(rs.logLevel<=Oe.ERROR){const n=e.map(_p);rs.error(`Firestore (${Tl}): ${i}`,...n)}}function dl(i,...e){if(rs.logLevel<=Oe.WARN){const n=e.map(_p);rs.warn(`Firestore (${Tl}): ${i}`,...n)}}function _p(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,zE(i,a,n)}function zE(i,e,n){let a=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw mi(a),new Error(a)}function Fe(i,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,i||zE(e,l,a)}function Ee(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new BE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class BC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const a=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=FC(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Me(i,e){return i<e?-1:i>e?1:0}function Um(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const l=i.charAt(a),u=e.charAt(a);if(l!==u)return xm(l)===xm(u)?Me(l,u):xm(l)?1:-1}return Me(i.length,e.length)}const GC=55296,QC=57343;function xm(i){const e=i.charCodeAt(0);return e>=GC&&e<=QC}function fl(i,e,n){return i.length===e.length&&i.every(((a,l)=>n(a,e[l])))}const w0="__name__";class kr{constructor(e,n,a){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&ye(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=kr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const a=kr.isNumericId(e),l=kr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?kr.extractNumericId(e).compare(kr.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class et extends kr{construct(e,n,a){return new et(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const KC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends kr{construct(e,n,a){return new Qt(e,n,a)}static isValidIdentifier(e){return KC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Qt([w0])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(u(),l++)}if(u(),h)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(et.fromString(e))}static fromName(e){return new fe(et.fromString(e).popFirst(5))}static empty(){return new fe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new et(e.slice()))}}function qE(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function YC(i,e,n,a){if(e===!0&&a===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function S0(i){if(!fe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function A0(i){if(fe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function HE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Fh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function Bn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function gu(i,e){if(!HE(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const h=i[a];if(l&&typeof h!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}const R0=-62135596800,N0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*N0);return new rt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new rt(0,0))}static max(){return new ve(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zo=-1;function XC(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(a===1e9?new rt(n+1,0):new rt(n,a));return new ca(l,fe.empty(),e)}function $C(i){return new ca(i.readTime,i.key,Zo)}class ca{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ca(ve.min(),fe.empty(),Zo)}static max(){return new ca(ve.max(),fe.empty(),Zo)}}function WC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wl(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==JC)throw i;oe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,a)=>{n(e)}))}static reject(e){return new te(((n,a)=>{a(e)}))}static waitFor(e){return new te(((n,a)=>{let l=0,u=0,h=!1;e.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&n()}),(g=>a(g)))})),h=!0,u===l&&n()}))}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next((l=>l?te.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new te(((a,l)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{h[p]=E,++m,m===u&&a(h)}),(E=>l(E)))}}))}static doWhile(e,n){return new te(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function eI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(i){return i.name==="IndexedDbTransactionError"}class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;const bp=-1;function Qh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function tI(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const FE="";function nI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=C0(e)),e=rI(i.get(n),e);return C0(e)}function rI(i,e){let n=e;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case FE:n+="";break;default:n+=u}}return n}function C0(i){return i+FE+""}function I0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function os(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function GE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new Gt(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class tr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Mt(Qt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QE("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=iI.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function da(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}const KE="server_timestamp",YE="__type__",XE="__previous_value__",$E="__local_write_time__";function Ep(i){return(i?.mapValue?.fields||{})[YE]?.stringValue===KE}function Kh(i){const e=i.mapValue.fields[XE];return Ep(e)?Kh(e):e}function eu(i){const e=ha(i.mapValue.fields[$E].timestampValue);return new rt(e.seconds,e.nanos)}class aI{constructor(e,n,a,l,u,h,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Rh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const WE="__type__",sI="__max__",th={mapValue:{}},JE="__vector__",Nh="value";function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ep(i)?4:oI(i)?9007199254740991:lI(i)?10:11:ye(28295,{value:i})}function Ur(i,e){if(i===e)return!0;const n=fa(i);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eu(i).isEqual(eu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=ha(l.timestampValue),m=ha(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,u){return da(l.bytesValue).isEqual(da(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,u){return gt(l.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(l.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(i,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return gt(l.integerValue)===gt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=gt(l.doubleValue),m=gt(u.doubleValue);return h===m?Ah(h)===Ah(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return fl(i.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(I0(h)!==I0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Ur(h[g],m[g])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function nu(i,e){return(i.values||[]).find((n=>Ur(n,e)))!==void 0}function ml(i,e){if(i===e)return 0;const n=fa(i),a=fa(e);if(n!==a)return Me(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),g=gt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return D0(i.timestampValue,e.timestampValue);case 4:return D0(eu(i),eu(e));case 5:return Um(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=da(u),g=da(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Me(m[p],g[p]);if(E!==0)return E}return Me(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Me(gt(u.latitude),gt(h.latitude));return m!==0?m:Me(gt(u.longitude),gt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return O0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Nh]?.arrayValue,E=g[Nh]?.arrayValue,x=Me(p?.values?.length||0,E?.values?.length||0);return x!==0?x:O0(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===th.mapValue&&h===th.mapValue)return 0;if(u===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const S=Um(g[x],E[x]);if(S!==0)return S;const O=ml(m[g[x]],p[E[x]]);if(O!==0)return O}return Me(g.length,E.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function D0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=ha(i),a=ha(e),l=Me(n.seconds,a.seconds);return l!==0?l:Me(n.nanos,a.nanos)}function O0(i,e){const n=i.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=ml(n[l],a[l]);if(u)return u}return Me(n.length,a.length)}function pl(i){return zm(i)}function zm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=ha(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return da(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return fe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=zm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${zm(n.fields[h])}`;return l+"}"})(i.mapValue):ye(61005,{value:i})}function dh(i){switch(fa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+dh(e):16;case 5:return 2*i.stringValue.length;case 6:return da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+dh(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return os(a.fields,((u,h)=>{l+=u.length+dh(h)})),l})(i.mapValue);default:throw ye(13486,{value:i})}}function M0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Bm(i){return!!i&&"integerValue"in i}function xp(i){return!!i&&"arrayValue"in i}function j0(i){return!!i&&"nullValue"in i}function V0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function lI(i){return(i?.mapValue?.fields||{})[WE]?.stringValue===JE}function Go(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return os(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Go(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Go(i.arrayValue.values[n]);return e}return{...i}}function oI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sI}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(n)}setAll(e){let n=Qt.emptyPath(),a={},l=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,l),a={},l=[],n=m.popLast()}h?a[m.lastSegment()]=Go(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];fh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){os(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new Un(Go(this.value))}}function ZE(i){const e=[];return os(i.fields,((n,a)=>{const l=new Qt([n]);if(fh(a)){const u=ZE(a.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)})),new tr(e)}class Zt{constructor(e,n,a,l,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,ve.min(),ve.min(),ve.min(),Un.empty(),0)}static newFoundDocument(e,n,a,l){return new Zt(e,1,n,ve.min(),a,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,ve.min(),ve.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ve.min(),ve.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function P0(i,e,n){let a=0;for(let l=0;l<i.position.length;l++){const u=e[l],h=i.position[l];if(u.field.isKeyField()?a=fe.comparator(fe.fromName(h.referenceValue),n.key):a=ml(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ur(i.position[n],e.position[n]))return!1;return!0}class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function uI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ex{}class Nt extends ex{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new hI(e,n,a):n==="array-contains"?new mI(e,a):n==="in"?new pI(e,a):n==="not-in"?new gI(e,a):n==="array-contains-any"?new yI(e,a):new Nt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new dI(e,a):new fI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends ex{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ar(e,n)}matches(e){return tx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tx(i){return i.op==="and"}function nx(i){return cI(i)&&tx(i)}function cI(i){for(const e of i.filters)if(e instanceof ar)return!1;return!0}function qm(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+pl(i.value);if(nx(i))return i.filters.map((e=>qm(e))).join(",");{const e=i.filters.map((n=>qm(n))).join(",");return`${i.op}(${e})`}}function rx(i,e){return i instanceof Nt?(function(a,l){return l instanceof Nt&&a.op===l.op&&a.field.isEqual(l.field)&&Ur(a.value,l.value)})(i,e):i instanceof ar?(function(a,l){return l instanceof ar&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,h,m)=>u&&rx(h,l.filters[m])),!0):!1})(i,e):void ye(19439)}function ix(i){return i instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`})(i):i instanceof ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(ix).join(" ,")+"}"})(i):"Filter"}class hI extends Nt{constructor(e,n,a){super(e,n,a),this.key=fe.fromName(a.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class dI extends Nt{constructor(e,n){super(e,"in",n),this.keys=ax("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fI extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=ax("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ax(i,e){return(e.arrayValue?.values||[]).map((n=>fe.fromName(n.referenceValue)))}class mI extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&nu(n.arrayValue,this.value)}}class pI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class gI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class yI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>nu(this.value.arrayValue,a)))}}class _I{constructor(e,n=null,a=[],l=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function U0(i,e=null,n=[],a=[],l=null,u=null,h=null){return new _I(i,e,n,a,l,u,h)}function Tp(i){const e=Ee(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>qm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>pl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>pl(a))).join(",")),e.Te=n}return e.Te}function wp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!uI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!rx(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!L0(i.startAt,e.startAt)&&L0(i.endAt,e.endAt)}function Hm(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Al{constructor(e,n=null,a=[],l=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vI(i,e,n,a,l,u,h,m){return new Al(i,e,n,a,l,u,h,m)}function Yh(i){return new Al(i)}function z0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sx(i){return i.collectionGroup!==null}function Qo(i){const e=Ee(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Qt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ru(u,a))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new ru(Qt.keyField(),a))}return e.Ie}function jr(i){const e=Ee(i);return e.Ee||(e.Ee=bI(e,Qo(i))),e.Ee}function bI(i,e){if(i.limitType==="F")return U0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new ru(l.field,u)}));const n=i.endAt?new Ch(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Ch(i.startAt.position,i.startAt.inclusive):null;return U0(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Fm(i,e){const n=i.filters.concat([e]);return new Al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Gm(i,e,n){return new Al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return wp(jr(i),jr(e))&&i.limitType===e.limitType}function lx(i){return`${Tp(jr(i))}|lt:${i.limitType}`}function rl(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>ix(l))).join(", ")}]`),Qh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>pl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>pl(l))).join(",")),`Target(${a})`})(jr(i))}; limitType=${i.limitType})`}function $h(i,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):fe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,l){for(const u of Qo(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(h,m,g){const p=P0(h,m,g);return h.inclusive?p<=0:p<0})(a.startAt,Qo(a),l)||a.endAt&&!(function(h,m,g){const p=P0(h,m,g);return h.inclusive?p>=0:p>0})(a.endAt,Qo(a),l))})(i,e)}function EI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ox(i){return(e,n)=>{let a=!1;for(const l of Qo(i)){const u=xI(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function xI(i,e,n){const a=i.field.isKeyField()?fe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ml(g,p):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ye(19790,{direction:i.dir})}}class us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}const TI=new ut(fe.comparator);function pi(){return TI}const ux=new ut(fe.comparator);function zo(...i){let e=ux;for(const n of i)e=e.insert(n.key,n);return e}function cx(i){let e=ux;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function $a(){return Ko()}function hx(){return Ko()}function Ko(){return new us((i=>i.toString()),((i,e)=>i.isEqual(e)))}const wI=new ut(fe.comparator),SI=new Mt(fe.comparator);function je(...i){let e=SI;for(const n of i)e=e.add(n);return e}const AI=new Mt(Me);function RI(){return AI}function Sp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function dx(i){return{integerValue:""+i}}function NI(i,e){return tI(e)?dx(e):Sp(i,e)}class Wh{constructor(){this._=void 0}}function CI(i,e,n){return i instanceof iu?(function(l,u){const h={fields:{[YE]:{stringValue:KE},[$E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ep(u)&&(u=Kh(u)),u&&(h.fields[XE]=u),{mapValue:h}})(n,e):i instanceof au?mx(i,e):i instanceof su?px(i,e):(function(l,u){const h=fx(l,u),m=B0(h)+B0(l.Ae);return Bm(h)&&Bm(l.Ae)?dx(m):Sp(l.serializer,m)})(i,e)}function II(i,e,n){return i instanceof au?mx(i,e):i instanceof su?px(i,e):n}function fx(i,e){return i instanceof Ih?(function(a){return Bm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class iu extends Wh{}class au extends Wh{constructor(e){super(),this.elements=e}}function mx(i,e){const n=gx(e);for(const a of i.elements)n.some((l=>Ur(l,a)))||n.push(a);return{arrayValue:{values:n}}}class su extends Wh{constructor(e){super(),this.elements=e}}function px(i,e){let n=gx(e);for(const a of i.elements)n=n.filter((l=>!Ur(l,a)));return{arrayValue:{values:n}}}class Ih extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function B0(i){return gt(i.integerValue||i.doubleValue)}function gx(i){return xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class kI{constructor(e,n){this.field=e,this.transform=n}}function DI(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof au&&l instanceof au||a instanceof su&&l instanceof su?fl(a.elements,l.elements,Ur):a instanceof Ih&&l instanceof Ih?Ur(a.Ae,l.Ae):a instanceof iu&&l instanceof iu})(i.transform,e.transform)}class OI{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jh{}function yx(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ap(i.key,nr.none()):new yu(i.key,i.data,nr.none());{const n=i.data,a=Un.empty();let l=new Mt(Qt.comparator);for(let u of e.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new cs(i.key,a,new tr(l.toArray()),nr.none())}}function MI(i,e,n){i instanceof yu?(function(l,u,h){const m=l.value.clone(),g=H0(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof cs?(function(l,u,h){if(!mh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=H0(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(_x(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Yo(i,e,n,a){return i instanceof yu?(function(u,h,m,g){if(!mh(u.precondition,h))return m;const p=u.value.clone(),E=F0(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,a):i instanceof cs?(function(u,h,m,g){if(!mh(u.precondition,h))return m;const p=F0(u.fieldTransforms,g,h),E=h.data;return E.setAll(_x(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(i,e,n,a):(function(u,h,m){return mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function jI(i,e){let n=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),u=fx(a.transform,l||null);u!=null&&(n===null&&(n=Un.empty()),n.set(a.field,u))}return n||null}function q0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&fl(a,l,((u,h)=>DI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class yu extends Jh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cs extends Jh{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _x(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function H0(i,e,n){const a=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const u=i[l],h=u.transform,m=e.data.field(u.field);a.set(u.field,II(h,m,n[l]))}return a}function F0(i,e,n){const a=new Map;for(const l of i){const u=l.transform,h=n.data.field(l.field);a.set(l.field,CI(u,h,e))}return a}class Ap extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VI extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&MI(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Yo(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Yo(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=hx();return this.mutations.forEach((l=>{const u=e.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const g=yx(h,m);g!==null&&a.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(ve.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((n,a)=>q0(n,a)))&&fl(this.baseMutations,e.baseMutations,((n,a)=>q0(n,a)))}}class Rp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Fe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return wI})();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new Rp(e,n,a,l)}}class LI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Le;function zI(i){switch(i){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function vx(i){if(i===void 0)return mi("GRPC error has no .code"),W.UNKNOWN;switch(i){case Rt.OK:return W.OK;case Rt.CANCELLED:return W.CANCELLED;case Rt.UNKNOWN:return W.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return W.INTERNAL;case Rt.UNAVAILABLE:return W.UNAVAILABLE;case Rt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rt.NOT_FOUND:return W.NOT_FOUND;case Rt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rt.ABORTED:return W.ABORTED;case Rt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rt.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:i})}}(Le=Rt||(Rt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function BI(){return new TextEncoder}const qI=new oa([4294967295,4294967295],0);function G0(i){const e=BI().encode(i),n=new ME;return n.update(e),new Uint8Array(n.digest())}function Q0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new oa([n,a],0),new oa([l,u],0)]}class Np{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(a<0)throw new Bo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oa.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(oa.fromNumber(a)));return l.compare(qI)===1&&(l=new oa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=G0(e),[a,l]=Q0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);if(!this.we(h))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Np(u,l,n);return a.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=G0(e),[a,l]=Q0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Zh(ve.min(),l,new ut(Me),pi(),je())}}class _u{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new _u(a,n,je(),je(),je())}}class ph{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class bx{constructor(e,n){this.targetId=e,this.Ce=n}}class Ex{constructor(e,n,a=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class K0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),a=je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:ye(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HI{constructor(e){this.Ge=e,this.ze=new Map,this.je=pi(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Hm(u))if(a===0){const h=new fe(u.path);this.et(n,h,Zt.newNoDocument(h,ve.min()))}else Fe(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=da(a).toUint8Array()}catch(g){if(g instanceof QE)return dl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Np(h,l,u)}catch(g){return dl(g instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Hm(m.target)){const g=new fe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let a=je();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const l=new Zh(e,n,this.Ye,this.je,a);return this.je=pi(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Me),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new K0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ut(fe.comparator)}function Y0(){return new ut(fe.comparator)}const FI={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QI={and:"AND",or:"OR"};class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(i,e){return i.useProto3Json||Qh(e)?e:{value:e}}function kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xx(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YI(i,e){return kh(i,e.toTimestamp())}function Vr(i){return Fe(!!i,49232),ve.fromTimestamp((function(n){const a=ha(n);return new rt(a.seconds,a.nanos)})(i))}function Cp(i,e){return Km(i,e).canonicalString()}function Km(i,e){const n=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Tx(i){const e=et.fromString(i);return Fe(Nx(e),10190,{key:e.toString()}),e}function Ym(i,e){return Cp(i.databaseId,e.path)}function Tm(i,e){const n=Tx(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new fe(Sx(n))}function wx(i,e){return Cp(i.databaseId,e)}function XI(i){const e=Tx(i);return e.length===4?et.emptyPath():Sx(e)}function Xm(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sx(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function X0(i,e,n){return{name:Ym(i,e),fields:n.value.mapValue.fields}}function $I(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?W.UNKNOWN:vx(p.code);return new le(E,p.message||"")})(h);n=new Ex(a,l,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Tm(i,a.document.name),u=Vr(a.document.updateTime),h=a.document.createTime?Vr(a.document.createTime):ve.min(),m=new Un({mapValue:{fields:a.document.fields}}),g=Zt.newFoundDocument(l,u,h,m),p=a.targetIds||[],E=a.removedTargetIds||[];n=new ph(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Tm(i,a.document),u=a.readTime?Vr(a.readTime):ve.min(),h=Zt.newNoDocument(l,u),m=a.removedTargetIds||[];n=new ph([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Tm(i,a.document),u=a.removedTargetIds||[];n=new ph([],u,l,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new UI(l,u),m=a.targetId;n=new bx(m,h)}}return n}function WI(i,e){let n;if(e instanceof yu)n={update:X0(i,e.key,e.value)};else if(e instanceof Ap)n={delete:Ym(i,e.key)};else if(e instanceof cs)n={update:X0(i,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof VI))return ye(16599,{Vt:e.type});n={verify:Ym(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:YI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function JI(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(l,u){let h=l.updateTime?Vr(l.updateTime):Vr(u);return h.isEqual(ve.min())&&(h=Vr(u)),new OI(h,l.transformResults||[])})(n,e)))):[]}function ZI(i,e){return{documents:[wx(i,e.path)]}}function e2(i,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=wx(i,l);const u=(function(p){if(p.length!==0)return Rx(ar.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:il(S.field),direction:r2(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Qm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function t2(i){let e=XI(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Fe(a===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(x){const S=Ax(x);return S instanceof ar&&nx(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(x){return x.map((S=>(function(G){return new ru(al(G.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let S;return S=typeof x=="object"?x.value:x,Qh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(x){const S=!!x.before,O=x.values||[];return new Ch(O,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const S=!x.before,O=x.values||[];return new Ch(O,S)})(n.endAt)),vI(e,l,h,u,m,"F",g,p)}function n2(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ax(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=al(n.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=al(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=al(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=al(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Nt.create(al(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ar.create(n.compositeFilter.filters.map((a=>Ax(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function r2(i){return FI[i]}function i2(i){return GI[i]}function a2(i){return QI[i]}function il(i){return{fieldPath:i.canonicalString()}}function al(i){return Qt.fromServerFormat(i.fieldPath)}function Rx(i){return i instanceof Nt?(function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:i2(n.op),value:n.value}}})(i):i instanceof ar?(function(n){const a=n.getFilters().map((l=>Rx(l)));return a.length===1?a[0]:{compositeFilter:{op:a2(n.op),filters:a}}})(i):ye(54877,{filter:i})}function s2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nx(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ia{constructor(e,n,a,l,u=ve.min(),h=ve.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class l2{constructor(e){this.yt=e}}function o2(i){const e=t2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Gm(e,e.limit,"L"):e}class u2{constructor(){this.Cn=new c2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ca.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class c2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Mt(et.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Mt(et.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cx=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Cx,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}const W0="LruGarbageCollector",h2=1048576;function J0([i,e],[n,a]){const l=Me(i,n);return l===0?Me(e,a):l}class d2{constructor(e){this.Ir=e,this.buffer=new Mt(J0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();J0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(W0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?oe(W0,"Ignoring IndexedDB error during garbage collection: ",n):await wl(n)}await this.Vr(3e5)}))}}class m2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Gh.ce);const a=new d2(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve($0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,h=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(a=x,m=Date.now(),this.removeTargets(e,a,n)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(p=Date.now(),nl()<=Oe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${x} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function p2(i,e){return new m2(i,e)}class g2{constructor(){this.changes=new us((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _2{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&Yo(a.mutation,l,tr.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=je()){const l=$a();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let h=zo();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const a=$a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,je())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,a,l){let u=pi();const h=Ko(),m=(function(){return Ko()})();return n.forEach(((g,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),Yo(E.mutation,p,E.mutation.getFieldMask(),rt.now())):h.set(p.key,tr.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new y2(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Ko();let l=new ut(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=a.get(g)||tr.empty();E=m.applyToLocalView(p,E),a.set(g,E);const x=(l.get(m.batchId)||je()).add(g);l=l.insert(m.batchId,x)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,x=hx();E.forEach((S=>{if(!u.has(S)){const O=yx(n.get(S),a.get(S));O!==null&&x.set(S,O),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,x))}return te.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(h){return fe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):te.resolve($a());let m=Zo,g=u;return h.next((p=>te.forEach(p,((E,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,je()))).next((E=>({batchId:m,changes:cx(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next((a=>{let l=zo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let h=zo();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(x,S){return new Al(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,l).next((E=>{E.forEach(((x,S)=>{h=h.insert(x,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))}));let m=zo();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Yo(E.mutation,p,tr.empty(),rt.now()),$h(n,p)&&(m=m.insert(g,p))})),m}))}}class v2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Vr(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:o2(l.bundledQuery),readTime:Vr(l.readTime)}})(n)),te.resolve()}}class b2{constructor(){this.overlays=new ut(fe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=$a();return te.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const l=$a(),u=n.length+1,h=new fe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&l.set(g.getKey(),g)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new ut(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=$a(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=$a(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=l)););return te.resolve(m)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new LI(n,a));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}class E2{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Ip{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Lt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new fe(new et([])),a=new Lt(n,e),l=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([a,l],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new et([])),a=new Lt(n,e),l=new Lt(n,e+1);let u=je();return this.Ur.forEachInRange([a,l],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Lt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}class x2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PI(u,n,a,l);this.mutationQueue.push(h);for(const m of l)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Lt(n,0),l=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(h=>{const m=this.Xr(h.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Mt(Me);return n.forEach((l=>{const u=new Lt(l,0),h=new Lt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{a=a.add(m.Yr)}))})),te.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;fe.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new fe(u),0);let m=new Mt(Me);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(m=m.add(g.Yr)),!0)}),h),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return te.forEach(n.mutations,(l=>{const u=new Lt(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Lt(n,0),l=this.Zr.firstAfterOrEqual(a);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class T2{constructor(e){this.ri=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,h=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let a=pi();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=pi();const h=n.path,m=new fe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||WC($C(E),a)<=0||(l.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,a,l){ye(9500)}ii(e,n){return te.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new w2(this)}getSize(e){return te.resolve(this.size)}}class w2 extends g2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class S2{constructor(e){this.persistence=e,this.si=new us((n=>Tp(n)),wp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Ip,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),te.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((h=>{u.push(l.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class Ix{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new E2,this.referenceDelegate=e(this),this.Pi=new S2(this),this.indexManager=new u2,this.remoteDocumentCache=(function(l){return new T2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new l2(n),this.Ii=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new x2(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){oe("MemoryPersistence","Starting transaction:",e);const l=new A2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class A2 extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Ip,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(a=>{const l=fe.fromPath(a);return this.gi(e,l).next((u=>{u||n.removeEntry(l,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.pi=new us((a=>nI(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=p2(this,n)}static mi(e,n){return new Dh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?te.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(h=>this.br(e,h,n).next((m=>{m||(a++,u.removeEntry(h,ve.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,a){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return te.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dp{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=je(),l=je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Dp(e,n.fromCache,a,l)}}class R2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return e1()?8:eI(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,l,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new R2;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(nl()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(nl()<=Oe.DEBUG&&oe("QueryEngine","Query:",rl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(nl()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):te.resolve())}ys(e,n){if(z0(n))return te.resolve(null);let a=jr(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Gm(n,null,"F"),a=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=je(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,a).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,Gm(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,a,l){return z0(n)||l.isEqual(ve.min())?te.resolve(null):this.ps.getDocuments(e,a).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,a,l)?te.resolve(null):(nl()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),rl(n)),this.vs(e,h,n,XC(l,Zo)).next((m=>m)))}))}Ds(e,n){let a=new Mt(ox(e));return n.forEach(((l,u)=>{$h(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,a){return nl()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ps.getDocumentsMatchingQuery(e,n,ca.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Op="LocalStore",C2=3e8;class I2{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Me),this.xs=new us((u=>Tp(u)),wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function k2(i,e,n,a){return new I2(i,e,n,a)}async function kx(i,e){const n=Ee(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let g=je();for(const p of l){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function D2(i,e){const n=Ee(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const x=p.batch,S=x.keys();let O=te.resolve();return S.forEach((G=>{O=O.next((()=>E.getEntry(g,G))).next((U=>{const z=p.docVersions.get(G);Fe(z!==null,48541),U.version.compareTo(z)<0&&(x.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),E.addEntry(U)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,x)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function Dx(i){const e=Ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function O2(i,e){const n=Ee(i),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const m=[];e.targetChanges.forEach(((E,x)=>{const S=l.get(x);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,x))));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,a)),l=l.insert(x,O),(function(U,z,J){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=C2?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(S,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let g=pi(),p=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(M2(u,h,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!a.isEqual(ve.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function M2(i,e,n){let a=je(),l=je();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let h=pi();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):oe(Op,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:l}}))}function j2(i,e){const n=Ee(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function V2(i,e){const n=Ee(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((u=>u?(l=u,te.resolve(l)):n.Pi.allocateTargetId(a).next((h=>(l=new ia(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function $m(i,e,n){const a=Ee(i),l=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Sl(h))throw h;oe(Op,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function Z0(i,e,n){const a=Ee(i);let l=ve.min(),u=je();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const x=Ee(g),S=x.xs.get(E);return S!==void 0?te.resolve(x.Ms.get(S)):x.Pi.getTargetData(p,E)})(a,h,jr(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,e,n?l:ve.min(),n?u:je()))).next((m=>(P2(a,EI(e),m),{documents:m,Qs:u})))))}function P2(i,e,n){let a=i.Os.get(e)||ve.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(e,a)}class eb{constructor(){this.activeTargetIds=RI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.Mo=new eb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eb,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U2{Oo(e){}shutdown(){}}const tb="ConnectivityMonitor";class nb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(tb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(tb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Wm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const wm="RestConnection",z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Rh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,u){const h=Wm(),m=this.zo(e,n.toUriEncodedString());oe(wm,`Sending RPC '${e}' ${h}:`,m,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:p}=new URL(m),E=bl(p);return this.Jo(e,m,g,a,E).then((x=>(oe(wm,`Received RPC '${e}' ${h}: `,x),x)),(x=>{throw dl(wm,`RPC '${e}' ${h} failed with error: `,x,"url: ",m,"request:",a),x}))}Ho(e,n,a,l,u,h){return this.Go(e,n,a,l,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const a=z2[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class q2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class H2 extends B2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,u){const h=Wm();return new Promise(((m,g)=>{const p=new jE;p.setWithCredentials(!0),p.listenOnce(VE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const x=p.getResponseJson();oe($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(x)),m(x);break;case hh.TIMEOUT:oe($t,`RPC '${e}' ${h} timed out`),g(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const S=p.getStatus();if(oe($t,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const G=O?.error;if(G&&G.status&&G.message){const U=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(G.status);g(new le(U,G.message))}else g(new le(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{oe($t,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(l);oe($t,`RPC '${e}' ${h} sending request:`,l),p.send(n,"POST",E,a,15)}))}T_(e,n,a){const l=Wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=UE(),m=LE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");oe($t,`Creating RPC '${e}' stream ${l}: ${E}`,g);const x=h.createWebChannel(E,g);this.I_(x);let S=!1,O=!1;const G=new q2({Yo:z=>{O?oe($t,`Not sending because RPC '${e}' stream ${l} is closed:`,z):(S||(oe($t,`Opening RPC '${e}' stream ${l} transport.`),x.open(),S=!0),oe($t,`RPC '${e}' stream ${l} sending:`,z),x.send(z))},Zo:()=>x.close()}),U=(z,J,ne)=>{z.listen(J,(re=>{try{ne(re)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return U(x,Uo.EventType.OPEN,(()=>{O||(oe($t,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),U(x,Uo.EventType.CLOSE,(()=>{O||(O=!0,oe($t,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(x))})),U(x,Uo.EventType.ERROR,(z=>{O||(O=!0,dl($t,`RPC '${e}' stream ${l} transport errored. Name:`,z.name,"Message:",z.message),G.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),U(x,Uo.EventType.MESSAGE,(z=>{if(!O){const J=z.data[0];Fe(!!J,16349);const ne=J,re=ne?.error||ne[0]?.error;if(re){oe($t,`RPC '${e}' stream ${l} received error:`,re);const xe=re.status;let Ne=(function(A){const R=Rt[A];if(R!==void 0)return vx(R)})(xe),Re=re.message;Ne===void 0&&(Ne=W.INTERNAL,Re="Unknown error status: "+xe+" with message "+re.message),O=!0,G.a_(new le(Ne,Re)),x.close()}else oe($t,`RPC '${e}' stream ${l} received:`,J),G.u_(J)}})),U(m,PE.STAT_EVENT,(z=>{z.stat===Lm.PROXY?oe($t,`RPC '${e}' stream ${l} detected buffering proxy`):z.stat===Lm.NOPROXY&&oe($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sm(){return typeof document<"u"?document:null}function ed(i){return new KI(i,!0)}class Ox{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rb="PersistentStream";class Mx{constructor(e,n,a,l,u,h,m,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ox(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new le(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(rb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F2 extends Mx{constructor(e,n,a,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$I(this.serializer,e),a=(function(u){if(!("targetChange"in u))return ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ve.min():h.readTime?Vr(h.readTime):ve.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Hm(g)?{documents:ZI(u,g)}:{query:e2(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=xx(u,h.resumeToken);const p=Qm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(ve.min())>0){m.readTime=kh(u,h.snapshotVersion.toTimestamp());const p=Qm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const a=n2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.q_(n)}}class G2 extends Mx{constructor(e,n,a,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JI(e.writeResults,e.commitTime),a=Vr(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>WI(this.serializer,a)))};this.q_(n)}}class Q2{}class K2 extends Q2{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Km(n,a),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Km(n,a),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Y2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const is="RemoteStore";class X2{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{hs(this)&&(oe(is,"Restarting streams for network reachability change."),await(async function(g){const p=Ee(g);p.Ea.add(4),await vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await td(p)})(this))}))})),this.Ra=new Y2(a,l)}}async function td(i){if(hs(i))for(const e of i.da)await e(!0)}async function vu(i){for(const e of i.da)await e(!1)}function jx(i,e){const n=Ee(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pp(n)?Vp(n):Rl(n).O_()&&jp(n,e))}function Mp(i,e){const n=Ee(i),a=Rl(n);n.Ia.delete(e),a.O_()&&Vx(n,e),n.Ia.size===0&&(a.O_()?a.L_():hs(n)&&n.Ra.set("Unknown"))}function jp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(i).Y_(e)}function Vx(i,e){i.Va.Ue(e),Rl(i).Z_(e)}function Vp(i){i.Va=new HI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Rl(i).start(),i.Ra.ua()}function Pp(i){return hs(i)&&!Rl(i).x_()&&i.Ia.size>0}function hs(i){return Ee(i).Ea.size===0}function Px(i){i.Va=void 0}async function $2(i){i.Ra.set("Online")}async function W2(i){i.Ia.forEach(((e,n)=>{jp(i,e)}))}async function J2(i,e){Px(i),Pp(i)?(i.Ra.ha(e),Vp(i)):i.Ra.set("Unknown")}async function Z2(i,e,n){if(i.Ra.set("Online"),e instanceof Ex&&e.state===2&&e.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.Va.removeTarget(m))})(i,e)}catch(a){oe(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Oh(i,a)}else if(e instanceof ph?i.Va.Ze(e):e instanceof bx?i.Va.st(e):i.Va.tt(e),!n.isEqual(ve.min()))try{const a=await Dx(i.localStore);n.compareTo(a)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),Vx(u,g);const x=new ia(E.target,g,p,E.sequenceNumber);jp(u,x)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(a){oe(is,"Failed to raise snapshot:",a),await Oh(i,a)}}async function Oh(i,e,n){if(!Sl(e))throw e;i.Ea.add(1),await vu(i),i.Ra.set("Offline"),n||(n=()=>Dx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(is,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await td(i)}))}function Lx(i,e){return e().catch((n=>Oh(i,n,e)))}async function nd(i){const e=Ee(i),n=ma(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;ek(e);)try{const l=await j2(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,tk(e,l)}catch(l){await Oh(e,l)}Ux(e)&&zx(e)}function ek(i){return hs(i)&&i.Ta.length<10}function tk(i,e){i.Ta.push(e);const n=ma(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Ux(i){return hs(i)&&!ma(i).x_()&&i.Ta.length>0}function zx(i){ma(i).start()}async function nk(i){ma(i).ra()}async function rk(i){const e=ma(i);for(const n of i.Ta)e.ea(n.mutations)}async function ik(i,e,n){const a=i.Ta.shift(),l=Rp.from(a,e,n);await Lx(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await nd(i)}async function ak(i,e){e&&ma(i).X_&&await(async function(a,l){if((function(h){return zI(h)&&h!==W.ABORTED})(l.code)){const u=a.Ta.shift();ma(a).B_(),await Lx(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await nd(a)}})(i,e),Ux(i)&&zx(i)}async function ib(i,e){const n=Ee(i);n.asyncQueue.verifyOperationInProgress(),oe(is,"RemoteStore received new credentials");const a=hs(n);n.Ea.add(3),await vu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await td(n)}async function sk(i,e){const n=Ee(i);e?(n.Ea.delete(2),await td(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function Rl(i){return i.ma||(i.ma=(function(n,a,l){const u=Ee(n);return u.sa(),new F2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:$2.bind(null,i),t_:W2.bind(null,i),r_:J2.bind(null,i),H_:Z2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Pp(i)?Vp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Px(i))}))),i.ma}function ma(i){return i.fa||(i.fa=(function(n,a,l){const u=Ee(n);return u.sa(),new G2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:nk.bind(null,i),r_:ak.bind(null,i),ta:rk.bind(null,i),na:ik.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await nd(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(is,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Lp{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const h=Date.now()+a,m=new Lp(e,n,h,l,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(i,e){if(mi("AsyncQueue",`${e}: ${i}`),Sl(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||fe.comparator(n.key,a.key):(n,a)=>fe.comparator(n.key,a.key),this.keyedMap=zo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class ab{constructor(){this.ga=new ut(fe.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class yl{constructor(e,n,a,l,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,l,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new yl(e,n,cl.emptySet(n),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class lk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ok{constructor(){this.queries=sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ee(n),u=l.queries;l.queries=sb(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(a)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function sb(){return new us((i=>lx(i)),Xh)}async function zp(i,e){const n=Ee(i);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(a=2):(u=new lk,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Up(h,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function Bp(i,e){const n=Ee(i),a=e.query;let l=3;const u=n.queries.get(a);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function uk(i,e){const n=Ee(i);let a=!1;for(const l of e){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(l)&&(a=!0);h.wa=l}}a&&qp(n)}function ck(i,e,n){const a=Ee(i),l=a.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(e)}function qp(i){i.Ca.forEach((e=>{e.next()}))}var Jm,lb;(lb=Jm||(Jm={})).Ma="default",lb.Cache="cache";class Hp{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jm.Cache}}class Bx{constructor(e){this.key=e}}class qx{constructor(e){this.key=e}}class hk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=ox(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new ab,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,x)=>{const S=l.get(E),O=$h(this.query,x)?x:null,G=!!S&&this.mutatedKeys.has(S.key),U=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;S&&O?S.data.isEqual(O.data)?G!==U&&(a.track({type:3,doc:O}),z=!0):this.su(S,O)||(a.track({type:2,doc:O}),z=!0,(g&&this.eu(O,g)>0||p&&this.eu(O,p)<0)&&(m=!0)):!S&&O?(a.track({type:0,doc:O}),z=!0):S&&!O&&(a.track({type:1,doc:S}),z=!0,(g||p)&&(m=!0)),z&&(O?(h=h.add(O),u=U?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,x)=>(function(O,G){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:z})}};return U(O)-U(G)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(a),l=l??!1;const m=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new yl(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new qx(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new Bx(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class dk{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class fk{constructor(e){this.key=e,this.hu=!1}}class mk{constructor(e,n,a,l,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new us((m=>lx(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(fe.comparator),this.Au=new Map,this.Ru=new Ip,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pk(i,e,n=!0){const a=Yx(i);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Hx(a,e,n,!0),l}async function gk(i,e){const n=Yx(i);await Hx(n,e,!0,!1)}async function Hx(i,e,n,a){const l=await V2(i.localStore,jr(e)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await yk(i,e,u,h==="current",l.resumeToken)),i.isPrimaryClient&&n&&jx(i.remoteStore,l),m}async function yk(i,e,n,a,l){i.pu=(x,S,O)=>(async function(U,z,J,ne){let re=z.view.ru(J);re.Cs&&(re=await Z0(U.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,re))));const xe=ne&&ne.targetChanges.get(z.targetId),Ne=ne&&ne.targetMismatches.get(z.targetId)!=null,Re=z.view.applyChanges(re,U.isPrimaryClient,xe,Ne);return ub(U,z.targetId,Re.au),Re.snapshot})(i,x,S,O);const u=await Z0(i.localStore,e,!0),h=new hk(e,u.Qs),m=h.ru(u.documents),g=_u.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",l),p=h.applyChanges(m,i.isPrimaryClient,g);ub(i,n,p.au);const E=new dk(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function _k(i,e,n){const a=Ee(i),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((h=>!Xh(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await $m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Mp(a.remoteStore,l.targetId),Zm(a,l.targetId)})).catch(wl)):(Zm(a,l.targetId),await $m(a.localStore,l.targetId,!0))}async function vk(i,e){const n=Ee(i),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Mp(n.remoteStore,a.targetId))}async function bk(i,e,n){const a=Rk(i);try{const l=await(function(h,m){const g=Ee(h),p=rt.now(),E=m.reduce(((O,G)=>O.add(G.key)),je());let x,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let G=pi(),U=je();return g.Ns.getEntries(O,E).next((z=>{G=z,G.forEach(((J,ne)=>{ne.isValidDocument()||(U=U.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,G))).next((z=>{x=z;const J=[];for(const ne of m){const re=jI(ne,x.get(ne.key).overlayedDocument);re!=null&&J.push(new cs(ne.key,re,ZE(re.value.mapValue),nr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,J,m)})).next((z=>{S=z;const J=z.applyToLocalDocumentSet(x,U);return g.documentOverlayCache.saveOverlays(O,z.batchId,J)}))})).then((()=>({batchId:S.batchId,changes:cx(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ut(Me)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(a,l.batchId,n),await bu(a,l.changes),await nd(a.remoteStore)}catch(l){const u=Up(l,"Failed to persist write");n.reject(u)}}async function Fx(i,e){const n=Ee(i);try{const a=await O2(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const h=n.Au.get(u);h&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Fe(h.hu,14607):l.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await bu(n,a,e)}catch(a){await wl(a)}}function ob(i,e,n){const a=Ee(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const g=Ee(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,x)=>{for(const S of x.Sa)S.va(m)&&(p=!0)})),p&&qp(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Ek(i,e,n){const a=Ee(i);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let h=new ut(fe.comparator);h=h.insert(u,Zt.newNoDocument(u,ve.min()));const m=je().add(u),g=new Zh(ve.min(),new Map,new ut(Me),h,m);await Fx(a,g),a.du=a.du.remove(u),a.Au.delete(e),Gp(a)}else await $m(a.localStore,e,!1).then((()=>Zm(a,e,n))).catch(wl)}async function xk(i,e){const n=Ee(i),a=e.batch.batchId;try{const l=await D2(n.localStore,e);Qx(n,a,null),Gx(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await bu(n,l)}catch(l){await wl(l)}}async function Tk(i,e,n){const a=Ee(i);try{const l=await(function(h,m){const g=Ee(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((x=>(Fe(x!==null,37113),E=x.keys(),g.mutationQueue.removeMutationBatch(p,x)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(a.localStore,e);Qx(a,e,n),Gx(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await bu(a,l)}catch(l){await wl(l)}}function Gx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Qx(i,e,n){const a=Ee(i);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Zm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||Kx(i,a)}))}function Kx(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Mp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Gp(i))}function ub(i,e,n){for(const a of n)a instanceof Bx?(i.Ru.addReference(a.key,e),wk(i,a)):a instanceof qx?(oe(Fp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||Kx(i,a.key)):ye(19791,{wu:a})}function wk(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Eu.has(a)||(oe(Fp,"New document in limbo: "+n),i.Eu.add(a),Gp(i))}function Gp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new fe(et.fromString(e)),a=i.fu.next();i.Au.set(a,new fk(n)),i.du=i.du.insert(n,a),jx(i.remoteStore,new ia(jr(Yh(n.path)),a,"TargetPurposeLimboResolution",Gh.ce))}}async function bu(i,e,n){const a=Ee(i),l=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{h.push(a.pu(g,e,n).then((p=>{if((p||n)&&a.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){l.push(p);const E=Dp.As(g.targetId,p);u.push(E)}})))})),await Promise.all(h),a.Pu.H_(l),await(async function(g,p){const E=Ee(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>te.forEach(p,(S=>te.forEach(S.Es,(O=>E.persistence.referenceDelegate.addReference(x,S.targetId,O))).next((()=>te.forEach(S.ds,(O=>E.persistence.referenceDelegate.removeReference(x,S.targetId,O)))))))))}catch(x){if(!Sl(x))throw x;oe(Op,"Failed to update sequence numbers: "+x)}for(const x of p){const S=x.targetId;if(!x.fromCache){const O=E.Ms.get(S),G=O.snapshotVersion,U=O.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,U)}}})(a.localStore,u))}async function Sk(i,e){const n=Ee(i);if(!n.currentUser.isEqual(e)){oe(Fp,"User change. New user:",e.toKey());const a=await kx(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await bu(n,a.Ls)}}function Ak(i,e){const n=Ee(i),a=n.Au.get(e);if(a&&a.hu)return je().add(a.key);{let l=je();const u=n.Iu.get(e);if(!u)return l;for(const h of u){const m=n.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function Yx(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ek.bind(null,e),e.Pu.H_=uk.bind(null,e.eventManager),e.Pu.yu=ck.bind(null,e.eventManager),e}function Rk(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tk.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return k2(this.persistence,new N2,e.initialUser,this.serializer)}Cu(e){return new Ix(kp.mi,this.serializer)}Du(e){return new L2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class Nk extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new f2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Ix((a=>Dh.mi(a,n)),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ob(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await sk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ok})()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),a=(function(u){return new H2(u)})(e.databaseInfo);return(function(u,h,m,g){return new K2(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,h,m){return new X2(a,l,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ob(this.syncEngine,n,0)),(function(){return nb.v()?new nb:new U2})())}createSyncEngine(e,n){return(function(l,u,h,m,g,p,E){const x=new mk(l,u,h,m,g,p);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ee(n);oe(is,"RemoteStore shutting down."),a.Ea.add(5),await vu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};class Qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pa="FirestoreClient";class Ck{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{oe(pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(oe(pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Up(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Am(i,e){i.asyncQueue.verifyOperationInProgress(),oe(pa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kx(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function cb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Ik(i);oe(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>ib(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>ib(e.remoteStore,l))),i._onlineComponents=e}async function Ik(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(pa,"Using user provided OfflineComponentProvider");try{await Am(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await Am(i,new Mh)}}else oe(pa,"Using default OfflineComponentProvider"),await Am(i,new Nk(void 0));return i._offlineComponents}async function Xx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(pa,"Using user provided OnlineComponentProvider"),await cb(i,i._uninitializedComponentsProvider._online)):(oe(pa,"Using default OnlineComponentProvider"),await cb(i,new ep))),i._onlineComponents}function kk(i){return Xx(i).then((e=>e.syncEngine))}async function jh(i){const e=await Xx(i),n=e.eventManager;return n.onListen=pk.bind(null,e.syncEngine),n.onUnlisten=_k.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vk.bind(null,e.syncEngine),n}function Dk(i,e,n={}){const a=new ui;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Qp({next:S=>{E.Nu(),h.enqueueAndForget((()=>Bp(u,x)));const O=S.docs.has(m);!O&&S.fromCache?p.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?p.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),x=new Hp(Yh(m.path),E,{includeMetadataChanges:!0,qa:!0});return zp(u,x)})(await jh(i),i.asyncQueue,e,n,a))),a.promise}function Ok(i,e,n={}){const a=new ui;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new Qp({next:S=>{E.Nu(),h.enqueueAndForget((()=>Bp(u,x))),S.fromCache&&g.source==="server"?p.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),x=new Hp(m,E,{includeMetadataChanges:!0,qa:!0});return zp(u,x)})(await jh(i),i.asyncQueue,e,n,a))),a.promise}function $x(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const hb=new Map;const Wx="firestore.googleapis.com",db=!0;class fb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wx,this.ssl=db}else this.host=e.host,this.ssl=e.ssl??db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h2)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$x(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new LC;switch(a.type){case"firstParty":return new qC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=hb.get(n);a&&(oe("ComponentProvider","Removing Datastore"),hb.delete(n),a.terminate())})(this),Promise.resolve()}}function Mk(i,e,n,a={}){i=Bn(i,rd);const l=bl(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;l&&(Qb(`https://${m}`),Kb("Firestore",!0)),u.host!==Wx&&u.host!==m&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:a};if(!Za(g,h)&&(i._setSettings(g),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=Jt.MOCK_USER;else{p=GA(a.mockUserToken,i._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(x)}i._authCredentials=new UC(new BE(p,E))}}class ya{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ya(this.firestore,e,this._query)}}class yt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(gu(n,yt._jsonSchema))return new yt(e,a||null,new fe(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Ct("string",yt._jsonSchemaVersion),referencePath:Ct("string")};class ua extends ya{constructor(e,n,a){super(e,n,Yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new fe(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function as(i,e,...n){if(i=Kt(i),qE("collection","path",e),i instanceof rd){const a=et.fromString(e,...n);return A0(a),new ua(i,null,a)}{if(!(i instanceof yt||i instanceof ua))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(et.fromString(e,...n));return A0(a),new ua(i.firestore,null,a)}}function ci(i,e,...n){if(i=Kt(i),arguments.length===1&&(e=vp.newId()),qE("doc","path",e),i instanceof rd){const a=et.fromString(e,...n);return S0(a),new yt(i,null,new fe(a))}{if(!(i instanceof yt||i instanceof ua))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(et.fromString(e,...n));return S0(a),new yt(i.firestore,i instanceof ua?i.converter:null,new fe(a))}}const mb="AsyncQueue";class pb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ox(this,"async_queue_retry"),this._c=()=>{const a=Sm();a&&oe(mb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;oe(mb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",gb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Lp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:gb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function yb(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ga extends rd{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new pb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pb(e),this._firestoreClient=void 0,await e}}}function jk(i,e){const n=typeof i=="object"?i:Wb(),a=typeof i=="string"?i:Rh,l=up(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=HA("firestore");u&&Mk(l,...u)}return l}function id(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Vk(i),i._firestoreClient}function Vk(i){const e=i._freezeSettings(),n=(function(l,u,h,m){return new aI(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$x(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ck(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ct("string",zn._jsonSchemaVersion),bytes:Ct("string")};class Kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._methodName=e}}class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:Ct("string",Pr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Lr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Lr(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:Ct("string",Lr._jsonSchemaVersion),vectorValues:Ct("object")};const Pk=/^__.*__$/;class Lk{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function Jx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class Xp{constructor(e,n,a,l,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jx(this.Ac)&&Pk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uk{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||ed(e)}Cc(e,n,a,l=!1){return new Xp({Ac:e,methodName:n,Dc:a,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(i){const e=i._freezeSettings(),n=ed(i._databaseId);return new Uk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Zx(i,e,n,a,l,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,l);nT("Data must be an object, but it was:",h,a);const m=eT(a,h);let g,p;if(u.merge)g=new tr(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const x of u.mergeFields){const S=Bk(e,x,n);if(!h.contains(S))throw new le(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Hk(E,S)||E.push(S)}g=new tr(E),p=h.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,p=h.fieldTransforms;return new Lk(new Un(m),g,p)}class Wp extends Yp{_toFieldTransform(e){return new kI(e.path,new iu)}isEqual(e){return e instanceof Wp}}function zk(i,e,n,a=!1){return Jp(n,i.Cc(a?4:3,e))}function Jp(i,e){if(tT(i=Kt(i)))return nT("Unsupported field value:",e,i),eT(i,e);if(i instanceof Yp)return(function(a,l){if(!Jx(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let h=0;for(const m of a){let g=Jp(m,l.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(a,l){if((a=Kt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return NI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=rt.fromDate(a);return{timestampValue:kh(l.serializer,u)}}if(a instanceof rt){const u=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:kh(l.serializer,u)}}if(a instanceof Pr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:xx(l.serializer,a._byteString)};if(a instanceof yt){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Lr)return(function(h,m){return{mapValue:{fields:{[WE]:{stringValue:JE},[Nh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Sp(m.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Fh(a)}`)})(i,e)}function eT(i,e){const n={};return GE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(i,((a,l)=>{const u=Jp(l,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function tT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Pr||i instanceof zn||i instanceof yt||i instanceof Yp||i instanceof Lr)}function nT(i,e,n){if(!tT(n)||!HE(n)){const a=Fh(n);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function Bk(i,e,n){if((e=Kt(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return rT(i,e);throw Vh("Field path arguments must be of type string or ",i,!1,void 0,n)}const qk=new RegExp("[~\\*/\\[\\]]");function rT(i,e,n){if(e.search(qk)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Kp(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Vh(i,e,n,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${a}`),h&&(g+=` in document ${l}`),g+=")"),new le(W.INVALID_ARGUMENT,m+i+g)}function Hk(i,e){return i.some((n=>n.isEqual(e)))}class iT{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ad("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fk extends iT{data(){return super.data()}}function ad(i,e){return typeof e=="string"?rT(i,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}function aT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class sT extends Zp{}function sd(i,e,...n){let a=[];e instanceof Zp&&a.push(e),a=a.concat(n),(function(u){const h=u.filter((g=>g instanceof eg)).length,m=u.filter((g=>g instanceof ld)).length;if(h>1||h>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class ld extends sT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ld(e,n,a)}_apply(e){const n=this._parse(e);return oT(e._query,n),new ya(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=$p(e.firestore);return(function(u,h,m,g,p,E,x){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vb(x,E);const G=[];for(const U of x)G.push(_b(g,u,U));S={arrayValue:{values:G}}}else S=_b(g,u,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vb(x,E),S=zk(m,h,x,E==="in"||E==="not-in");return Nt.create(p,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lT(i,e,n){const a=e,l=ad("where",i);return ld._create(l,a,n)}class eg extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let h=l;const m=u.getFlattenedFilters();for(const g of m)oT(h,g),h=Fm(h,g)})(e._query,n),new ya(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends sT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tg(e,n)}_apply(e){const n=(function(l,u,h){if(l.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(u,h)})(e._query,this._field,this._direction);return new ya(e.firestore,e.converter,(function(l,u){const h=l.explicitOrderBy.concat([u]);return new Al(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Gk(i,e="asc"){const n=e,a=ad("orderBy",i);return tg._create(a,n)}function _b(i,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sx(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(et.fromString(n));if(!fe.isDocumentKey(a))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return M0(i,new fe(a))}if(n instanceof yt)return M0(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function vb(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(i,e){const n=(function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qk{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return os(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((a=>gt(a.doubleValue)));return new Lr(n)}convertGeoPoint(e){return new Pr(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Kh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=ha(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=et.fromString(e);Fe(Nx(a),9688,{name:e});const l=new tu(a.get(1),a.get(3)),u=new fe(a.popFirst(5));return l.isEqual(n)||mi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function uT(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends iT{constructor(e,n,a,l,u,h){super(e,n,a,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ad("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Ct("string",Wa._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class gh extends Wa{data(e={}){return super.data(e)}}class Ja{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new qo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new gh(this._firestore,this._userDataWriter,a.key,a,new qo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const g=new gh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new gh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Kk(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}function Yk(i){i=Bn(i,yt);const e=Bn(i.firestore,ga);return Dk(id(e),i._key).then((n=>dT(e,i,n)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ct("string",Ja._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class ng extends Qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function rg(i){i=Bn(i,ya);const e=Bn(i.firestore,ga),n=id(e),a=new ng(e);return aT(i._query),Ok(n,i._query).then((l=>new Ja(e,a,i,l)))}function Ph(i,e,n){i=Bn(i,yt);const a=Bn(i.firestore,ga),l=uT(i.converter,e,n);return ag(a,[Zx($p(a),"setDoc",i._key,l,i.converter!==null,n).toMutation(i._key,nr.none())])}function cT(i){return ag(Bn(i.firestore,ga),[new Ap(i._key,nr.none())])}function hT(i,e){const n=Bn(i.firestore,ga),a=ci(i),l=uT(i.converter,e);return ag(n,[Zx($p(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,nr.exists(!1))]).then((()=>a))}function ig(i,...e){i=Kt(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yb(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yb(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof yt)h=Bn(i.firestore,ga),m=Yh(i._key.path),u={next:g=>{e[a]&&e[a](dT(h,i,g))},error:e[a+1],complete:e[a+2]};else{const g=Bn(i,ya);h=Bn(g.firestore,ga),m=g._query;const p=new ng(h);u={next:E=>{e[a]&&e[a](new Ja(h,p,g,E))},error:e[a+1],complete:e[a+2]},aT(i._query)}return(function(p,E,x,S){const O=new Qp(S),G=new Hp(E,O,x);return p.asyncQueue.enqueueAndForget((async()=>zp(await jh(p),G))),()=>{O.Nu(),p.asyncQueue.enqueueAndForget((async()=>Bp(await jh(p),G)))}})(id(h),m,l,u)}function ag(i,e){return(function(a,l){const u=new ui;return a.asyncQueue.enqueueAndForget((async()=>bk(await kk(a),l,u))),u.promise})(id(i),e)}function dT(i,e,n){const a=n.docs.get(e._key),l=new ng(i);return new Wa(i,l,e._key,a,new qo(n.hasPendingWrites,n.fromCache),e.converter)}function Xk(){return new Wp("serverTimestamp")}(function(e,n=!0){(function(l){Tl=l})(El),hl(new es("firestore",((a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new ga(new zC(a.getProvider("auth-internal")),new HC(h,a.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,E)})(h,l),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),la(E0,x0,e),la(E0,x0,"esm2020")})();const $k={apiKey:"AIzaSyDLV_7VhVreewagteqfNtx4-I9AkSYMRwk",authDomain:"auraverde-db.firebaseapp.com",projectId:"auraverde-db",storageBucket:"auraverde-db.firebasestorage.app",messagingSenderId:"1045483358918",appId:"1:1045483358918:web:1a82ec3c166abc5641a5c7"},fT=$b($k),ih=VC(fT),sn=jk(fT),mT=V.createContext();function or(){return V.useContext(mT)}function Wk({children:i}){const[e,n]=V.useState(null),[a,l]=V.useState(null),[u,h]=V.useState(null),[m,g]=V.useState(!0);async function p(G,U,z){const J=await vN(ih,G,U),ne=J.user;try{await EN(ne)}catch(re){console.error("Error sending verification email:",re)}return await Ph(ci(sn,"users",ne.uid),{email:ne.email,displayName:z||"",role:"customer",favorites:[],createdAt:new Date().toISOString()}),J}function E(G,U){return bN(ih,G,U)}function x(){return SN(ih)}async function S(G){if(!e)return;const U=ci(sn,"users",e.uid),z=u?.favorites||[];let J;z.includes(G)?J=z.filter(ne=>ne!==G):J=[...z,G];try{await Ph(U,{favorites:J},{merge:!0})}catch(ne){console.error("Error toggling favorite:",ne)}}V.useEffect(()=>{const G=wN(ih,async U=>{if(n(U),g(!0),U){const z=ci(sn,"users",U.uid),J=ig(z,ne=>{if(ne.exists()){const re=ne.data();l(re.role),h(re)}else l("customer"),h(null);g(!1)},ne=>{console.error("Error fetching user data:",ne),g(!1)});return()=>J()}else l(null),h(null),g(!1)});return()=>G()},[]);const O={currentUser:e,userRole:a,userData:u,toggleFavorite:S,signin:E,login:E,signup:p,logout:x};return y.jsx(mT.Provider,{value:O,children:!m&&i})}function Jk(){const i=gi(),e=pn(),{currentUser:n,userRole:a,logout:l}=or(),u=[{icon:"home",label:"Inicio",path:"/catalog"},{icon:"search",label:"Buscar",path:"/catalog"},{icon:"shopping_cart",label:"Carrito",path:"/cart"},{icon:"person",label:"Perfil",path:"/profile"}],h=m=>m==="/"?i.pathname==="/":i.pathname.startsWith(m);return y.jsxs("div",{className:"flex min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display transition-colors duration-300",children:[y.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-gray-200 dark:border-gray-800 bg-surface-light dark:bg-background-dark p-6 sticky top-0 h-screen",children:[y.jsxs("div",{className:"flex flex-col items-center -mt-2 mb-10 px-2 w-full",children:[y.jsx(an,{to:"/",className:"w-40 h-40 flex items-center justify-center mb-2 transition-transform duration-300 hover:scale-105 active:scale-95 active:rotate-3 cursor-pointer",children:y.jsx("img",{src:"/auraverde/logolocal.svg",alt:"AuraVerde Logo",className:"w-full h-full object-contain animate-float"})}),y.jsx("h1",{className:"font-varela text-3xl text-primary font-bold tracking-wide -mt-6 text-center w-full leading-none",children:"AURA VERDE"})]}),y.jsx("nav",{className:"flex flex-col gap-2 flex-1",children:u.map(m=>y.jsxs("button",{onClick:()=>e(m.path),className:`flex items-center gap-3 p-3 rounded-xl transition-all duration-200 group text-left
                ${h(m.path)?"bg-primary text-white shadow-md shadow-emerald-200 dark:shadow-emerald-900/20":"text-text-secondary dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-text-main dark:hover:text-white"}`,children:[y.jsx("span",{className:`material-symbols-outlined transition-transform duration-300 group-hover:scale-110 ${h(m.path)?"font-bold":""}`,children:m.icon}),y.jsx("span",{className:"font-medium text-sm",children:m.label})]},m.label))}),y.jsx("div",{className:"mt-auto pt-6 border-t border-gray-200 dark:border-gray-800 flex flex-col gap-2",children:n?y.jsxs(y.Fragment,{children:[a==="admin"&&y.jsxs("button",{onClick:()=>e("/admin"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),y.jsx("span",{className:"font-medium text-sm",children:"Panel Admin"})]}),y.jsxs("button",{onClick:l,className:"flex items-center gap-3 p-3 rounded-xl w-full text-text-secondary dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"}),y.jsx("span",{className:"font-medium text-sm",children:"Cerrar Sesin"})]})]}):y.jsxs("button",{onClick:()=>e("/login"),className:"flex items-center gap-3 p-3 rounded-xl w-full text-primary hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined",children:"login"}),y.jsx("span",{className:"font-medium text-sm",children:"Iniciar Sesin"})]})})]}),y.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto md:p-8 pb-24 md:pb-8",children:y.jsx("div",{className:"h-full w-full",children:y.jsx(ZS,{})})}),y.jsx("div",{className:"md:hidden",children:y.jsx(Ub,{})})]})}function sg(){const[i,e]=V.useState([]),[n,a]=V.useState(!0),[l,u]=V.useState(null);return V.useEffect(()=>{async function h(){try{const m=sd(as(sn,"products"),Gk("createdAt","desc")),p=(await rg(m)).docs.map(E=>({id:E.id,...E.data(),firestoreId:E.id}));e(p)}catch(m){console.error("Error fetching products:",m),u(m)}finally{a(!1)}}h()},[]),{products:i,loading:n,error:l}}function Zk(i){const[e,n]=V.useState(null),[a,l]=V.useState(!0),[u,h]=V.useState(null);return V.useEffect(()=>{if(!i)return;async function m(){try{const g=parseInt(i),p=isNaN(g)?i:g,E=sd(as(sn,"products"),lT("id","==",p)),x=await rg(E);if(x.empty){const S=ci(sn,"products",i),O=await Yk(S);O.exists()?n({id:O.id,...O.data()}):h("Producto no encontrado")}else{const S=x.docs[0];n({id:S.data().id,...S.data(),firestoreId:S.id})}}catch(g){console.error("Error fetching product:",g),h(g)}finally{l(!1)}}m()},[i]),{product:e,loading:a,error:u}}function lg({id:i,name:e,type:n,price:a,image:l,isNew:u,onAddToCart:h}){const{toggleFavorite:m,userData:g}=or(),p=g?.favorites?.includes(i);return y.jsxs("div",{className:"group flex flex-col gap-3",children:[y.jsxs("div",{className:"relative w-full aspect-[3/4] rounded-2xl overflow-hidden bg-slate-100 dark:bg-surface-dark",children:[y.jsx(an,{to:`/product/${i}`,children:y.jsx("img",{alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",src:l})}),u&&y.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-primary text-slate-900 text-[10px] font-bold uppercase tracking-wider rounded-md",children:"Nuevo"}),y.jsxs("button",{onClick:E=>{E.preventDefault(),m(i)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-white/50 dark:bg-black/50 backdrop-blur-sm flex items-center justify-center transition-all hover:bg-white dark:hover:bg-surface-dark group/fav",children:[y.jsx("span",{className:`material-symbols-outlined text-[20px] transition-colors ${p?"text-red-500 fill-current":"text-white group-hover/fav:text-red-500"}`,children:"favorite"}),y.jsx("style",{children:`
               .material-symbols-outlined { font-variation-settings: 'FILL' ${p?1:0}, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
             `})]}),y.jsx("button",{onClick:E=>{E.preventDefault(),m&&m(i)},className:"absolute top-3 right-3 z-10 h-8 w-8 rounded-full bg-black/20 hover:bg-white/90 dark:hover:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center transition-all text-white hover:text-red-500",title:p?"Quitar de favoritos":"Aadir a favoritos",children:y.jsx("span",{className:`material-symbols-outlined text-[20px] ${p?"text-red-500":""}`,style:{fontVariationSettings:`'FILL' ${p?1:0}`},children:"favorite"})}),y.jsx("button",{onClick:E=>{E.preventDefault(),h&&h()},className:"absolute bottom-3 right-3 z-10 h-10 w-10 rounded-full bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm flex items-center justify-center text-slate-900 dark:text-white shadow-lg active:scale-90 transition-all hover:bg-primary hover:text-slate-900 cursor-pointer",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"})})]}),y.jsxs("div",{children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-base font-bold leading-tight",children:e}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium mt-1",children:n})]})}),y.jsxs("p",{className:"text-slate-900 dark:text-primary text-sm font-bold mt-2",children:["$",a.toFixed(2)]})]})]})}const pT=V.createContext();function eD({children:i}){const[e,n]=V.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});V.useEffect(()=>{const l=window.document.documentElement;e==="dark"?l.classList.add("dark"):l.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const a=()=>{n(l=>l==="dark"?"light":"dark")};return y.jsx(pT.Provider,{value:{theme:e,toggleTheme:a},children:i})}const tD=()=>V.useContext(pT);function nD({className:i=""}){const{theme:e,toggleTheme:n}=tD();return y.jsx("button",{onClick:n,className:`p-2 rounded-full transition-colors active:scale-95 ${e==="dark"?"bg-slate-800 text-yellow-400 hover:bg-slate-700":"bg-orange-100 text-orange-500 hover:bg-orange-200"} ${i}`,"aria-label":"Toggle Theme",children:y.jsx("span",{className:"material-symbols-outlined text-xl align-middle",children:e==="dark"?"dark_mode":"light_mode"})})}function Eu({title:i="Catlogo",showSearch:e=!0,onSearch:n,searchValue:a}){const{cartItems:l}=ss(),{currentUser:u,logout:h,userRole:m}=or(),g=l.reduce((p,E)=>p+E.quantity,0);return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-background-light dark:bg-background-dark z-10 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(an,{to:"/",className:"md:hidden h-10 w-10 flex items-center justify-center transition-transform duration-300 hover:scale-110 active:scale-90 active:rotate-12",children:y.jsx("img",{src:"/auraverde/logolocal.svg",alt:"Logo",className:"w-full h-full object-contain animate-float"})}),y.jsx("h1",{className:"text-2xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:i})]}),y.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[y.jsx(nD,{}),u?y.jsxs(y.Fragment,{children:[m==="admin"&&y.jsx(an,{to:"/admin",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-emerald-500",title:"Panel Admin",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"admin_panel_settings"})}),y.jsx("button",{onClick:h,className:"flex items-center justify-center p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-slate-500 hover:text-red-500",title:"Cerrar Sesin",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"})})]}):y.jsx(an,{to:"/login",className:"flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-primary",title:"Iniciar Sesin",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"login"})}),y.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1 hidden md:block"}),y.jsx(an,{to:"/catalog",className:"hidden md:flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"search"})}),y.jsxs(an,{to:"/cart",className:"relative flex items-center justify-center p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-900 dark:text-white",children:[y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),g>0&&y.jsx("span",{className:"absolute top-0 right-0 h-5 w-5 flex items-center justify-center rounded-full bg-primary text-[10px] font-bold text-slate-900 border-2 border-background-light dark:border-background-dark",children:g})]})]})]}),e&&y.jsx("div",{className:"px-6 pb-2 shrink-0",children:y.jsxs("div",{className:"relative flex items-center w-full h-12 rounded-xl bg-white dark:bg-surface-dark shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden group focus-within:ring-2 focus-within:ring-primary/50 transition-all",children:[y.jsx("div",{className:"grid place-items-center h-full w-12 text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),y.jsx("input",{className:"peer h-full w-full outline-none text-sm text-slate-700 dark:text-slate-200 pr-2 bg-transparent placeholder-slate-400 font-medium",id:"search",placeholder:"Buscar plantas...",type:"text",value:a,onChange:p=>n&&n(p.target.value)})]})})]})}function rD(){const i=pn(),{addToCart:e}=ss(),{products:n}=sg(),a=n.slice(0,4);return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Eu,{title:"Inicio",showSearch:!1})}),y.jsxs("section",{className:"relative h-[500px] w-full bg-surface-light dark:bg-surface-dark overflow-hidden flex items-center justify-center text-center px-4",children:[y.jsx("div",{className:"absolute inset-0 z-0 opacity-20 dark:opacity-10 bg-[url('https://images.unsplash.com/photo-1470058869958-2a77ade41c02?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background-light dark:to-background-dark z-0"}),y.jsxs("div",{className:"relative z-10 max-w-3xl flex flex-col items-center gap-6 animate-fade-in-up",children:[y.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-primary/10 border border-primary/20 text-primary font-bold text-sm uppercase tracking-wider mb-2",children:"Nueva Coleccin 2025"}),y.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight tracking-tight",children:["Lleva la Naturaleza a ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-400",children:"Casa"})]}),y.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-xl leading-relaxed",children:"Transforma tu espacio con nuestra coleccin curada de plantas de interior premium. Entregadas frescas desde nuestro vivero hasta tu puerta."}),y.jsx("div",{className:"flex gap-4 mt-4",children:y.jsxs("button",{onClick:()=>i("/catalog"),className:"px-8 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",children:["Comprar Ahora",y.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]})]}),y.jsx("section",{className:"py-16 px-6 bg-white dark:bg-surface-dark/50",children:y.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"local_shipping",title:"Envo Gratis",text:"En rdenes sobre $75"},{icon:"verified",title:"Garanta de Calidad",text:"Plantas sanas o dinero devuelto"},{icon:"support_agent",title:"Soporte Experto",text:"Consejos de cuidado 24/7"}].map((l,u)=>y.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-3xl bg-background-light dark:bg-background-dark border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-shadow",children:[y.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 text-primary",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:l.icon})}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:l.title}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:l.text})]},u))})}),y.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto w-full",children:[y.jsxs("div",{className:"flex justify-between items-end mb-10",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Plantas Destacadas"}),y.jsx("p",{className:"text-slate-500 mt-2",children:"Ms vendidas elegidas para ti"})]}),y.jsxs("button",{onClick:()=>i("/catalog"),className:"hidden md:flex items-center gap-1 text-primary font-bold hover:gap-2 transition-all",children:["Ver Todas ",y.jsx("span",{className:"material-symbols-outlined",children:"arrow_right_alt"})]})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:a.map(l=>y.jsx(lg,{...l,onAddToCart:()=>e(l)},l.firestoreId||l.id))}),y.jsx("button",{onClick:()=>i("/catalog"),className:"mt-10 w-full md:hidden py-3 border-2 border-primary/20 text-primary font-bold rounded-xl active:bg-primary/5",children:"Ver Catalogo Completo"})]})]})}function iD(){const{userData:i,currentUser:e}=or(),{products:n}=sg(),{addToCart:a}=ss(),l=pn(),u=i?.favorites||[],h=n.filter(m=>u.includes(m.firestoreId));return e?y.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Eu,{title:"Favoritos",showSearch:!1})}),y.jsxs("div",{className:"hidden md:block mb-6 pt-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Mis Favoritos"}),y.jsx("p",{className:"text-slate-500 text-lg",children:"Tu coleccin de sueos verdes"})]}),h.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-8 text-center opacity-60",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"favorite_border"}),y.jsx("p",{className:"text-lg font-medium",children:"An no tienes favoritos"}),y.jsx("p",{className:"text-sm",children:"Explora el catlogo y dale amor a las plantas."})]}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6 px-6 md:px-0 pb-24",children:h.map(m=>y.jsx(lg,{...m,id:m.firestoreId,onAddToCart:()=>a(m)},m.firestoreId))})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"lock"}),y.jsx("h2",{className:"text-xl font-bold mb-2",children:"Inicia sesin"}),y.jsx("p",{className:"text-gray-500 mb-4",children:"Necesitas una cuenta para guardar tus plantas favoritas."}),y.jsx("button",{onClick:()=>l("/login"),className:"bg-primary text-white px-6 py-2 rounded-xl font-bold",children:"Ir al Login"})]})}function aD({label:i,active:e,onClick:n}){return e?y.jsx("button",{onClick:n,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-primary text-slate-900 font-bold shadow-sm shadow-primary/20",children:i}):y.jsx("button",{onClick:n,className:"flex h-10 shrink-0 items-center justify-center px-5 rounded-full bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 text-slate-600 dark:text-slate-300 font-semibold whitespace-nowrap",children:i})}const bb=[{id:1,name:"Echeveria Lola",type:"Suculenta pequea",price:12,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuA0eZ15aq4T37Ryj4bDgj81ZEUyIYsh_RKRe_i8s-gujmUO-i27DiYWUuBzPiPJ_YWIS2p_w47QKZMKDQWOHo6CRndOci24Fq8e8I8K-sMCpajjkdksObyDBwAwTd51gu_8U6d9MPdleEc-8Hnb1zzYYCFR_l_Ypk_iSruncVz3mVHzQopMI-9CTT8lKOVIlGLTyDkJF-HpDQXMvf6jWJpWFFQWuC4q3TuYCE1oQ49Fy4VkatuhBcPfA-InsniE7TV93a8vHXmlmM7L",isNew:!1},{id:2,name:"Dracaena Marg.",type:"rbol de interior",price:45,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuD57UKN04xBtoohXvHEHpARBywa8wc9eKFvD7XDp4cKqtu9QbUHhMHlIAQTqq_YH7bNSJZY_0dW3eOTEeI9MC9bd_WXnHPghUkvnYzkep7OhHBL-V9YT8ONnxMMkepRc2VuSeXjffy01QOpFPIiYTvJQwC61ojAnDKXHvEixwbL_OCVDtP5FGpHB9huUjYwZVBarcehQQXtsDxIj-0kpDwgAjMXOMgDtuAfllSqSFCXo5viLkIt76k5EhbsAZ_oBuXDEOk1HeJbKmDY",isNew:!1},{id:3,name:"Bonsai Ficus",type:"rbol miniatura",price:30,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBuQ1GGR9x_WTdo-L0S5BynKVM9VNi2KLnWCv4u1BHbfC0ie4CsUb1AH_2sDOTV1EIOAyydQTq86WSJXuVqYbuIctNrkOoDPfqY4-2WVg-VcVGxkgXgLhCeSe8AOSMdCpdWYBwJDeS9tU9OxFtysrT5GG8kDBiTbp9WeJrIwpzQIw9DsA28HoOQo78lMm95heiSA-aLd_HzAeO8wCyPlJKyYrXEE-tXalpUWPPAj2mSTuWxxzkmW5tkBvw7RQdWDU6lyq_4RCuJpbGA",isNew:!0},{id:4,name:"Areca Palm",type:"Purificadora de aire",price:25,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBAUIOGKnSrRSRBsNH6nVvIGWGAjTC_RjE5eYoFgCX3nVZhG8onMlpG6odQCRlezHvUBrnLoPigEGnahxWvlORm1v5BBRZG7xMRj0yVKYjlMVr8I-5L0EKYnDc-S8bLYQDmSnpA4ZZGvfEYSPrA3gzmhrunA2P1IoiQgF9W1018hn-beC_BOq0-UnIp5TcFSKAZzLb1jm7J7S_uGkx47DlPPxEmEQ4a96EzOfGPzv9UGY6vBVAbtpedg9j5DVnWaiSvg8HLvPT1HE1L",isNew:!1},{id:5,name:"Aloe Vera",type:"Medicinal",price:18,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBfjrTHo8MXN3qD5PVNyclKEE_LCe5L71uyaOi8yGBA9XUtVSfajLxPMY29U6lUbZK2E8MHsrmHvNlI6zqvkMAgT8CdDxbZ8sG8FdQfL3BHz3SANG0_6iu6Mewm5SNjWV3wI0EcDF3lQV7TXY-3EYsAkN5zec0-orJkKfDL-i33XXdodWx5IqvjLkjkdX1T-CdmyNcdm2K12tFpTYIkG2lOp5HVceiwh3_ErHSxtY-Hk9lEuYaAnSbRVQHEa-mBffh9SoTgtA7yjNIK",isNew:!1},{id:6,name:"String of Pearls",type:"Planta colgante",price:22,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAXXU5YobKex3kwVW5GUM5bXC6_ctZHQSoRW_qNQbh3g9p93oaSRMcqMZB6pZX5EE8j9UAuv6ETV_EFs9pdLtMj566Qky3NQnqyuO6nT8tOCXzdomwBB0zrfQSK1sEURbbA0O05Q_GBSd4c9tqROmHIUdsTfcGdWAOC-5V2-ELxwyAolZEMDOWyvJ1cb4irkDMDcGr0v3yA2dWUQXp7Zv7thW4UTCGX3aRXgCBiUVuDNMp26Ts9B5MWJpif5mwp-qBQRiM6JEkw0BWY",isNew:!1}],sD=["Todos","Dracaena","Bonsai","Suculentas","Palmas"];function lD(){const[i,e]=V.useState("Todos"),[n,a]=V.useState(""),{addToCart:l}=ss(),{products:u,loading:h,error:m}=sg(),g=u.filter(p=>{const E=i==="Todos"||p.type.includes(i)||p.name.includes(i),x=p.name.toLowerCase().includes(n.toLowerCase())||p.type.toLowerCase().includes(n.toLowerCase());return E&&x});return h?y.jsx("div",{className:"flex h-full items-center justify-center text-primary font-bold",children:"Cargando catlogo..."}):m?y.jsx("div",{className:"flex h-full items-center justify-center text-red-500",children:"Error cargando productos."}):y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Eu,{onSearch:a,searchValue:n})}),y.jsxs("div",{className:"hidden md:block mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Descubre"}),y.jsx("p",{className:"text-slate-500 text-lg",children:"Encuentra la planta perfecta para tu espacio"})]}),y.jsx("div",{className:"pl-6 py-4 shrink-0 md:pl-0",children:y.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pr-6 items-center",children:[y.jsx("button",{className:"flex shrink-0 h-10 w-10 items-center justify-center rounded-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md transition-transform hover:scale-105",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"tune"})}),sD.map(p=>y.jsx(aD,{label:p,active:i===p,onClick:()=>e(p)},p))]})}),y.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-24 md:pb-8 hide-scrollbar md:px-0",children:y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-6",children:g.map(p=>y.jsx(lg,{...p,id:p.firestoreId||p.id,onAddToCart:()=>l(p)},p.firestoreId||p.id))})})]})}function oD(){const i=pn(),{id:e}=US(),{addToCart:n}=ss(),[a,l]=V.useState(1),{product:u,loading:h,error:m}=Zk(e);if(h)return y.jsx("div",{className:"flex h-screen items-center justify-center text-primary font-bold",children:"Cargando producto..."});if(m||!u)return y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-900 dark:text-white",children:"Producto no encontrado"}),y.jsx("button",{onClick:()=>i("/catalog"),className:"text-primary font-bold",children:"Volver al Catlogo"})]});const g=()=>{for(let p=0;p<a;p++)n(u);i("/cart")};return y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden pb-24 bg-background-light dark:bg-background-dark",children:[y.jsxs("header",{className:"absolute top-0 left-0 right-0 z-30 flex items-center justify-between p-4 pt-12 md:pt-6 bg-gradient-to-b from-black/40 to-transparent",children:[y.jsx("button",{onClick:()=>i(-1),className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"})}),y.jsx("button",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-md text-white transition hover:bg-white/30",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"favorite"})})]})]}),y.jsx("div",{className:"relative w-full h-[55vh] lg:h-[60vh] shrink-0 bg-gray-200 dark:bg-gray-800",children:y.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url('${u.image}')`}})}),y.jsxs("main",{className:"relative z-10 -mt-6 flex flex-1 flex-col rounded-t-3xl bg-background-light dark:bg-background-dark px-6 pt-8 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",children:[y.jsxs("div",{className:"mb-6 flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:u.name}),y.jsx("p",{className:"text-lg italic text-gray-500 dark:text-gray-400 mt-1",children:u.type})]}),y.jsx("div",{className:"flex flex-col items-end",children:y.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",u.price.toFixed(2)]})})]}),y.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-400 fill-current text-[20px]",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),y.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"4.8"}),y.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(120 reseas)"})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Tamao de Maceta"}),y.jsxs("div",{className:"flex gap-3 overflow-x-auto hide-scrollbar pb-1",children:[y.jsxs("button",{className:"group relative flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-transparent bg-primary px-4 py-3 text-black shadow-sm transition-all active:scale-95",children:[y.jsx("span",{className:"text-sm font-bold",children:"Pequea"}),y.jsx("span",{className:"text-xs font-medium opacity-80",children:'2"'}),y.jsx("div",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-black text-white",children:y.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"check"})})]}),y.jsxs("button",{className:"group flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-surface-light dark:bg-surface-dark px-4 py-3 text-gray-600 dark:text-gray-300 transition-all hover:border-primary/50 active:scale-95",children:[y.jsx("span",{className:"text-sm font-bold",children:"Mediana"}),y.jsx("span",{className:"text-xs font-medium opacity-60",children:'4"'})]}),y.jsxs("button",{className:"group flex min-w-[80px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-surface-light dark:bg-surface-dark px-4 py-3 text-gray-600 dark:text-gray-300 transition-all hover:border-primary/50 active:scale-95",children:[y.jsx("span",{className:"text-sm font-bold",children:"Grande"}),y.jsx("span",{className:"text-xs font-medium opacity-60",children:'6"'})]})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Descripcin"}),y.jsxs("p",{className:"text-base leading-relaxed text-gray-600 dark:text-gray-300",children:[u.name," es una hermosa planta. Perfecta para agregar un toque de naturaleza a tu hogar u oficina.",y.jsx("span",{className:"font-bold text-primary cursor-pointer ml-1",children:"Leer ms"})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Cuidados"}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-500",children:y.jsx("span",{className:"material-symbols-outlined",children:"wb_sunny"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Luz"}),y.jsx("span",{className:"block text-[10px] text-gray-500",children:"Brillante"})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-500",children:y.jsx("span",{className:"material-symbols-outlined",children:"water_drop"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Agua"}),y.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mnima"})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-2xl bg-surface-light dark:bg-surface-dark p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/30 text-red-500",children:y.jsx("span",{className:"material-symbols-outlined",children:"thermostat"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-xs font-bold text-gray-900 dark:text-white",children:"Temp"}),y.jsx("span",{className:"block text-[10px] text-gray-500",children:"Clida"})]})]})]})]}),y.jsx("div",{className:"h-6"})]}),y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-gray-100 dark:border-gray-800 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-lg pb-safe pt-4 px-6 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[y.jsx("div",{className:"mb-4 flex items-center justify-center pb-6 md:pb-0",children:y.jsxs("div",{className:"flex w-full max-w-md items-center justify-between gap-6",children:[y.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-100 dark:bg-gray-800 p-1",children:[y.jsx("button",{onClick:()=>l(Math.max(1,a-1)),className:"flex h-8 w-8 items-center justify-center rounded-md bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),y.jsx("span",{className:"w-4 text-center text-sm font-bold text-gray-900 dark:text-white",children:a}),y.jsx("button",{onClick:()=>l(a+1),className:"flex h-8 w-8 items-center justify-center rounded-md bg-white dark:bg-gray-700 shadow-sm transition active:scale-95 text-gray-900 dark:text-white",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]}),y.jsxs("button",{onClick:g,className:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-primary h-12 px-6 text-black shadow-lg shadow-primary/30 transition-all hover:bg-primary/90 active:scale-95",children:[y.jsx("span",{className:"material-symbols-outlined",children:"shopping_bag"}),y.jsx("span",{className:"text-base font-bold",children:"Agregar al Carrito"}),y.jsxs("span",{className:"ml-1 text-sm font-bold opacity-80",children:["| $",(u.price*a).toFixed(2)]})]})]})}),y.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})}function uD(){const i=pn(),{cartItems:e,removeFromCart:n,updateQuantity:a,subtotal:l,tax:u,total:h}=ss(),m=e.reduce((g,p)=>g+p.quantity,0);return y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden pb-32 bg-background-light dark:bg-background-dark md:pb-0",children:[y.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-surface-light/95 dark:bg-background-dark/95 backdrop-blur-sm p-4 pb-2 border-b border-gray-100 dark:border-gray-800 md:hidden",children:[y.jsx("button",{onClick:()=>i(-1),className:"flex size-10 shrink-0 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark cursor-pointer",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white text-2xl",children:"arrow_back_ios_new"})}),y.jsxs("h2",{className:"text-text-main dark:text-white text-lg font-bold leading-tight flex-1 text-center",children:["Mi Carrito (",m,")"]}),y.jsx("div",{className:"flex w-12 items-center justify-end cursor-pointer"})]}),y.jsxs("div",{className:"hidden md:flex items-center justify-between mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Carrito de Compras"}),y.jsxs("span",{className:"text-lg font-medium text-slate-500",children:[m," items"]})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-8 h-full overflow-hidden",children:[y.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-0 hide-scrollbar",children:y.jsx("div",{className:"flex flex-col gap-4",children:e.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 dark:text-gray-700 mb-4",children:"shopping_cart_off"}),y.jsx("p",{className:"text-lg text-gray-500 font-medium",children:"Tu carrito est vaco"}),y.jsx("button",{onClick:()=>i("/catalog"),className:"mt-4 text-primary font-bold hover:underline",children:"Comenzar a Comprar"})]}):e.map(g=>y.jsxs("div",{className:"relative flex flex-col gap-4 bg-surface-light dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-transparent dark:border-gray-800 md:flex-row md:items-center",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4 flex-1",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[y.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-lg aspect-square w-20 h-20 shrink-0 bg-gray-200",style:{backgroundImage:`url("${g.image}")`}}),y.jsxs("div",{className:"flex flex-col justify-center h-full",children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-bold leading-normal line-clamp-1",children:g.name}),y.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium leading-normal mb-2",children:g.type}),y.jsxs("p",{className:"text-text-main dark:text-primary text-base font-bold leading-normal",children:["$",g.price.toFixed(2)]})]})]}),y.jsx("button",{onClick:()=>n(g.id),className:"text-gray-400 hover:text-red-500 transition-colors md:self-center",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]}),y.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-3 mt-1 md:border-t-0 md:pt-0 md:mt-0 md:justify-end md:gap-6",children:[y.jsx("span",{className:"text-xs text-text-secondary dark:text-gray-500 font-medium md:hidden",children:"Cantidad"}),y.jsxs("div",{className:"flex items-center gap-3 bg-background-light dark:bg-background-dark rounded-full p-1 px-1",children:[y.jsx("button",{onClick:()=>a(g.id,-1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white dark:bg-surface-dark shadow-sm text-text-main dark:text-white hover:bg-gray-5 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",disabled:g.quantity<=1,children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"remove"})}),y.jsx("span",{className:"w-8 text-center text-text-main dark:text-white font-bold text-sm",children:g.quantity}),y.jsx("button",{onClick:()=>a(g.id,1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-text-main shadow-sm hover:brightness-110 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"})})]})]})]},g.id))})}),e.length>0&&y.jsx("div",{className:`
            fixed bottom-0 left-0 right-0 bg-surface-light dark:bg-background-dark border-t border-gray-100 dark:border-gray-800 p-4 px-6 pb-8 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] dark:shadow-none z-20 
            md:static md:w-96 md:h-fit md:border md:rounded-2xl md:p-6 md:pb-6 md:shadow-sm
          `,children:y.jsxs("div",{className:"flex flex-col gap-4 max-w-md mx-auto w-full",children:[y.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Subtotal"}),y.jsxs("span",{className:"text-text-main dark:text-white text-sm font-bold",children:["$",l.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Envo"}),y.jsx("span",{className:"text-primary text-sm font-bold",children:"Gratis"})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-secondary dark:text-gray-400 text-sm font-medium",children:"Impuestos (7%)"}),y.jsxs("span",{className:"text-text-main dark:text-white text-sm font-bold",children:["$",u.toFixed(2)]})]}),y.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-text-main dark:text-white text-lg font-bold",children:"Total"}),y.jsxs("span",{className:"text-2xl font-black text-text-main dark:text-white leading-none",children:["$",h.toFixed(2)]})]})]}),y.jsxs("button",{onClick:()=>i("/checkout"),className:"flex w-full items-center justify-center gap-2 rounded-xl h-14 bg-primary text-text-main text-base font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 mt-2",children:[y.jsx("span",{children:"Pagar"}),y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})]})]})})]})]})}function cD(){const i=pn(),{currentUser:e,userData:n,logout:a,userRole:l}=or();V.useEffect(()=>{e||i("/login")},[e,i]);const u=async()=>{try{await a(),i("/login")}catch(h){console.error("Failed to log out",h)}};return e?y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden mx-auto max-w-md bg-background-light dark:bg-background-dark pb-24 shadow-2xl",children:[y.jsx("div",{className:"md:hidden sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm border-b border-gray-100 dark:border-white/5",children:y.jsx(Eu,{title:"Perfil",showSearch:!1})}),y.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6 px-4",children:[y.jsxs("div",{className:"relative group cursor-pointer",children:[y.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full h-28 w-28 border-4 border-white dark:border-surface-dark shadow-lg bg-emerald-100 flex items-center justify-center text-4xl font-bold text-emerald-700 uppercase",children:n?.displayName?.charAt(0)||e.email?.charAt(0)||"U"}),y.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1.5 border-2 border-white dark:border-surface-dark shadow-sm",children:y.jsx("span",{className:"material-symbols-outlined text-black text-[18px]",children:"edit"})})]}),y.jsxs("div",{className:"flex flex-col items-center mt-4",children:[y.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-center text-text-main dark:text-white",children:n?.displayName||"Usuario"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-sm font-medium mt-1",children:e.email}),y.jsx("div",{className:"mt-3 bg-primary/20 px-3 py-1 rounded-full",children:y.jsx("p",{className:"text-black dark:text-primary text-xs font-bold uppercase tracking-wider",children:l==="admin"?"Administrador":"Cliente VIP"})})]})]}),y.jsxs("div",{className:"flex gap-3 px-4 pb-6",children:[y.jsxs("div",{className:"flex flex-1 flex-col gap-1 rounded-2xl bg-white dark:bg-surface-dark p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:"0"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Pedidos"})]}),y.jsxs("div",{className:"flex flex-1 flex-col gap-1 rounded-2xl bg-white dark:bg-surface-dark p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsx("p",{className:"text-text-main dark:text-white text-xl font-bold",children:"0"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Favoritos"})]}),y.jsxs("div",{className:"flex flex-1 flex-col gap-1 rounded-2xl bg-white dark:bg-surface-dark p-4 items-center text-center shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsx("p",{className:"text-primary text-xl font-bold",children:"0"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Puntos"})]})]}),y.jsxs("div",{className:"px-4 mt-2 mb-2",children:[y.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Mi Jardn"}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsxs("button",{onClick:()=>i("/orders"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"local_shipping"})}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Mis Pedidos"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver historial"})]}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]}),y.jsx("div",{className:"h-[1px] bg-gray-100 dark:bg-white/5 mx-4"}),y.jsxs("button",{onClick:()=>i("/favorites"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-primary/10 shrink-0 size-10 group-hover:bg-primary transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-black group-hover:text-black transition-colors",children:"potted_plant"})}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("p",{className:"text-text-main dark:text-white text-base font-semibold leading-normal",children:"Favoritos"}),y.jsx("p",{className:"text-text-muted dark:text-gray-400 text-xs",children:"Ver guardados"})]}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]})]})]}),y.jsxs("div",{className:"px-4 mt-6 mb-2",children:[y.jsx("h3",{className:"text-text-main dark:text-white text-lg font-bold leading-tight px-1 pb-3",children:"Ajustes"}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsxs("button",{onClick:()=>i("/addresses"),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 dark:bg-white/10 shrink-0 size-10",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"location_on"})}),y.jsx("p",{className:"text-text-main dark:text-white text-base font-medium leading-normal flex-1 text-left",children:"Direcciones de Envo"}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]}),y.jsx("div",{className:"h-[1px] bg-gray-100 dark:bg-white/5 mx-4"}),y.jsxs("button",{className:"w-full flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[y.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 dark:bg-white/10 shrink-0 size-10",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"credit_card"})}),y.jsx("p",{className:"text-text-main dark:text-white text-base font-medium leading-normal flex-1 text-left",children:"Mtodos de Pago"}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"chevron_right"})]})]})]}),y.jsxs("div",{className:"px-4 mt-6 mb-8",children:[y.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-red-500 bg-red-50 dark:bg-red-900/10 font-bold hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"logout"}),"Cerrar Sesin"]}),y.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"Version 2.5.0"})]}),y.jsx(Ub,{})]}):null}function gT(){const{currentUser:i}=or(),[e,n]=V.useState([]),[a,l]=V.useState(!0),[u,h]=V.useState(null),m=async g=>{if(!i)throw new Error("Debes iniciar sesin para comprar");l(!0);try{return(await hT(as(sn,"orders"),{...g,userId:i.uid,userEmail:i.email,createdAt:Xk(),status:"Processing",paymentStatus:"pending"})).id}catch(p){throw console.error("Error creating order:",p),h(p.message),p}finally{l(!1)}};return V.useEffect(()=>{if(!i){n([]),l(!1);return}l(!0);const g=sd(as(sn,"orders"),lT("userId","==",i.uid)),p=ig(g,E=>{const x=E.docs.map(S=>{const O=S.data();return{id:S.id,...O,dateStr:O.createdAt?.toDate?O.createdAt.toDate().toLocaleDateString():"Reciente"}});x.sort((S,O)=>{const G=S.createdAt?.toMillis?S.createdAt.toMillis():Date.now();return(O.createdAt?.toMillis?O.createdAt.toMillis():Date.now())-G}),n(x),l(!1)},E=>{console.error("Error fetching orders:",E),h("No se pudieron cargar los pedidos"),l(!1)});return()=>p()},[i]),{orders:e,createOrder:m,loading:a,error:u}}function hD(){const i=pn(),{orders:e,loading:n}=gT();return y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col bg-background-light dark:bg-background-dark",children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800",children:[y.jsx("button",{onClick:()=>i("/profile"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mis Pedidos"})]}),y.jsxs("div",{className:"flex-1 p-4 max-w-3xl mx-auto w-full",children:[n&&y.jsx("div",{className:"mt-10 flex justify-center text-primary",children:y.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl",children:"progress_activity"})}),!n&&e.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-8 text-center bg-white dark:bg-surface-dark rounded-2xl shadow-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-200 dark:text-emerald-900/40 mb-4",children:"local_shipping"}),y.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Sin pedidos an"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 mb-6",children:"Tu historial est vaco. Es hora de llenar el jardn!"}),y.jsx("button",{onClick:()=>i("/catalog"),className:"px-6 py-2 bg-primary text-white rounded-xl font-bold hover:bg-emerald-600 transition-colors",children:"Ir al Catlogo"})]}),y.jsx("div",{className:"flex flex-col gap-4",children:e.map(a=>y.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5 flex gap-4",children:[y.jsx("div",{className:"size-20 bg-gray-100 rounded-xl bg-center bg-cover shrink-0",style:{backgroundImage:`url(${a.items?.[0]?.image||"https://via.placeholder.com/150"})`},children:a.items?.length>1&&y.jsxs("div",{className:"flex items-center justify-center h-full w-full bg-black/40 text-white font-bold rounded-xl backdrop-blur-sm",children:["+",a.items.length-1]})}),y.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white text-xs md:text-sm uppercase tracking-wider text-slate-500",children:["ID: ",a.id.slice(0,8),"..."]}),y.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${a.status==="Delivered"?"bg-green-100 text-green-700":a.status==="Processing"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:a.status})]}),y.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:[a.items?.[0]?.name," ",a.items?.length>1?`y ${a.items.length-1} ms`:""]}),y.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[y.jsx("span",{className:"text-xs text-slate-400",children:a.dateStr}),y.jsxs("span",{className:"font-bold text-primary",children:["$",a.total?.toFixed(2)]})]})]})]},a.id))})]})]})}function yT(){const{currentUser:i}=or(),[e,n]=V.useState([]),[a,l]=V.useState(!0),[u,h]=V.useState(null);return V.useEffect(()=>{if(!i){n([]),l(!1);return}l(!0);const p=sd(as(sn,"users",i.uid,"addresses")),E=ig(p,x=>{const S=x.docs.map(O=>({id:O.id,...O.data()}));n(S),l(!1)},x=>{console.error(x),h(x.message),l(!1)});return()=>E()},[i]),{addresses:e,addAddress:async p=>{if(!i)throw new Error("Debes iniciar sesin");try{await hT(as(sn,"users",i.uid,"addresses"),p)}catch(E){throw console.error(E),E}},deleteAddress:async p=>{if(i)try{await cT(ci(sn,"users",i.uid,"addresses",p))}catch(E){throw console.error(E),E}},loading:a,error:u}}function dD(){const{addresses:i,addAddress:e,deleteAddress:n,loading:a}=yT(),[l,u]=V.useState(!1),[h,m]=V.useState({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""}),g=pn(),p=x=>{const{name:S,value:O}=x.target;m(G=>({...G,[S]:O}))},E=async x=>{x.preventDefault();try{await e(h),u(!1),m({alias:"",firstName:"",lastName:"",address:"",city:"",zip:""})}catch(S){alert("Error al guardar: "+S.message)}};return y.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[y.jsx("div",{className:"md:hidden",children:y.jsx(Eu,{title:"Mis Direcciones",showSearch:!1})}),y.jsxs("div",{className:"hidden md:flex items-center gap-4 p-6 border-b border-gray-100 dark:border-white/5 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm sticky top-0 z-10",children:[y.jsx("button",{onClick:()=>g("/profile"),className:"flex items-center justify-center size-10 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Mis Direcciones"})]}),y.jsxs("div",{className:"p-4 md:p-8 max-w-2xl mx-auto w-full flex flex-col gap-6",children:[a&&y.jsx("div",{className:"flex justify-center p-8",children:y.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary",children:"progress_activity"})}),!a&&i.map(x=>y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 flex flex-col gap-2 relative group",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:x.alias})]}),y.jsx("button",{onClick:()=>n(x.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2 -mr-2 -mt-2",children:y.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),y.jsxs("div",{className:"pl-8 text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:[y.jsxs("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:[x.firstName," ",x.lastName]}),y.jsx("p",{children:x.address}),y.jsxs("p",{children:[x.city,", ",x.zip]})]})]},x.id)),!a&&i.length===0&&!l&&y.jsxs("div",{className:"text-center py-12 opacity-60",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-2",children:"map"}),y.jsx("p",{children:"No tienes direcciones guardadas."})]}),l?y.jsxs("form",{onSubmit:E,className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-lg border border-primary/20 animate-fade-in-up",children:[y.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-900 dark:text-white",children:"Nueva Direccin"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("input",{name:"alias",value:h.alias,onChange:p,required:!0,placeholder:"Nombre (ej. Casa, Trabajo)",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"firstName",value:h.firstName,onChange:p,required:!0,placeholder:"Nombre",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{name:"lastName",value:h.lastName,onChange:p,required:!0,placeholder:"Apellido",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),y.jsx("input",{name:"address",value:h.address,onChange:p,required:!0,placeholder:"Calle y nmero",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"city",value:h.city,onChange:p,required:!0,placeholder:"Ciudad",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{name:"zip",value:h.zip,onChange:p,required:!0,placeholder:"Cdigo Postal",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[y.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-500 font-medium hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition-all",children:"Guardar"})]})]})]}):y.jsxs("button",{onClick:()=>u(!0),className:"w-full py-4 rounded-xl border-2 border-dashed border-gray-300 dark:border-white/10 text-slate-400 font-bold flex items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-white/5 hover:border-primary/50 hover:text-primary transition-all",children:[y.jsx("span",{className:"material-symbols-outlined",children:"add_location_alt"}),"Agregar Nueva Direccin"]})]})]})}var Vo={},Eb;function fD(){if(Eb)return Vo;Eb=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.loadMercadoPago=void 0;const i="https://sdk.mercadopago.com/js/v2",e=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,n="MercadoPago has already been initialized in your window, please remove the duplicate import",a="MercadoPago.js not available",l="Failed to load MercadoPago.js",u=()=>{for(var p=document.querySelectorAll(`script[src^="${i}"`),E=0;E<p.length;E++){var x=p[E];if(e.test(x.src))return x}return null},h=()=>{const p=document.createElement("script");p.src=i;const E=document.head||document.body;if(!E)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return E.appendChild(p),p};let m=null;const g=()=>(m!==null||(m=new Promise((p,E)=>{if(typeof window>"u"){p(null);return}if(window.MercadoPago){console.warn(n),p(window.MercadoPago);return}try{let x=u();x?console.warn(n):x||(x=h()),x.addEventListener("load",()=>{window.MercadoPago?p(window.MercadoPago):E(new Error(a))}),x.addEventListener("error",()=>{E(new Error(l))})}catch(x){E(x);return}})),m);return Vo.loadMercadoPago=g,Vo}var mD=fD(),pD=function(i,e,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(E){try{p(a.next(E))}catch(x){h(x)}}function g(E){try{p(a.throw(E))}catch(x){h(x)}}function p(E){E.done?u(E.value):l(E.value).then(m,g)}p((a=a.apply(i,e||[])).next())})};class Dr{static getInstance(){return pD(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield mD.loadMercadoPago(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}Dr.publicKey=null;Dr.options={};Dr.instanceMercadoPago=void 0;Dr.loadedInstanceMercadoPago=!1;function gD(i,e){return Object.keys(i).length===Object.keys(e).length&&Object.keys(i).every(a=>Object.prototype.hasOwnProperty.call(e,a)&&i[a]===e[a])}const yD=(i,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),a=!gD(Dr.options,n);(i!==Dr.publicKey||a)&&(Dr.publicKey=i,Dr.options=n,Dr.instanceMercadoPago=void 0)};var _D=function(i,e,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(E){try{p(a.next(E))}catch(x){h(x)}}function g(E){try{p(a.throw(E))}catch(x){h(x)}}function p(E){E.done?u(E.value):l(E.value).then(m,g)}p((a=a.apply(i,e||[])).next())})};const vD=()=>_D(void 0,void 0,void 0,function*(){}),bD=()=>{},ED=i=>{console.error(i)};var xD=function(i,e,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(E){try{p(a.next(E))}catch(x){h(x)}}function g(E){try{p(a.throw(E))}catch(x){h(x)}}function p(E){E.done?u(E.value):l(E.value).then(m,g)}p((a=a.apply(i,e||[])).next())})};const TD=({settings:i,name:e,containerId:n,controller:a})=>xD(void 0,void 0,void 0,function*(){const l=yield Dr.getInstance(),u=l?.bricks();window[a]=yield u?.create(e,n,i)}),wD=200,SD=({onReady:i=bD,onError:e=ED,onSubmit:n=vD,customization:a,initialization:l,locale:u,id:h="walletBrick_container"})=>(V.useEffect(()=>{const m={settings:{initialization:l,customization:a,locale:u,callbacks:{onReady:i,onSubmit:n,onError:e}},name:"wallet",containerId:h,controller:"walletBrickController"},g=setTimeout(()=>{TD(m)},wD);return()=>{var p;clearTimeout(g),(p=window.walletBrickController)===null||p===void 0||p.unmount()}},[a,l,i,e,n]),Jw.createElement("div",{id:h})),AD="TEST-00000000-0000-0000-0000-000000000000";function RD({orderId:i,total:e}){const[n,a]=V.useState(null),[l,u]=V.useState(!1);V.useEffect(()=>{yD(AD,{locale:"es-AR"})},[]);const h=async()=>{u(!0);try{console.log("Simulating backend call for Order:",i),await new Promise(m=>setTimeout(m,1e3)),alert(`En Modo Produccin, esto abrira la billetera de MercadoPago.

Como falta el Backend seguro, simularemos el pago exitoso.`),window.location.href=`/auraverde/success?collection_status=approved&external_reference=${i}`}catch(m){console.error(m)}finally{u(!1)}};return y.jsxs("div",{className:"flex flex-col gap-4",children:[n?y.jsx(SD,{initialization:{preferenceId:n}}):y.jsx("button",{onClick:h,disabled:l,className:"w-full py-4 bg-[#009EE3] hover:bg-[#008ED6] text-white font-bold rounded-xl shadow-lg shadow-blue-400/30 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:l?y.jsx("span",{className:"size-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:["Pagar con ",y.jsx("span",{className:"font-extrabold",children:"Mercado Pago"})]})}),y.jsxs("p",{className:"text-xs text-center text-gray-400 mt-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[10px] align-middle mr-1",children:"lock"}),"Pagos procesados de forma segura por Mercado Pago"]})]})}function ND(){const i=pn(),{cartItems:e,total:n,subtotal:a,tax:l,clearCart:u}=ss(),{createOrder:h}=gT(),{currentUser:m}=or(),{addresses:g}=yT(),[p,E]=V.useState(!1);V.useEffect(()=>{m||i("/login")},[m,i]);const[x,S]=V.useState({firstName:"",lastName:"",address:"",city:"",zip:""}),O=U=>{const{name:z,value:J}=U.target;S(ne=>({...ne,[z]:J}))},G=async U=>{if(U.preventDefault(),e.length!==0){E(!0);try{await new Promise(J=>setTimeout(J,1500));const z={items:e,subtotal:a,tax:l,total:n,shippingAddress:{firstName:x.firstName,lastName:x.lastName,address:x.address,city:x.city,zip:x.zip},paymentLast4:"MercadoPago",status:"pending_payment",date:new Date().toLocaleDateString()};await h(z),u(),i("/success")}catch(z){console.error("Checkout failed",z),alert("Error: "+z.message)}finally{E(!1)}}};return e.length,y.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark pb-12",children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-4 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur-sm p-4 border-b border-gray-100 dark:border-gray-800 mb-6",children:[y.jsx("button",{onClick:()=>i("/cart"),className:"flex size-10 items-center justify-center rounded-full active:bg-gray-100 dark:active:bg-surface-dark transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-text-main dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Pagar"})]}),y.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx("div",{className:"flex flex-col gap-6",children:y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"local_shipping"}),"Direccin de Envo"]}),g.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-3 font-medium",children:"Usar una direccin guardada:"}),y.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:g.map(U=>y.jsxs("button",{type:"button",onClick:()=>S(z=>({...z,firstName:U.firstName||"",lastName:U.lastName||"",address:U.address||"",city:U.city||"",zip:U.zip||""})),className:"flex items-center gap-2 px-4 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl hover:border-primary hover:bg-primary/5 transition-colors whitespace-nowrap",children:[y.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"home"}),y.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:U.alias})]},U.id))})]}),y.jsxs("form",{id:"checkout-form",onSubmit:G,className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"firstName",value:x.firstName,onChange:O,required:!0,type:"text",placeholder:"Nombre",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{name:"lastName",value:x.lastName,onChange:O,required:!0,type:"text",placeholder:"Apellido",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]}),y.jsx("input",{name:"address",value:x.address,onChange:O,required:!0,type:"text",placeholder:"Direccin",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"city",value:x.city,onChange:O,required:!0,type:"text",placeholder:"Ciudad",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"}),y.jsx("input",{name:"zip",value:x.zip,onChange:O,required:!0,type:"text",placeholder:"Cdigo Postal",className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-slate-900 dark:text-white"})]})]})]})}),y.jsx("div",{className:"flex flex-col gap-6",children:y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5",children:[y.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Resumen del Pedido"}),y.jsx("div",{className:"flex flex-col gap-4 mb-6 max-h-64 overflow-y-auto pr-2 custom-scrollbar",children:e.map(U=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"size-16 bg-gray-100 rounded-lg bg-center bg-cover shrink-0",style:{backgroundImage:`url(${U.image})`}}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:U.name}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:["Cant: ",U.quantity]}),y.jsxs("p",{className:"font-bold text-primary text-sm",children:["$",(U.price*U.quantity).toFixed(2)]})]})]},U.id))}),y.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-4"}),y.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[y.jsx("span",{children:"Subtotal"}),y.jsxs("span",{children:["$",a.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[y.jsx("span",{children:"Impuestos (7%)"}),y.jsxs("span",{children:["$",l.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-gray-400",children:[y.jsx("span",{children:"Envo"}),y.jsx("span",{className:"text-green-500 font-bold",children:"Gratis"})]}),y.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/10 my-2"}),y.jsxs("div",{className:"flex justify-between text-lg font-bold text-slate-900 dark:text-white",children:[y.jsx("span",{children:"Total"}),y.jsxs("span",{children:["$",n.toFixed(2)]})]})]}),y.jsx("div",{className:"mt-6",children:p?y.jsx(RD,{orderId:"temp-order-id",total:n}):y.jsx("button",{form:"checkout-form",type:"submit",className:"w-full py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 transition-all flex items-center justify-center gap-2",children:"Confirmar Datos y Pagar"})})]})})]})]})}function CD(){const i=pn(),e=`ORD-${Math.floor(Math.random()*1e6)}`;return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background-light dark:bg-background-dark p-6 text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6 animate-bounce",children:y.jsx("span",{className:"material-symbols-outlined text-5xl text-green-600 dark:text-green-400",children:"check_circle"})}),y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"Gracias por su compra!"}),y.jsxs("p",{className:"text-lg text-slate-500 dark:text-gray-400 mb-8 max-w-md",children:["Su orden ",y.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:e})," ha sido confirmada y ser enviada pronto."]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full max-w-sm",children:[y.jsx("button",{onClick:()=>i("/catalog"),className:"flex-1 py-4 bg-primary hover:bg-emerald-600 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 transition-all",children:"Continuar Comprando"}),y.jsx("button",{onClick:()=>i("/orders"),className:"flex-1 py-4 bg-white dark:bg-surface-dark border-2 border-slate-200 dark:border-gray-700 text-slate-900 dark:text-white font-bold rounded-2xl hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:"Ver Orden"})]})]})}function ID(){const[i,e]=V.useState(""),[n,a]=V.useState(""),[l,u]=V.useState(""),[h,m]=V.useState(!1),{signin:g}=or(),p=pn();async function E(x){x.preventDefault();try{u(""),m(!0),await g(i,n),p("/profile")}catch(S){console.error(S),u("Error al iniciar sesin: Verifique sus credenciales.")}m(!1)}return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:y.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[y.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Bienvenido"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"Ingresa a tu cuenta para continuar"}),l&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:l}),y.jsxs("form",{onSubmit:E,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:i,onChange:x=>e(x.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:n,onChange:x=>a(x.target.value),required:!0})]}),y.jsx("button",{type:"submit",disabled:h,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:h?"Iniciando...":"Iniciar Sesin"})]}),y.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["No tienes una cuenta? ",y.jsx(an,{to:"/register",className:"text-primary font-bold hover:underline",children:"Regstrate"})]})]})})}function kD(){const[i,e]=V.useState(""),[n,a]=V.useState(""),[l,u]=V.useState(""),[h,m]=V.useState(""),[g,p]=V.useState(""),[E,x]=V.useState(!1),{signup:S}=or(),O=pn();async function G(U){if(U.preventDefault(),n!==l)return p("Las contraseas no coinciden");try{p(""),x(!0),await S(i,n,h),O("/")}catch(z){console.error(z),p("Error al crear la cuenta. Intente nuevamente.")}x(!1)}return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4",children:y.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[y.jsx("h2",{className:"text-3xl font-varela text-primary mb-2 text-center",children:"Crear Cuenta"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center mb-8",children:"nete a Aura Verde hoy"}),g&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium",children:g}),y.jsxs("form",{onSubmit:G,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Completo"}),y.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"Juan Prez",value:h,onChange:U=>m(U.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"tu@email.com",value:i,onChange:U=>e(U.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:n,onChange:U=>a(U.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirmar Contrasea"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-background-dark border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all dark:text-white",placeholder:"",value:l,onChange:U=>u(U.target.value),required:!0})]}),y.jsx("button",{type:"submit",disabled:E,className:"mt-4 w-full bg-primary hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-emerald-200/50 dark:shadow-none disabled:opacity-50",children:E?"Creando cuenta...":"Registrarse"})]}),y.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Ya tienes cuenta? ",y.jsx(an,{to:"/login",className:"text-primary font-bold hover:underline",children:"Inicia Sesin"})]})]})})}function DD(){const[i,e]=V.useState("idle"),[n,a]=V.useState([]);async function l(){e("loading"),a(u=>[...u,"Iniciando migracin..."]);try{let u=0;for(const h of bb)await Ph(ci(sn,"products",String(h.id)),{...h,price:Number(h.price),createdAt:new Date().toISOString()}),a(m=>[...m,` Producto migrado: ${h.name}`]),u++;e("success"),a(h=>[...h,` xito! ${u} productos subidos a Firestore.`])}catch(u){console.error(u),e("error"),a(h=>[...h,` Error: ${u.message}`])}}return y.jsxs("div",{className:"min-h-screen p-8 flex flex-col items-center",children:[y.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Migracin de Base de Datos"}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-lg w-full max-w-2xl border border-slate-200 dark:border-slate-800",children:[y.jsxs("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:["Este script leer los ",bb.length," productos del archivo local y los subir a tu base de datos Firestore."]}),y.jsx("button",{onClick:l,disabled:i==="loading"||i==="success",className:`w-full py-3 rounded-xl font-bold text-white transition-all
            ${i==="success"?"bg-green-500":"bg-blue-600 hover:bg-blue-700"}`,children:i==="loading"?"Migrando...":i==="success"?"Migracin Completada!":"Iniciar Migracin"}),y.jsx("div",{className:"mt-6 bg-slate-100 dark:bg-slate-900 p-4 rounded-lg font-mono text-sm h-64 overflow-y-auto",children:n.map((u,h)=>y.jsx("div",{className:"mb-1 text-slate-700 dark:text-slate-300 border-b border-slate-200 dark:border-slate-800 pb-1 last:border-0",children:u},h))})]})]})}function OD(){const{userRole:i,currentUser:e}=or();pn();const[n,a]=V.useState([]),[l,u]=V.useState(!0),[h,m]=V.useState(!1),[g,p]=V.useState({name:"",price:"",type:"",image:"",description:"",isNew:!1});V.useEffect(()=>{},[e,i,l]);const E=async()=>{u(!0);try{const z=(await rg(as(sn,"products"))).docs.map(J=>({id:J.id,...J.data()}));z.sort((J,ne)=>parseInt(J.id)-parseInt(ne.id)),a(z)}catch(U){console.error("Error fetching products:",U)}finally{u(!1)}};V.useEffect(()=>{E()},[]);const x=async U=>{if(window.confirm("Ests seguro de borrar este producto?"))try{await cT(ci(sn,"products",U)),E()}catch(z){console.error("Error deleting:",z),alert("Error al borrar")}},S=()=>{if(n.length===0)return 1;const U=n.map(z=>parseInt(z.id)).filter(z=>!isNaN(z));return U.length===0?1:Math.max(...U)+1},O=async U=>{U.preventDefault(),m(!0);try{const z=S(),J={...g,id:z,price:parseFloat(g.price),createdAt:new Date().toISOString()};await Ph(ci(sn,"products",String(z)),J),alert(` Producto creado con ID: ${z}`),p({name:"",price:"",type:"",image:"",description:"",isNew:!1}),E()}catch(z){console.error("Error creating product:",z),alert("Error al crear el producto")}finally{m(!1)}},G=U=>{const z=U.target.type==="checkbox"?U.target.checked:U.target.value;p({...g,[U.target.name]:z})};return!e||i!=="admin"?y.jsxs("div",{className:"p-10 text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Acceso Restringido"}),y.jsx("p",{className:"mb-2",children:"Solo los administradores pueden ver esta pgina."}),y.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg inline-block text-left text-sm font-mono text-black dark:text-white",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Tu UID:"})," ",e?.uid||"No logueado"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Tu Rol actual:"})," ",i||"Ninguno"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",e?.email||"-"]})]}),y.jsxs("div",{className:"mt-6 flex flex-col gap-2 justify-center items-center",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Si cambiaste el rol en Firebase, recarga:"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Recargar Pgina"}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"O prueba cerrar sesin para limpiar cach:"})]})]}):y.jsxs("div",{className:"min-h-screen p-6 md:p-12 bg-gray-50 dark:bg-black",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8 text-slate-900 dark:text-white",children:"Panel de Administracin"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10 h-fit",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})," Nuevo Producto"]}),y.jsxs("form",{onSubmit:O,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Nombre"}),y.jsx("input",{required:!0,name:"name",value:g.name,onChange:G,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"Ej. Monstera"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Precio ($)"}),y.jsx("input",{required:!0,type:"number",step:"0.01",name:"price",value:g.price,onChange:G,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"0.00"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tipo"}),y.jsx("input",{required:!0,name:"type",value:g.type,onChange:G,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"Ej. Interior"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"URL Imagen"}),y.jsx("input",{required:!0,name:"image",value:g.image,onChange:G,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold mb-1",children:"Descripcin"}),y.jsx("textarea",{name:"description",value:g.description,onChange:G,className:"w-full p-2 border rounded-lg dark:bg-black dark:border-gray-700",rows:"3",placeholder:"Descripcin del producto..."})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",name:"isNew",checked:g.isNew,onChange:G,id:"isNew",className:"w-5 h-5 accent-primary"}),y.jsx("label",{htmlFor:"isNew",className:"cursor-pointer",children:'Marcar como "Nuevo"'})]}),y.jsx("button",{type:"submit",disabled:h,className:"w-full bg-primary text-black font-bold py-3 rounded-xl hover:bg-emerald-500 transition-colors",children:h?"Guardando...":"Guardar Producto"})]})]}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"})," Inventario (",n.length,")"]}),y.jsx("div",{className:"overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:n.map(U=>y.jsxs("div",{className:"flex items-center gap-4 p-3 mb-2 border rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[y.jsx("img",{src:U.image,alt:U.name,className:"w-12 h-12 object-cover rounded-lg bg-gray-200"}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-bold",children:["#",U.id," - ",U.name]}),y.jsxs("div",{className:"text-sm text-gray-500",children:["$",U.price," | ",U.type]})]}),y.jsx("button",{onClick:()=>x(U.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Borrar",children:y.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]},U.id))})]})]})]})}function MD(){return y.jsx(wA,{basename:"/auraverde",children:y.jsx(eD,{children:y.jsx(Wk,{children:y.jsx(MA,{children:y.jsx(tA,{children:y.jsxs(Wt,{element:y.jsx(Jk,{}),children:[y.jsx(Wt,{path:"/",element:y.jsx(rD,{})}),y.jsx(Wt,{path:"/catalog",element:y.jsx(lD,{})}),y.jsx(Wt,{path:"/product/:id",element:y.jsx(oD,{})}),y.jsx(Wt,{path:"/cart",element:y.jsx(uD,{})}),y.jsx(Wt,{path:"/profile",element:y.jsx(cD,{})}),y.jsx(Wt,{path:"/orders",element:y.jsx(hD,{})}),y.jsx(Wt,{path:"/addresses",element:y.jsx(dD,{})}),y.jsx(Wt,{path:"/checkout",element:y.jsx(ND,{})}),y.jsx(Wt,{path:"/success",element:y.jsx(CD,{})}),y.jsx(Wt,{path:"/login",element:y.jsx(ID,{})}),y.jsx(Wt,{path:"/register",element:y.jsx(kD,{})}),y.jsx(Wt,{path:"/migrate",element:y.jsx(DD,{})}),y.jsx(Wt,{path:"/favorites",element:y.jsx(iD,{})}),y.jsx(Wt,{path:"/admin",element:y.jsx(OD,{})})]})})})})})})}aS.createRoot(document.getElementById("root")).render(y.jsx(V.StrictMode,{children:y.jsx(MD,{})}));
